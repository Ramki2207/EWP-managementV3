var p3=Object.defineProperty;var g3=(e,t,r)=>t in e?p3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Yf=(e,t,r)=>g3(e,typeof t!="symbol"?t+"":t,r);function m3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var XP={exports:{}},iy={},YP={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=Symbol.for("react.element"),v3=Symbol.for("react.portal"),x3=Symbol.for("react.fragment"),y3=Symbol.for("react.strict_mode"),b3=Symbol.for("react.profiler"),w3=Symbol.for("react.provider"),j3=Symbol.for("react.context"),N3=Symbol.for("react.forward_ref"),B3=Symbol.for("react.suspense"),C3=Symbol.for("react.memo"),k3=Symbol.for("react.lazy"),Tk=Symbol.iterator;function S3(e){return e===null||typeof e!="object"?null:(e=Tk&&e[Tk]||e["@@iterator"],typeof e=="function"?e:null)}var ZP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eI=Object.assign,tI={};function Zd(e,t,r){this.props=e,this.context=t,this.refs=tI,this.updater=r||ZP}Zd.prototype.isReactComponent={};Zd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rI(){}rI.prototype=Zd.prototype;function DB(e,t,r){this.props=e,this.context=t,this.refs=tI,this.updater=r||ZP}var QB=DB.prototype=new rI;QB.constructor=DB;eI(QB,Zd.prototype);QB.isPureReactComponent=!0;var Lk=Array.isArray,nI=Object.prototype.hasOwnProperty,MB={current:null},sI={key:!0,ref:!0,__self:!0,__source:!0};function aI(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)nI.call(t,n)&&!sI.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var l=Array(c),A=0;A<c;A++)l[A]=arguments[A+2];s.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:bg,type:e,key:i,ref:o,props:s,_owner:MB.current}}function _3(e,t){return{$$typeof:bg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function RB(e){return typeof e=="object"&&e!==null&&e.$$typeof===bg}function E3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Uk=/\/+/g;function _1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?E3(""+e.key):t.toString(36)}function K0(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bg:case v3:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+_1(o,0):n,Lk(s)?(r="",e!=null&&(r=e.replace(Uk,"$&/")+"/"),K0(s,t,r,"",function(A){return A})):s!=null&&(RB(s)&&(s=_3(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uk,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Lk(e))for(var c=0;c<e.length;c++){i=e[c];var l=n+_1(i,c);o+=K0(i,t,r,l,s)}else if(l=S3(e),typeof l=="function")for(e=l.call(e),c=0;!(i=e.next()).done;)i=i.value,l=n+_1(i,c++),o+=K0(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Em(e,t,r){if(e==null)return e;var n=[],s=0;return K0(e,n,"","",function(i){return t.call(r,i,s++)}),n}function F3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cs={current:null},V0={transition:null},P3={ReactCurrentDispatcher:cs,ReactCurrentBatchConfig:V0,ReactCurrentOwner:MB};function iI(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Em,forEach:function(e,t,r){Em(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Em(e,function(){t++}),t},toArray:function(e){return Em(e,function(t){return t})||[]},only:function(e){if(!RB(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=Zd;_t.Fragment=x3;_t.Profiler=b3;_t.PureComponent=DB;_t.StrictMode=y3;_t.Suspense=B3;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P3;_t.act=iI;_t.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eI({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=MB.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)nI.call(t,l)&&!sI.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var A=0;A<l;A++)c[A]=arguments[A+2];n.children=c}return{$$typeof:bg,type:e.type,key:s,ref:i,props:n,_owner:o}};_t.createContext=function(e){return e={$$typeof:j3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w3,_context:e},e.Consumer=e};_t.createElement=aI;_t.createFactory=function(e){var t=aI.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:N3,render:e}};_t.isValidElement=RB;_t.lazy=function(e){return{$$typeof:k3,_payload:{_status:-1,_result:e},_init:F3}};_t.memo=function(e,t){return{$$typeof:C3,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=V0.transition;V0.transition={};try{e()}finally{V0.transition=t}};_t.unstable_act=iI;_t.useCallback=function(e,t){return cs.current.useCallback(e,t)};_t.useContext=function(e){return cs.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return cs.current.useDeferredValue(e)};_t.useEffect=function(e,t){return cs.current.useEffect(e,t)};_t.useId=function(){return cs.current.useId()};_t.useImperativeHandle=function(e,t,r){return cs.current.useImperativeHandle(e,t,r)};_t.useInsertionEffect=function(e,t){return cs.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return cs.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return cs.current.useMemo(e,t)};_t.useReducer=function(e,t,r){return cs.current.useReducer(e,t,r)};_t.useRef=function(e){return cs.current.useRef(e)};_t.useState=function(e){return cs.current.useState(e)};_t.useSyncExternalStore=function(e,t,r){return cs.current.useSyncExternalStore(e,t,r)};_t.useTransition=function(){return cs.current.useTransition()};_t.version="18.3.1";YP.exports=_t;var $=YP.exports;const fe=Mt($),I3=m3({__proto__:null,default:fe},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O3=$,T3=Symbol.for("react.element"),L3=Symbol.for("react.fragment"),U3=Object.prototype.hasOwnProperty,D3=O3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q3={key:!0,ref:!0,__self:!0,__source:!0};function oI(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)U3.call(t,n)&&!Q3.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:T3,type:e,key:i,ref:o,props:s,_owner:D3.current}}iy.Fragment=L3;iy.jsx=oI;iy.jsxs=oI;XP.exports=iy;var a=XP.exports,lI={exports:{}},Ws={},cI={exports:{}},AI={};(function(e){/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function t(R,W){var M=R.length;R.push(W);e:for(;0<M;){var q=M-1>>>1,B=R[q];if(0<s(B,W))R[q]=W,R[M]=B,M=q;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var W=R[0],M=R.pop();if(M!==W){R[0]=M;e:for(var q=0,B=R.length,I=B>>>1;q<I;){var H=2*(q+1)-1,G=R[H],J=H+1,ie=R[J];if(0>s(G,M))J<B&&0>s(ie,G)?(R[q]=ie,R[J]=M,q=J):(R[q]=G,R[H]=M,q=H);else if(J<B&&0>s(ie,M))R[q]=ie,R[J]=M,q=J;else break e}}return W}function s(R,W){var M=R.sortIndex-W.sortIndex;return M!==0?M:R.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],A=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var W=r(A);W!==null;){if(W.callback===null)n(A);else if(W.startTime<=R)n(A),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(A)}}function _(R){if(m=!1,b(R),!p)if(r(l)!==null)p=!0,S(N);else{var W=r(A);W!==null&&O(_,W.startTime-R)}}function N(R,W){p=!1,m&&(m=!1,v(j),j=-1),h=!0;var M=f;try{for(b(W),d=r(l);d!==null&&(!(d.expirationTime>W)||R&&!E());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var B=q(d.expirationTime<=W);W=e.unstable_now(),typeof B=="function"?d.callback=B:d===r(l)&&n(l),b(W)}else n(l);d=r(l)}if(d!==null)var I=!0;else{var H=r(A);H!==null&&O(_,H.startTime-W),I=!1}return I}finally{d=null,f=M,h=!1}}var P=!1,T=null,j=-1,k=5,z=-1;function E(){return!(e.unstable_now()-z<k)}function C(){if(T!==null){var R=e.unstable_now();z=R;var W=!0;try{W=T(!0,R)}finally{W?Q():(P=!1,T=null)}}else P=!1}var Q;if(typeof y=="function")Q=function(){y(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,D=L.port2;L.port1.onmessage=C,Q=function(){D.postMessage(null)}}else Q=function(){x(C,0)};function S(R){T=R,P||(P=!0,Q())}function O(R,W){j=x(function(){R(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,S(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var M=f;f=W;try{return R()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=f;f=R;try{return W()}finally{f=M}},e.unstable_scheduleCallback=function(R,W,M){var q=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?q+M:q):M=q,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=M+B,R={id:u++,callback:W,priorityLevel:R,startTime:M,expirationTime:B,sortIndex:-1},M>q?(R.sortIndex=M,t(A,R),r(l)===null&&R===r(A)&&(m?(v(j),j=-1):m=!0,O(_,M-q))):(R.sortIndex=B,t(l,R),p||h||(p=!0,S(N))),R},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(R){var W=f;return function(){var M=f;f=W;try{return R.apply(this,arguments)}finally{f=M}}}})(AI);cI.exports=AI;var M3=cI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=$,Gs=M3;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uI=new Set,pp={};function jA(e,t){hd(e,t),hd(e+"Capture",t)}function hd(e,t){for(pp[e]=t,e=0;e<t.length;e++)uI.add(t[e])}var Io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m2=Object.prototype.hasOwnProperty,$3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dk={},Qk={};function H3(e){return m2.call(Qk,e)?!0:m2.call(Dk,e)?!1:$3.test(e)?Qk[e]=!0:(Dk[e]=!0,!1)}function z3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function K3(e,t,r,n){if(t===null||typeof t>"u"||z3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function As(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var On={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){On[e]=new As(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];On[t]=new As(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){On[e]=new As(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){On[e]=new As(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){On[e]=new As(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){On[e]=new As(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){On[e]=new As(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){On[e]=new As(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){On[e]=new As(e,5,!1,e.toLowerCase(),null,!1,!1)});var $B=/[\-:]([a-z])/g;function HB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($B,HB);On[t]=new As(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($B,HB);On[t]=new As(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($B,HB);On[t]=new As(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){On[e]=new As(e,1,!1,e.toLowerCase(),null,!1,!1)});On.xlinkHref=new As("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){On[e]=new As(e,1,!1,e.toLowerCase(),null,!0,!0)});function zB(e,t,r,n){var s=On.hasOwnProperty(t)?On[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(K3(t,r,s,n)&&(r=null),n||s===null?H3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zo=R3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fm=Symbol.for("react.element"),Pu=Symbol.for("react.portal"),Iu=Symbol.for("react.fragment"),KB=Symbol.for("react.strict_mode"),v2=Symbol.for("react.profiler"),dI=Symbol.for("react.provider"),fI=Symbol.for("react.context"),VB=Symbol.for("react.forward_ref"),x2=Symbol.for("react.suspense"),y2=Symbol.for("react.suspense_list"),GB=Symbol.for("react.memo"),yl=Symbol.for("react.lazy"),hI=Symbol.for("react.offscreen"),Mk=Symbol.iterator;function Zf(e){return e===null||typeof e!="object"?null:(e=Mk&&e[Mk]||e["@@iterator"],typeof e=="function"?e:null)}var Br=Object.assign,E1;function Bh(e){if(E1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);E1=t&&t[1]||""}return`
`+E1+e}var F1=!1;function P1(e,t){if(!e||F1)return"";F1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var n=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){n=A}e.call(t.prototype)}else{try{throw Error()}catch(A){n=A}e()}}catch(A){if(A&&n&&typeof A.stack=="string"){for(var s=A.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{F1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bh(e):""}function V3(e){switch(e.tag){case 5:return Bh(e.type);case 16:return Bh("Lazy");case 13:return Bh("Suspense");case 19:return Bh("SuspenseList");case 0:case 2:case 15:return e=P1(e.type,!1),e;case 11:return e=P1(e.type.render,!1),e;case 1:return e=P1(e.type,!0),e;default:return""}}function b2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Iu:return"Fragment";case Pu:return"Portal";case v2:return"Profiler";case KB:return"StrictMode";case x2:return"Suspense";case y2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fI:return(e.displayName||"Context")+".Consumer";case dI:return(e._context.displayName||"Context")+".Provider";case VB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case GB:return t=e.displayName||null,t!==null?t:b2(e.type)||"Memo";case yl:t=e._payload,e=e._init;try{return b2(e(t))}catch{}}return null}function G3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b2(t);case 8:return t===KB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W3(e){var t=pI(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pm(e){e._valueTracker||(e._valueTracker=W3(e))}function gI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=pI(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function w2(e,t){var r=t.checked;return Br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Rk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=tc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mI(e,t){t=t.checked,t!=null&&zB(e,"checked",t,!1)}function j2(e,t){mI(e,t);var r=tc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?N2(e,t.type,r):t.hasOwnProperty("defaultValue")&&N2(e,t.type,tc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $k(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function N2(e,t,r){(t!=="number"||pv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ch=Array.isArray;function Xu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+tc(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function B2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Me(92));if(Ch(r)){if(1<r.length)throw Error(Me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:tc(r)}}function vI(e,t){var r=tc(t.value),n=tc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Im,yI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Im=Im||document.createElement("div"),Im.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Im.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q3=["Webkit","ms","Moz","O"];Object.keys(Rh).forEach(function(e){q3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rh[t]=Rh[e]})});function bI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rh.hasOwnProperty(e)&&Rh[e]?(""+t).trim():t+"px"}function wI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=bI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var J3=Br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k2(e,t){if(t){if(J3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Me(62))}}function S2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _2=null;function WB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var E2=null,Yu=null,Zu=null;function Kk(e){if(e=Ng(e)){if(typeof E2!="function")throw Error(Me(280));var t=e.stateNode;t&&(t=uy(t),E2(e.stateNode,e.type,t))}}function jI(e){Yu?Zu?Zu.push(e):Zu=[e]:Yu=e}function NI(){if(Yu){var e=Yu,t=Zu;if(Zu=Yu=null,Kk(e),t)for(e=0;e<t.length;e++)Kk(t[e])}}function BI(e,t){return e(t)}function CI(){}var I1=!1;function kI(e,t,r){if(I1)return e(t,r);I1=!0;try{return BI(e,t,r)}finally{I1=!1,(Yu!==null||Zu!==null)&&(CI(),NI())}}function mp(e,t){var r=e.stateNode;if(r===null)return null;var n=uy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Me(231,t,typeof r));return r}var F2=!1;if(Io)try{var eh={};Object.defineProperty(eh,"passive",{get:function(){F2=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{F2=!1}function X3(e,t,r,n,s,i,o,c,l){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(u){this.onError(u)}}var $h=!1,gv=null,mv=!1,P2=null,Y3={onError:function(e){$h=!0,gv=e}};function Z3(e,t,r,n,s,i,o,c,l){$h=!1,gv=null,X3.apply(Y3,arguments)}function eM(e,t,r,n,s,i,o,c,l){if(Z3.apply(this,arguments),$h){if($h){var A=gv;$h=!1,gv=null}else throw Error(Me(198));mv||(mv=!0,P2=A)}}function NA(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function SI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vk(e){if(NA(e)!==e)throw Error(Me(188))}function tM(e){var t=e.alternate;if(!t){if(t=NA(e),t===null)throw Error(Me(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Vk(s),e;if(i===n)return Vk(s),t;i=i.sibling}throw Error(Me(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,c=s.child;c;){if(c===r){o=!0,r=s,n=i;break}if(c===n){o=!0,n=s,r=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===r){o=!0,r=i,n=s;break}if(c===n){o=!0,n=i,r=s;break}c=c.sibling}if(!o)throw Error(Me(189))}}if(r.alternate!==n)throw Error(Me(190))}if(r.tag!==3)throw Error(Me(188));return r.stateNode.current===r?e:t}function _I(e){return e=tM(e),e!==null?EI(e):null}function EI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=EI(e);if(t!==null)return t;e=e.sibling}return null}var FI=Gs.unstable_scheduleCallback,Gk=Gs.unstable_cancelCallback,rM=Gs.unstable_shouldYield,nM=Gs.unstable_requestPaint,Mr=Gs.unstable_now,sM=Gs.unstable_getCurrentPriorityLevel,qB=Gs.unstable_ImmediatePriority,PI=Gs.unstable_UserBlockingPriority,vv=Gs.unstable_NormalPriority,aM=Gs.unstable_LowPriority,II=Gs.unstable_IdlePriority,oy=null,Ii=null;function iM(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(oy,e,void 0,(e.current.flags&128)===128)}catch{}}var Ya=Math.clz32?Math.clz32:cM,oM=Math.log,lM=Math.LN2;function cM(e){return e>>>=0,e===0?32:31-(oM(e)/lM|0)|0}var Om=64,Tm=4194304;function kh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~s;c!==0?n=kh(c):(i&=o,i!==0&&(n=kh(i)))}else o=r&~s,o!==0?n=kh(o):i!==0&&(n=kh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ya(t),s=1<<r,n|=e[r],t&=~s;return n}function AM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ya(i),c=1<<o,l=s[o];l===-1?(!(c&r)||c&n)&&(s[o]=AM(c,t)):l<=t&&(e.expiredLanes|=c),i&=~c}}function I2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OI(){var e=Om;return Om<<=1,!(Om&4194240)&&(Om=64),e}function O1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ya(t),e[t]=r}function dM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ya(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function JB(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ya(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Wt=0;function TI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var LI,XB,UI,DI,QI,O2=!1,Lm=[],Rl=null,$l=null,Hl=null,vp=new Map,xp=new Map,Bl=[],fM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wk(e,t){switch(e){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":$l=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":vp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xp.delete(t.pointerId)}}function th(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ng(t),t!==null&&XB(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hM(e,t,r,n,s){switch(t){case"focusin":return Rl=th(Rl,e,t,r,n,s),!0;case"dragenter":return $l=th($l,e,t,r,n,s),!0;case"mouseover":return Hl=th(Hl,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return vp.set(i,th(vp.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,xp.set(i,th(xp.get(i)||null,e,t,r,n,s)),!0}return!1}function MI(e){var t=Vc(e.target);if(t!==null){var r=NA(t);if(r!==null){if(t=r.tag,t===13){if(t=SI(r),t!==null){e.blockedOn=t,QI(e.priority,function(){UI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function G0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=T2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_2=n,r.target.dispatchEvent(n),_2=null}else return t=Ng(r),t!==null&&XB(t),e.blockedOn=r,!1;t.shift()}return!0}function qk(e,t,r){G0(e)&&r.delete(t)}function pM(){O2=!1,Rl!==null&&G0(Rl)&&(Rl=null),$l!==null&&G0($l)&&($l=null),Hl!==null&&G0(Hl)&&(Hl=null),vp.forEach(qk),xp.forEach(qk)}function rh(e,t){e.blockedOn===t&&(e.blockedOn=null,O2||(O2=!0,Gs.unstable_scheduleCallback(Gs.unstable_NormalPriority,pM)))}function yp(e){function t(s){return rh(s,e)}if(0<Lm.length){rh(Lm[0],e);for(var r=1;r<Lm.length;r++){var n=Lm[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Rl!==null&&rh(Rl,e),$l!==null&&rh($l,e),Hl!==null&&rh(Hl,e),vp.forEach(t),xp.forEach(t),r=0;r<Bl.length;r++)n=Bl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bl.length&&(r=Bl[0],r.blockedOn===null);)MI(r),r.blockedOn===null&&Bl.shift()}var ed=zo.ReactCurrentBatchConfig,yv=!0;function gM(e,t,r,n){var s=Wt,i=ed.transition;ed.transition=null;try{Wt=1,YB(e,t,r,n)}finally{Wt=s,ed.transition=i}}function mM(e,t,r,n){var s=Wt,i=ed.transition;ed.transition=null;try{Wt=4,YB(e,t,r,n)}finally{Wt=s,ed.transition=i}}function YB(e,t,r,n){if(yv){var s=T2(e,t,r,n);if(s===null)z1(e,t,n,bv,r),Wk(e,n);else if(hM(s,e,t,r,n))n.stopPropagation();else if(Wk(e,n),t&4&&-1<fM.indexOf(e)){for(;s!==null;){var i=Ng(s);if(i!==null&&LI(i),i=T2(e,t,r,n),i===null&&z1(e,t,n,bv,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else z1(e,t,n,null,r)}}var bv=null;function T2(e,t,r,n){if(bv=null,e=WB(n),e=Vc(e),e!==null)if(t=NA(e),t===null)e=null;else if(r=t.tag,r===13){if(e=SI(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bv=e,null}function RI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sM()){case qB:return 1;case PI:return 4;case vv:case aM:return 16;case II:return 536870912;default:return 16}default:return 16}}var Fl=null,ZB=null,W0=null;function $I(){if(W0)return W0;var e,t=ZB,r=t.length,n,s="value"in Fl?Fl.value:Fl.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return W0=s.slice(e,1<n?1-n:void 0)}function q0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Um(){return!0}function Jk(){return!1}function qs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Um:Jk,this.isPropagationStopped=Jk,this}return Br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Um)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Um)},persist:function(){},isPersistent:Um}),t}var ef={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e5=qs(ef),jg=Br({},ef,{view:0,detail:0}),vM=qs(jg),T1,L1,nh,ly=Br({},jg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nh&&(nh&&e.type==="mousemove"?(T1=e.screenX-nh.screenX,L1=e.screenY-nh.screenY):L1=T1=0,nh=e),T1)},movementY:function(e){return"movementY"in e?e.movementY:L1}}),Xk=qs(ly),xM=Br({},ly,{dataTransfer:0}),yM=qs(xM),bM=Br({},jg,{relatedTarget:0}),U1=qs(bM),wM=Br({},ef,{animationName:0,elapsedTime:0,pseudoElement:0}),jM=qs(wM),NM=Br({},ef,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BM=qs(NM),CM=Br({},ef,{data:0}),Yk=qs(CM),kM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_M={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_M[e])?!!t[e]:!1}function t5(){return EM}var FM=Br({},jg,{key:function(e){if(e.key){var t=kM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=q0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t5,charCode:function(e){return e.type==="keypress"?q0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?q0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PM=qs(FM),IM=Br({},ly,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zk=qs(IM),OM=Br({},jg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t5}),TM=qs(OM),LM=Br({},ef,{propertyName:0,elapsedTime:0,pseudoElement:0}),UM=qs(LM),DM=Br({},ly,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QM=qs(DM),MM=[9,13,27,32],r5=Io&&"CompositionEvent"in window,Hh=null;Io&&"documentMode"in document&&(Hh=document.documentMode);var RM=Io&&"TextEvent"in window&&!Hh,HI=Io&&(!r5||Hh&&8<Hh&&11>=Hh),e4=" ",t4=!1;function zI(e,t){switch(e){case"keyup":return MM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ou=!1;function $M(e,t){switch(e){case"compositionend":return KI(t);case"keypress":return t.which!==32?null:(t4=!0,e4);case"textInput":return e=t.data,e===e4&&t4?null:e;default:return null}}function HM(e,t){if(Ou)return e==="compositionend"||!r5&&zI(e,t)?(e=$I(),W0=ZB=Fl=null,Ou=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return HI&&t.locale!=="ko"?null:t.data;default:return null}}var zM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zM[e.type]:t==="textarea"}function VI(e,t,r,n){jI(n),t=wv(t,"onChange"),0<t.length&&(r=new e5("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zh=null,bp=null;function KM(e){nO(e,0)}function cy(e){var t=Uu(e);if(gI(t))return e}function VM(e,t){if(e==="change")return t}var GI=!1;if(Io){var D1;if(Io){var Q1="oninput"in document;if(!Q1){var n4=document.createElement("div");n4.setAttribute("oninput","return;"),Q1=typeof n4.oninput=="function"}D1=Q1}else D1=!1;GI=D1&&(!document.documentMode||9<document.documentMode)}function s4(){zh&&(zh.detachEvent("onpropertychange",WI),bp=zh=null)}function WI(e){if(e.propertyName==="value"&&cy(bp)){var t=[];VI(t,bp,e,WB(e)),kI(KM,t)}}function GM(e,t,r){e==="focusin"?(s4(),zh=t,bp=r,zh.attachEvent("onpropertychange",WI)):e==="focusout"&&s4()}function WM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cy(bp)}function qM(e,t){if(e==="click")return cy(t)}function JM(e,t){if(e==="input"||e==="change")return cy(t)}function XM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ni=typeof Object.is=="function"?Object.is:XM;function wp(e,t){if(ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!m2.call(t,s)||!ni(e[s],t[s]))return!1}return!0}function a4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i4(e,t){var r=a4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=a4(r)}}function qI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function JI(){for(var e=window,t=pv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pv(e.document)}return t}function n5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YM(e){var t=JI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qI(r.ownerDocument.documentElement,r)){if(n!==null&&n5(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=i4(r,i);var o=i4(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZM=Io&&"documentMode"in document&&11>=document.documentMode,Tu=null,L2=null,Kh=null,U2=!1;function o4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;U2||Tu==null||Tu!==pv(n)||(n=Tu,"selectionStart"in n&&n5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kh&&wp(Kh,n)||(Kh=n,n=wv(L2,"onSelect"),0<n.length&&(t=new e5("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tu)))}function Dm(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lu={animationend:Dm("Animation","AnimationEnd"),animationiteration:Dm("Animation","AnimationIteration"),animationstart:Dm("Animation","AnimationStart"),transitionend:Dm("Transition","TransitionEnd")},M1={},XI={};Io&&(XI=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function Ay(e){if(M1[e])return M1[e];if(!Lu[e])return e;var t=Lu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in XI)return M1[e]=t[r];return e}var YI=Ay("animationend"),ZI=Ay("animationiteration"),eO=Ay("animationstart"),tO=Ay("transitionend"),rO=new Map,l4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ic(e,t){rO.set(e,t),jA(t,[e])}for(var R1=0;R1<l4.length;R1++){var $1=l4[R1],eR=$1.toLowerCase(),tR=$1[0].toUpperCase()+$1.slice(1);ic(eR,"on"+tR)}ic(YI,"onAnimationEnd");ic(ZI,"onAnimationIteration");ic(eO,"onAnimationStart");ic("dblclick","onDoubleClick");ic("focusin","onFocus");ic("focusout","onBlur");ic(tO,"onTransitionEnd");hd("onMouseEnter",["mouseout","mouseover"]);hd("onMouseLeave",["mouseout","mouseover"]);hd("onPointerEnter",["pointerout","pointerover"]);hd("onPointerLeave",["pointerout","pointerover"]);jA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jA("onBeforeInput",["compositionend","keypress","textInput","paste"]);jA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sh));function c4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,eM(n,t,void 0,e),e.currentTarget=null}function nO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],l=c.instance,A=c.currentTarget;if(c=c.listener,l!==i&&s.isPropagationStopped())break e;c4(s,c,A),i=l}else for(o=0;o<n.length;o++){if(c=n[o],l=c.instance,A=c.currentTarget,c=c.listener,l!==i&&s.isPropagationStopped())break e;c4(s,c,A),i=l}}}if(mv)throw e=P2,mv=!1,P2=null,e}function dr(e,t){var r=t[$2];r===void 0&&(r=t[$2]=new Set);var n=e+"__bubble";r.has(n)||(sO(t,e,2,!1),r.add(n))}function H1(e,t,r){var n=0;t&&(n|=4),sO(r,e,n,t)}var Qm="_reactListening"+Math.random().toString(36).slice(2);function jp(e){if(!e[Qm]){e[Qm]=!0,uI.forEach(function(r){r!=="selectionchange"&&(rR.has(r)||H1(r,!1,e),H1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qm]||(t[Qm]=!0,H1("selectionchange",!1,t))}}function sO(e,t,r,n){switch(RI(t)){case 1:var s=gM;break;case 4:s=mM;break;default:s=YB}r=s.bind(null,t,r,e),s=void 0,!F2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function z1(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Vc(c),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}c=c.parentNode}}n=n.return}kI(function(){var A=i,u=WB(r),d=[];e:{var f=rO.get(e);if(f!==void 0){var h=e5,p=e;switch(e){case"keypress":if(q0(r)===0)break e;case"keydown":case"keyup":h=PM;break;case"focusin":p="focus",h=U1;break;case"focusout":p="blur",h=U1;break;case"beforeblur":case"afterblur":h=U1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Xk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=yM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=TM;break;case YI:case ZI:case eO:h=jM;break;case tO:h=UM;break;case"scroll":h=vM;break;case"wheel":h=QM;break;case"copy":case"cut":case"paste":h=BM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Zk}var m=(t&4)!==0,x=!m&&e==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var y=A,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=mp(y,v),_!=null&&m.push(Np(y,_,b)))),x)break;y=y.return}0<m.length&&(f=new h(f,p,null,r,u),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==_2&&(p=r.relatedTarget||r.fromElement)&&(Vc(p)||p[Oo]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=A,p=p?Vc(p):null,p!==null&&(x=NA(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=A),h!==p)){if(m=Xk,_="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Zk,_="onPointerLeave",v="onPointerEnter",y="pointer"),x=h==null?f:Uu(h),b=p==null?f:Uu(p),f=new m(_,y+"leave",h,r,u),f.target=x,f.relatedTarget=b,_=null,Vc(u)===A&&(m=new m(v,y+"enter",p,r,u),m.target=b,m.relatedTarget=x,_=m),x=_,h&&p)t:{for(m=h,v=p,y=0,b=m;b;b=cu(b))y++;for(b=0,_=v;_;_=cu(_))b++;for(;0<y-b;)m=cu(m),y--;for(;0<b-y;)v=cu(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=cu(m),v=cu(v)}m=null}else m=null;h!==null&&A4(d,f,h,m,!1),p!==null&&x!==null&&A4(d,x,p,m,!0)}}e:{if(f=A?Uu(A):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var N=VM;else if(r4(f))if(GI)N=JM;else{N=WM;var P=GM}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=qM);if(N&&(N=N(e,A))){VI(d,N,r,u);break e}P&&P(e,f,A),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&N2(f,"number",f.value)}switch(P=A?Uu(A):window,e){case"focusin":(r4(P)||P.contentEditable==="true")&&(Tu=P,L2=A,Kh=null);break;case"focusout":Kh=L2=Tu=null;break;case"mousedown":U2=!0;break;case"contextmenu":case"mouseup":case"dragend":U2=!1,o4(d,r,u);break;case"selectionchange":if(ZM)break;case"keydown":case"keyup":o4(d,r,u)}var T;if(r5)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ou?zI(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(HI&&r.locale!=="ko"&&(Ou||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ou&&(T=$I()):(Fl=u,ZB="value"in Fl?Fl.value:Fl.textContent,Ou=!0)),P=wv(A,j),0<P.length&&(j=new Yk(j,e,null,r,u),d.push({event:j,listeners:P}),T?j.data=T:(T=KI(r),T!==null&&(j.data=T)))),(T=RM?$M(e,r):HM(e,r))&&(A=wv(A,"onBeforeInput"),0<A.length&&(u=new Yk("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:A}),u.data=T))}nO(d,t)})}function Np(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mp(e,r),i!=null&&n.unshift(Np(e,i,s)),i=mp(e,t),i!=null&&n.push(Np(e,i,s))),e=e.return}return n}function cu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function A4(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var c=r,l=c.alternate,A=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&A!==null&&(c=A,s?(l=mp(r,i),l!=null&&o.unshift(Np(r,l,c))):s||(l=mp(r,i),l!=null&&o.push(Np(r,l,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var nR=/\r\n?/g,sR=/\u0000|\uFFFD/g;function u4(e){return(typeof e=="string"?e:""+e).replace(nR,`
`).replace(sR,"")}function Mm(e,t,r){if(t=u4(t),u4(e)!==t&&r)throw Error(Me(425))}function jv(){}var D2=null,Q2=null;function M2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var R2=typeof setTimeout=="function"?setTimeout:void 0,aR=typeof clearTimeout=="function"?clearTimeout:void 0,d4=typeof Promise=="function"?Promise:void 0,iR=typeof queueMicrotask=="function"?queueMicrotask:typeof d4<"u"?function(e){return d4.resolve(null).then(e).catch(oR)}:R2;function oR(e){setTimeout(function(){throw e})}function K1(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),yp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);yp(t)}function zl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function f4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tf=Math.random().toString(36).slice(2),Bi="__reactFiber$"+tf,Bp="__reactProps$"+tf,Oo="__reactContainer$"+tf,$2="__reactEvents$"+tf,lR="__reactListeners$"+tf,cR="__reactHandles$"+tf;function Vc(e){var t=e[Bi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Oo]||r[Bi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=f4(e);e!==null;){if(r=e[Bi])return r;e=f4(e)}return t}e=r,r=e.parentNode}return null}function Ng(e){return e=e[Bi]||e[Oo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Me(33))}function uy(e){return e[Bp]||null}var H2=[],Du=-1;function oc(e){return{current:e}}function gr(e){0>Du||(e.current=H2[Du],H2[Du]=null,Du--)}function Ar(e,t){Du++,H2[Du]=e.current,e.current=t}var rc={},Jn=oc(rc),Bs=oc(!1),AA=rc;function pd(e,t){var r=e.type.contextTypes;if(!r)return rc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Cs(e){return e=e.childContextTypes,e!=null}function Nv(){gr(Bs),gr(Jn)}function h4(e,t,r){if(Jn.current!==rc)throw Error(Me(168));Ar(Jn,t),Ar(Bs,r)}function aO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Me(108,G3(e)||"Unknown",s));return Br({},r,n)}function Bv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rc,AA=Jn.current,Ar(Jn,e),Ar(Bs,Bs.current),!0}function p4(e,t,r){var n=e.stateNode;if(!n)throw Error(Me(169));r?(e=aO(e,t,AA),n.__reactInternalMemoizedMergedChildContext=e,gr(Bs),gr(Jn),Ar(Jn,e)):gr(Bs),Ar(Bs,r)}var vo=null,dy=!1,V1=!1;function iO(e){vo===null?vo=[e]:vo.push(e)}function AR(e){dy=!0,iO(e)}function lc(){if(!V1&&vo!==null){V1=!0;var e=0,t=Wt;try{var r=vo;for(Wt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vo=null,dy=!1}catch(s){throw vo!==null&&(vo=vo.slice(e+1)),FI(qB,lc),s}finally{Wt=t,V1=!1}}return null}var Qu=[],Mu=0,Cv=null,kv=0,ca=[],Aa=0,uA=null,xo=1,yo="";function Oc(e,t){Qu[Mu++]=kv,Qu[Mu++]=Cv,Cv=e,kv=t}function oO(e,t,r){ca[Aa++]=xo,ca[Aa++]=yo,ca[Aa++]=uA,uA=e;var n=xo;e=yo;var s=32-Ya(n)-1;n&=~(1<<s),r+=1;var i=32-Ya(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,xo=1<<32-Ya(t)+s|r<<s|n,yo=i+e}else xo=1<<i|r<<s|n,yo=e}function s5(e){e.return!==null&&(Oc(e,1),oO(e,1,0))}function a5(e){for(;e===Cv;)Cv=Qu[--Mu],Qu[Mu]=null,kv=Qu[--Mu],Qu[Mu]=null;for(;e===uA;)uA=ca[--Aa],ca[Aa]=null,yo=ca[--Aa],ca[Aa]=null,xo=ca[--Aa],ca[Aa]=null}var Ks=null,Hs=null,yr=!1,Wa=null;function lO(e,t){var r=ha(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function g4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ks=e,Hs=zl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ks=e,Hs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=uA!==null?{id:xo,overflow:yo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ha(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ks=e,Hs=null,!0):!1;default:return!1}}function z2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function K2(e){if(yr){var t=Hs;if(t){var r=t;if(!g4(e,t)){if(z2(e))throw Error(Me(418));t=zl(r.nextSibling);var n=Ks;t&&g4(e,t)?lO(n,r):(e.flags=e.flags&-4097|2,yr=!1,Ks=e)}}else{if(z2(e))throw Error(Me(418));e.flags=e.flags&-4097|2,yr=!1,Ks=e}}}function m4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ks=e}function Rm(e){if(e!==Ks)return!1;if(!yr)return m4(e),yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!M2(e.type,e.memoizedProps)),t&&(t=Hs)){if(z2(e))throw cO(),Error(Me(418));for(;t;)lO(e,t),t=zl(t.nextSibling)}if(m4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hs=zl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hs=null}}else Hs=Ks?zl(e.stateNode.nextSibling):null;return!0}function cO(){for(var e=Hs;e;)e=zl(e.nextSibling)}function gd(){Hs=Ks=null,yr=!1}function i5(e){Wa===null?Wa=[e]:Wa.push(e)}var uR=zo.ReactCurrentBatchConfig;function sh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Me(309));var n=r.stateNode}if(!n)throw Error(Me(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Me(284));if(!r._owner)throw Error(Me(290,e))}return e}function $m(e,t){throw e=Object.prototype.toString.call(t),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v4(e){var t=e._init;return t(e._payload)}function AO(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Wl(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function c(v,y,b,_){return y===null||y.tag!==6?(y=Z1(b,v.mode,_),y.return=v,y):(y=s(y,b),y.return=v,y)}function l(v,y,b,_){var N=b.type;return N===Iu?u(v,y,b.props.children,_,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===yl&&v4(N)===y.type)?(_=s(y,b.props),_.ref=sh(v,y,b),_.return=v,_):(_=rv(b.type,b.key,b.props,null,v.mode,_),_.ref=sh(v,y,b),_.return=v,_)}function A(v,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=ew(b,v.mode,_),y.return=v,y):(y=s(y,b.children||[]),y.return=v,y)}function u(v,y,b,_,N){return y===null||y.tag!==7?(y=nA(b,v.mode,_,N),y.return=v,y):(y=s(y,b),y.return=v,y)}function d(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Z1(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fm:return b=rv(y.type,y.key,y.props,null,v.mode,b),b.ref=sh(v,null,y),b.return=v,b;case Pu:return y=ew(y,v.mode,b),y.return=v,y;case yl:var _=y._init;return d(v,_(y._payload),b)}if(Ch(y)||Zf(y))return y=nA(y,v.mode,b,null),y.return=v,y;$m(v,y)}return null}function f(v,y,b,_){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:c(v,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fm:return b.key===N?l(v,y,b,_):null;case Pu:return b.key===N?A(v,y,b,_):null;case yl:return N=b._init,f(v,y,N(b._payload),_)}if(Ch(b)||Zf(b))return N!==null?null:u(v,y,b,_,null);$m(v,b)}return null}function h(v,y,b,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,c(y,v,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fm:return v=v.get(_.key===null?b:_.key)||null,l(y,v,_,N);case Pu:return v=v.get(_.key===null?b:_.key)||null,A(y,v,_,N);case yl:var P=_._init;return h(v,y,b,P(_._payload),N)}if(Ch(_)||Zf(_))return v=v.get(b)||null,u(y,v,_,N,null);$m(y,_)}return null}function p(v,y,b,_){for(var N=null,P=null,T=y,j=y=0,k=null;T!==null&&j<b.length;j++){T.index>j?(k=T,T=null):k=T.sibling;var z=f(v,T,b[j],_);if(z===null){T===null&&(T=k);break}e&&T&&z.alternate===null&&t(v,T),y=i(z,y,j),P===null?N=z:P.sibling=z,P=z,T=k}if(j===b.length)return r(v,T),yr&&Oc(v,j),N;if(T===null){for(;j<b.length;j++)T=d(v,b[j],_),T!==null&&(y=i(T,y,j),P===null?N=T:P.sibling=T,P=T);return yr&&Oc(v,j),N}for(T=n(v,T);j<b.length;j++)k=h(T,v,j,b[j],_),k!==null&&(e&&k.alternate!==null&&T.delete(k.key===null?j:k.key),y=i(k,y,j),P===null?N=k:P.sibling=k,P=k);return e&&T.forEach(function(E){return t(v,E)}),yr&&Oc(v,j),N}function m(v,y,b,_){var N=Zf(b);if(typeof N!="function")throw Error(Me(150));if(b=N.call(b),b==null)throw Error(Me(151));for(var P=N=null,T=y,j=y=0,k=null,z=b.next();T!==null&&!z.done;j++,z=b.next()){T.index>j?(k=T,T=null):k=T.sibling;var E=f(v,T,z.value,_);if(E===null){T===null&&(T=k);break}e&&T&&E.alternate===null&&t(v,T),y=i(E,y,j),P===null?N=E:P.sibling=E,P=E,T=k}if(z.done)return r(v,T),yr&&Oc(v,j),N;if(T===null){for(;!z.done;j++,z=b.next())z=d(v,z.value,_),z!==null&&(y=i(z,y,j),P===null?N=z:P.sibling=z,P=z);return yr&&Oc(v,j),N}for(T=n(v,T);!z.done;j++,z=b.next())z=h(T,v,j,z.value,_),z!==null&&(e&&z.alternate!==null&&T.delete(z.key===null?j:z.key),y=i(z,y,j),P===null?N=z:P.sibling=z,P=z);return e&&T.forEach(function(C){return t(v,C)}),yr&&Oc(v,j),N}function x(v,y,b,_){if(typeof b=="object"&&b!==null&&b.type===Iu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fm:e:{for(var N=b.key,P=y;P!==null;){if(P.key===N){if(N=b.type,N===Iu){if(P.tag===7){r(v,P.sibling),y=s(P,b.props.children),y.return=v,v=y;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===yl&&v4(N)===P.type){r(v,P.sibling),y=s(P,b.props),y.ref=sh(v,P,b),y.return=v,v=y;break e}r(v,P);break}else t(v,P);P=P.sibling}b.type===Iu?(y=nA(b.props.children,v.mode,_,b.key),y.return=v,v=y):(_=rv(b.type,b.key,b.props,null,v.mode,_),_.ref=sh(v,y,b),_.return=v,v=_)}return o(v);case Pu:e:{for(P=b.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=s(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=ew(b,v.mode,_),y.return=v,v=y}return o(v);case yl:return P=b._init,x(v,y,P(b._payload),_)}if(Ch(b))return p(v,y,b,_);if(Zf(b))return m(v,y,b,_);$m(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=s(y,b),y.return=v,v=y):(r(v,y),y=Z1(b,v.mode,_),y.return=v,v=y),o(v)):r(v,y)}return x}var md=AO(!0),uO=AO(!1),Sv=oc(null),_v=null,Ru=null,o5=null;function l5(){o5=Ru=_v=null}function c5(e){var t=Sv.current;gr(Sv),e._currentValue=t}function V2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function td(e,t){_v=e,o5=Ru=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(js=!0),e.firstContext=null)}function ba(e){var t=e._currentValue;if(o5!==e)if(e={context:e,memoizedValue:t,next:null},Ru===null){if(_v===null)throw Error(Me(308));Ru=e,_v.dependencies={lanes:0,firstContext:e}}else Ru=Ru.next=e;return t}var Gc=null;function A5(e){Gc===null?Gc=[e]:Gc.push(e)}function dO(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,A5(t)):(r.next=s.next,s.next=r),t.interleaved=r,To(e,n)}function To(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bl=!1;function u5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Lt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,To(e,r)}return s=n.interleaved,s===null?(t.next=t,A5(n)):(t.next=s.next,s.next=t),n.interleaved=t,To(e,r)}function J0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,JB(e,r)}}function x4(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ev(e,t,r,n){var s=e.updateQueue;bl=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var l=c,A=l.next;l.next=null,o===null?i=A:o.next=A,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==o&&(c===null?u.firstBaseUpdate=A:c.next=A,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=A=l=null,c=i;do{var f=c.lane,h=c.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var p=e,m=c;switch(f=t,h=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Br({},d,f);break e;case 2:bl=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[c]:f.push(c))}else h={eventTime:h,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(A=u=h,l=d):u=u.next=h,o|=f;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;f=c,c=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=A,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fA|=o,e.lanes=o,e.memoizedState=d}}function y4(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Me(191,s));s.call(n)}}}var Bg={},Oi=oc(Bg),Cp=oc(Bg),kp=oc(Bg);function Wc(e){if(e===Bg)throw Error(Me(174));return e}function d5(e,t){switch(Ar(kp,t),Ar(Cp,e),Ar(Oi,Bg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:C2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=C2(t,e)}gr(Oi),Ar(Oi,t)}function vd(){gr(Oi),gr(Cp),gr(kp)}function hO(e){Wc(kp.current);var t=Wc(Oi.current),r=C2(t,e.type);t!==r&&(Ar(Cp,e),Ar(Oi,r))}function f5(e){Cp.current===e&&(gr(Oi),gr(Cp))}var jr=oc(0);function Fv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var G1=[];function h5(){for(var e=0;e<G1.length;e++)G1[e]._workInProgressVersionPrimary=null;G1.length=0}var X0=zo.ReactCurrentDispatcher,W1=zo.ReactCurrentBatchConfig,dA=0,Nr=null,sn=null,vn=null,Pv=!1,Vh=!1,Sp=0,dR=0;function Un(){throw Error(Me(321))}function p5(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ni(e[r],t[r]))return!1;return!0}function g5(e,t,r,n,s,i){if(dA=i,Nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X0.current=e===null||e.memoizedState===null?gR:mR,e=r(n,s),Vh){i=0;do{if(Vh=!1,Sp=0,25<=i)throw Error(Me(301));i+=1,vn=sn=null,t.updateQueue=null,X0.current=vR,e=r(n,s)}while(Vh)}if(X0.current=Iv,t=sn!==null&&sn.next!==null,dA=0,vn=sn=Nr=null,Pv=!1,t)throw Error(Me(300));return e}function m5(){var e=Sp!==0;return Sp=0,e}function Ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Nr.memoizedState=vn=e:vn=vn.next=e,vn}function wa(){if(sn===null){var e=Nr.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=vn===null?Nr.memoizedState:vn.next;if(t!==null)vn=t,sn=e;else{if(e===null)throw Error(Me(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},vn===null?Nr.memoizedState=vn=e:vn=vn.next=e}return vn}function _p(e,t){return typeof t=="function"?t(e):t}function q1(e){var t=wa(),r=t.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=e;var n=sn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var c=o=null,l=null,A=i;do{var u=A.lane;if((dA&u)===u)l!==null&&(l=l.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),n=A.hasEagerState?A.eagerState:e(n,A.action);else{var d={lane:u,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};l===null?(c=l=d,o=n):l=l.next=d,Nr.lanes|=u,fA|=u}A=A.next}while(A!==null&&A!==i);l===null?o=n:l.next=c,ni(n,t.memoizedState)||(js=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Nr.lanes|=i,fA|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function J1(e){var t=wa(),r=t.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ni(i,t.memoizedState)||(js=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function pO(){}function gO(e,t){var r=Nr,n=wa(),s=t(),i=!ni(n.memoizedState,s);if(i&&(n.memoizedState=s,js=!0),n=n.queue,v5(xO.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||vn!==null&&vn.memoizedState.tag&1){if(r.flags|=2048,Ep(9,vO.bind(null,r,n,s,t),void 0,null),wn===null)throw Error(Me(349));dA&30||mO(r,t,s)}return s}function mO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vO(e,t,r,n){t.value=r,t.getSnapshot=n,yO(t)&&bO(e)}function xO(e,t,r){return r(function(){yO(t)&&bO(e)})}function yO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ni(e,r)}catch{return!0}}function bO(e){var t=To(e,1);t!==null&&Za(t,e,1,-1)}function b4(e){var t=Ni();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:e},t.queue=e,e=e.dispatch=pR.bind(null,Nr,e),[t.memoizedState,e]}function Ep(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function wO(){return wa().memoizedState}function Y0(e,t,r,n){var s=Ni();Nr.flags|=e,s.memoizedState=Ep(1|t,r,void 0,n===void 0?null:n)}function fy(e,t,r,n){var s=wa();n=n===void 0?null:n;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,n!==null&&p5(n,o.deps)){s.memoizedState=Ep(t,r,i,n);return}}Nr.flags|=e,s.memoizedState=Ep(1|t,r,i,n)}function w4(e,t){return Y0(8390656,8,e,t)}function v5(e,t){return fy(2048,8,e,t)}function jO(e,t){return fy(4,2,e,t)}function NO(e,t){return fy(4,4,e,t)}function BO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CO(e,t,r){return r=r!=null?r.concat([e]):null,fy(4,4,BO.bind(null,t,e),r)}function x5(){}function kO(e,t){var r=wa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&p5(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function SO(e,t){var r=wa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&p5(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _O(e,t,r){return dA&21?(ni(r,t)||(r=OI(),Nr.lanes|=r,fA|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,js=!0),e.memoizedState=r)}function fR(e,t){var r=Wt;Wt=r!==0&&4>r?r:4,e(!0);var n=W1.transition;W1.transition={};try{e(!1),t()}finally{Wt=r,W1.transition=n}}function EO(){return wa().memoizedState}function hR(e,t,r){var n=Gl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},FO(e))PO(t,r);else if(r=dO(e,t,r,n),r!==null){var s=ls();Za(r,e,n,s),IO(r,t,n)}}function pR(e,t,r){var n=Gl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(FO(e))PO(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,c=i(o,r);if(s.hasEagerState=!0,s.eagerState=c,ni(c,o)){var l=t.interleaved;l===null?(s.next=s,A5(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=dO(e,t,s,n),r!==null&&(s=ls(),Za(r,e,n,s),IO(r,t,n))}}function FO(e){var t=e.alternate;return e===Nr||t!==null&&t===Nr}function PO(e,t){Vh=Pv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function IO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,JB(e,r)}}var Iv={readContext:ba,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},gR={readContext:ba,useCallback:function(e,t){return Ni().memoizedState=[e,t===void 0?null:t],e},useContext:ba,useEffect:w4,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Y0(4194308,4,BO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Y0(4194308,4,e,t)},useInsertionEffect:function(e,t){return Y0(4,2,e,t)},useMemo:function(e,t){var r=Ni();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ni();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hR.bind(null,Nr,e),[n.memoizedState,e]},useRef:function(e){var t=Ni();return e={current:e},t.memoizedState=e},useState:b4,useDebugValue:x5,useDeferredValue:function(e){return Ni().memoizedState=e},useTransition:function(){var e=b4(!1),t=e[0];return e=fR.bind(null,e[1]),Ni().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Nr,s=Ni();if(yr){if(r===void 0)throw Error(Me(407));r=r()}else{if(r=t(),wn===null)throw Error(Me(349));dA&30||mO(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,w4(xO.bind(null,n,i,e),[e]),n.flags|=2048,Ep(9,vO.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ni(),t=wn.identifierPrefix;if(yr){var r=yo,n=xo;r=(n&~(1<<32-Ya(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Sp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mR={readContext:ba,useCallback:kO,useContext:ba,useEffect:v5,useImperativeHandle:CO,useInsertionEffect:jO,useLayoutEffect:NO,useMemo:SO,useReducer:q1,useRef:wO,useState:function(){return q1(_p)},useDebugValue:x5,useDeferredValue:function(e){var t=wa();return _O(t,sn.memoizedState,e)},useTransition:function(){var e=q1(_p)[0],t=wa().memoizedState;return[e,t]},useMutableSource:pO,useSyncExternalStore:gO,useId:EO,unstable_isNewReconciler:!1},vR={readContext:ba,useCallback:kO,useContext:ba,useEffect:v5,useImperativeHandle:CO,useInsertionEffect:jO,useLayoutEffect:NO,useMemo:SO,useReducer:J1,useRef:wO,useState:function(){return J1(_p)},useDebugValue:x5,useDeferredValue:function(e){var t=wa();return sn===null?t.memoizedState=e:_O(t,sn.memoizedState,e)},useTransition:function(){var e=J1(_p)[0],t=wa().memoizedState;return[e,t]},useMutableSource:pO,useSyncExternalStore:gO,useId:EO,unstable_isNewReconciler:!1};function Ha(e,t){if(e&&e.defaultProps){t=Br({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function G2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Br({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hy={isMounted:function(e){return(e=e._reactInternals)?NA(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ls(),s=Gl(e),i=No(n,s);i.payload=t,r!=null&&(i.callback=r),t=Kl(e,i,s),t!==null&&(Za(t,e,s,n),J0(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ls(),s=Gl(e),i=No(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Kl(e,i,s),t!==null&&(Za(t,e,s,n),J0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ls(),n=Gl(e),s=No(r,n);s.tag=2,t!=null&&(s.callback=t),t=Kl(e,s,n),t!==null&&(Za(t,e,n,r),J0(t,e,n))}};function j4(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!wp(r,n)||!wp(s,i):!0}function OO(e,t,r){var n=!1,s=rc,i=t.contextType;return typeof i=="object"&&i!==null?i=ba(i):(s=Cs(t)?AA:Jn.current,n=t.contextTypes,i=(n=n!=null)?pd(e,s):rc),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function N4(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hy.enqueueReplaceState(t,t.state,null)}function W2(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},u5(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ba(i):(i=Cs(t)?AA:Jn.current,s.context=pd(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(G2(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&hy.enqueueReplaceState(s,s.state,null),Ev(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xd(e,t){try{var r="",n=t;do r+=V3(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function X1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function q2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var xR=typeof WeakMap=="function"?WeakMap:Map;function TO(e,t,r){r=No(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Tv||(Tv=!0,aj=n),q2(e,t)},r}function LO(e,t,r){r=No(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){q2(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){q2(e,t),typeof n!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function B4(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new xR;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=IR.bind(null,e,t,r),t.then(e,e))}function C4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function k4(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=No(-1,1),t.tag=2,Kl(r,t,1))),r.lanes|=1),e)}var yR=zo.ReactCurrentOwner,js=!1;function rs(e,t,r,n){t.child=e===null?uO(t,null,r,n):md(t,e.child,r,n)}function S4(e,t,r,n,s){r=r.render;var i=t.ref;return td(t,s),n=g5(e,t,r,n,i,s),r=m5(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lo(e,t,s)):(yr&&r&&s5(t),t.flags|=1,rs(e,t,n,s),t.child)}function _4(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!k5(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,UO(e,t,i,n,s)):(e=rv(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:wp,r(o,n)&&e.ref===t.ref)return Lo(e,t,s)}return t.flags|=1,e=Wl(i,n),e.ref=t.ref,e.return=t,t.child=e}function UO(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(wp(i,n)&&e.ref===t.ref)if(js=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(js=!0);else return t.lanes=e.lanes,Lo(e,t,s)}return J2(e,t,r,n,s)}function DO(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(Hu,Ms),Ms|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ar(Hu,Ms),Ms|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ar(Hu,Ms),Ms|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ar(Hu,Ms),Ms|=n;return rs(e,t,s,r),t.child}function QO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function J2(e,t,r,n,s){var i=Cs(r)?AA:Jn.current;return i=pd(t,i),td(t,s),r=g5(e,t,r,n,i,s),n=m5(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lo(e,t,s)):(yr&&n&&s5(t),t.flags|=1,rs(e,t,r,s),t.child)}function E4(e,t,r,n,s){if(Cs(r)){var i=!0;Bv(t)}else i=!1;if(td(t,s),t.stateNode===null)Z0(e,t),OO(t,r,n),W2(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,A=r.contextType;typeof A=="object"&&A!==null?A=ba(A):(A=Cs(r)?AA:Jn.current,A=pd(t,A));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||l!==A)&&N4(t,o,n,A),bl=!1;var f=t.memoizedState;o.state=f,Ev(t,n,o,s),l=t.memoizedState,c!==n||f!==l||Bs.current||bl?(typeof u=="function"&&(G2(t,r,u,n),l=t.memoizedState),(c=bl||j4(t,r,c,n,f,l,A))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=A,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,fO(e,t),c=t.memoizedProps,A=t.type===t.elementType?c:Ha(t.type,c),o.props=A,d=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ba(l):(l=Cs(r)?AA:Jn.current,l=pd(t,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==d||f!==l)&&N4(t,o,n,l),bl=!1,f=t.memoizedState,o.state=f,Ev(t,n,o,s);var p=t.memoizedState;c!==d||f!==p||Bs.current||bl?(typeof h=="function"&&(G2(t,r,h,n),p=t.memoizedState),(A=bl||j4(t,r,A,n,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=A):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return X2(e,t,r,n,i,s)}function X2(e,t,r,n,s,i){QO(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&p4(t,r,!1),Lo(e,t,i);n=t.stateNode,yR.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=md(t,e.child,null,i),t.child=md(t,null,c,i)):rs(e,t,c,i),t.memoizedState=n.state,s&&p4(t,r,!0),t.child}function MO(e){var t=e.stateNode;t.pendingContext?h4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&h4(e,t.context,!1),d5(e,t.containerInfo)}function F4(e,t,r,n,s){return gd(),i5(s),t.flags|=256,rs(e,t,r,n),t.child}var Y2={dehydrated:null,treeContext:null,retryLane:0};function Z2(e){return{baseLanes:e,cachePool:null,transitions:null}}function RO(e,t,r){var n=t.pendingProps,s=jr.current,i=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ar(jr,s&1),e===null)return K2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=my(o,n,0,null),e=nA(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Z2(r),t.memoizedState=Y2,e):y5(t,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return bR(e,t,o,n,c,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,c=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Wl(s,l),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Wl(c,i):(i=nA(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Z2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Y2,n}return i=e.child,e=i.sibling,n=Wl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function y5(e,t){return t=my({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hm(e,t,r,n){return n!==null&&i5(n),md(t,e.child,null,r),e=y5(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bR(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=X1(Error(Me(422))),Hm(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=my({mode:"visible",children:n.children},s,0,null),i=nA(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&md(t,e.child,null,o),t.child.memoizedState=Z2(o),t.memoizedState=Y2,i);if(!(t.mode&1))return Hm(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(Me(419)),n=X1(i,n,void 0),Hm(e,t,o,n)}if(c=(o&e.childLanes)!==0,js||c){if(n=wn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,To(e,s),Za(n,e,s,-1))}return C5(),n=X1(Error(Me(421))),Hm(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=OR.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Hs=zl(s.nextSibling),Ks=t,yr=!0,Wa=null,e!==null&&(ca[Aa++]=xo,ca[Aa++]=yo,ca[Aa++]=uA,xo=e.id,yo=e.overflow,uA=t),t=y5(t,n.children),t.flags|=4096,t)}function P4(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),V2(e.return,t,r)}function Y1(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function $O(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(rs(e,t,n.children,r),n=jr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P4(e,r,t);else if(e.tag===19)P4(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ar(jr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Fv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Y1(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Y1(t,!0,r,null,i);break;case"together":Y1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Z0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fA|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Me(153));if(t.child!==null){for(e=t.child,r=Wl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wR(e,t,r){switch(t.tag){case 3:MO(t),gd();break;case 5:hO(t);break;case 1:Cs(t.type)&&Bv(t);break;case 4:d5(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ar(Sv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ar(jr,jr.current&1),t.flags|=128,null):r&t.child.childLanes?RO(e,t,r):(Ar(jr,jr.current&1),e=Lo(e,t,r),e!==null?e.sibling:null);Ar(jr,jr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return $O(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ar(jr,jr.current),n)break;return null;case 22:case 23:return t.lanes=0,DO(e,t,r)}return Lo(e,t,r)}var HO,ej,zO,KO;HO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ej=function(){};zO=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Wc(Oi.current);var i=null;switch(r){case"input":s=w2(e,s),n=w2(e,n),i=[];break;case"select":s=Br({},s,{value:void 0}),n=Br({},n,{value:void 0}),i=[];break;case"textarea":s=B2(e,s),n=B2(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=jv)}k2(r,n);var o;r=null;for(A in s)if(!n.hasOwnProperty(A)&&s.hasOwnProperty(A)&&s[A]!=null)if(A==="style"){var c=s[A];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(pp.hasOwnProperty(A)?i||(i=[]):(i=i||[]).push(A,null));for(A in n){var l=n[A];if(c=s!=null?s[A]:void 0,n.hasOwnProperty(A)&&l!==c&&(l!=null||c!=null))if(A==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(A,r)),r=l;else A==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(i=i||[]).push(A,l)):A==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(A,""+l):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(pp.hasOwnProperty(A)?(l!=null&&A==="onScroll"&&dr("scroll",e),i||c===l||(i=[])):(i=i||[]).push(A,l))}r&&(i=i||[]).push("style",r);var A=i;(t.updateQueue=A)&&(t.flags|=4)}};KO=function(e,t,r,n){r!==n&&(t.flags|=4)};function ah(e,t){if(!yr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Dn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jR(e,t,r){var n=t.pendingProps;switch(a5(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(t),null;case 1:return Cs(t.type)&&Nv(),Dn(t),null;case 3:return n=t.stateNode,vd(),gr(Bs),gr(Jn),h5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wa!==null&&(lj(Wa),Wa=null))),ej(e,t),Dn(t),null;case 5:f5(t);var s=Wc(kp.current);if(r=t.type,e!==null&&t.stateNode!=null)zO(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Me(166));return Dn(t),null}if(e=Wc(Oi.current),Rm(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Bi]=t,n[Bp]=i,e=(t.mode&1)!==0,r){case"dialog":dr("cancel",n),dr("close",n);break;case"iframe":case"object":case"embed":dr("load",n);break;case"video":case"audio":for(s=0;s<Sh.length;s++)dr(Sh[s],n);break;case"source":dr("error",n);break;case"img":case"image":case"link":dr("error",n),dr("load",n);break;case"details":dr("toggle",n);break;case"input":Rk(n,i),dr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},dr("invalid",n);break;case"textarea":Hk(n,i),dr("invalid",n)}k2(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&Mm(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Mm(n.textContent,c,e),s=["children",""+c]):pp.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&dr("scroll",n)}switch(r){case"input":Pm(n),$k(n,i,!0);break;case"textarea":Pm(n),zk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=jv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xI(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Bi]=t,e[Bp]=n,HO(e,t,!1,!1),t.stateNode=e;e:{switch(o=S2(r,n),r){case"dialog":dr("cancel",e),dr("close",e),s=n;break;case"iframe":case"object":case"embed":dr("load",e),s=n;break;case"video":case"audio":for(s=0;s<Sh.length;s++)dr(Sh[s],e);s=n;break;case"source":dr("error",e),s=n;break;case"img":case"image":case"link":dr("error",e),dr("load",e),s=n;break;case"details":dr("toggle",e),s=n;break;case"input":Rk(e,n),s=w2(e,n),dr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Br({},n,{value:void 0}),dr("invalid",e);break;case"textarea":Hk(e,n),s=B2(e,n),dr("invalid",e);break;default:s=n}k2(r,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var l=c[i];i==="style"?wI(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yI(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&gp(e,l):typeof l=="number"&&gp(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pp.hasOwnProperty(i)?l!=null&&i==="onScroll"&&dr("scroll",e):l!=null&&zB(e,i,l,o))}switch(r){case"input":Pm(e),$k(e,n,!1);break;case"textarea":Pm(e),zk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+tc(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Xu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Xu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=jv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dn(t),null;case 6:if(e&&t.stateNode!=null)KO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Me(166));if(r=Wc(kp.current),Wc(Oi.current),Rm(t)){if(n=t.stateNode,r=t.memoizedProps,n[Bi]=t,(i=n.nodeValue!==r)&&(e=Ks,e!==null))switch(e.tag){case 3:Mm(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mm(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bi]=t,t.stateNode=n}return Dn(t),null;case 13:if(gr(jr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yr&&Hs!==null&&t.mode&1&&!(t.flags&128))cO(),gd(),t.flags|=98560,i=!1;else if(i=Rm(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Me(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Me(317));i[Bi]=t}else gd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dn(t),i=!1}else Wa!==null&&(lj(Wa),Wa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jr.current&1?ln===0&&(ln=3):C5())),t.updateQueue!==null&&(t.flags|=4),Dn(t),null);case 4:return vd(),ej(e,t),e===null&&jp(t.stateNode.containerInfo),Dn(t),null;case 10:return c5(t.type._context),Dn(t),null;case 17:return Cs(t.type)&&Nv(),Dn(t),null;case 19:if(gr(jr),i=t.memoizedState,i===null)return Dn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ah(i,!1);else{if(ln!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fv(e),o!==null){for(t.flags|=128,ah(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ar(jr,jr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Mr()>yd&&(t.flags|=128,n=!0,ah(i,!1),t.lanes=4194304)}else{if(!n)if(e=Fv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ah(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yr)return Dn(t),null}else 2*Mr()-i.renderingStartTime>yd&&r!==1073741824&&(t.flags|=128,n=!0,ah(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Mr(),t.sibling=null,r=jr.current,Ar(jr,n?r&1|2:r&1),t):(Dn(t),null);case 22:case 23:return B5(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ms&1073741824&&(Dn(t),t.subtreeFlags&6&&(t.flags|=8192)):Dn(t),null;case 24:return null;case 25:return null}throw Error(Me(156,t.tag))}function NR(e,t){switch(a5(t),t.tag){case 1:return Cs(t.type)&&Nv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vd(),gr(Bs),gr(Jn),h5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return f5(t),null;case 13:if(gr(jr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Me(340));gd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gr(jr),null;case 4:return vd(),null;case 10:return c5(t.type._context),null;case 22:case 23:return B5(),null;case 24:return null;default:return null}}var zm=!1,Vn=!1,BR=typeof WeakSet=="function"?WeakSet:Set,tt=null;function $u(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fr(e,t,n)}else r.current=null}function tj(e,t,r){try{r()}catch(n){Fr(e,t,n)}}var I4=!1;function CR(e,t){if(D2=yv,e=JI(),n5(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,c=-1,l=-1,A=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==r||s!==0&&d.nodeType!==3||(c=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===r&&++A===s&&(c=o),f===i&&++u===n&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Q2={focusedElem:e,selectionRange:r},yv=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,x=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ha(t.type,m),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(_){Fr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return p=I4,I4=!1,p}function Gh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&tj(t,r,i)}s=s.next}while(s!==n)}}function py(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function VO(e){var t=e.alternate;t!==null&&(e.alternate=null,VO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bi],delete t[Bp],delete t[$2],delete t[lR],delete t[cR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function GO(e){return e.tag===5||e.tag===3||e.tag===4}function O4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||GO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=jv));else if(n!==4&&(e=e.child,e!==null))for(nj(e,t,r),e=e.sibling;e!==null;)nj(e,t,r),e=e.sibling}function sj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sj(e,t,r),e=e.sibling;e!==null;)sj(e,t,r),e=e.sibling}var _n=null,Ka=!1;function ul(e,t,r){for(r=r.child;r!==null;)WO(e,t,r),r=r.sibling}function WO(e,t,r){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(oy,r)}catch{}switch(r.tag){case 5:Vn||$u(r,t);case 6:var n=_n,s=Ka;_n=null,ul(e,t,r),_n=n,Ka=s,_n!==null&&(Ka?(e=_n,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_n.removeChild(r.stateNode));break;case 18:_n!==null&&(Ka?(e=_n,r=r.stateNode,e.nodeType===8?K1(e.parentNode,r):e.nodeType===1&&K1(e,r),yp(e)):K1(_n,r.stateNode));break;case 4:n=_n,s=Ka,_n=r.stateNode.containerInfo,Ka=!0,ul(e,t,r),_n=n,Ka=s;break;case 0:case 11:case 14:case 15:if(!Vn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tj(r,t,o),s=s.next}while(s!==n)}ul(e,t,r);break;case 1:if(!Vn&&($u(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Fr(r,t,c)}ul(e,t,r);break;case 21:ul(e,t,r);break;case 22:r.mode&1?(Vn=(n=Vn)||r.memoizedState!==null,ul(e,t,r),Vn=n):ul(e,t,r);break;default:ul(e,t,r)}}function T4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new BR),t.forEach(function(n){var s=TR.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ua(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:_n=c.stateNode,Ka=!1;break e;case 3:_n=c.stateNode.containerInfo,Ka=!0;break e;case 4:_n=c.stateNode.containerInfo,Ka=!0;break e}c=c.return}if(_n===null)throw Error(Me(160));WO(i,o,s),_n=null,Ka=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(A){Fr(s,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qO(t,e),t=t.sibling}function qO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ua(t,e),yi(e),n&4){try{Gh(3,e,e.return),py(3,e)}catch(m){Fr(e,e.return,m)}try{Gh(5,e,e.return)}catch(m){Fr(e,e.return,m)}}break;case 1:Ua(t,e),yi(e),n&512&&r!==null&&$u(r,r.return);break;case 5:if(Ua(t,e),yi(e),n&512&&r!==null&&$u(r,r.return),e.flags&32){var s=e.stateNode;try{gp(s,"")}catch(m){Fr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&mI(s,i),S2(c,o);var A=S2(c,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?wI(s,d):u==="dangerouslySetInnerHTML"?yI(s,d):u==="children"?gp(s,d):zB(s,u,d,A)}switch(c){case"input":j2(s,i);break;case"textarea":vI(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Xu(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Xu(s,!!i.multiple,i.defaultValue,!0):Xu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bp]=i}catch(m){Fr(e,e.return,m)}}break;case 6:if(Ua(t,e),yi(e),n&4){if(e.stateNode===null)throw Error(Me(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Fr(e,e.return,m)}}break;case 3:if(Ua(t,e),yi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yp(t.containerInfo)}catch(m){Fr(e,e.return,m)}break;case 4:Ua(t,e),yi(e);break;case 13:Ua(t,e),yi(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(j5=Mr())),n&4&&T4(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Vn=(A=Vn)||u,Ua(t,e),Vn=A):Ua(t,e),yi(e),n&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!u&&e.mode&1)for(tt=e,u=e.child;u!==null;){for(d=tt=u;tt!==null;){switch(f=tt,h=f.child,f.tag){case 0:case 11:case 14:case 15:Gh(4,f,f.return);break;case 1:$u(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Fr(n,r,m)}}break;case 5:$u(f,f.return);break;case 22:if(f.memoizedState!==null){U4(d);continue}}h!==null?(h.return=f,tt=h):U4(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,A?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=bI("display",o))}catch(m){Fr(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=A?"":d.memoizedProps}catch(m){Fr(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ua(t,e),yi(e),n&4&&T4(e);break;case 21:break;default:Ua(t,e),yi(e)}}function yi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(GO(r)){var n=r;break e}r=r.return}throw Error(Me(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(gp(s,""),n.flags&=-33);var i=O4(e);sj(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,c=O4(e);nj(e,c,o);break;default:throw Error(Me(161))}}catch(l){Fr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kR(e,t,r){tt=e,JO(e)}function JO(e,t,r){for(var n=(e.mode&1)!==0;tt!==null;){var s=tt,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||zm;if(!o){var c=s.alternate,l=c!==null&&c.memoizedState!==null||Vn;c=zm;var A=Vn;if(zm=o,(Vn=l)&&!A)for(tt=s;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?D4(s):l!==null?(l.return=o,tt=l):D4(s);for(;i!==null;)tt=i,JO(i),i=i.sibling;tt=s,zm=c,Vn=A}L4(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,tt=i):L4(e)}}function L4(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vn||py(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ha(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&y4(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}y4(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var u=A.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&yp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Vn||t.flags&512&&rj(t)}catch(f){Fr(t,t.return,f)}}if(t===e){tt=null;break}if(r=t.sibling,r!==null){r.return=t.return,tt=r;break}tt=t.return}}function U4(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,tt=r;break}tt=t.return}}function D4(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{py(4,t)}catch(l){Fr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Fr(t,s,l)}}var i=t.return;try{rj(t)}catch(l){Fr(t,i,l)}break;case 5:var o=t.return;try{rj(t)}catch(l){Fr(t,o,l)}}}catch(l){Fr(t,t.return,l)}if(t===e){tt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,tt=c;break}tt=t.return}}var SR=Math.ceil,Ov=zo.ReactCurrentDispatcher,b5=zo.ReactCurrentOwner,va=zo.ReactCurrentBatchConfig,Lt=0,wn=null,Xr=null,In=0,Ms=0,Hu=oc(0),ln=0,Fp=null,fA=0,gy=0,w5=0,Wh=null,ys=null,j5=0,yd=1/0,po=null,Tv=!1,aj=null,Vl=null,Km=!1,Pl=null,Lv=0,qh=0,ij=null,ev=-1,tv=0;function ls(){return Lt&6?Mr():ev!==-1?ev:ev=Mr()}function Gl(e){return e.mode&1?Lt&2&&In!==0?In&-In:uR.transition!==null?(tv===0&&(tv=OI()),tv):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:RI(e.type)),e):1}function Za(e,t,r,n){if(50<qh)throw qh=0,ij=null,Error(Me(185));wg(e,r,n),(!(Lt&2)||e!==wn)&&(e===wn&&(!(Lt&2)&&(gy|=r),ln===4&&Cl(e,In)),ks(e,n),r===1&&Lt===0&&!(t.mode&1)&&(yd=Mr()+500,dy&&lc()))}function ks(e,t){var r=e.callbackNode;uM(e,t);var n=xv(e,e===wn?In:0);if(n===0)r!==null&&Gk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gk(r),t===1)e.tag===0?AR(Q4.bind(null,e)):iO(Q4.bind(null,e)),iR(function(){!(Lt&6)&&lc()}),r=null;else{switch(TI(n)){case 1:r=qB;break;case 4:r=PI;break;case 16:r=vv;break;case 536870912:r=II;break;default:r=vv}r=sT(r,XO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function XO(e,t){if(ev=-1,tv=0,Lt&6)throw Error(Me(327));var r=e.callbackNode;if(rd()&&e.callbackNode!==r)return null;var n=xv(e,e===wn?In:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Uv(e,n);else{t=n;var s=Lt;Lt|=2;var i=ZO();(wn!==e||In!==t)&&(po=null,yd=Mr()+500,rA(e,t));do try{FR();break}catch(c){YO(e,c)}while(!0);l5(),Ov.current=i,Lt=s,Xr!==null?t=0:(wn=null,In=0,t=ln)}if(t!==0){if(t===2&&(s=I2(e),s!==0&&(n=s,t=oj(e,s))),t===1)throw r=Fp,rA(e,0),Cl(e,n),ks(e,Mr()),r;if(t===6)Cl(e,n);else{if(s=e.current.alternate,!(n&30)&&!_R(s)&&(t=Uv(e,n),t===2&&(i=I2(e),i!==0&&(n=i,t=oj(e,i))),t===1))throw r=Fp,rA(e,0),Cl(e,n),ks(e,Mr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Me(345));case 2:Tc(e,ys,po);break;case 3:if(Cl(e,n),(n&130023424)===n&&(t=j5+500-Mr(),10<t)){if(xv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ls(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=R2(Tc.bind(null,e,ys,po),t);break}Tc(e,ys,po);break;case 4:if(Cl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ya(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SR(n/1960))-n,10<n){e.timeoutHandle=R2(Tc.bind(null,e,ys,po),n);break}Tc(e,ys,po);break;case 5:Tc(e,ys,po);break;default:throw Error(Me(329))}}}return ks(e,Mr()),e.callbackNode===r?XO.bind(null,e):null}function oj(e,t){var r=Wh;return e.current.memoizedState.isDehydrated&&(rA(e,t).flags|=256),e=Uv(e,t),e!==2&&(t=ys,ys=r,t!==null&&lj(t)),e}function lj(e){ys===null?ys=e:ys.push.apply(ys,e)}function _R(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ni(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cl(e,t){for(t&=~w5,t&=~gy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ya(t),n=1<<r;e[r]=-1,t&=~n}}function Q4(e){if(Lt&6)throw Error(Me(327));rd();var t=xv(e,0);if(!(t&1))return ks(e,Mr()),null;var r=Uv(e,t);if(e.tag!==0&&r===2){var n=I2(e);n!==0&&(t=n,r=oj(e,n))}if(r===1)throw r=Fp,rA(e,0),Cl(e,t),ks(e,Mr()),r;if(r===6)throw Error(Me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,ys,po),ks(e,Mr()),null}function N5(e,t){var r=Lt;Lt|=1;try{return e(t)}finally{Lt=r,Lt===0&&(yd=Mr()+500,dy&&lc())}}function hA(e){Pl!==null&&Pl.tag===0&&!(Lt&6)&&rd();var t=Lt;Lt|=1;var r=va.transition,n=Wt;try{if(va.transition=null,Wt=1,e)return e()}finally{Wt=n,va.transition=r,Lt=t,!(Lt&6)&&lc()}}function B5(){Ms=Hu.current,gr(Hu)}function rA(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aR(r)),Xr!==null)for(r=Xr.return;r!==null;){var n=r;switch(a5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nv();break;case 3:vd(),gr(Bs),gr(Jn),h5();break;case 5:f5(n);break;case 4:vd();break;case 13:gr(jr);break;case 19:gr(jr);break;case 10:c5(n.type._context);break;case 22:case 23:B5()}r=r.return}if(wn=e,Xr=e=Wl(e.current,null),In=Ms=t,ln=0,Fp=null,w5=gy=fA=0,ys=Wh=null,Gc!==null){for(t=0;t<Gc.length;t++)if(r=Gc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Gc=null}return e}function YO(e,t){do{var r=Xr;try{if(l5(),X0.current=Iv,Pv){for(var n=Nr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pv=!1}if(dA=0,vn=sn=Nr=null,Vh=!1,Sp=0,b5.current=null,r===null||r.return===null){ln=1,Fp=t,Xr=null;break}e:{var i=e,o=r.return,c=r,l=t;if(t=In,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var A=l,u=c,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=C4(o);if(h!==null){h.flags&=-257,k4(h,o,c,i,t),h.mode&1&&B4(i,A,t),t=h,l=A;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){B4(i,A,t),C5();break e}l=Error(Me(426))}}else if(yr&&c.mode&1){var x=C4(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),k4(x,o,c,i,t),i5(xd(l,c));break e}}i=l=xd(l,c),ln!==4&&(ln=2),Wh===null?Wh=[i]:Wh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=TO(i,l,t);x4(i,v);break e;case 1:c=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vl===null||!Vl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=LO(i,c,t);x4(i,_);break e}}i=i.return}while(i!==null)}tT(r)}catch(N){t=N,Xr===r&&r!==null&&(Xr=r=r.return);continue}break}while(!0)}function ZO(){var e=Ov.current;return Ov.current=Iv,e===null?Iv:e}function C5(){(ln===0||ln===3||ln===2)&&(ln=4),wn===null||!(fA&268435455)&&!(gy&268435455)||Cl(wn,In)}function Uv(e,t){var r=Lt;Lt|=2;var n=ZO();(wn!==e||In!==t)&&(po=null,rA(e,t));do try{ER();break}catch(s){YO(e,s)}while(!0);if(l5(),Lt=r,Ov.current=n,Xr!==null)throw Error(Me(261));return wn=null,In=0,ln}function ER(){for(;Xr!==null;)eT(Xr)}function FR(){for(;Xr!==null&&!rM();)eT(Xr)}function eT(e){var t=nT(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,t===null?tT(e):Xr=t,b5.current=null}function tT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=NR(r,t),r!==null){r.flags&=32767,Xr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ln=6,Xr=null;return}}else if(r=jR(r,t,Ms),r!==null){Xr=r;return}if(t=t.sibling,t!==null){Xr=t;return}Xr=t=e}while(t!==null);ln===0&&(ln=5)}function Tc(e,t,r){var n=Wt,s=va.transition;try{va.transition=null,Wt=1,PR(e,t,r,n)}finally{va.transition=s,Wt=n}return null}function PR(e,t,r,n){do rd();while(Pl!==null);if(Lt&6)throw Error(Me(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Me(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(dM(e,i),e===wn&&(Xr=wn=null,In=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Km||(Km=!0,sT(vv,function(){return rd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=va.transition,va.transition=null;var o=Wt;Wt=1;var c=Lt;Lt|=4,b5.current=null,CR(e,r),qO(r,e),YM(Q2),yv=!!D2,Q2=D2=null,e.current=r,kR(r),nM(),Lt=c,Wt=o,va.transition=i}else e.current=r;if(Km&&(Km=!1,Pl=e,Lv=s),i=e.pendingLanes,i===0&&(Vl=null),iM(r.stateNode),ks(e,Mr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Tv)throw Tv=!1,e=aj,aj=null,e;return Lv&1&&e.tag!==0&&rd(),i=e.pendingLanes,i&1?e===ij?qh++:(qh=0,ij=e):qh=0,lc(),null}function rd(){if(Pl!==null){var e=TI(Lv),t=va.transition,r=Wt;try{if(va.transition=null,Wt=16>e?16:e,Pl===null)var n=!1;else{if(e=Pl,Pl=null,Lv=0,Lt&6)throw Error(Me(331));var s=Lt;for(Lt|=4,tt=e.current;tt!==null;){var i=tt,o=i.child;if(tt.flags&16){var c=i.deletions;if(c!==null){for(var l=0;l<c.length;l++){var A=c[l];for(tt=A;tt!==null;){var u=tt;switch(u.tag){case 0:case 11:case 15:Gh(8,u,i)}var d=u.child;if(d!==null)d.return=u,tt=d;else for(;tt!==null;){u=tt;var f=u.sibling,h=u.return;if(VO(u),u===A){tt=null;break}if(f!==null){f.return=h,tt=f;break}tt=h}}}var p=i.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}tt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,tt=o;else e:for(;tt!==null;){if(i=tt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gh(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,tt=v;break e}tt=i.return}}var y=e.current;for(tt=y;tt!==null;){o=tt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,tt=b;else e:for(o=y;tt!==null;){if(c=tt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:py(9,c)}}catch(N){Fr(c,c.return,N)}if(c===o){tt=null;break e}var _=c.sibling;if(_!==null){_.return=c.return,tt=_;break e}tt=c.return}}if(Lt=s,lc(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(oy,e)}catch{}n=!0}return n}finally{Wt=r,va.transition=t}}return!1}function M4(e,t,r){t=xd(r,t),t=TO(e,t,1),e=Kl(e,t,1),t=ls(),e!==null&&(wg(e,1,t),ks(e,t))}function Fr(e,t,r){if(e.tag===3)M4(e,e,r);else for(;t!==null;){if(t.tag===3){M4(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vl===null||!Vl.has(n))){e=xd(r,e),e=LO(t,e,1),t=Kl(t,e,1),e=ls(),t!==null&&(wg(t,1,e),ks(t,e));break}}t=t.return}}function IR(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ls(),e.pingedLanes|=e.suspendedLanes&r,wn===e&&(In&r)===r&&(ln===4||ln===3&&(In&130023424)===In&&500>Mr()-j5?rA(e,0):w5|=r),ks(e,t)}function rT(e,t){t===0&&(e.mode&1?(t=Tm,Tm<<=1,!(Tm&130023424)&&(Tm=4194304)):t=1);var r=ls();e=To(e,t),e!==null&&(wg(e,t,r),ks(e,r))}function OR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rT(e,r)}function TR(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Me(314))}n!==null&&n.delete(t),rT(e,r)}var nT;nT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bs.current)js=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return js=!1,wR(e,t,r);js=!!(e.flags&131072)}else js=!1,yr&&t.flags&1048576&&oO(t,kv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Z0(e,t),e=t.pendingProps;var s=pd(t,Jn.current);td(t,r),s=g5(null,t,n,e,s,r);var i=m5();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cs(n)?(i=!0,Bv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,u5(t),s.updater=hy,t.stateNode=s,s._reactInternals=t,W2(t,n,e,r),t=X2(null,t,n,!0,i,r)):(t.tag=0,yr&&i&&s5(t),rs(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Z0(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=UR(n),e=Ha(n,e),s){case 0:t=J2(null,t,n,e,r);break e;case 1:t=E4(null,t,n,e,r);break e;case 11:t=S4(null,t,n,e,r);break e;case 14:t=_4(null,t,n,Ha(n.type,e),r);break e}throw Error(Me(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ha(n,s),J2(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ha(n,s),E4(e,t,n,s,r);case 3:e:{if(MO(t),e===null)throw Error(Me(387));n=t.pendingProps,i=t.memoizedState,s=i.element,fO(e,t),Ev(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=xd(Error(Me(423)),t),t=F4(e,t,n,r,s);break e}else if(n!==s){s=xd(Error(Me(424)),t),t=F4(e,t,n,r,s);break e}else for(Hs=zl(t.stateNode.containerInfo.firstChild),Ks=t,yr=!0,Wa=null,r=uO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gd(),n===s){t=Lo(e,t,r);break e}rs(e,t,n,r)}t=t.child}return t;case 5:return hO(t),e===null&&K2(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,M2(n,s)?o=null:i!==null&&M2(n,i)&&(t.flags|=32),QO(e,t),rs(e,t,o,r),t.child;case 6:return e===null&&K2(t),null;case 13:return RO(e,t,r);case 4:return d5(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=md(t,null,n,r):rs(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ha(n,s),S4(e,t,n,s,r);case 7:return rs(e,t,t.pendingProps,r),t.child;case 8:return rs(e,t,t.pendingProps.children,r),t.child;case 12:return rs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ar(Sv,n._currentValue),n._currentValue=o,i!==null)if(ni(i.value,o)){if(i.children===s.children&&!Bs.current){t=Lo(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=No(-1,r&-r),l.tag=2;var A=i.updateQueue;if(A!==null){A=A.shared;var u=A.pending;u===null?l.next=l:(l.next=u.next,u.next=l),A.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),V2(i.return,r,t),c.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Me(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),V2(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rs(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,td(t,r),s=ba(s),n=n(s),t.flags|=1,rs(e,t,n,r),t.child;case 14:return n=t.type,s=Ha(n,t.pendingProps),s=Ha(n.type,s),_4(e,t,n,s,r);case 15:return UO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ha(n,s),Z0(e,t),t.tag=1,Cs(n)?(e=!0,Bv(t)):e=!1,td(t,r),OO(t,n,s),W2(t,n,s,r),X2(null,t,n,!0,e,r);case 19:return $O(e,t,r);case 22:return DO(e,t,r)}throw Error(Me(156,t.tag))};function sT(e,t){return FI(e,t)}function LR(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(e,t,r,n){return new LR(e,t,r,n)}function k5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UR(e){if(typeof e=="function")return k5(e)?1:0;if(e!=null){if(e=e.$$typeof,e===VB)return 11;if(e===GB)return 14}return 2}function Wl(e,t){var r=e.alternate;return r===null?(r=ha(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function rv(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")k5(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Iu:return nA(r.children,s,i,t);case KB:o=8,s|=8;break;case v2:return e=ha(12,r,t,s|2),e.elementType=v2,e.lanes=i,e;case x2:return e=ha(13,r,t,s),e.elementType=x2,e.lanes=i,e;case y2:return e=ha(19,r,t,s),e.elementType=y2,e.lanes=i,e;case hI:return my(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dI:o=10;break e;case fI:o=9;break e;case VB:o=11;break e;case GB:o=14;break e;case yl:o=16,n=null;break e}throw Error(Me(130,e==null?e:typeof e,""))}return t=ha(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function nA(e,t,r,n){return e=ha(7,e,n,t),e.lanes=r,e}function my(e,t,r,n){return e=ha(22,e,n,t),e.elementType=hI,e.lanes=r,e.stateNode={isHidden:!1},e}function Z1(e,t,r){return e=ha(6,e,null,t),e.lanes=r,e}function ew(e,t,r){return t=ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DR(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O1(0),this.expirationTimes=O1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O1(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function S5(e,t,r,n,s,i,o,c,l){return e=new DR(e,t,r,c,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ha(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},u5(i),e}function QR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function aT(e){if(!e)return rc;e=e._reactInternals;e:{if(NA(e)!==e||e.tag!==1)throw Error(Me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Me(171))}if(e.tag===1){var r=e.type;if(Cs(r))return aO(e,r,t)}return t}function iT(e,t,r,n,s,i,o,c,l){return e=S5(r,n,!0,e,s,i,o,c,l),e.context=aT(null),r=e.current,n=ls(),s=Gl(r),i=No(n,s),i.callback=t??null,Kl(r,i,s),e.current.lanes=s,wg(e,s,n),ks(e,n),e}function vy(e,t,r,n){var s=t.current,i=ls(),o=Gl(s);return r=aT(r),t.context===null?t.context=r:t.pendingContext=r,t=No(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Kl(s,t,o),e!==null&&(Za(e,s,o,i),J0(e,s,o)),o}function Dv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _5(e,t){R4(e,t),(e=e.alternate)&&R4(e,t)}function MR(){return null}var oT=typeof reportError=="function"?reportError:function(e){console.error(e)};function E5(e){this._internalRoot=e}xy.prototype.render=E5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Me(409));vy(e,t,null,null)};xy.prototype.unmount=E5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hA(function(){vy(null,e,null,null)}),t[Oo]=null}};function xy(e){this._internalRoot=e}xy.prototype.unstable_scheduleHydration=function(e){if(e){var t=DI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bl.length&&t!==0&&t<Bl[r].priority;r++);Bl.splice(r,0,e),r===0&&MI(e)}};function F5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $4(){}function RR(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var A=Dv(o);i.call(A)}}var o=iT(t,n,e,0,null,!1,!1,"",$4);return e._reactRootContainer=o,e[Oo]=o.current,jp(e.nodeType===8?e.parentNode:e),hA(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var A=Dv(l);c.call(A)}}var l=S5(e,0,!1,null,null,!1,!1,"",$4);return e._reactRootContainer=l,e[Oo]=l.current,jp(e.nodeType===8?e.parentNode:e),hA(function(){vy(t,l,r,n)}),l}function by(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var l=Dv(o);c.call(l)}}vy(t,o,e,s)}else o=RR(r,t,e,s,n);return Dv(o)}LI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kh(t.pendingLanes);r!==0&&(JB(t,r|1),ks(t,Mr()),!(Lt&6)&&(yd=Mr()+500,lc()))}break;case 13:hA(function(){var n=To(e,1);if(n!==null){var s=ls();Za(n,e,1,s)}}),_5(e,1)}};XB=function(e){if(e.tag===13){var t=To(e,134217728);if(t!==null){var r=ls();Za(t,e,134217728,r)}_5(e,134217728)}};UI=function(e){if(e.tag===13){var t=Gl(e),r=To(e,t);if(r!==null){var n=ls();Za(r,e,t,n)}_5(e,t)}};DI=function(){return Wt};QI=function(e,t){var r=Wt;try{return Wt=e,t()}finally{Wt=r}};E2=function(e,t,r){switch(t){case"input":if(j2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=uy(n);if(!s)throw Error(Me(90));gI(n),j2(n,s)}}}break;case"textarea":vI(e,r);break;case"select":t=r.value,t!=null&&Xu(e,!!r.multiple,t,!1)}};BI=N5;CI=hA;var $R={usingClientEntryPoint:!1,Events:[Ng,Uu,uy,jI,NI,N5]},ih={findFiberByHostInstance:Vc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HR={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_I(e),e===null?null:e.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||MR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{oy=Vm.inject(HR),Ii=Vm}catch{}}Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$R;Ws.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F5(t))throw Error(Me(200));return QR(e,t,null,r)};Ws.createRoot=function(e,t){if(!F5(e))throw Error(Me(299));var r=!1,n="",s=oT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=S5(e,1,!1,null,null,r,!1,n,s),e[Oo]=t.current,jp(e.nodeType===8?e.parentNode:e),new E5(t)};Ws.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Me(188)):(e=Object.keys(e).join(","),Error(Me(268,e)));return e=_I(t),e=e===null?null:e.stateNode,e};Ws.flushSync=function(e){return hA(e)};Ws.hydrate=function(e,t,r){if(!yy(t))throw Error(Me(200));return by(null,e,t,!0,r)};Ws.hydrateRoot=function(e,t,r){if(!F5(e))throw Error(Me(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=oT;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=iT(t,null,e,1,r??null,s,!1,i,o),e[Oo]=t.current,jp(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xy(t)};Ws.render=function(e,t,r){if(!yy(t))throw Error(Me(200));return by(null,e,t,!1,r)};Ws.unmountComponentAtNode=function(e){if(!yy(e))throw Error(Me(40));return e._reactRootContainer?(hA(function(){by(null,null,e,!1,function(){e._reactRootContainer=null,e[Oo]=null})}),!0):!1};Ws.unstable_batchedUpdates=N5;Ws.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yy(r))throw Error(Me(200));if(e==null||e._reactInternals===void 0)throw Error(Me(38));return by(e,t,r,!1,n)};Ws.version="18.3.1-next-f1338f8080-20240426";function lT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lT)}catch(e){console.error(e)}}lT(),lI.exports=Ws;var si=lI.exports,cT,H4=si;cT=H4.createRoot,H4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pp.apply(this,arguments)}var Il;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Il||(Il={}));const z4="popstate";function zR(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:c}=n.location;return cj("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qv(s)}return VR(t,r,null,e)}function zr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KR(){return Math.random().toString(36).substr(2,8)}function K4(e,t){return{usr:e.state,key:e.key,idx:t}}function cj(e,t,r,n){return r===void 0&&(r=null),Pp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rf(t):t,{state:r,key:t&&t.key||n||KR()})}function Qv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function VR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,c=Il.Pop,l=null,A=u();A==null&&(A=0,o.replaceState(Pp({},o.state,{idx:A}),""));function u(){return(o.state||{idx:null}).idx}function d(){c=Il.Pop;let x=u(),v=x==null?null:x-A;A=x,l&&l({action:c,location:m.location,delta:v})}function f(x,v){c=Il.Push;let y=cj(m.location,x,v);A=u()+1;let b=K4(y,A),_=m.createHref(y);try{o.pushState(b,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(_)}i&&l&&l({action:c,location:m.location,delta:1})}function h(x,v){c=Il.Replace;let y=cj(m.location,x,v);A=u();let b=K4(y,A),_=m.createHref(y);o.replaceState(b,"",_),i&&l&&l({action:c,location:m.location,delta:0})}function p(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:Qv(x);return y=y.replace(/ $/,"%20"),zr(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return c},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(z4,d),l=x,()=>{s.removeEventListener(z4,d),l=null}},createHref(x){return t(s,x)},createURL:p,encodeLocation(x){let v=p(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(x){return o.go(x)}};return m}var V4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(V4||(V4={}));function GR(e,t,r){return r===void 0&&(r="/"),WR(e,t,r)}function WR(e,t,r,n){let s=typeof t=="string"?rf(t):t,i=P5(s.pathname||"/",r);if(i==null)return null;let o=uT(e);qR(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let A=o9(i);c=s9(o[l],A)}return c}function uT(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(zr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let A=ql([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(zr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+A+'".')),uT(i.children,t,u,A)),!(i.path==null&&!i.index)&&t.push({path:A,score:r9(A,i.index),routesMeta:u})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let l of dT(i.path))s(i,o,l)}),t}function dT(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=dT(n.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function qR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:n9(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const JR=/^:[\w-]+$/,XR=3,YR=2,ZR=1,e9=10,t9=-2,G4=e=>e==="*";function r9(e,t){let r=e.split("/"),n=r.length;return r.some(G4)&&(n+=t9),t&&(n+=YR),r.filter(s=>!G4(s)).reduce((s,i)=>s+(JR.test(i)?XR:i===""?ZR:e9),n)}function n9(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function s9(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let c=0;c<n.length;++c){let l=n[c],A=c===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=a9({path:l.relativePath,caseSensitive:l.caseSensitive,end:A},u),f=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ql([i,d.pathname]),pathnameBase:u9(ql([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=ql([i,d.pathnameBase]))}return o}function a9(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=i9(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((A,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=c[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=c[d];return h&&!p?A[f]=void 0:A[f]=(p||"").replace(/%2F/g,"/"),A},{}),pathname:i,pathnameBase:o,pattern:e}}function i9(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),AT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function o9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return AT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function P5(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function l9(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?rf(e):e;return{pathname:r?r.startsWith("/")?r:c9(r,t):t,search:d9(n),hash:f9(s)}}function c9(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function tw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I5(e,t){let r=A9(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function O5(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=rf(e):(s=Pp({},e),zr(!s.pathname||!s.pathname.includes("?"),tw("?","pathname","search",s)),zr(!s.pathname||!s.pathname.includes("#"),tw("#","pathname","hash",s)),zr(!s.search||!s.search.includes("#"),tw("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}c=d>=0?t[d]:"/"}let l=l9(s,c),A=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(A||u)&&(l.pathname+="/"),l}const ql=e=>e.join("/").replace(/\/\/+/g,"/"),u9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function h9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fT=["post","put","patch","delete"];new Set(fT);const p9=["get",...fT];new Set(p9);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ip.apply(this,arguments)}const T5=$.createContext(null),g9=$.createContext(null),cc=$.createContext(null),wy=$.createContext(null),Ko=$.createContext({outlet:null,matches:[],isDataRoute:!1}),hT=$.createContext(null);function m9(e,t){let{relative:r}=t===void 0?{}:t;nf()||zr(!1);let{basename:n,navigator:s}=$.useContext(cc),{hash:i,pathname:o,search:c}=gT(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:ql([n,o])),s.createHref({pathname:l,search:c,hash:i})}function nf(){return $.useContext(wy)!=null}function Vo(){return nf()||zr(!1),$.useContext(wy).location}function pT(e){$.useContext(cc).static||$.useLayoutEffect(e)}function _s(){let{isDataRoute:e}=$.useContext(Ko);return e?E9():v9()}function v9(){nf()||zr(!1);let e=$.useContext(T5),{basename:t,future:r,navigator:n}=$.useContext(cc),{matches:s}=$.useContext(Ko),{pathname:i}=Vo(),o=JSON.stringify(I5(s,r.v7_relativeSplatPath)),c=$.useRef(!1);return pT(()=>{c.current=!0}),$.useCallback(function(A,u){if(u===void 0&&(u={}),!c.current)return;if(typeof A=="number"){n.go(A);return}let d=O5(A,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ql([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}function jy(){let{matches:e}=$.useContext(Ko),t=e[e.length-1];return t?t.params:{}}function gT(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=$.useContext(cc),{matches:s}=$.useContext(Ko),{pathname:i}=Vo(),o=JSON.stringify(I5(s,n.v7_relativeSplatPath));return $.useMemo(()=>O5(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function x9(e,t){return y9(e,t)}function y9(e,t,r,n){nf()||zr(!1);let{navigator:s,static:i}=$.useContext(cc),{matches:o}=$.useContext(Ko),c=o[o.length-1],l=c?c.params:{};c&&c.pathname;let A=c?c.pathnameBase:"/";c&&c.route;let u=Vo(),d;if(t){var f;let v=typeof t=="string"?rf(t):t;A==="/"||(f=v.pathname)!=null&&f.startsWith(A)||zr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(A!=="/"){let v=A.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=GR(e,{pathname:p}),x=B9(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ql([A,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?A:ql([A,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,r,n);return t&&x?$.createElement(wy.Provider,{value:{location:Ip({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Il.Pop}},x):x}function b9(){let e=_9(),t=h9(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),r?$.createElement("pre",{style:s},r):null,null)}const w9=$.createElement(b9,null);class j9 extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?$.createElement(Ko.Provider,{value:this.props.routeContext},$.createElement(hT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N9(e){let{routeContext:t,match:r,children:n}=e,s=$.useContext(T5);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(Ko.Provider,{value:t},n)}function B9(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let u=o.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);u>=0||zr(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,A=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(A=u),d.route.id){let{loaderData:f,errors:h}=r,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,A>=0?o=o.slice(0,A+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,p=!1,m=null,x=null;r&&(h=c&&d.route.id?c[d.route.id]:void 0,m=d.route.errorElement||w9,l&&(A<0&&f===0?(F9("route-fallback"),p=!0,x=null):A===f&&(p=!0,x=d.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),y=()=>{let b;return h?b=m:p?b=x:d.route.Component?b=$.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,$.createElement(N9,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?$.createElement(j9,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var mT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mT||{}),vT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vT||{});function C9(e){let t=$.useContext(T5);return t||zr(!1),t}function k9(e){let t=$.useContext(g9);return t||zr(!1),t}function S9(e){let t=$.useContext(Ko);return t||zr(!1),t}function xT(e){let t=S9(),r=t.matches[t.matches.length-1];return r.route.id||zr(!1),r.route.id}function _9(){var e;let t=$.useContext(hT),r=k9(),n=xT();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function E9(){let{router:e}=C9(mT.UseNavigateStable),t=xT(vT.UseNavigateStable),r=$.useRef(!1);return pT(()=>{r.current=!0}),$.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ip({fromRouteId:t},i)))},[e,t])}const W4={};function F9(e,t,r){W4[e]||(W4[e]=!0)}function P9(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nv(e){let{to:t,replace:r,state:n,relative:s}=e;nf()||zr(!1);let{future:i,static:o}=$.useContext(cc),{matches:c}=$.useContext(Ko),{pathname:l}=Vo(),A=_s(),u=O5(t,I5(c,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return $.useEffect(()=>A(JSON.parse(d),{replace:r,state:n,relative:s}),[A,d,s,r,n]),null}function xr(e){zr(!1)}function I9(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Il.Pop,navigator:i,static:o=!1,future:c}=e;nf()&&zr(!1);let l=t.replace(/^\/*/,"/"),A=$.useMemo(()=>({basename:l,navigator:i,static:o,future:Ip({v7_relativeSplatPath:!1},c)}),[l,c,i,o]);typeof n=="string"&&(n=rf(n));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=n,m=$.useMemo(()=>{let x=P5(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:h,key:p},navigationType:s}},[l,u,d,f,h,p,s]);return m==null?null:$.createElement(cc.Provider,{value:A},$.createElement(wy.Provider,{children:r,value:m}))}function O9(e){let{children:t,location:r}=e;return x9(Aj(t),r)}new Promise(()=>{});function Aj(e,t){t===void 0&&(t=[]);let r=[];return $.Children.forEach(e,(n,s)=>{if(!$.isValidElement(n))return;let i=[...t,s];if(n.type===$.Fragment){r.push.apply(r,Aj(n.props.children,i));return}n.type!==xr&&zr(!1),!n.props.index||!n.props.children||zr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Aj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uj.apply(this,arguments)}function T9(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function L9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U9(e,t){return e.button===0&&(!t||t==="_self")&&!L9(e)}function dj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function D9(e,t){let r=dj(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Q9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M9="6";try{window.__reactRouterVersion=M9}catch{}const R9="startTransition",q4=I3[R9];function $9(e){let{basename:t,children:r,future:n,window:s}=e,i=$.useRef();i.current==null&&(i.current=zR({window:s,v5Compat:!0}));let o=i.current,[c,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:A}=n||{},u=$.useCallback(d=>{A&&q4?q4(()=>l(d)):l(d)},[l,A]);return $.useLayoutEffect(()=>o.listen(u),[o,u]),$.useEffect(()=>P9(n),[n]),$.createElement(I9,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const H9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J4=$.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:c,target:l,to:A,preventScrollReset:u,viewTransition:d}=t,f=T9(t,Q9),{basename:h}=$.useContext(cc),p,m=!1;if(typeof A=="string"&&z9.test(A)&&(p=A,H9))try{let b=new URL(window.location.href),_=A.startsWith("//")?new URL(b.protocol+A):new URL(A),N=P5(_.pathname,h);_.origin===b.origin&&N!=null?A=N+_.search+_.hash:m=!0}catch{}let x=m9(A,{relative:s}),v=K9(A,{replace:o,state:c,target:l,preventScrollReset:u,relative:s,viewTransition:d});function y(b){n&&n(b),b.defaultPrevented||v(b)}return $.createElement("a",uj({},f,{href:p||x,onClick:m||i?n:y,ref:r,target:l}))});var X4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(X4||(X4={}));var Y4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Y4||(Y4={}));function K9(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:c}=t===void 0?{}:t,l=_s(),A=Vo(),u=gT(e,{relative:o});return $.useCallback(d=>{if(U9(d,r)){d.preventDefault();let f=n!==void 0?n:Qv(A)===Qv(u);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[A,l,u,n,s,r,e,i,o,c])}function yT(e){let t=$.useRef(dj(e)),r=$.useRef(!1),n=Vo(),s=$.useMemo(()=>D9(n.search,r.current?null:t.current),[n.search]),i=_s(),o=$.useCallback((c,l)=>{const A=dj(typeof c=="function"?c(s):c);r.current=!0,i("?"+A,l)},[i,s]);return[s,o]}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ve=(e,t)=>{const r=$.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:l,...A},u)=>$.createElement("svg",{ref:u,...V9,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${G9(e)}`,c].join(" "),...A},[...t.map(([d,f])=>$.createElement(d,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=Ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=Ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Ve("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=Ve("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=Ve("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=Ve("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=Ve("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Ve("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Ve("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Ve("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=Ve("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ve("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Ve("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Ve("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Ve("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Ve("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=Ve("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=Ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=Ve("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=Ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=Ve("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Ve("FileEdit",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ve("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Ve("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Ve("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=Ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=Ve("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Ve("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Ve("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=Ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=Ve("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=Ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=Ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=Ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Ve("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Ve("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Ve("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=Ve("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=Ve("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=Ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=Ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Ve("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Ve("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Ve("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=Ve("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Ve("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=Ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);let h$={data:""},p$=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||h$,g$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,m$=/\/\*[^]*?\*\/|  +/g,nS=/\n+/g,kl=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?kl(o,i):i+"{"+kl(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=kl(o,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=kl.p?kl.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},oo={},kT=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+kT(e[r]);return t}return e},v$=(e,t,r,n,s)=>{let i=kT(e),o=oo[i]||(oo[i]=(l=>{let A=0,u=11;for(;A<l.length;)u=101*u+l.charCodeAt(A++)>>>0;return"go"+u})(i));if(!oo[o]){let l=i!==e?e:(A=>{let u,d,f=[{}];for(;u=g$.exec(A.replace(m$,""));)u[4]?f.shift():u[3]?(d=u[3].replace(nS," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(nS," ").trim();return f[0]})(e);oo[o]=kl(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let c=r&&oo.g?oo.g:null;return r&&(oo.g=oo[o]),((l,A,u,d)=>{d?A.data=A.data.replace(d,l):A.data.indexOf(l)===-1&&(A.data=u?l+A.data:A.data+l)})(oo[o],t,n,c),o},x$=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let c=o(r),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=l?"."+l:c&&typeof c=="object"?c.props?"":kl(c,""):c===!1?"":c}return n+s+(o??"")},"");function By(e){let t=this||{},r=e.call?e(t.p):e;return v$(r.unshift?r.raw?x$(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,p$(t.target),t.g,t.o,t.k)}let ST,xj,yj;By.bind({g:1});let Do=By.bind({k:1});function y$(e,t,r,n){kl.p=t,ST=e,xj=r,yj=n}function Ac(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let c=Object.assign({},i),l=c.className||s.className;r.p=Object.assign({theme:xj&&xj()},c),r.o=/ *go\d+/.test(l),c.className=By.apply(r,n)+(l?" "+l:"");let A=e;return e[0]&&(A=c.as||e,delete c.as),yj&&A[0]&&yj(c),ST(A,c)}return s}}var b$=e=>typeof e=="function",$v=(e,t)=>b$(e)?e(t):e,w$=(()=>{let e=0;return()=>(++e).toString()})(),_T=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),j$=20,ET=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,j$)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return ET(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},av=[],qc={toasts:[],pausedAt:void 0},CA=e=>{qc=ET(qc,e),av.forEach(t=>{t(qc)})},N$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},B$=(e={})=>{let[t,r]=$.useState(qc),n=$.useRef(qc);$.useEffect(()=>(n.current!==qc&&r(qc),av.push(r),()=>{let i=av.indexOf(r);i>-1&&av.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,c,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||N$[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},C$=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||w$()}),_g=e=>(t,r)=>{let n=C$(t,e,r);return CA({type:2,toast:n}),n.id},ht=(e,t)=>_g("blank")(e,t);ht.error=_g("error");ht.success=_g("success");ht.loading=_g("loading");ht.custom=_g("custom");ht.dismiss=e=>{CA({type:3,toastId:e})};ht.remove=e=>CA({type:4,toastId:e});ht.promise=(e,t,r)=>{let n=ht.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?$v(t.success,s):void 0;return i?ht.success(i,{id:n,...r,...r==null?void 0:r.success}):ht.dismiss(n),s}).catch(s=>{let i=t.error?$v(t.error,s):void 0;i?ht.error(i,{id:n,...r,...r==null?void 0:r.error}):ht.dismiss(n)}),e};var k$=(e,t)=>{CA({type:1,toast:{id:e,height:t}})},S$=()=>{CA({type:5,time:Date.now()})},Zh=new Map,_$=1e3,E$=(e,t=_$)=>{if(Zh.has(e))return;let r=setTimeout(()=>{Zh.delete(e),CA({type:4,toastId:e})},t);Zh.set(e,r)},F$=e=>{let{toasts:t,pausedAt:r}=B$(e);$.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(c=>{if(c.duration===1/0)return;let l=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(l<0){c.visible&&ht.dismiss(c.id);return}return setTimeout(()=>ht.dismiss(c.id),l)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[t,r]);let n=$.useCallback(()=>{r&&CA({type:6,time:Date.now()})},[r]),s=$.useCallback((i,o)=>{let{reverseOrder:c=!1,gutter:l=8,defaultPosition:A}=o||{},u=t.filter(h=>(h.position||A)===(i.position||A)&&h.height),d=u.findIndex(h=>h.id===i.id),f=u.filter((h,p)=>p<d&&h.visible).length;return u.filter(h=>h.visible).slice(...c?[f+1]:[0,f]).reduce((h,p)=>h+(p.height||0)+l,0)},[t]);return $.useEffect(()=>{t.forEach(i=>{if(i.dismissed)E$(i.id,i.removeDelay);else{let o=Zh.get(i.id);o&&(clearTimeout(o),Zh.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:k$,startPause:S$,endPause:n,calculateOffset:s}}},P$=Do`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,I$=Do`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O$=Do`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,T$=Ac("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${I$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${O$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,L$=Do`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,U$=Ac("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${L$} 1s linear infinite;
`,D$=Do`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Q$=Do`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,M$=Ac("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Q$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,R$=Ac("div")`
  position: absolute;
`,$$=Ac("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,H$=Do`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,z$=Ac("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${H$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,K$=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?$.createElement(z$,null,t):t:r==="blank"?null:$.createElement($$,null,$.createElement(U$,{...n}),r!=="loading"&&$.createElement(R$,null,r==="error"?$.createElement(T$,{...n}):$.createElement(M$,{...n})))},V$=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,G$=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,W$="0%{opacity:0;} 100%{opacity:1;}",q$="0%{opacity:1;} 100%{opacity:0;}",J$=Ac("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,X$=Ac("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Y$=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=_T()?[W$,q$]:[V$(r),G$(r)];return{animation:t?`${Do(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Do(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Z$=$.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?Y$(e.position||t||"top-center",e.visible):{opacity:0},i=$.createElement(K$,{toast:e}),o=$.createElement(X$,{...e.ariaProps},$v(e.message,e));return $.createElement(J$,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):$.createElement($.Fragment,null,i,o))});y$($.createElement);var eH=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=$.useCallback(o=>{if(o){let c=()=>{let l=o.getBoundingClientRect().height;n(e,l)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return $.createElement("div",{ref:i,className:t,style:r},s)},tH=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_T()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},rH=By`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gm=16,wd=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:l}=F$(r);return $.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Gm,left:Gm,right:Gm,bottom:Gm,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(A=>{let u=A.position||t,d=l.calculateOffset(A,{reverseOrder:e,gutter:n,defaultPosition:t}),f=tH(u,d);return $.createElement(eH,{id:A.id,key:A.id,onHeightUpdate:l.updateHeight,className:A.visible?rH:"",style:f},A.type==="custom"?$v(A.message,A):s?s(A):$.createElement(Z$,{toast:A,position:u}))}))},ge=ht;const nH="modulepreload",sH=function(e){return"/"+e},sS={},Mi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=sH(l),l in sS)return;sS[l]=!0;const A=l.endsWith(".css"),u=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=A?"stylesheet":nH,A||(d.as="script"),d.crossOrigin="",d.href=l,c&&d.setAttribute("nonce",c),document.head.appendChild(d),A)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},aH=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mi(async()=>{const{default:n}=await Promise.resolve().then(()=>sf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class D5 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class iH extends D5{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oH extends D5{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lH extends D5{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bj||(bj={}));var cH=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{A(n.next(u))}catch(d){o(d)}}function l(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):s(u.value).then(c,l)}A((n=n.apply(e,[])).next())})};class AH{constructor(t,{headers:r={},customFetch:n,region:s=bj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=aH(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return cH(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let c={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let A;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",A=o):typeof o=="string"?(c["Content-Type"]="text/plain",A=o):typeof FormData<"u"&&o instanceof FormData?A=o:(c["Content-Type"]="application/json",A=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:A}).catch(p=>{throw new iH(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new oH(u);if(!u.ok)throw new lH(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}var bs={},Q5={},Cy={},Eg={},ky={},Sy={},uH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jd=uH();const dH=jd.fetch,FT=jd.fetch.bind(jd),PT=jd.Headers,fH=jd.Request,hH=jd.Response,sf=Object.freeze(Object.defineProperty({__proto__:null,Headers:PT,Request:fH,Response:hH,default:FT,fetch:dH},Symbol.toStringTag,{value:"Module"})),pH=JP(sf);var _y={};Object.defineProperty(_y,"__esModule",{value:!0});let gH=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_y.default=gH;var IT=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sy,"__esModule",{value:!0});const mH=IT(pH),vH=IT(_y);let xH=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mH.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,c,l;let A=null,u=null,d=null,f=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(A={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{A=JSON.parse(m),Array.isArray(A)&&i.status===404&&(u=[],A=null,f=200,h="OK")}catch{i.status===404&&m===""?(f=204,h="No Content"):A={message:m}}if(A&&this.isMaybeSingle&&(!((l=A==null?void 0:A.details)===null||l===void 0)&&l.includes("0 rows"))&&(A=null,f=200,h="OK"),A&&this.shouldThrowOnError)throw new vH.default(A)}return{error:A,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,c,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(c=i==null?void 0:i.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Sy.default=xH;var yH=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ky,"__esModule",{value:!0});const bH=yH(Sy);let wH=class extends bH.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var c;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),A=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${A}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ky.default=wH;var jH=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eg,"__esModule",{value:!0});const NH=jH(ky);let BH=class extends NH.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Eg.default=BH;var CH=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cy,"__esModule",{value:!0});const oh=CH(Eg);let kH=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new oh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(o.length>0){const c=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new oh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const l=t.reduce((A,u)=>A.concat(Object.keys(u)),[]);if(l.length>0){const A=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",A.join(","))}}return new oh.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new oh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new oh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Cy.default=kH;var Ey={},Fy={};Object.defineProperty(Fy,"__esModule",{value:!0});Fy.version=void 0;Fy.version="0.0.0-automated";Object.defineProperty(Ey,"__esModule",{value:!0});Ey.DEFAULT_HEADERS=void 0;const SH=Fy;Ey.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${SH.version}`};var OT=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q5,"__esModule",{value:!0});const _H=OT(Cy),EH=OT(Eg),FH=Ey;let PH=class TT{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},FH.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new _H.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new TT(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const c=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{c.searchParams.append(u,d)})):(o="POST",l=r);const A=Object.assign({},this.headers);return i&&(A.Prefer=`count=${i}`),new EH.default({method:o,url:c,headers:A,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Q5.default=PH;var af=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});bs.PostgrestError=bs.PostgrestBuilder=bs.PostgrestTransformBuilder=bs.PostgrestFilterBuilder=bs.PostgrestQueryBuilder=bs.PostgrestClient=void 0;const LT=af(Q5);bs.PostgrestClient=LT.default;const UT=af(Cy);bs.PostgrestQueryBuilder=UT.default;const DT=af(Eg);bs.PostgrestFilterBuilder=DT.default;const QT=af(ky);bs.PostgrestTransformBuilder=QT.default;const MT=af(Sy);bs.PostgrestBuilder=MT.default;const RT=af(_y);bs.PostgrestError=RT.default;var IH=bs.default={PostgrestClient:LT.default,PostgrestQueryBuilder:UT.default,PostgrestFilterBuilder:DT.default,PostgrestTransformBuilder:QT.default,PostgrestBuilder:MT.default,PostgrestError:RT.default};const{PostgrestClient:OH,PostgrestQueryBuilder:Z5e,PostgrestFilterBuilder:eCe,PostgrestTransformBuilder:tCe,PostgrestBuilder:rCe,PostgrestError:nCe}=IH,TH="2.11.2",LH={"X-Client-Info":`realtime-js/${TH}`},UH="1.0.0",$T=1e4,DH=1e3;var nd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(nd||(nd={}));var Ds;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ds||(Ds={}));var Va;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Va||(Va={}));var wj;(function(e){e.websocket="websocket"})(wj||(wj={}));var $c;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($c||($c={}));class QH{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const A=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:l,payload:A}}}class HT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ir;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ir||(ir={}));const aS=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=MH(o,e,t,s),i),{})},MH=(e,t,r,n)=>{const s=t.find(c=>c.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?zT(i,o):jj(o)},zT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return zH(t,r)}switch(e){case ir.bool:return RH(t);case ir.float4:case ir.float8:case ir.int2:case ir.int4:case ir.int8:case ir.numeric:case ir.oid:return $H(t);case ir.json:case ir.jsonb:return HH(t);case ir.timestamp:return KH(t);case ir.abstime:case ir.date:case ir.daterange:case ir.int4range:case ir.int8range:case ir.money:case ir.reltime:case ir.text:case ir.time:case ir.timestamptz:case ir.timetz:case ir.tsrange:case ir.tstzrange:return jj(t);default:return jj(t)}},jj=e=>e,RH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$H=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},HH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zH=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>zT(t,c))}return e},KH=e=>typeof e=="string"?e.replace(" ","T"):e,KT=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class aw{constructor(t,r,n={},s=$T){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var iS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(iS||(iS={}));class ep{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ep.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ep.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ep.syncDiff(this.state,s,i,o),c())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),c={},l={};return this.map(i,(A,u)=>{o[A]||(l[A]=u)}),this.map(o,(A,u)=>{const d=i[A];if(d){const f=u.map(x=>x.presence_ref),h=d.map(x=>x.presence_ref),p=u.filter(x=>h.indexOf(x.presence_ref)<0),m=d.filter(x=>f.indexOf(x.presence_ref)<0);p.length>0&&(c[A]=p),m.length>0&&(l[A]=m)}else c[A]=u}),this.syncDiff(i,{joins:c,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(c,l)=>{var A;const u=(A=t[c])!==null&&A!==void 0?A:[];if(t[c]=this.cloneDeep(l),u.length>0){const d=t[c].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[c].unshift(...f)}n(c,u,l)}),this.map(o,(c,l)=>{let A=t[c];if(!A)return;const u=l.map(d=>d.presence_ref);A=A.filter(d=>u.indexOf(d.presence_ref)<0),t[c]=A,s(c,A,l),A.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(oS||(oS={}));var lS;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lS||(lS={}));var go;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(go||(go={}));class M5{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ds.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new aw(this,Va.join,this.params,this.timeout),this.rejoinTimer=new HT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ds.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ds.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ds.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ds.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Va.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ep(this),this.broadcastEndpointURL=KT(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:c}}=this.params;this._onError(u=>t==null?void 0:t(go.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(go.CLOSED));const l={},A={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:A},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(go.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,p=[];for(let m=0;m<h;m++){const x=f[m],{filter:{event:v,schema:y,table:b,filter:_}}=x,N=u&&u[m];if(N&&N.event===v&&N.schema===y&&N.table===b&&N.filter===_)p.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),t==null||t(go.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(go.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(go.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(go.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const A=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=A.body)===null||s===void 0?void 0:s.cancel()),A.ok?"ok":"error"}catch(A){return A.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,l;const A=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),A.receive("ok",()=>i("ok")),A.receive("error",()=>i("error")),A.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ds.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Va.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new aw(this,Va.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new aw(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:c,error:l,leave:A,join:u}=Va;if(n&&[c,l,A,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var p,m,x;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(m=h.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var p,m,x,v,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const _=h.id,N=(p=h.filter)===null||p===void 0?void 0:p.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(y=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:m,table:x,commit_timestamp:v,type:y,errors:b}=p;f=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(p))}h.callback(f,n)})}_isClosed(){return this.state===Ds.closed}_isJoined(){return this.state===Ds.joined}_isJoining(){return this.state===Ds.joining}_isLeaving(){return this.state===Ds.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&M5.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Va.close,{},t)}_onError(t){this._on(Va.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ds.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=aS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=aS(t.columns,t.old_record)),r}}const VH=()=>{},GH=typeof WebSocket<"u",WH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qH{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=LH,this.params={},this.timeout=$T,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=VH,this.conn=null,this.sendBuffer=[],this.serializer=new QH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...c)=>Mi(async()=>{const{default:l}=await Promise.resolve().then(()=>sf);return{default:l}},void 0).then(({default:l})=>l(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${t}/${wj.websocket}`,this.httpEndpoint=KT(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new HT(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(GH){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new JH(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Mi(async()=>{const{default:t}=await import("./browser-DzWMV1yn.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:UH}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case nd.connecting:return $c.Connecting;case nd.open:return $c.Open;case nd.closing:return $c.Closing;default:return $c.Closed}}isConnected(){return this.connectionState()===$c.Open}channel(t,r={config:{}}){const n=new M5(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Va.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(DH,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Va.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([WH],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class JH{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=nd.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class R5 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XH extends R5{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nj extends R5{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var YH=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{A(n.next(u))}catch(d){o(d)}}function l(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):s(u.value).then(c,l)}A((n=n.apply(e,[])).next())})};const VT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mi(async()=>{const{default:n}=await Promise.resolve().then(()=>sf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ZH=()=>YH(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mi(()=>Promise.resolve().then(()=>sf),void 0)).Response:Response}),Bj=e=>{if(Array.isArray(e))return e.map(r=>Bj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Bj(n)}),t};var kA=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{A(n.next(u))}catch(d){o(d)}}function l(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):s(u.value).then(c,l)}A((n=n.apply(e,[])).next())})};const iw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ez=(e,t,r)=>kA(void 0,void 0,void 0,function*(){const n=yield ZH();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new XH(iw(s),e.status||500))}).catch(s=>{t(new Nj(iw(s),s))}):t(new Nj(iw(e),e))}),tz=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Fg(e,t,r,n,s,i){return kA(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,tz(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ez(l,c,n))})})}function Hv(e,t,r,n){return kA(this,void 0,void 0,function*(){return Fg(e,"GET",t,r,n)})}function wl(e,t,r,n,s){return kA(this,void 0,void 0,function*(){return Fg(e,"POST",t,n,s,r)})}function rz(e,t,r,n,s){return kA(this,void 0,void 0,function*(){return Fg(e,"PUT",t,n,s,r)})}function nz(e,t,r,n){return kA(this,void 0,void 0,function*(){return Fg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function GT(e,t,r,n,s){return kA(this,void 0,void 0,function*(){return Fg(e,"DELETE",t,n,s,r)})}var vs=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{A(n.next(u))}catch(d){o(d)}}function l(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):s(u.value).then(c,l)}A((n=n.apply(e,[])).next())})};const sz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class az{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=VT(s)}uploadOrUpdate(t,r,n,s){return vs(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},cS),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const A=this._removeEmptyFolders(r),u=this._getFinalPath(A),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:A,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(gn(i))return{data:null,error:i};throw i}})}upload(t,r,n){return vs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return vs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let l;const A=Object.assign({upsert:cS.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(A.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",A.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",A.cacheControl)):(l=n,u["cache-control"]=`max-age=${A.cacheControl}`,u["content-type"]=A.contentType);const d=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(gn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return vs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield wl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new R5("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}update(t,r,n){return vs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return vs(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}copy(t,r,n){return vs(this,void 0,void 0,function*(){try{return{data:{path:(yield wl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return vs(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield wl(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return vs(this,void 0,void 0,function*(){try{const s=yield wl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}download(t,r){return vs(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Hv(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(gn(c))return{data:null,error:c};throw c}})}info(t){return vs(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Hv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bj(n),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}exists(t){return vs(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield nz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(gn(n)&&n instanceof Nj){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let A=s.join("&");return A!==""&&(A=`?${A}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${A}`)}}}remove(t){return vs(this,void 0,void 0,function*(){try{return{data:yield GT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}list(t,r,n){return vs(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},sz),r),{prefix:t||""});return{data:yield wl(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const iz="2.7.1",oz={"X-Client-Info":`storage-js/${iz}`};var Au=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{A(n.next(u))}catch(d){o(d)}}function l(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):s(u.value).then(c,l)}A((n=n.apply(e,[])).next())})};class lz{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},oz),r),this.fetch=VT(n)}listBuckets(){return Au(this,void 0,void 0,function*(){try{return{data:yield Hv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(gn(t))return{data:null,error:t};throw t}})}getBucket(t){return Au(this,void 0,void 0,function*(){try{return{data:yield Hv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Au(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Au(this,void 0,void 0,function*(){try{return{data:yield rz(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Au(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Au(this,void 0,void 0,function*(){try{return{data:yield GT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}}class cz extends lz{constructor(t,r={},n){super(t,r,n)}from(t){return new az(this.url,this.headers,t,this.fetch)}}const Az="2.49.8";let Fh="";typeof Deno<"u"?Fh="deno":typeof document<"u"?Fh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fh="react-native":Fh="node";const uz={"X-Client-Info":`supabase-js-${Fh}/${Az}`},dz={headers:uz},fz={schema:"public"},hz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pz={};var gz=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{A(n.next(u))}catch(d){o(d)}}function l(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):s(u.value).then(c,l)}A((n=n.apply(e,[])).next())})};const mz=e=>{let t;return e?t=e:typeof fetch>"u"?t=FT:t=fetch,(...r)=>t(...r)},vz=()=>typeof Headers>"u"?PT:Headers,xz=(e,t,r)=>{const n=mz(r),s=vz();return(i,o)=>gz(void 0,void 0,void 0,function*(){var c;const l=(c=yield t())!==null&&c!==void 0?c:e;let A=new s(o==null?void 0:o.headers);return A.has("apikey")||A.set("apikey",e),A.has("Authorization")||A.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:A}))})};var yz=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{A(n.next(u))}catch(d){o(d)}}function l(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):s(u.value).then(c,l)}A((n=n.apply(e,[])).next())})};function bz(e){return e.endsWith("/")?e:e+"/"}function wz(e,t){var r,n;const{db:s,auth:i,realtime:o,global:c}=e,{db:l,auth:A,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},A),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),c),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>yz(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const WT="2.69.1",ku=30*1e3,Cj=3,ow=Cj*ku,jz="http://localhost:9999",Nz="supabase.auth.token",Bz={"X-Client-Info":`gotrue-js/${WT}`},kj="X-Supabase-Api-Version",qT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kz=6e5;class $5 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function jt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sz extends $5{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _z(e){return jt(e)&&e.name==="AuthApiError"}class JT extends $5{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class uc extends $5{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class pl extends uc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ez(e){return jt(e)&&e.name==="AuthSessionMissingError"}class lw extends uc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wm extends uc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qm extends uc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fz(e){return jt(e)&&e.name==="AuthImplicitGrantRedirectError"}class AS extends uc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sj extends uc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function cw(e){return jt(e)&&e.name==="AuthRetryableFetchError"}class uS extends uc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tp extends uc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const dS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fS=` 	
\r=`.split(""),Pz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fS.length;t+=1)e[fS[t].charCodeAt(0)]=-2;for(let t=0;t<dS.length;t+=1)e[dS[t].charCodeAt(0)]=t;return e})();function XT(e,t,r){const n=Pz[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hS(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Tz(o,n,r)};for(let o=0;o<e.length;o+=1)XT(e.charCodeAt(o),s,i);return t.join("")}function Iz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Oz(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Iz(n,t)}}function Tz(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Lz(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)XT(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Uz(e){const t=[];return Oz(e,r=>t.push(r)),new Uint8Array(t)}function Dz(e){return Math.round(Date.now()/1e3)+e}function Qz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wi=()=>typeof window<"u"&&typeof document<"u",_c={tested:!1,writable:!1},rp=()=>{if(!wi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_c.tested)return _c.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_c.tested=!0,_c.writable=!0}catch{_c.tested=!0,_c.writable=!1}return _c.writable};function Mz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const YT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mi(async()=>{const{default:n}=await Promise.resolve().then(()=>sf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Rz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ZT=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Jm=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xm=async(e,t)=>{await e.removeItem(t)};class Py{constructor(){this.promise=new Py.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Py.promiseConstructor=Promise;function Aw(e){const t=e.split(".");if(t.length!==3)throw new tp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Cz.test(t[n]))throw new tp("JWT not in base64url format");return{header:JSON.parse(hS(t[0])),payload:JSON.parse(hS(t[1])),signature:Lz(t[2]),raw:{header:t[0],payload:t[1]}}}async function $z(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Hz(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function zz(e){return("0"+e.toString(16)).substr(-2)}function Kz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,zz).join("")}async function Vz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Gz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Vz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uu(e,t,r=!1){const n=Kz();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ZT(e,`${t}-code-verifier`,s);const i=await Gz(n);return[i,n===i?"plain":"s256"]}const Wz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qz(e){const t=e.headers.get(kj);if(!t||!t.match(Wz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Jz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Xz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Yz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Lc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zz=[502,503,504];async function pS(e){var t;if(!Rz(e))throw new Sj(Lc(e),0);if(Zz.includes(e.status))throw new Sj(Lc(e),e.status);let r;try{r=await e.json()}catch(i){throw new JT(Lc(i),i)}let n;const s=qz(e);if(s&&s.getTime()>=qT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new uS(Lc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uS(Lc(r),e.status,r.weak_password.reasons);throw new Sz(Lc(r),e.status||500,n)}const eK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Pt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[kj]||(i[kj]=qT["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await tK(e,t,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function tK(e,t,r,n,s,i){const o=eK(t,n,s,i);let c;try{c=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Sj(Lc(l),0)}if(c.ok||await pS(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(l){await pS(l)}}function gl(e){var t;let r=null;aK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Dz(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gS(e){const t=gl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rK(e){return{data:e,error:null}}function nK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Yz(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function sK(e){return e}function aK(e){return e.access_token&&e.refresh_token&&e.expires_in}var iK=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class oK{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=YT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Pt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Sl})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=iK(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(jt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sl})}catch(r){if(jt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,c,l;try{const A={nextPage:null,lastPage:0,total:0},u=await Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sK});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);A[`${x}Page`]=m}),A.total=parseInt(f)),{data:Object.assign(Object.assign({},d),A),error:null}}catch(A){if(jt(A))return{data:{users:[]},error:A};throw A}}async getUserById(t){try{return await Pt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sl})}catch(r){if(jt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Pt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Sl})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Sl})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Pt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(jt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}}}const lK={getItem:e=>rp()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{rp()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{rp()&&globalThis.localStorage.removeItem(e)}};function mS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function cK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const du={debug:!!(globalThis&&rp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AK extends eL{}async function uK(e,t,r){du.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),du.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){du.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{du.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw du.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(du.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}cK();const dK={url:jz,storageKey:Nz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vS(e,t,r){return await r()}class Tp{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Tp.nextInstanceID,Tp.nextInstanceID+=1,this.instanceID>0&&wi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dK),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new oK({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=YT(s.fetch),this.lock=s.lock||vS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uK:this.lock=vS,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:rp()?this.storage=lK:(this.memoryStorage={},this.storage=mS(this.memoryStorage)):(this.memoryStorage={},this.storage=mS(this.memoryStorage)),wi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WT}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Mz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),wi()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fz(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return jt(r)?{error:r}:{error:new JT("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:gl}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,A=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:A,session:l},error:null}}catch(i){if(jt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await uu(this.storage,this.storageKey)),i=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:gl})}else if("phone"in t){const{phone:u,password:d,options:f}=t;i=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gl})}else throw new Wm("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const l=o.session,A=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:A,session:l},error:null}}catch(i){if(jt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:c}=t;r=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:gS})}else if("phone"in t){const{phone:i,password:o,options:c}=t;r=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:gS})}else throw new Wm("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new lw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(jt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Jm(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gl});if(await Xm(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new lw}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(jt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,c=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gl}),{data:l,error:A}=c;return A?{data:{user:null,session:null},error:A}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new lw}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:A})}catch(r){if(jt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:c,options:l}=t;let A=null,u=null;this.flowType==="pkce"&&([A,u]=await uu(this.storage,this.storageKey));const{error:d}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:A,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:c,options:l}=t,{data:A,error:u}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:A==null?void 0:A.message_id},error:u}}throw new Wm("You must provide either an email or phone number.")}catch(c){if(jt(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gl});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,A=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:A,session:l},error:null}}catch(s){if(jt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await uu(this.storage,this.storageKey)),await Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:rK})}catch(i){if(jt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pl;const{error:s}=await Pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(jt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Pt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:c}=await Pt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Wm("You must provide either an email or phone number and a type")}catch(r){if(jt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Jm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ow:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,A,u)=>(!o&&A==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,A,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sl}):await this._useSession(async r=>{var n,s,i;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pl}:await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Sl})})}catch(r){if(jt(r))return Ez(r)&&(await this._removeSession(),await Xm(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new pl;const o=s.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await uu(this.storage,this.storageKey));const{data:A,error:u}=await Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:Sl});if(u)throw u;return o.user=A.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pl;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Aw(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(jt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:c}=r;if(c)throw c;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pl;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(jt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!wi())throw new qm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new AS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new AS("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:c,expires_at:l,token_type:A}=t;if(!i||!c||!o||!A)throw new qm("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(c);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=ku&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=f-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:m,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:A,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(jt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Jm(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(_z(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Xm(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Qz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await uu(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(jt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(jt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,c,l,A,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(A=d.session)===null||A===void 0?void 0:A.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return wi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(jt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Pt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(jt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Hz(async s=>(s>0&&await $z(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gl})),(s,i)=>{const o=200*Math.pow(2,s);return i&&cw(i)&&Date.now()+o-n<ku})}catch(n){if(this._debug(r,"error",n),jt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Jm(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ow;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ow}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),cw(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Py;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new pl;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),jt(i)){const o={session:null,error:i};return cw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ZT(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xm(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ku);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ku);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ku}ms, refresh threshold is ${Cj} ticks`),s<=Cj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof eL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await uu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Pt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(jt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:A}=await Pt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return A?{data:null,error:A}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(jt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:c}=await Pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(r){if(jt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(jt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Aw(s.access_token);let c=null;o.aal&&(c=o.aal);let l=c;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+kz>Date.now()))return n;const{data:s,error:i}=await Pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new tp("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new tp("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};n=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:c,payload:l}}=Aw(n);if(Jz(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const A=Xz(s.alg),u=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",u,A,!0,["verify"]);if(!await crypto.subtle.verify(A,d,o,Uz(`${c}.${l}`)))throw new tp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}}}Tp.nextInstanceID=0;const fK=Tp;class hK extends fK{constructor(t){super(t)}}var pK=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{A(n.next(u))}catch(d){o(d)}}function l(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):s(u.value).then(c,l)}A((n=n.apply(e,[])).next())})};class gK{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=bz(t),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const A=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:fz,realtime:pz,auth:Object.assign(Object.assign({},hz),{storageKey:A}),global:dz},d=wz(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=xz(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new OH(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new AH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cz(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return pK(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:c,debug:l},A,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hK({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),A),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:c,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new qH(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mK=(e,t,r)=>new gK(e,t,r),tL="https://zgcbynprsfbhnskarxnp.supabase.co",vK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpnY2J5bnByc2ZiaG5za2FyeG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5OTAxODAsImV4cCI6MjA2MzU2NjE4MH0.qen3uxz0Tm03SBlVOG_ks61qbAmCpr5vvDcuPyoTzwI";console.log("Supabase URL:",tL);console.log("Supabase Key exists:",!0);const qe=mK(tL,vK,{auth:{persistSession:!1}}),St=e=>e?e instanceof TypeError&&e.message==="Failed to fetch"?"Network connection failed. Please check your internet connection and verify that the Supabase URL is accessible.":e.message&&e.message.includes("Failed to fetch")?"Unable to connect to the database. Please check your internet connection and Supabase configuration.":e.message?e.message:e.details?e.details:e.hint?e.hint:typeof e=="string"?e:e.code?`Database error (${e.code})`:String(e):"Unknown error",xK=async()=>{try{const{data:e,error:t}=await qe.from("clients").select("count").limit(1);return t?(console.error("Supabase connection test failed:",t),!1):(console.log("Supabase connection test successful"),!0)}catch(e){return console.error("Network error during connection test:",e),!1}};async function xS(e,t="distributor-photos"){const r=e.name.split(".").pop(),s=`${`${Date.now()}-${Math.random().toString(36).substring(2)}.${r}`}`,{data:i,error:o}=await qe.storage.from(t).upload(s,e);if(o)throw o;const{data:{publicUrl:c}}=qe.storage.from(t).getPublicUrl(s);return c}const $e={async getProjects(){try{const{data:e,error:t}=await qe.from("projects").select(`
          *,
          distributors (
            id,
            distributor_id,
            kast_naam,
            systeem,
            voeding,
            bouwjaar,
            keuring_datum,
            getest_door,
            un_in_v,
            in_in_a,
            ik_th_in_ka1s,
            ik_dyn_in_ka,
            freq_in_hz,
            type_nr_hs,
            fabrikant,
            profile_photo,
            status,
            created_at
          )
        `).order("created_at",{ascending:!1});if(t)throw console.error("Database error in getProjects:",t),t;return e}catch(e){throw console.error("Network error in getProjects:",e),new Error(`Failed to fetch projects: ${St(e)}`)}},async createProject(e){try{console.log("Creating project with intake form:",e.intakeForm),console.log("Full project data:",e),console.log("Contact person being saved:",e.contactPerson||e.contact_person);const{data:t,error:r}=await qe.from("projects").insert([{project_number:e.projectNumber,date:e.date,location:e.location,client:e.client,contact_person:e.contactPerson||e.contact_person,status:e.status,description:e.description,intake_form:e.intakeForm||e.intakeFormData}]).select().single();if(r)throw console.error("Database error in createProject:",r),r;return console.log("Project created successfully:",t),console.log("Saved intake form data:",t.intake_form),t}catch(t){throw console.error("Network error in createProject:",t),new Error(`Failed to create project: ${St(t)}`)}},async updateProject(e,t){try{const{data:r,error:n}=await qe.from("projects").update({project_number:t.projectNumber,date:t.date,location:t.location,client:t.client,contact_person:t.contact_person,status:t.status,description:t.description,intake_form:t.intakeForm||null}).eq("id",e).select().single();if(n)throw console.error("Database error in updateProject:",n),n;return r}catch(r){throw console.error("Network error in updateProject:",r),new Error(`Failed to update project: ${St(r)}`)}},async deleteProject(e){try{const{error:t}=await qe.from("projects").delete().eq("id",e);if(t)throw console.error("Database error in deleteProject:",t),t}catch(t){throw console.error("Network error in deleteProject:",t),new Error(`Failed to delete project: ${St(t)}`)}},async getDistributors(){try{const{data:e,error:t}=await qe.from("distributors").select(`
          *,
          projects (
            project_number,
            client,
            location
          )
        `).order("created_at",{ascending:!1});if(t)throw console.error("Database error in getDistributors:",t),t;return e}catch(e){throw console.error("Network error in getDistributors:",e),new Error(`Failed to fetch distributors: ${St(e)}`)}},async getDistributorsByProject(e){try{const{data:t,error:r}=await qe.from("distributors").select("*").eq("project_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Database error in getDistributorsByProject:",r),r;return t}catch(t){throw console.error("Network error in getDistributorsByProject:",t),new Error(`Failed to fetch distributors by project: ${St(t)}`)}},async createDistributor(e){try{console.log("createDistributor called with:",e),console.log("🔍 DISTRIBUTOR SAVE: Checking key fields:"),console.log("  - distributorId:",e.distributorId),console.log("  - kastNaam:",e.kastNaam),console.log("  - projectId:",e.projectId),console.log("🔍 DISTRIBUTOR SAVE: All possible ID fields:"),console.log("  - distributor.distributorId:",e.distributorId),console.log("  - distributor.distributor_id:",e.distributor_id),console.log("  - distributor.id:",e.id),console.log("🔍 DISTRIBUTOR SAVE: All possible name fields:"),console.log("  - distributor.kastNaam:",e.kastNaam),console.log("  - distributor.kast_naam:",e.kast_naam),console.log("  - distributor.name:",e.name);let t="";e.profilePhoto instanceof File?t=await xS(e.profilePhoto):typeof e.profilePhoto=="string"&&(t=e.profilePhoto);const r=e.distributorId||e.distributor_id||e.id,n=e.kastNaam||e.kast_naam||e.name;if(console.log("🔍 DISTRIBUTOR SAVE: Final mapped values:"),console.log("  - Final distributorId:",r),console.log("  - Final kastNaam:",n),!r)throw console.error("❌ CRITICAL: No distributor ID found in any field!"),console.log("❌ Full distributor object:",JSON.stringify(e,null,2)),new Error("Distributor ID is missing - cannot save distributor");if(!n)throw console.error("❌ CRITICAL: No kast naam found in any field!"),console.log("❌ Full distributor object:",JSON.stringify(e,null,2)),new Error("Kast naam is missing - cannot save distributor");const s={distributor_id:r,project_id:e.projectId,kast_naam:n,systeem:e.systeem,voeding:e.voeding,bouwjaar:e.bouwjaar,keuring_datum:e.keuringDatum,getest_door:e.getestDoor,un_in_v:e.unInV,in_in_a:e.inInA,ik_th_in_ka1s:e.ikThInKA1s,ik_dyn_in_ka:e.ikDynInKA,freq_in_hz:e.freqInHz,type_nr_hs:e.typeNrHs,fabrikant:e.fabrikant,profile_photo:t,status:e.status,toegewezen_monteur:e.toegewezenMonteur||null,gewenste_lever_datum:e.gewensteLeverDatum||null};if(console.log("Database data being inserted:",s),console.log("🔍 DB DATA: Key fields check:"),console.log("  - distributor_id:",s.distributor_id),console.log("  - kast_naam:",s.kast_naam),console.log("  - project_id:",s.project_id),console.log("  - toegewezen_monteur:",s.toegewezen_monteur),!s.distributor_id||s.distributor_id.trim()==="")throw console.error("❌ VALIDATION FAILED: distributor_id is empty or missing"),console.log("❌ dbData.distributor_id value:",JSON.stringify(s.distributor_id)),new Error("distributor_id is required but missing or empty");if(!s.kast_naam||s.kast_naam.trim()==="")throw console.error("❌ VALIDATION FAILED: kast_naam is empty or missing"),console.log("❌ dbData.kast_naam value:",JSON.stringify(s.kast_naam)),new Error("kast_naam is required but missing or empty");if(!s.project_id)throw console.error("❌ VALIDATION FAILED: project_id is missing"),new Error("project_id is required but missing");const{data:i,error:o}=await qe.from("distributors").insert([s]).select().single();if(o)throw console.error("Database error in createDistributor:",o),console.error("Failed to insert data:",s),o;return console.log("Distributor created successfully in database:",i),console.log("✅ SAVED: distributor_id =",i.distributor_id,"kast_naam =",i.kast_naam),i}catch(t){throw console.error("Network error in createDistributor:",t),new Error(`Failed to create distributor: ${St(t)}`)}},async updateDistributor(e,t){try{let r="";t.profilePhoto instanceof File?r=await xS(t.profilePhoto):typeof t.profilePhoto=="string"&&(r=t.profilePhoto);const{data:n,error:s}=await qe.from("distributors").update({distributor_id:t.distributorId,project_id:t.projectId,kast_naam:t.kastNaam,systeem:t.systeem,voeding:t.voeding,bouwjaar:t.bouwjaar,keuring_datum:t.keuringDatum,getest_door:t.getestDoor,un_in_v:t.unInV,in_in_a:t.inInA,ik_th_in_ka1s:t.ikThInKA1s,ik_dyn_in_ka:t.ikDynInKA,freq_in_hz:t.freqInHz,type_nr_hs:t.typeNrHs,fabrikant:t.fabrikant,profile_photo:r,status:t.status,...t.toegewezenMonteur!==void 0&&{toegewezen_monteur:t.toegewezenMonteur},...t.gewensteLeverDatum!==void 0&&{gewenste_lever_datum:t.gewensteLeverDatum}}).eq("id",e).select().single();if(s)throw console.error("Database error in updateDistributor:",s),s;return n}catch(r){throw console.error("Network error in updateDistributor:",r),new Error(`Failed to update distributor: ${St(r)}`)}},async deleteDistributor(e){try{const{error:t}=await qe.from("distributors").delete().eq("id",e);if(t)throw console.error("Database error in deleteDistributor:",t),t}catch(t){throw console.error("Network error in deleteDistributor:",t),new Error(`Failed to delete distributor: ${St(t)}`)}},async getDocuments(e,t,r){try{console.log("getDocuments called with:",{projectId:e,distributorId:t,folder:r});const n=new AbortController,s=setTimeout(()=>n.abort(),15e3);let i=qe.from("documents").select("*").order("uploaded_at",{ascending:!1}).abortSignal(n.signal);e&&(i=i.eq("project_id",e)),t&&(i=i.eq("distributor_id",t)),r&&(i=i.eq("folder",r));const{data:o,error:c}=await i.limit(100);if(clearTimeout(s),c)throw c.name==="AbortError"?new Error("Document loading timed out after 15 seconds - please try again or contact support"):(console.error("Database error in getDocuments:",c),c);return console.log("getDocuments returning:",(o==null?void 0:o.length)||0,"documents"),o}catch(n){throw n.name==="AbortError"?new Error("Document loading was cancelled due to timeout - this may indicate a database performance issue"):(console.error("Network error in getDocuments:",n),new Error(`Failed to fetch documents: ${St(n)}`))}},async createDocument(e){try{const{data:t,error:r}=await qe.from("documents").insert([{project_id:e.projectId,distributor_id:e.distributorId,folder:e.folder,name:e.name,type:e.type,size:e.size,content:e.content}]).select().single();if(r)throw console.error("Database error in createDocument:",r),r;return t}catch(t){throw console.error("Network error in createDocument:",t),new Error(`Failed to create document: ${St(t)}`)}},async deleteDocument(e){try{const{error:t}=await qe.from("documents").delete().eq("id",e);if(t)throw console.error("Database error in deleteDocument:",t),t}catch(t){throw console.error("Network error in deleteDocument:",t),new Error(`Failed to delete document: ${St(t)}`)}},async getTestData(e){try{const{data:t,error:r}=await qe.from("test_data").select("*").eq("distributor_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Database error in getTestData:",r),r;return t}catch(t){throw console.error("Network error in getTestData:",t),new Error(`Failed to fetch test data: ${St(t)}`)}},async createTestData(e){try{const{data:t,error:r}=await qe.from("test_data").insert([{distributor_id:e.distributorId,test_type:e.testType,data:e.data}]).select().single();if(r)throw console.error("Database error in createTestData:",r),r;return t}catch(t){throw console.error("Network error in createTestData:",t),new Error(`Failed to create test data: ${St(t)}`)}},async getWorkEntries(e){try{const{data:t,error:r}=await qe.from("work_entries").select("*").eq("distributor_id",e).order("date",{ascending:!1});if(r)throw console.error("Database error in getWorkEntries:",r),r;return t}catch(t){throw console.error("Network error in getWorkEntries:",t),new Error(`Failed to fetch work entries: ${St(t)}`)}},async createWorkEntry(e){try{const{data:t,error:r}=await qe.from("work_entries").insert([{distributor_id:e.distributorId,worker_id:e.workerId,date:e.date,hours:e.hours,status:e.status,notes:e.notes}]).select().single();if(r)throw console.error("Database error in createWorkEntry:",r),r;return t}catch(t){throw console.error("Network error in createWorkEntry:",t),new Error(`Failed to create work entry: ${St(t)}`)}},async updateWorkEntry(e,t){try{const{data:r,error:n}=await qe.from("work_entries").update({distributor_id:t.distributorId,worker_id:t.workerId,date:t.date,hours:t.hours,status:t.status,notes:t.notes}).eq("id",e).select().single();if(n)throw console.error("Database error in updateWorkEntry:",n),n;return r}catch(r){throw console.error("Network error in updateWorkEntry:",r),new Error(`Failed to update work entry: ${St(r)}`)}},async deleteWorkEntry(e){try{const{error:t}=await qe.from("work_entries").delete().eq("id",e);if(t)throw console.error("Database error in deleteWorkEntry:",t),t}catch(t){throw console.error("Network error in deleteWorkEntry:",t),new Error(`Failed to delete work entry: ${St(t)}`)}},async getClients(){try{console.log("Attempting to fetch clients from Supabase...");const{data:e,error:t}=await qe.from("clients").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Database error in getClients:",t),t;return console.log("Successfully fetched clients:",(e==null?void 0:e.length)||0),await Promise.all((e||[]).map(async n=>{try{const{data:s,error:i}=await qe.from("contacts").select("*").eq("client_id",n.id);if(i)throw console.error("Database error fetching contacts for client:",n.id,i),i;return{...n,contacts:s||[]}}catch(s){return console.error("Error fetching contacts for client:",n.id,s),{...n,contacts:[]}}}))}catch(e){throw console.error("Network error in getClients:",e),e instanceof TypeError&&e.message.includes("Failed to fetch")?new Error("Unable to connect to the database. Please check your internet connection and try again."):new Error(`Failed to fetch clients: ${St(e)}`)}},async createClient(e){try{const{contacts:t,...r}=e,{data:n,error:s}=await qe.from("clients").insert([r]).select().single();if(s)throw console.error("Database error in createClient:",s),s;if(t&&t.length>0){const i=t.map(c=>({...c,client_id:n.id})),{error:o}=await qe.from("contacts").insert(i);if(o)throw console.error("Database error creating contacts:",o),o}return{...n,contacts:t||[]}}catch(t){throw console.error("Network error in createClient:",t),new Error(`Failed to create client: ${St(t)}`)}},async updateClient(e,t){try{const{contacts:r,...n}=t,{data:s,error:i}=await qe.from("clients").update(n).eq("id",e).select().single();if(i)throw console.error("Database error in updateClient:",i),i;const{error:o}=await qe.from("contacts").delete().eq("client_id",e);if(o)throw console.error("Database error deleting contacts:",o),o;if(r&&r.length>0){const c=r.map(A=>({...A,client_id:e})),{error:l}=await qe.from("contacts").insert(c);if(l)throw console.error("Database error creating new contacts:",l),l}return{...s,contacts:r||[]}}catch(r){throw console.error("Network error in updateClient:",r),new Error(`Failed to update client: ${St(r)}`)}},async deleteClient(e){try{const{error:t}=await qe.from("clients").delete().eq("id",e);if(t)throw console.error("Database error in deleteClient:",t),t}catch(t){throw console.error("Network error in deleteClient:",t),new Error(`Failed to delete client: ${St(t)}`)}},async getUsers(){try{console.log("Fetching users from database...");const{data:e,error:t}=await qe.from("users").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Database error in getUsers:",t),t;return console.log("Successfully fetched users from database:",(e==null?void 0:e.length)||0),e||[]}catch(e){throw console.error("Network error in getUsers:",e),new Error(`Failed to fetch users: ${St(e)}`)}},async createUser(e){var t,r,n,s,i;try{console.log("Creating user in database:",e.username);const{data:o,error:c}=await qe.from("users").insert([{username:e.username,email:e.email,password:e.password,role:e.role,permissions:e.permissions||{},profile_picture:e.profilePicture||e.profile_picture,is_active:e.isActive!==void 0?e.isActive:!0,assigned_projects:e.assigned_projects||[],assigned_clients:e.assigned_clients||[],assigned_locations:e.assignedLocations||[],last_login:e.lastLogin||e.last_login||null}]).select().single();if(c)throw console.error("Database error in createUser:",c),c.code==="42501"||(t=c.message)!=null&&t.includes("row-level security")?new Error("Insufficient permissions to create user. Only administrators can create new users."):c.code==="23505"||(r=c.message)!=null&&r.includes("duplicate")||(n=c.message)!=null&&n.includes("unique")?new Error("A user with this username or email already exists."):c;return console.log("User successfully created in database:",o.username),o}catch(o){throw console.error("Network error in createUser:",o),(s=o.message)!=null&&s.includes("Insufficient permissions")||(i=o.message)!=null&&i.includes("already exists")?o:new Error(`Failed to create user in database: ${St(o)}`)}},async updateUser(e,t){var r,n,s,i,o;try{let c={username:t.username,email:t.email,password:t.password,role:t.role,profile_picture:t.profilePicture||t.profile_picture,permissions:t.permissions||{},is_active:t.isActive!==void 0?t.isActive:!0,assigned_projects:t.assigned_projects||[],assigned_clients:t.assigned_clients||[],last_login:t.lastLogin||t.last_login||null};t.assignedLocations!==void 0&&(c.assigned_locations=t.assignedLocations);const{data:l,error:A}=await qe.from("users").update(c).eq("id",e).select().single();if(A){if((r=A.message)!=null&&r.includes("assigned_locations")&&((n=A.message)!=null&&n.includes("schema cache"))){console.log("assigned_locations column not found, updating without it..."),delete c.assigned_locations;const{data:u,error:d}=await qe.from("users").update(c).eq("id",e).select().single();if(d)throw console.error("Database error in updateUser (retry):",d),d;return console.log("User updated successfully without assigned_locations column"),u}throw console.error("Database error in updateUser:",A),(s=A.message)!=null&&s.includes("row-level security policy")?new Error("Insufficient permissions to update this user."):A}return l}catch(c){throw console.error("Network error in updateUser:",c),(i=c.message)!=null&&i.includes("row-level security policy")||(o=c.message)!=null&&o.includes("Insufficient permissions")?new Error("You do not have permission to update this user."):new Error(`Failed to update user: ${St(c)}`)}},async deleteUser(e){var t,r,n,s,i;try{const{error:o}=await qe.from("users").delete().eq("id",e);if(o)throw console.error("Database error in deleteUser:",o),(t=o.message)!=null&&t.includes("row-level security policy")?new Error("Insufficient permissions to delete this user."):o;const l=JSON.parse(localStorage.getItem("users")||"[]").filter(A=>A.id!==e);localStorage.setItem("users",JSON.stringify(l))}catch(o){if(console.error("Network error in deleteUser:",o),(r=o.message)!=null&&r.includes("row-level security policy")||(n=o.message)!=null&&n.includes("Insufficient permissions"))throw new Error("You do not have permission to delete this user.");if((s=o.message)!=null&&s.includes("Network")||(i=o.message)!=null&&i.includes("Failed to fetch")){const l=JSON.parse(localStorage.getItem("users")||"[]").filter(A=>A.id!==e);localStorage.setItem("users",JSON.stringify(l))}else throw o}},async getAccessCodes(){try{const{data:e,error:t}=await qe.from("access_codes").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Database error in getAccessCodes:",t),t;return e}catch(e){throw console.error("Network error in getAccessCodes:",e),new Error(St(e))}},async createAccessCode(e){try{const{data:t,error:r}=await qe.from("access_codes").insert([{code:e.code,created_by:e.createdBy,expires_at:e.expiresAt,is_active:e.isActive,max_uses:e.maxUses,verdeler_id:e.verdeler_id,project_number:e.project_number}]).select().single();if(r)throw console.error("Database error in createAccessCode:",r),r;return t}catch(t){throw console.error("Network error in createAccessCode:",t),new Error(St(t))}},async validateAccessCode(e,t){try{console.log("🔍 VALIDATE: Starting validation for code:",e,"verdeler_id:",t);const{data:r,error:n}=await qe.from("access_codes").select("*").eq("code",e.toUpperCase()).eq("is_active",!0);if(console.log("🔍 VALIDATE: Database query result:",r,"error:",n),n)throw console.error("Database error in validateAccessCode:",n),n;if(!r||r.length===0)return console.log("❌ VALIDATE: No codes found for:",e.toUpperCase()),{valid:!1,reason:"Invalid code"};console.log("🔍 VALIDATE: Found codes:",r.length,"codes"),r.forEach((l,A)=>{console.log(`  Code ${A+1}:`,{code:l.code,verdeler_id:l.verdeler_id,expires_at:l.expires_at,is_active:l.is_active,usage_count:l.usage_count,max_uses:l.max_uses})});let s=null;if(t&&t!=="undefined"&&t.trim()!==""?(console.log("🔍 VALIDATE: Looking for verdeler-specific code for:",t),s=r.find(l=>{const A=l.verdeler_id===t.trim();return console.log(`  Checking code ${l.code}: verdeler_id=${l.verdeler_id}, matches=${A}`),A}),s||(console.log("🔍 VALIDATE: No verdeler-specific code found, looking for global code..."),s=r.find(l=>{const A=l.verdeler_id===null||l.verdeler_id==="";return console.log(`  Checking global code ${l.code}: verdeler_id=${l.verdeler_id}, isGlobal=${A}`),A}))):(console.log("🔍 VALIDATE: No verdeler_id provided, using first active code"),s=r[0]),!s)return console.log("❌ VALIDATE: No matching code found for verdeler:",t),{valid:!1,reason:"Code not valid for this verdeler"};console.log("✅ VALIDATE: Found matching code:",s.code,"for verdeler:",s.verdeler_id);const i=new Date,o=new Date(s.expires_at);if(console.log("🕐 VALIDATE: Time check - now:",i.toISOString(),"expires:",o.toISOString()),i>o)return console.log("❌ VALIDATE: Code has expired"),{valid:!1,reason:"Code has expired"};if(s.max_uses&&s.usage_count>=s.max_uses)return console.log("❌ VALIDATE: Usage limit exceeded:",s.usage_count,">=",s.max_uses),{valid:!1,reason:"Code usage limit exceeded"};console.log("✅ VALIDATE: All checks passed, updating usage count...");const{error:c}=await qe.from("access_codes").update({usage_count:s.usage_count+1,last_used_at:new Date().toISOString()}).eq("id",s.id);return c&&console.error("Error updating usage count:",c),console.log("✅ VALIDATE: Code validation successful!"),{valid:!0,data:s}}catch(r){throw console.error("Network error in validateAccessCode:",r),new Error(St(r))}},async updateAccessCode(e,t){try{const{data:r,error:n}=await qe.from("access_codes").update({is_active:t.isActive,expires_at:t.expiresAt,max_uses:t.maxUses}).eq("id",e).select().single();if(n)throw console.error("Database error in updateAccessCode:",n),n;return r}catch(r){throw console.error("Network error in updateAccessCode:",r),new Error(St(r))}},async getClientPortals(){try{const{data:e,error:t}=await qe.from("client_portals").select(`
          *,
          projects (
            project_number,
            client,
            location,
            description
          ),
          clients (
            name
          )
        `).order("created_at",{ascending:!1});if(t)throw console.error("Database error in getClientPortals:",t),t;return e}catch(e){throw console.error("Network error in getClientPortals:",e),new Error(`Failed to fetch client portals: ${St(e)}`)}},async createClientPortal(e){try{const{data:t,error:r}=await qe.from("client_portals").insert([e]).select().single();if(r)throw console.error("Database error in createClientPortal:",r),r;return t}catch(t){throw console.error("Network error in createClientPortal:",t),new Error(`Failed to create client portal: ${St(t)}`)}},async updateClientPortal(e,t){try{const{data:r,error:n}=await qe.from("client_portals").update(t).eq("id",e).select().single();if(n)throw console.error("Database error in updateClientPortal:",n),n;return r}catch(r){throw console.error("Network error in updateClientPortal:",r),new Error(`Failed to update client portal: ${St(r)}`)}},async deleteAccessCode(e){try{const{error:t}=await qe.from("access_codes").delete().eq("id",e);if(t)throw console.error("Database error in deleteAccessCode:",t),t}catch(t){throw console.error("Network error in deleteAccessCode:",t),new Error(St(t))}}};class yK{constructor(){Yf(this,"activeLocks",new Map);Yf(this,"heartbeatIntervals",new Map);Yf(this,"isInitialized",!1);Yf(this,"subscribers",new Set)}async initialize(){if(!this.isInitialized){console.log("🔒 Initializing Project Lock Manager...");try{await this.loadActiveLocks(),await this.cleanupStaleLocks(),this.subscribeToLockChanges(),this.notifySubscribers(),this.isInitialized=!0,console.log("✅ Project Lock Manager initialized successfully")}catch(t){console.error("❌ Error initializing project lock manager:",t)}}}async loadActiveLocks(){try{console.log("📥 Loading active locks from database...");const{data:t,error:r}=await qe.from("project_locks").select("*").eq("is_active",!0);if(r){const n=St(r);throw console.error("Database error loading locks:",n),new Error(`Database error loading locks: ${n}`)}this.activeLocks.clear(),t==null||t.forEach(n=>{this.activeLocks.set(n.project_id,n),console.log(`🔐 Loaded lock: Project ${n.project_id} locked by ${n.username}`)}),console.log(`📊 Loaded ${(t==null?void 0:t.length)||0} active locks`)}catch(t){const r=St(t);throw console.error("Error loading active locks:",r),new Error(`Failed to load active locks: ${r}`)}}subscribeToLockChanges(){console.log("🔄 Setting up real-time lock subscriptions..."),qe.channel("project_locks_realtime").on("postgres_changes",{event:"*",schema:"public",table:"project_locks"},t=>{if(console.log("🔄 Lock change detected:",t.eventType,t),t.eventType==="INSERT"||t.eventType==="UPDATE"){const r=t.new;r.is_active?(this.activeLocks.set(r.project_id,r),console.log(`🔒 Lock updated: Project ${r.project_id} by ${r.username}`)):(this.activeLocks.delete(r.project_id),console.log(`🔓 Lock removed: Project ${r.project_id}`)),this.notifySubscribers()}else if(t.eventType==="DELETE"){const r=t.old;this.activeLocks.delete(r.project_id),console.log(`🗑️ Lock deleted: Project ${r.project_id}`),this.notifySubscribers()}}).subscribe(),console.log("✅ Real-time subscription active"),setInterval(async()=>{try{await this.loadActiveLocks(),this.notifySubscribers()}catch(t){console.error("Error in backup polling:",t)}},1e4)}async isProjectLocked(t,r){console.log(`🔍 LOCK CHECK: Project ${t} by user ${r}`);try{const n=this.activeLocks.get(t);if(console.log(`💾 CACHED LOCK for ${t}:`,n),n)if(n.user_id!==r){const o=Date.now()-new Date(n.last_activity).getTime();return console.log(`⏰ LOCK AGE: ${Math.round(o/1e3)} seconds (stale if > 300)`),o>5*60*1e3?(console.log("🧹 STALE LOCK DETECTED - cleaning up..."),await this.forceUnlockProject(t),this.notifySubscribers(),{locked:!1}):(this.notifySubscribers(),console.log(`🚫 PROJECT IS LOCKED by ${n.username} (user_id: ${n.user_id})`),{locked:!0,lockInfo:n})}else{return console.log("✅ USER OWNS LOCK - allowing access"),{locked:!1};this.notifySubscribers()}console.log(`🔍 NO CACHE - checking database for project ${t}...`);const{data:s,error:i}=await qe.from("project_locks").select("*").eq("project_id",t).eq("is_active",!0).limit(1);if(i)return console.error("❌ DATABASE ERROR checking locks:",i),{locked:!1};if(s&&s.length>0){const o=s[0];if(console.log("🔍 DATABASE LOCK FOUND:",o),o.user_id!==r){const c=Date.now()-new Date(o.last_activity).getTime();return console.log(`⏰ DATABASE LOCK AGE: ${Math.round(c/1e3)} seconds`),c>5*60*1e3?(console.log("🧹 DATABASE LOCK IS STALE - cleaning up..."),await this.forceUnlockProject(t),{locked:!1}):(this.activeLocks.set(t,o),console.log(`🚫 PROJECT LOCKED BY ${o.username} (user_id: ${o.user_id}) - BLOCKING ACCESS`),{locked:!0,lockInfo:o})}else return console.log("✅ DATABASE LOCK OWNED BY CURRENT USER - allowing access"),this.activeLocks.set(t,o),{locked:!1}}else console.log(`✅ NO LOCKS FOUND - project ${t} is available`);return{locked:!1}}catch(n){return console.error("❌ CRITICAL ERROR checking project lock:",n),{locked:!1}}}async lockProject(t,r,n){var s,i,o;console.log(`🔒 Attempting to lock project ${t} for user ${n} (${r})`);try{const c=await this.isProjectLocked(t,r);if(c.locked)return console.log(`❌ Project already locked by ${(s=c.lockInfo)==null?void 0:s.username}`),ge.error(`Project wordt momenteel bewerkt door ${(i=c.lockInfo)==null?void 0:i.username}`),{success:!1};console.log("🧹 Cleaning up any existing locks..."),await this.unlockProject(t,r),console.log("🔒 Creating new lock...");const{data:l,error:A}=await qe.from("project_locks").insert([{project_id:t,user_id:r,username:n,is_active:!0,locked_at:new Date().toISOString(),last_activity:new Date().toISOString()}]).select().single();if(A){if(console.error("❌ Error creating lock:",A),A.code==="23505"||A.message.includes("duplicate key")){console.log("⚠️ Unique constraint violation - someone else locked first");const u=await this.isProjectLocked(t,r);return u.locked&&ge.error(`Project wordt momenteel bewerkt door ${(o=u.lockInfo)==null?void 0:o.username}`),{success:!1}}return ge.error("Kon project niet vergrendelen"),{success:!1}}return this.activeLocks.set(t,l),console.log(`💾 LOCK MANAGER: Added lock to cache for project ${t}`),console.log(`📊 LOCK MANAGER: Cache now contains ${this.activeLocks.size} locks`),this.startHeartbeat(l.id,t),console.log(`📢 LOCK MANAGER: Notifying ${this.subscribers.size} subscribers about new lock`),this.notifySubscribers(),console.log(`✅ Successfully locked project ${t} for user ${n}`),ge.success("Project vergrendeld voor bewerking"),{success:!0,lockId:l.id}}catch(c){return console.error("❌ Error locking project:",c),ge.error("Kon project niet vergrendelen"),{success:!1}}}async unlockProject(t,r){console.log(`🔓 Unlocking project ${t} for user ${r}`);try{const n=`${t}-${r}`,s=this.heartbeatIntervals.get(n);s&&(clearInterval(s),this.heartbeatIntervals.delete(n),console.log("💓 Stopped heartbeat"));const{error:i}=await qe.from("project_locks").delete().eq("project_id",t).eq("user_id",r);if(i){const o=St(i);console.error("Database error unlocking:",o)}else console.log("✅ Database lock removed");this.activeLocks.delete(t),console.log("✅ Cache lock removed"),console.log("📢 Force notifying subscribers after unlock"),this.notifySubscribers(),setTimeout(async()=>{await this.loadActiveLocks(),this.notifySubscribers()},500)}catch(n){const s=St(n);console.error("Error unlocking project:",s)}}async forceUnlockProject(t){console.log(`🔨 Force unlocking project ${t}`);try{this.heartbeatIntervals.forEach((n,s)=>{s.startsWith(t)&&(clearInterval(n),this.heartbeatIntervals.delete(s))});const{error:r}=await qe.from("project_locks").delete().eq("project_id",t);r?console.error("Error force unlocking:",r):console.log("✅ Force unlock successful"),this.activeLocks.delete(t),console.log("📢 Force notifying subscribers after force unlock"),this.notifySubscribers(),setTimeout(async()=>{await this.loadActiveLocks(),this.notifySubscribers()},500),ge.success("Project geforceerd ontgrendeld")}catch(r){console.error("Error force unlocking project:",r),ge.error("Kon project niet forceren ontgrendelen")}}async cleanupStaleLocks(){try{console.log("🧹 Cleaning up stale locks...");const t=new Date(Date.now()-5*60*1e3).toISOString(),{data:r,error:n}=await qe.from("project_locks").select("*").lt("last_activity",t);if(n){console.error("Error finding stale locks:",n);return}if(r&&r.length>0){console.log(`🧹 Found ${r.length} stale locks to clean up`);const{error:s}=await qe.from("project_locks").delete().lt("last_activity",t);s?console.error("Error deleting stale locks:",s):(console.log(`✅ Cleaned up ${r.length} stale locks`),r.forEach(i=>{this.activeLocks.delete(i.project_id)}))}else console.log("✅ No stale locks found")}catch(t){console.error("Error cleaning up stale locks:",t)}}async getAllProjectLocks(){try{const{data:t,error:r}=await qe.from("project_locks").select("*").eq("is_active",!0).order("locked_at",{ascending:!1});return r?(console.error("Error getting all locks:",r),[]):(console.log(`📊 Retrieved ${(t==null?void 0:t.length)||0} active locks`),t||[])}catch(t){return console.error("Error getting project locks:",t),[]}}startHeartbeat(t,r){const n=`${r}-${t}`;console.log(`💓 Starting heartbeat for lock ${t}`);const s=setInterval(async()=>{try{console.log(`💓 Heartbeat for project ${r}`);const{error:i}=await qe.from("project_locks").update({last_activity:new Date().toISOString()}).eq("id",t).eq("is_active",!0);i?(console.error("💔 Heartbeat failed:",i),clearInterval(s),this.heartbeatIntervals.delete(n)):console.log("💓 Heartbeat successful")}catch(i){console.error("💔 Heartbeat error:",i),clearInterval(s),this.heartbeatIntervals.delete(n)}},15e3);this.heartbeatIntervals.set(n,s)}subscribeToAllProjectLocks(t){return console.log("🔄 Setting up all project locks subscription..."),this.subscribers.add(t),this.loadAndNotifySubscriber(t),()=>{console.log("🔄 Removing project locks subscriber"),this.subscribers.delete(t)}}async loadAndNotifySubscriber(t){try{console.log("🔄 Loading fresh locks for new subscriber..."),await this.loadActiveLocks();const r=Array.from(this.activeLocks.values());console.log(`📊 Sending ${r.length} fresh locks to subscriber`),console.log("🔒 Fresh lock details:",r.map(n=>`${n.project_id.slice(0,8)} by ${n.username}`)),t(r)}catch(r){console.error("❌ Error loading locks for subscriber:",r),t([])}}notifySubscribers(){const t=Array.from(this.activeLocks.values());console.log(`📢 Notifying ${this.subscribers.size} subscribers with ${t.length} locks`),console.log("🔒 Notifying with lock details:",t.map(r=>`${r.project_id.slice(0,8)} by ${r.username}`)),this.subscribers.forEach(r=>{try{r(t)}catch(n){console.error("Error notifying subscriber:",n)}})}async forceRefreshLocks(){console.log("🔄 LOCK MANAGER: Force refreshing locks from database...");try{await this.loadActiveLocks(),this.notifySubscribers(),console.log("✅ LOCK MANAGER: Force refresh completed")}catch(t){console.error("❌ LOCK MANAGER: Error during force refresh:",t)}}cleanup(){console.log("🧹 Cleaning up Project Lock Manager..."),this.heartbeatIntervals.forEach((t,r)=>{console.log(`💔 Stopping heartbeat: ${r}`),clearInterval(t)}),this.heartbeatIntervals.clear()}getTimeSinceLocked(t){const r=new Date,n=new Date(t),s=r.getTime()-n.getTime(),i=Math.floor(s/6e4);if(i<1)return"zojuist";if(i===1)return"1 minuut";if(i<60)return`${i} minuten`;const o=Math.floor(i/60);return o===1?"1 uur":`${o} uur`}getTimeSinceActivity(t){const r=new Date,n=new Date(t),s=r.getTime()-n.getTime(),i=Math.floor(s/6e4);return i<1?"actief":i===1?"1 min geleden":`${i} min geleden`}debugState(){console.log("🐛 Project Lock Manager Debug State:"),console.log("📊 Active locks in memory:",this.activeLocks.size),console.log("💓 Active heartbeats:",this.heartbeatIntervals.size),console.log("🔧 Initialized:",this.isInitialized),this.activeLocks.forEach((t,r)=>{console.log(`  🔐 ${r}: ${t.username} (${this.getTimeSinceActivity(t.last_activity)})`)})}}const Ir=new yK;Ir.initialize();typeof window<"u"&&(window.addEventListener("beforeunload",()=>{Ir.cleanup()}),window.debugLocks=()=>Ir.debugState());const rL=({projectId:e,projectLocks:t,currentUserId:r,currentUserRole:n,onForceUnlock:s,compact:i=!1})=>{const o=t.find(d=>d.project_id===e&&d.is_active);if(!o)return a.jsxs("div",{className:`flex items-center space-x-2 ${i?"text-xs":"text-sm"}`,children:[a.jsx(ja,{size:i?14:16,className:"text-green-400"}),a.jsx("span",{className:"text-green-400 font-medium",children:"Beschikbaar"})]});const c=o.user_id===r,l=Ir.getTimeSinceLocked(o.locked_at),A=Ir.getTimeSinceActivity(o.last_activity),u=new Date().getTime()-new Date(o.last_activity).getTime()>3*60*1e3;return c?a.jsxs("div",{className:`flex items-center space-x-2 ${i?"text-xs":"text-sm"}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(Jh,{size:i?14:16,className:"text-blue-400"}),a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-400 rounded-full animate-pulse"})]}),a.jsx("span",{className:"text-blue-400 font-medium",children:i?"Jij":"Je werkt hier"})]}):u?a.jsxs("div",{className:"group relative",children:[a.jsxs("div",{className:`flex items-center space-x-2 ${i?"text-xs":"text-sm"}`,children:[a.jsx(Qi,{size:i?14:16,className:"text-yellow-400"}),a.jsx("span",{className:"text-yellow-400 font-medium",children:i?o.username.split(" ")[0]:`Inactief (${A})`})]}),!i&&a.jsx("div",{className:"absolute bottom-full left-0 mb-2 hidden group-hover:block z-50",children:a.jsxs("div",{className:"bg-[#1E2530] border border-gray-700 rounded-lg p-4 shadow-lg min-w-64",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Qi,{size:16,className:"text-yellow-400"}),a.jsx("span",{className:"font-medium text-yellow-400",children:"Inactieve vergrendeling"})]}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Gebruiker:"})," ",o.username]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Vergrendeld:"})," ",l," geleden"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Laatste activiteit:"})," ",A]})]}),n==="admin"&&s&&a.jsx("button",{onClick:d=>{d.stopPropagation(),s()},className:"mt-3 w-full bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 px-3 py-2 rounded-lg text-sm transition-colors",children:"Forceer ontgrendelen"})]})})]}):a.jsxs("div",{className:"group relative",children:[a.jsxs("div",{className:`flex items-center space-x-2 ${i?"text-xs":"text-sm"}`,children:[a.jsx(Jh,{size:i?14:16,className:"text-red-400"}),a.jsx("span",{className:"text-red-400 font-medium",children:i?o.username.split(" ")[0]:`Vergrendeld door ${o.username}`})]}),!i&&a.jsx("div",{className:"absolute bottom-full left-0 mb-2 hidden group-hover:block z-50",children:a.jsxs("div",{className:"bg-[#1E2530] border border-gray-700 rounded-lg p-4 shadow-lg min-w-64",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Jh,{size:16,className:"text-red-400"}),a.jsx("span",{className:"font-medium text-red-400",children:"Project vergrendeld"})]}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Gebruiker:"})," ",o.username]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Sinds:"})," ",l," geleden"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Laatste activiteit:"})," ",A]})]}),n==="admin"&&s&&a.jsx("button",{onClick:d=>{d.stopPropagation(),s()},className:"mt-3 w-full bg-red-500/20 hover:bg-red-500/30 text-red-400 px-3 py-2 rounded-lg text-sm transition-colors",children:"Forceer ontgrendelen"})]})})]})},ai=()=>{const[e,t]=$.useState(null),[r,n]=$.useState(!0),[s,i]=$.useState(0);$.useEffect(()=>{o()},[s]);const o=()=>{try{const x=localStorage.getItem("currentUserId");if(console.log("🔍 PERMISSIONS: Loading user with ID:",x),!x){console.log("❌ PERMISSIONS: No current user ID found"),n(!1);return}const y=JSON.parse(localStorage.getItem("users")||"[]").find(b=>b.id===x);if(console.log("👤 PERMISSIONS: Found user:",y==null?void 0:y.username,"Role:",y==null?void 0:y.role),console.log("🔐 PERMISSIONS: Raw user permissions from localStorage:",y==null?void 0:y.permissions),y){const b={...y,permissions:y.permissions||u(y.role||"standard_user"),assignedLocations:y.assignedLocations||y.assigned_locations||[],isActive:y.isActive!==!1};console.log("🌍 PERMISSIONS: User loaded with locations:",b.assignedLocations),console.log("🌍 PERMISSIONS: Raw user data locations (assignedLocations):",y.assignedLocations),console.log("🌍 PERMISSIONS: Raw user data locations (assigned_locations):",y.assigned_locations),t(b),console.log("✅ PERMISSIONS: Current user set with permissions:",b.username),console.log("🔐 PERMISSIONS: FINAL LOADED PERMISSIONS:",b.permissions),console.log("🔍 PERMISSIONS DEBUG:"),console.log("  - access_codes:",b.permissions.access_codes),console.log("  - client_portals:",b.permissions.client_portals),console.log("  - insights:",b.permissions.insights),console.log("  - verdelers:",b.permissions.verdelers)}else console.log("❌ PERMISSIONS: User not found in localStorage"),t(null)}catch(x){console.error("Error loading current user:",x),t(null)}finally{n(!1)}},c=$.useCallback((x,v)=>{var _;if(console.log(`🔍 PERMISSION CHECK: ${x}.${v} for user:`,e==null?void 0:e.username,"Role:",e==null?void 0:e.role),!e)return!1;if(e.role==="admin")return console.log("✅ PERMISSION: Admin user - all permissions granted for",x,v),!0;const y=(_=e.permissions)==null?void 0:_[x],b=(y==null?void 0:y[v])||!1;return console.log(`🔐 PERMISSION RESULT: ${x}.${v} = ${b} (User: ${e.username}, Role: ${e.role})`),console.log(`🔐 PERMISSION DETAILS: Module permissions for ${x}:`,y),["access_codes","client_portals","insights"].includes(x)&&(console.log(`🚨 RESTRICTED MODULE CHECK: ${x}`),console.log(`   User permissions for ${x}:`,y),console.log(`   Requested permission (${v}):`,y==null?void 0:y[v]),console.log("   FINAL RESULT:",b),console.log("   Full user permissions object:",e.permissions)),b},[e]),l=$.useCallback(x=>{const v=c(x,"read");return console.log(`🔍 MODULE ACCESS: ${x} read permission = ${v}`),v},[c]),A=$.useCallback(()=>{console.log("🔄 PERMISSIONS: Force refreshing permissions from localStorage..."),i(x=>x+1)},[]),u=x=>{const v=ROLE_TEMPLATES[x];return(v==null?void 0:v.permissions)||ROLE_TEMPLATES.standard_user.permissions},d=$.useCallback(x=>{var v;return e?e.role==="admin"?{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0}:((v=e.permissions)==null?void 0:v[x])||{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}},[e]),f=$.useCallback(()=>(e==null?void 0:e.role)==="admin"||!1,[e]),h=$.useCallback(()=>(e==null?void 0:e.role)==="tester"||!1,[e]),p=$.useCallback(()=>(e==null?void 0:e.role)==="servicedesk"||!1,[e]),m=$.useCallback(()=>(e==null?void 0:e.role)||"unknown",[e]);return{currentUser:e,loading:r,hasPermission:c,canAccessModule:l,getModulePermissions:d,isAdmin:f,isTester:h,isServicedesk:p,getUserRole:m,refreshPermissions:A}},bK=Object.freeze(Object.defineProperty({__proto__:null,useEnhancedPermissions:ai},Symbol.toStringTag,{value:"Module"})),ss=["Leerdam","Naaldwijk","Rotterdam"],lo={admin:{name:"Administrator",description:"Volledige toegang tot alle systeem functies",color:"bg-red-500",icon:"Shield",permissions:{dashboard:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},projects:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},verdelers:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},clients:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},uploads:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},testing:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},meldingen:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},gebruikers:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},access_codes:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},client_portals:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},insights:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},account:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0}}},standard_user:{name:"Standaard Gebruiker",description:"Reguliere bedrijfsoperaties en projectbeheer",color:"bg-blue-500",icon:"User",permissions:{dashboard:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},projects:{create:!0,read:!0,update:!0,delete:!0,approve:!1,configure:!1,export:!0,assign:!1},verdelers:{create:!0,read:!0,update:!0,delete:!0,approve:!1,configure:!1,export:!0,assign:!1},clients:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},uploads:{create:!0,read:!0,update:!0,delete:!0,approve:!1,configure:!1,export:!0,assign:!1},testing:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},meldingen:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},gebruikers:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},access_codes:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},client_portals:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},insights:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},account:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}}},tester:{name:"Tester",description:"Kwaliteitsborging en test workflows",color:"bg-green-500",icon:"CheckSquare",permissions:{dashboard:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},projects:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},verdelers:{create:!1,read:!0,update:!0,delete:!1,approve:!0,configure:!1,export:!0,assign:!1},clients:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},uploads:{create:!0,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},testing:{create:!0,read:!0,update:!0,delete:!1,approve:!0,configure:!0,export:!0,assign:!0},meldingen:{create:!1,read:!0,update:!0,delete:!1,approve:!0,configure:!1,export:!1,assign:!1},gebruikers:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},access_codes:{create:!0,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},client_portals:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},insights:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},account:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}}},servicedesk:{name:"Servicedesk",description:"Onderhoud en klantenservice operaties",color:"bg-orange-500",icon:"Headphones",permissions:{dashboard:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},projects:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},verdelers:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},clients:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},uploads:{create:!0,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},testing:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},meldingen:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!0,export:!0,assign:!0},gebruikers:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},access_codes:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},client_portals:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},insights:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},account:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}}},planner:{name:"Planner",description:"Project planning en resource management",color:"bg-indigo-500",icon:"Calendar",permissions:{dashboard:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},projects:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!0},verdelers:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!0},clients:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},uploads:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},testing:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!0},meldingen:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!0},gebruikers:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},access_codes:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},client_portals:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},insights:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},account:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}}},projectleider:{name:"Projectleider",description:"Volledige projectverantwoordelijkheid en team coördinatie",color:"bg-purple-500",icon:"Crown",permissions:{dashboard:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},projects:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!1,export:!0,assign:!0},verdelers:{create:!0,read:!0,update:!0,delete:!0,approve:!0,configure:!1,export:!0,assign:!0},clients:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},uploads:{create:!0,read:!0,update:!0,delete:!0,approve:!1,configure:!1,export:!0,assign:!1},testing:{create:!1,read:!0,update:!0,delete:!1,approve:!0,configure:!1,export:!0,assign:!0},meldingen:{create:!1,read:!0,update:!0,delete:!1,approve:!0,configure:!1,export:!0,assign:!0},gebruikers:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},access_codes:{create:!0,read:!0,update:!0,delete:!0,approve:!1,configure:!1,export:!1,assign:!1},client_portals:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},insights:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},account:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}}},magazijn:{name:"Magazijn",description:"Voorraad en materiaal beheer",color:"bg-amber-500",icon:"Package",permissions:{dashboard:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},projects:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},verdelers:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},clients:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},uploads:{create:!0,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},testing:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},meldingen:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},gebruikers:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},access_codes:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},client_portals:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},insights:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},account:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}}},logistiek:{name:"Logistiek",description:"Transport en levering coördinatie",color:"bg-cyan-500",icon:"Truck",permissions:{dashboard:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},projects:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},verdelers:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},clients:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},uploads:{create:!0,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},testing:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},meldingen:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},gebruikers:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},access_codes:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},client_portals:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},insights:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},account:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}}},montage:{name:"Montage",description:"Assemblage en productie werkzaamheden",color:"bg-emerald-500",icon:"Wrench",permissions:{dashboard:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},projects:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},verdelers:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},clients:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},uploads:{create:!0,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},testing:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},meldingen:{create:!0,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},gebruikers:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},access_codes:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},client_portals:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},insights:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},account:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}}},finance:{name:"Finance",description:"Financiële administratie en facturatie",color:"bg-yellow-500",icon:"DollarSign",permissions:{dashboard:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},projects:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},verdelers:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},clients:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},uploads:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},testing:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},meldingen:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},gebruikers:{create:!1,read:!1,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},access_codes:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!1,assign:!1},client_portals:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},insights:{create:!1,read:!0,update:!1,delete:!1,approve:!1,configure:!1,export:!0,assign:!1},account:{create:!1,read:!0,update:!0,delete:!1,approve:!1,configure:!1,export:!1,assign:!1}}}},wK=({projectLocks:e,currentUserId:t})=>{const[r,n]=$.useState(!0),s=e.filter(o=>o.user_id!==t&&o.is_active),i=e.filter(o=>o.user_id===t&&o.is_active);return!r||s.length===0&&i.length===0?null:a.jsx("div",{className:"card p-4 mb-6 border-l-4 border-blue-400",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ko,{size:20,className:"text-blue-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-blue-400 mb-2",children:"Project Activiteit"}),i.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm text-gray-300 mb-1",children:a.jsx("strong",{children:"Je werkt momenteel in:"})}),i.map(o=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),a.jsxs("span",{className:"text-blue-400",children:["Project ",o.project_id.slice(0,8),"..."]}),a.jsxs("span",{className:"text-gray-400",children:["(",Ir.getTimeSinceLocked(o.locked_at),")"]})]},o.id))]}),s.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-300 mb-1",children:a.jsx("strong",{children:"Andere gebruikers actief:"})}),s.slice(0,3).map(o=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(Jh,{size:12,className:"text-red-400"}),a.jsx("span",{className:"text-red-400",children:o.username}),a.jsxs("span",{className:"text-gray-400",children:["in project ",o.project_id.slice(0,8),"..."]}),a.jsxs("span",{className:"text-gray-500 text-xs",children:["(",Ir.getTimeSinceActivity(o.last_activity),")"]})]},o.id)),s.length>3&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["+",s.length-3," meer..."]})]})]})]}),a.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-white transition-colors",children:"×"})]})})},nL=({project:e,onConfirm:t,onCancel:r,isDeleting:n=!1})=>{const[s,i]=$.useState(!1),o=()=>{i(!0)},c=()=>{t()},l=d=>{d.target===d.currentTarget&&!n&&r()},A=()=>{var d;return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:l,children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-lg w-full",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:a.jsx(Qi,{size:24,className:"text-red-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Project verwijderen"}),a.jsx("p",{className:"text-gray-400",children:"Dit kan niet ongedaan worden gemaakt"})]})]}),a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 mb-6",children:[a.jsx("h3",{className:"font-semibold text-red-400 mb-3",children:"⚠️ Waarschuwing"}),a.jsxs("p",{className:"text-red-300 mb-4",children:["Je staat op het punt om ",a.jsx("strong",{children:"ALLE gegevens"})," van dit project te verwijderen:"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-red-500/10 rounded-lg",children:[a.jsx(e$,{size:20,className:"text-red-400"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-white",children:["Project: ",e.project_number]}),a.jsxs("p",{className:"text-sm text-gray-400",children:[e.client," - ",e.location]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-red-500/10 rounded-lg",children:[a.jsx(Or,{size:20,className:"text-red-400"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-white",children:["Verdelers: ",((d=e.distributors)==null?void 0:d.length)||0]}),a.jsx("p",{className:"text-sm text-gray-400",children:"Alle verdeler gegevens en specificaties"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-red-500/10 rounded-lg",children:[a.jsx(ei,{size:20,className:"text-red-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:"Documenten & Uploads"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Alle geüploade bestanden en documenten"})]})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:a.jsxs("p",{className:"text-yellow-300 text-sm",children:[a.jsx("strong",{children:"Let op:"})," Klantgegevens blijven behouden en worden niet verwijderd."]})})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:r,className:"btn-secondary",disabled:n,children:"Annuleren"}),a.jsxs("button",{onClick:o,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-xl transition-all flex items-center space-x-2",disabled:n,children:[a.jsx(Zr,{size:20}),a.jsx("span",{children:"Ja, verwijder project"})]})]})]})})},u=()=>a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:l,children:a.jsx("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-md w-full border-2 border-red-500/30",onClick:d=>d.stopPropagation(),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Qi,{size:32,className:"text-red-400"})}),a.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Laatste bevestiging"}),a.jsxs("p",{className:"text-gray-400 mb-6",children:["Weet je het ",a.jsx("strong",{className:"text-red-400",children:"100% zeker"}),"?"]}),a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:a.jsxs("p",{className:"text-red-300 text-sm",children:["Project ",a.jsx("strong",{children:e.project_number})," en alle bijbehorende gegevens worden ",a.jsx("strong",{children:"permanent verwijderd"}),". Dit kan niet ongedaan worden gemaakt!"]})}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{onClick:()=>i(!1),className:"btn-secondary",disabled:n,children:"Nee, annuleren"}),a.jsx("button",{onClick:c,className:`bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl transition-all flex items-center space-x-2 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Verwijderen..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{size:20}),a.jsx("span",{children:"Ja, definitief verwijderen"})]})})]})]})})});return si.createPortal(s?a.jsx(u,{}):a.jsx(A,{}),document.body)},yS=()=>{const e=_s(),{currentUser:t}=ai(),[r,n]=$.useState([]),[s,i]=$.useState(""),[o,c]=$.useState("all"),[l,A]=$.useState("all"),[u,d]=$.useState("all"),[f,h]=$.useState(!1),[p,m]=$.useState(""),[x,v]=$.useState(""),[y,b]=$.useState(!1),[_,N]=$.useState([]),[P,T]=$.useState(!0),[j,k]=$.useState([]),[z,E]=$.useState(null),[C,Q]=$.useState(!1),[L,D]=$.useState([]),S=async()=>{try{T(!0);let re=await $e.getProjects()||[];if((t==null?void 0:t.role)==="tester"){const he=re.length;re=re.filter(ue=>{var _e;const Ce=((_e=ue.status)==null?void 0:_e.toLowerCase())==="testen";return console.log(Ce?`🧪 DASHBOARD TESTER FILTER: Showing project ${ue.project_number} (status: ${ue.status}) to tester ${t.username} - IN TESTING PHASE`:`🧪 DASHBOARD TESTER FILTER: Hiding project ${ue.project_number} (status: ${ue.status}) from tester ${t.username} - NOT IN TESTING PHASE`),Ce}),console.log(`🧪 DASHBOARD TESTER FILTER: Filtered ${he} projects down to ${re.length} for tester ${t.username}`)}if(t!=null&&t.assignedLocations&&t.assignedLocations.length>0)if(t.assignedLocations.length<ss.length){const he=re.length;re=re.filter(ue=>{const Ce=ue.location?t.assignedLocations.includes(ue.location):!0;return console.log(`🌍 DASHBOARD FILTER: Project ${ue.project_number} (location: ${ue.location}) - Access: ${Ce}`),Ce}),console.log(`🌍 DASHBOARD: Filtered ${he} projects to ${re.length} for user ${t.username}`)}else console.log(`🌍 DASHBOARD: User ${t.username} has access to all locations`);else console.log(`🌍 DASHBOARD: User ${t==null?void 0:t.username} has no location restrictions`);n(re),await O(re)}catch(V){console.error("Error loading dashboard data:",V),ge.error("Er is een fout opgetreden bij het laden van de dashboard gegevens")}finally{T(!1)}},O=async V=>{var he,ue;const re=[];for(const Ce of V)if(((he=Ce.status)==null?void 0:he.toLowerCase())==="productie"&&((ue=Ce.distributors)==null?void 0:ue.length)>0)try{const _e=Ce.distributors[0].id,Fe=await $e.getTestData(_e),Re=Fe==null?void 0:Fe.find(Qe=>Qe.test_type==="pre_testing_approval");if(Re&&Re.data.approvalData){const Qe=Re.data.approvalData;Qe.reviewedAt?re.push({project:Ce,status:Qe.overallApproval?"approved":"declined",reviewedBy:Qe.reviewedBy,reviewedAt:Qe.reviewedAt}):Qe.status==="submitted"&&re.push({project:Ce,status:"submitted",submittedBy:Qe.submittedBy,submittedAt:Qe.submittedAt})}}catch(_e){console.error("Error checking approval for project:",Ce.project_number,_e)}D(re)},R=localStorage.getItem("currentUserId");$.useEffect(()=>{console.log("🚀 DASHBOARD: Component mounting, setting up subscriptions...");const V=localStorage.getItem("currentUserId");if(V){const Ce=JSON.parse(localStorage.getItem("users")||"[]").find(_e=>_e.id===V);Ce&&((t||R)&&S(),m(Ce.username),v(Ce.profilePicture||""),console.log("👤 DASHBOARD: Current user set:",Ce.username,Ce.id))}W(),M();const re=qe.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications"},()=>{M()}).subscribe();console.log("🔄 DASHBOARD: Setting up project locks subscription...");const he=Ir.subscribeToAllProjectLocks(ue=>{console.log("📊 DASHBOARD: Received locks update:",ue.length,"locks"),console.log("🔒 DASHBOARD: Lock details:",ue.map(Ce=>`${Ce.project_id.slice(0,8)} by ${Ce.username}`)),k(ue)});return()=>{console.log("🔄 DASHBOARD: Cleaning up subscriptions..."),re.unsubscribe(),he()}},[t]);const W=async()=>{try{T(!0);let re=await $e.getProjects()||[];if(console.log("🌍 DASHBOARD: Raw projects loaded:",re.length),console.log("🌍 DASHBOARD: Current user:",t==null?void 0:t.username,"Assigned locations:",t==null?void 0:t.assignedLocations),(t==null?void 0:t.role)==="tester"){const he=re.length;re=re.filter(ue=>{var _e;const Ce=((_e=ue.status)==null?void 0:_e.toLowerCase())==="testen";return console.log(Ce?`🧪 DASHBOARD TESTER FILTER: Showing project ${ue.project_number} (status: ${ue.status}) to tester ${t.username} - IN TESTING PHASE`:`🧪 DASHBOARD TESTER FILTER: Hiding project ${ue.project_number} (status: ${ue.status}) from tester ${t.username} - NOT IN TESTING PHASE`),Ce}),console.log(`🧪 DASHBOARD TESTER FILTER: Filtered ${he} projects down to ${re.length} for tester ${t.username}`)}if(t!=null&&t.assignedLocations&&t.assignedLocations.length>0)if(t.assignedLocations.length<ss.length){const he=re.length;re=re.filter(ue=>{const Ce=ue.location?t.assignedLocations.includes(ue.location):!0;return Ce||console.log(`🌍 DASHBOARD FILTER: Hiding project ${ue.project_number} (location: ${ue.location}) from user ${t.username} - NO ACCESS`),Ce}),console.log(`🌍 DASHBOARD FILTER: Filtered ${he} projects down to ${re.length} for user ${t.username}`)}else console.log(`🌍 DASHBOARD FILTER: User ${t.username} has access to all locations - showing all projects`);else console.log(`🌍 DASHBOARD FILTER: User ${t==null?void 0:t.username} has no location restrictions - showing all projects`);n(re)}catch(V){console.error("Error loading projects:",V),ge.error(V.message||"Er is een fout opgetreden bij het laden van de projecten")}finally{T(!1)}},M=async()=>{try{const{data:V,error:re}=await qe.from("notifications").select("*").order("created_at",{ascending:!1}).limit(5);if(re)throw re;N(V||[])}catch(V){console.error("Error fetching notifications:",V),ge.error(V.message||"Er is een fout opgetreden bij het laden van de meldingen")}},q=async V=>{(t==null?void 0:t.role)==="admin"&&await Ir.forceUnlockProject(V)},B=V=>{if(!(t!=null&&t.id))return console.log("❌ DASHBOARD: No current user ID available"),!1;console.log(`🔍 DASHBOARD: Checking lock for ${V} with ${j.length} total locks`),console.log("📊 DASHBOARD: Available locks:",j.map(ue=>`${ue.project_id} by ${ue.username}`));const re=j.find(ue=>ue.project_id===V&&ue.is_active);if(console.log(`🔍 DASHBOARD: Found lock for ${V}:`,re),console.log(`👤 DASHBOARD: Current user: ${t.username} (${t.id})`),!re)return console.log("✅ DASHBOARD: No lock found - project available"),!1;const he=re.user_id!==t.id;return console.log(`🔒 DASHBOARD: Lock check result - isLocked: ${he}, lock owner: ${re.username} (${re.user_id})`),he},I=async V=>{var re,he;if(!(t!=null&&t.id)){console.log("❌ DASHBOARD: No current user ID available");return}console.log(`🎯 DASHBOARD: Attempting to navigate to project ${V}`);try{const ue=await Ir.isProjectLocked(V,t.id);if(console.log("🔍 DASHBOARD: Lock check result:",ue),ue.locked){console.log(`🚫 DASHBOARD: Project ${V} is LOCKED by ${(re=ue.lockInfo)==null?void 0:re.username} - BLOCKING NAVIGATION`),ge.error(`Project wordt bewerkt door ${(he=ue.lockInfo)==null?void 0:he.username}`);return}let Ce=r||[];console.log("🌍 DASHBOARD: Loading projects for user:",t==null?void 0:t.username),console.log("🌍 DASHBOARD: User assigned locations:",t==null?void 0:t.assignedLocations),console.log("🌍 DASHBOARD: Total projects before filtering:",Ce.length),t!=null&&t.assignedLocations&&t.assignedLocations.length>0?t.assignedLocations.length<ss.length?(Ce=Ce.filter(Fe=>{const Re=Fe.location,Qe=Re?t.assignedLocations.includes(Re):!0;return console.log(`🌍 DASHBOARD FILTER: Project ${Fe.project_number} (${Re}) - Access: ${Qe}`),Qe}),console.log(`🌍 DASHBOARD: Filtered to ${Ce.length} projects for user ${t.username}`)):console.log(`🌍 DASHBOARD: User ${t.username} has access to all locations`):console.log(`🌍 DASHBOARD: User ${t==null?void 0:t.username} has no location restrictions`),n(Ce);const _e=await Ir.lockProject(V,t.id,t.username);if(console.log("🔒 DASHBOARD: Lock creation result:",_e),_e.success){const Fe=r.find(Re=>Re.id===V);e(`/project/${V}`)}else console.log(`❌ DASHBOARD: Failed to lock project ${V}`),ge.error("Kon project niet vergrendelen")}catch(ue){console.error("❌ DASHBOARD: Error during project navigation:",ue),ge.error("Er is een fout opgetreden")}},H=async V=>{const re=r.find(he=>he.id===V);re&&E(re)},G=async()=>{if(z)try{Q(!0),await $e.deleteProject(z.id),n(r.filter(V=>V.id!==z.id)),ge.success("Project en alle bijbehorende gegevens zijn verwijderd!"),E(null)}catch(V){console.error("Error deleting project:",V),ge.error("Er is een fout opgetreden bij het verwijderen van het project")}finally{Q(!1)}},J=()=>{E(null)},ie=V=>{const re=new Date,he=new Date(re.getFullYear(),re.getMonth(),re.getDate());switch(V){case"this_week":const ue=new Date(he);return ue.setDate(he.getDate()-he.getDay()),{start:ue,end:re};case"this_month":return{start:new Date(re.getFullYear(),re.getMonth(),1),end:re};case"this_quarter":const _e=Math.floor(re.getMonth()/3);return{start:new Date(re.getFullYear(),_e*3,1),end:re};default:return null}},se=(V=>V.filter(re=>{var Fe,Re,Qe;const he=re.project_number.toLowerCase().includes(s.toLowerCase())||(((Fe=re.status)==null?void 0:Fe.toLowerCase())||"").includes(s.toLowerCase())||(((Re=re.client)==null?void 0:Re.toLowerCase())||"").includes(s.toLowerCase())||(((Qe=re.location)==null?void 0:Qe.toLowerCase())||"").includes(s.toLowerCase()),ue=o==="all"||re.status===o,Ce=l==="all"||re.client===l;let _e=!0;if(u!=="all"){const Ge=ie(u);if(Ge){const et=new Date(re.created_at);_e=et>=Ge.start&&et<=Ge.end}}return he&&ue&&Ce&&_e}))(r),we=()=>[...new Set(r.map(re=>re.client).filter(Boolean))].sort(),be=()=>[...new Set(r.map(re=>re.status).filter(Boolean))].sort(),ve=()=>{i(""),c("all"),A("all"),d("all")},pe=()=>{let V=0;return s&&V++,o!=="all"&&V++,l!=="all"&&V++,u!=="all"&&V++,V},oe=()=>{ge.success("Je bent succesvol uitgelogd!"),setTimeout(()=>{localStorage.removeItem("loggedIn"),e("/login")},1500)},de=V=>{if(!V)return"bg-gray-500/20 text-gray-400";switch(V.toLowerCase()){case"intake":return"bg-blue-500/20 text-blue-400";case"offerte":return"bg-yellow-500/20 text-yellow-400";case"order":return"bg-blue-500/20 text-blue-400";case"testen":return"bg-yellow-500/20 text-yellow-400";case"levering":return"bg-green-500/20 text-green-400";case"opgeleverd":return"bg-green-500/20 text-green-400";case"verloren":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}};return P?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Dashboard laden..."})]})})}):a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx(wd,{position:"top-right"}),a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),a.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"2s"}}),a.jsx("div",{className:"absolute bottom-0 left-1/2 w-72 h-72 bg-blue-400 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"4s"}})]}),a.jsx("div",{className:"card p-8 mb-8 relative",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-6 lg:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[x?a.jsx("img",{src:x,alt:p,className:"w-20 h-20 rounded-full object-cover ring-4 ring-blue-500/30 shadow-lg"}):a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center ring-4 ring-blue-500/30 shadow-lg",children:a.jsx("span",{className:"text-2xl font-bold text-white",children:p.charAt(0).toUpperCase()})}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-[#1E2530]"})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-400 text-lg mb-1",children:[(()=>{const V=new Date().getHours();return V>=0&&V<=12?"Goedemorgen":V>=12&&V<=17?"Goedemiddag":"Goedeavond"})(),", ",p]}),a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-blue-300 to-blue-500 bg-clip-text text-transparent mb-2",children:"Welkom terug! 👋"}),a.jsx("p",{className:"text-gray-400",children:new Date().toLocaleDateString("nl-NL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("button",{onClick:()=>e("/create-project"),className:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center space-x-2 transform hover:scale-105",children:[a.jsx(Ss,{size:20}),a.jsx("span",{className:"font-semibold",children:"Nieuw Project"})]}),a.jsxs("button",{onClick:oe,className:"bg-[#2A303C] hover:bg-[#374151] text-white px-4 py-3 rounded-xl shadow-lg transition-all duration-300 flex items-center space-x-2 transform hover:scale-105",children:[a.jsx(i$,{size:20}),a.jsx("span",{children:"Uitloggen"})]})]})]})})]}),a.jsx(wK,{projectLocks:j,currentUserId:(t==null?void 0:t.id)||""}),L.length>0&&a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:a.jsx(nw,{size:20,className:"text-orange-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-orange-400",children:"Pre-Testing Goedkeuringen"})]}),a.jsx("div",{className:"space-y-3",children:L.map((V,re)=>a.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${V.status==="approved"?"bg-green-500/10 border-green-500/20 hover:bg-green-500/20":V.status==="declined"?"bg-red-500/10 border-red-500/20 hover:bg-red-500/20":"bg-yellow-500/10 border-yellow-500/20 hover:bg-yellow-500/20"}`,onClick:()=>e(`/project/${V.project.id}`),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`text-2xl ${V.status==="approved"?"text-green-400":V.status==="declined"?"text-red-400":"text-yellow-400"}`,children:V.status==="approved"?"✅":V.status==="declined"?"❌":"⏳"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-white",children:["Project ",V.project.project_number]}),a.jsx("p",{className:"text-sm text-gray-400",children:V.status==="approved"?`Goedgekeurd door ${V.reviewedBy}`:V.status==="declined"?`Afgekeurd door ${V.reviewedBy} - Aanpassingen vereist`:`Ingediend door ${V.submittedBy} - Wacht op beoordeling`})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${V.status==="approved"?"bg-green-500/20 text-green-400":V.status==="declined"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:V.status==="approved"?"Goedgekeurd":V.status==="declined"?"Afgekeurd":"Wacht op beoordeling"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:V.reviewedAt?new Date(V.reviewedAt).toLocaleDateString("nl-NL"):V.submittedAt?new Date(V.submittedAt).toLocaleDateString("nl-NL"):""})]})]})},re))})]}),a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(qa,{size:20,className:"text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Projecten Overzicht"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Alle actieve en recente projecten"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>h(!f),className:`btn-secondary flex items-center space-x-2 ${pe()>0?"bg-blue-500/20 text-blue-400":""}`,children:[a.jsx(kg,{size:16}),a.jsx("span",{children:"Filters"}),pe()>0&&a.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:pe()})]}),a.jsxs("div",{className:"text-sm text-gray-400",children:[se.length," van ",r.length," projecten"]}),a.jsxs("button",{onClick:()=>e("/projects"),className:"btn-primary flex items-center space-x-2",children:[a.jsx(qa,{size:16}),a.jsx("span",{children:"Alle projecten"})]})]})]}),f&&a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-xl p-6 mb-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Project Filters"}),pe()>0&&a.jsxs("button",{onClick:ve,className:"btn-secondary flex items-center space-x-2 text-sm",children:[a.jsx(gt,{size:14}),a.jsx("span",{children:"Wis filters"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Snelle datum selectie"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"Deze week",value:"this_week"},{label:"Deze maand",value:"this_month"},{label:"Dit kwartaal",value:"this_quarter"},{label:"Alle tijd",value:"all"}].map(V=>a.jsx("button",{onClick:()=>d(V.value),className:`px-4 py-2 rounded-lg text-sm transition-all ${u===V.value?"bg-gradient-to-r from-blue-600 to-blue-400 text-white shadow-lg":"bg-[#374151] text-gray-400 hover:bg-gray-600 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qn,{size:14}),a.jsx("span",{children:V.label})]})},V.value))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Status"}),a.jsxs("select",{className:"input-field",value:o,onChange:V=>c(V.target.value),children:[a.jsx("option",{value:"all",children:"Alle statussen"}),be().map(V=>a.jsx("option",{value:V,children:V},V))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Klant"}),a.jsxs("select",{className:"input-field",value:l,onChange:V=>A(V.target.value),children:[a.jsx("option",{value:"all",children:"Alle klanten"}),we().map(V=>a.jsx("option",{value:V,children:V},V))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Zoeken"}),a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Zoeken...",className:"input-field pl-10",value:s,onChange:V=>i(V.target.value)}),s&&a.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:a.jsx(gt,{size:16})})]})]})]}),pe()>0&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Actieve filters:"}),s&&a.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full",children:['Zoekterm: "',s,'"']}),o!=="all"&&a.jsxs("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full",children:["Status: ",o]}),l!=="all"&&a.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded-full",children:["Klant: ",l]}),u!=="all"&&a.jsxs("span",{className:"px-2 py-1 bg-orange-500/20 text-orange-400 rounded-full",children:["Periode: ",u==="this_week"?"Deze week":u==="this_month"?"Deze maand":u==="this_quarter"?"Dit kwartaal":u]})]})]}),a.jsxs("div",{className:"overflow-x-auto max-h-96 overflow-y-auto pr-4",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"table-header text-left",children:"Projectnummer"}),a.jsx("th",{className:"table-header text-left",children:"Datum"}),a.jsx("th",{className:"table-header text-left",children:"Klant"}),a.jsx("th",{className:"table-header text-left",children:"Locatie"}),a.jsx("th",{className:"table-header text-left",children:"Status"}),a.jsx("th",{className:"table-header text-left",children:"Vergrendeling"}),a.jsx("th",{className:"table-header text-left",children:"Verdelers"}),a.jsx("th",{className:"table-header text-left",children:"Omschrijving"}),a.jsx("th",{className:"table-header text-left",children:"Acties"})]})}),a.jsx("tbody",{children:se.slice(0,10).map(V=>{var re;return a.jsxs("tr",{className:`table-row ${B(V.id)?"opacity-60 cursor-not-allowed":"cursor-pointer hover:bg-[#2A303C]/50"}`,onClick:()=>{if(!B(V.id))I(V.id);else{console.log(`🚫 Dashboard: Project ${V.id} is locked, cannot navigate`);const he=j.find(ue=>ue.project_id===V.id&&ue.is_active);ge.error(`Project wordt bewerkt door ${he==null?void 0:he.username}`)}},children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{className:"font-medium text-blue-400",children:V.project_number})]})}),a.jsx("td",{className:"py-4 text-gray-300",children:new Date(V.date).toLocaleDateString("nl-NL")}),a.jsx("td",{className:"py-4 text-gray-300",children:V.client||"-"}),a.jsx("td",{className:"py-4 text-gray-300",children:V.location||"-"}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${de(V.status)}`,children:V.status||"Onbekend"})}),a.jsx("td",{className:"py-4",children:a.jsx(rL,{projectId:V.id,projectLocks:j,currentUserId:(t==null?void 0:t.id)||"",currentUserRole:(t==null?void 0:t.role)||"user",onForceUnlock:()=>q(V.id),compact:!0})}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-medium text-green-400",children:((re=V.distributors)==null?void 0:re.length)||0})}),a.jsx("span",{className:"text-sm text-gray-400",children:"verdelers"})]})}),a.jsx("td",{className:"py-4 max-w-xs",children:a.jsx("p",{className:"text-sm text-gray-300 truncate",title:V.description,children:V.description||"-"})}),a.jsx("td",{className:"py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:he=>{he.stopPropagation(),B(V.id)||e(`/uploads?projectId=${V.id}`)},className:`p-2 bg-[#2A303C] rounded-lg transition-colors group ${B(V.id)?"opacity-50 cursor-not-allowed":"hover:bg-purple-500/20"}`,title:"Uploads",disabled:B(V.id),children:a.jsx(Co,{size:16,className:"text-gray-400 group-hover:text-purple-400"})}),a.jsx("button",{onClick:he=>{if(he.stopPropagation(),!B(V.id))I(V.id);else{const ue=j.find(Ce=>Ce.project_id===V.id&&Ce.is_active);ge.error(`Project wordt bewerkt door ${ue==null?void 0:ue.username}`)}},className:`p-2 bg-[#2A303C] rounded-lg transition-colors group ${B(V.id)?"opacity-50 cursor-not-allowed":"hover:bg-blue-500/20"}`,title:"Openen",disabled:B(V.id),children:a.jsx(qa,{size:16,className:"text-gray-400 group-hover:text-blue-400"})}),a.jsx("button",{onClick:he=>{he.stopPropagation(),H(V.id)},className:`p-2 bg-[#2A303C] rounded-lg transition-colors group ${B(V.id)?"opacity-50 cursor-not-allowed":"hover:bg-red-500/20"}`,title:"Verwijderen",disabled:B(V.id),children:a.jsx(Zr,{size:16,className:"text-gray-400 group-hover:text-red-400"})})]})})]},V.id)})})]}),se.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(qa,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Geen projecten gevonden"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Probeer een andere zoekterm of maak een nieuw project aan"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-2xl"}),a.jsxs("div",{className:"card p-6 relative backdrop-blur-sm border border-blue-500/20 hover:border-blue-400/40 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300",children:a.jsx(qa,{size:24,className:"text-white"})}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-green-400 font-medium",children:"Actief"})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Totaal Projecten"}),a.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:r.length}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${Math.min(r.length/Math.max(r.length,10)*100,100)}%`}})}),a.jsx("span",{className:"text-xs text-blue-400 font-medium",children:"100%"})]})]})]})]}),a.jsxs("div",{className:"group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/20 to-green-600/20 rounded-2xl"}),a.jsxs("div",{className:"card p-6 relative backdrop-blur-sm border border-green-500/20 hover:border-green-400/40 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg group-hover:shadow-green-500/25 transition-all duration-300",children:a.jsx(Fn,{size:24,className:"text-white"})}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-yellow-400 font-medium",children:"Lopend"})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Actieve Projecten"}),a.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:r.filter(V=>V.status&&!["opgeleverd","verloren"].includes(V.status.toLowerCase())).length}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${r.length>0?Math.min(r.filter(V=>V.status&&!["opgeleverd","verloren"].includes(V.status.toLowerCase())).length/r.length*100,100):0}%`}})}),a.jsxs("span",{className:"text-xs text-green-400 font-medium",children:[r.length>0?Math.round(r.filter(V=>V.status&&!["opgeleverd","verloren"].includes(V.status.toLowerCase())).length/r.length*100):0,"%"]})]})]})]})]}),a.jsxs("div",{className:"group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-2xl"}),a.jsxs("div",{className:"card p-6 relative backdrop-blur-sm border border-purple-500/20 hover:border-purple-400/40 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg group-hover:shadow-purple-500/25 transition-all duration-300",children:a.jsx(nw,{size:24,className:"text-white"})}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-green-400 font-medium",children:"Voltooid"})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Voltooide Projecten"}),a.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:r.filter(V=>{var re;return((re=V.status)==null?void 0:re.toLowerCase())==="opgeleverd"}).length}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${r.length>0?Math.min(r.filter(V=>{var re;return((re=V.status)==null?void 0:re.toLowerCase())==="opgeleverd"}).length/r.length*100,100):0}%`}})}),a.jsxs("span",{className:"text-xs text-purple-400 font-medium",children:[r.length>0?Math.round(r.filter(V=>{var re;return((re=V.status)==null?void 0:re.toLowerCase())==="opgeleverd"}).length/r.length*100):0,"%"]})]})]})]})]}),a.jsxs("div",{className:"group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/20 to-orange-600/20 rounded-2xl"}),a.jsxs("div",{className:"card p-6 relative backdrop-blur-sm border border-orange-500/20 hover:border-orange-400/40 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg group-hover:shadow-orange-500/25 transition-all duration-300",children:a.jsx(Co,{size:24,className:"text-white"})}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-blue-400 font-medium",children:"Systeem"})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Totaal Verdelers"}),a.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:r.reduce((V,re)=>{var he;return V+(((he=re.distributors)==null?void 0:he.length)||0)},0)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-400 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${r.length>0?Math.min(r.reduce((V,re)=>{var he;return V+(((he=re.distributors)==null?void 0:he.length)||0)},0)/(r.length*3)*100,100):0}%`}})}),a.jsxs("span",{className:"text-xs text-orange-400 font-medium",children:[r.length>0?Math.round(r.reduce((V,re)=>{var he;return V+(((he=re.distributors)==null?void 0:he.length)||0)},0)/Math.max(r.length,1)):0," gem."]})]})]})]})]})]}),a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(nw,{size:20,className:"text-green-400"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Status Overzicht"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Project voortgang en distributie"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-blue-400",children:"Project Voltooiing"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[r.length>0?Math.round(r.filter(V=>{var re;return((re=V.status)==null?void 0:re.toLowerCase())==="opgeleverd"}).length/r.length*100):0,"%"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Voltooid"}),a.jsx("span",{className:"text-green-400 font-medium",children:r.filter(V=>{var re;return((re=V.status)==null?void 0:re.toLowerCase())==="opgeleverd"}).length})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-3 rounded-full transition-all duration-1000 ease-out",style:{width:`${r.length>0?r.filter(V=>{var re;return((re=V.status)==null?void 0:re.toLowerCase())==="opgeleverd"}).length/r.length*100:0}%`}})}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Actief"}),a.jsx("span",{className:"text-blue-400 font-medium",children:r.filter(V=>V.status&&!["opgeleverd","verloren"].includes(V.status.toLowerCase())).length})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/20 rounded-xl p-6",children:[a.jsx("h3",{className:"font-semibold text-purple-400 mb-4",children:"Status Verdeling"}),a.jsx("div",{className:"space-y-3",children:["Intake","Offerte","Order","Testen","Levering","Opgeleverd"].map(V=>{const re=r.filter(Ce=>{var _e;return((_e=Ce.status)==null?void 0:_e.toLowerCase())===V.toLowerCase()}).length,he=r.length>0?re/r.length*100:0,ue={Intake:"from-blue-500 to-blue-400",Offerte:"from-yellow-500 to-yellow-400",Order:"from-indigo-500 to-indigo-400",Testen:"from-orange-500 to-orange-400",Levering:"from-cyan-500 to-cyan-400",Opgeleverd:"from-green-500 to-green-400"};return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${ue[V]||"from-gray-500 to-gray-400"}`}),a.jsx("span",{className:"text-sm text-gray-300",children:V})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-16 bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`bg-gradient-to-r ${ue[V]||"from-gray-500 to-gray-400"} h-2 rounded-full transition-all duration-1000 ease-out`,style:{width:`${he}%`}})}),a.jsx("span",{className:"text-xs text-white font-medium w-8 text-right",children:re})]})]},V)})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl p-6",children:[a.jsx("h3",{className:"font-semibold text-green-400 mb-4",children:"Deze Maand"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Nieuwe Projecten"}),a.jsx("span",{className:"text-lg font-bold text-green-400",children:r.filter(V=>{const re=new Date(V.created_at),he=new Date;return re.getMonth()===he.getMonth()&&re.getFullYear()===he.getFullYear()}).length})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${r.length>0?Math.min(r.filter(V=>{const re=new Date(V.created_at),he=new Date;return re.getMonth()===he.getMonth()&&re.getFullYear()===he.getFullYear()}).length/Math.max(r.length*.3,1)*100,100):0}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Verdelers Toegevoegd"}),a.jsx("span",{className:"text-lg font-bold text-blue-400",children:r.reduce((V,re)=>{var Ce;const he=new Date(re.created_at),ue=new Date;return he.getMonth()===ue.getMonth()&&he.getFullYear()===ue.getFullYear()?V+(((Ce=re.distributors)==null?void 0:Ce.length)||0):V},0)})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${Math.min(r.reduce((V,re)=>{var Ce;const he=new Date(re.created_at),ue=new Date;return he.getMonth()===ue.getMonth()&&he.getFullYear()===ue.getFullYear()?V+(((Ce=re.distributors)==null?void 0:Ce.length)||0):V},0)/Math.max(r.reduce((V,re)=>{var he;return V+(((he=re.distributors)==null?void 0:he.length)||0)},0)*.3,1)*100,100)}%`}})})]})]})]})]})]}),a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(Ss,{size:20,className:"text-blue-400"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Snelle Acties"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Veelgebruikte functies"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx("button",{onClick:()=>e("/create-project"),className:"group bg-gradient-to-br from-blue-500/10 to-blue-600/10 hover:from-blue-500/20 hover:to-blue-600/20 border border-blue-500/20 hover:border-blue-400/40 rounded-xl p-6 transition-all duration-300 transform hover:scale-105 hover:shadow-lg",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg group-hover:shadow-blue-500/25 transition-all duration-300",children:a.jsx(Ss,{size:24,className:"text-white"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"font-semibold text-white group-hover:text-blue-400 transition-colors",children:"Nieuw Project"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start een nieuw project"})]})]})}),a.jsx("button",{onClick:()=>e("/verdelers"),className:"group bg-gradient-to-br from-green-500/10 to-green-600/10 hover:from-green-500/20 hover:to-green-600/20 border border-green-500/20 hover:border-green-400/40 rounded-xl p-6 transition-all duration-300 transform hover:scale-105 hover:shadow-lg",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg group-hover:shadow-green-500/25 transition-all duration-300",children:a.jsx(Co,{size:24,className:"text-white"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"font-semibold text-white group-hover:text-green-400 transition-colors",children:"Verdelers"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Beheer verdelers"})]})]})}),a.jsx("button",{onClick:()=>e("/uploads"),className:"group bg-gradient-to-br from-purple-500/10 to-purple-600/10 hover:from-purple-500/20 hover:to-purple-600/20 border border-purple-500/20 hover:border-purple-400/40 rounded-xl p-6 transition-all duration-300 transform hover:scale-105 hover:shadow-lg",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg group-hover:shadow-purple-500/25 transition-all duration-300",children:a.jsx(qa,{size:24,className:"text-white"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"font-semibold text-white group-hover:text-purple-400 transition-colors",children:"Documenten"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Bekijk uploads"})]})]})}),a.jsxs("button",{onClick:()=>e("/meldingen"),className:"group bg-gradient-to-br from-orange-500/10 to-orange-600/10 hover:from-orange-500/20 hover:to-orange-600/20 border border-orange-500/20 hover:border-orange-400/40 rounded-xl p-6 transition-all duration-300 transform hover:scale-105 hover:shadow-lg relative",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg group-hover:shadow-orange-500/25 transition-all duration-300",children:a.jsx(Mv,{size:24,className:"text-white"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"font-semibold text-white group-hover:text-orange-400 transition-colors",children:"Meldingen"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Service desk"})]})]}),_.some(V=>!V.read)&&a.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:_.filter(V=>!V.read).length})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"}),z&&a.jsx(nL,{project:z,onConfirm:G,onCancel:J,isDeleting:C})]})};var sL={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(bn,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s,i=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,c={},l=0,A={};function u(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var z=N(k);z.chunkSize=parseInt(z.chunkSize),k.step||k.chunk||(z.chunkSize=null),this._handle=new m(z),(this._handle.streamer=this)._config=z}).call(this,j),this.parseChunk=function(k,z){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let Q=this._config.newline;Q||(C=this._config.quoteChar||'"',Q=this._handle.guessLineEndings(k,C)),k=[...k.split(Q).slice(E)].join(Q)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(k))!==void 0&&(k=C),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+k,C=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=C.meta.cursor,E=(this._finished||(this._partialLine=E.substring(k-this._baseIndex),this._baseIndex=k),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:C,workerId:A.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!z){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!E||!T(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(k){T(this._config.error)?this._config.error(k):o&&this._config.error&&n.postMessage({workerId:A.WORKER_ID,error:k,finished:!1})}}function d(j){var k;(j=j||{}).chunkSize||(j.chunkSize=A.RemoteChunkSize),u.call(this,j),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),i||(k.onload=P(this._chunkLoaded,this),k.onerror=P(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var z,E=this._config.downloadRequestHeaders;for(z in E)k.setRequestHeader(z,E[z])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+C));try{k.send(this._config.downloadRequestBody)}catch(Q){this._chunkError(Q.message)}i&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(z=>(z=z.getResponseHeader("Content-Range"))!==null?parseInt(z.substring(z.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(z){z=k.statusText||z,this._sendError(new Error(z))}}function f(j){(j=j||{}).chunkSize||(j.chunkSize=A.LocalChunkSize),u.call(this,j);var k,z,E=typeof FileReader<"u";this.stream=function(C){this._input=C,z=C.slice||C.webkitSlice||C.mozSlice,E?((k=new FileReader).onload=P(this._chunkLoaded,this),k.onerror=P(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,Q=(this._config.chunkSize&&(Q=Math.min(this._start+this._config.chunkSize,this._input.size),C=z.call(C,this._start,Q)),k.readAsText(C,this._config.encoding));E||this._chunkLoaded({target:{result:Q}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(k.error)}}function h(j){var k;u.call(this,j=j||{}),this.stream=function(z){return k=z,this._nextChunk()},this._nextChunk=function(){var z,E;if(!this._finished)return z=this._config.chunkSize,k=z?(E=k.substring(0,z),k.substring(z)):(E=k,""),this._finished=!k,this.parseChunk(E)}}function p(j){u.call(this,j=j||{});var k=[],z=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):z=!0},this._streamData=P(function(C){try{k.push(typeof C=="string"?C:C.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(Q){this._streamError(Q)}},this),this._streamError=P(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=P(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(j){var k,z,E,C,Q=Math.pow(2,53),L=-Q,D=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,S=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,O=this,R=0,W=0,M=!1,q=!1,B=[],I={data:[],errors:[],meta:{}};function H(Ae){return j.skipEmptyLines==="greedy"?Ae.join("").trim()==="":Ae.length===1&&Ae[0].length===0}function G(){if(I&&E&&(ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+A.DefaultDelimiter+"'"),E=!1),j.skipEmptyLines&&(I.data=I.data.filter(function(be){return!H(be)})),J()){let be=function(ve,pe){T(j.transformHeader)&&(ve=j.transformHeader(ve,pe)),B.push(ve)};if(I)if(Array.isArray(I.data[0])){for(var Ae=0;J()&&Ae<I.data.length;Ae++)I.data[Ae].forEach(be);I.data.splice(0,1)}else I.data.forEach(be)}function se(be,ve){for(var pe=j.header?{}:[],oe=0;oe<be.length;oe++){var de=oe,V=be[oe],V=((re,he)=>(ue=>(j.dynamicTypingFunction&&j.dynamicTyping[ue]===void 0&&(j.dynamicTyping[ue]=j.dynamicTypingFunction(ue)),(j.dynamicTyping[ue]||j.dynamicTyping)===!0))(re)?he==="true"||he==="TRUE"||he!=="false"&&he!=="FALSE"&&((ue=>{if(D.test(ue)&&(ue=parseFloat(ue),L<ue&&ue<Q))return 1})(he)?parseFloat(he):S.test(he)?new Date(he):he===""?null:he):he)(de=j.header?oe>=B.length?"__parsed_extra":B[oe]:de,V=j.transform?j.transform(V,de):V);de==="__parsed_extra"?(pe[de]=pe[de]||[],pe[de].push(V)):pe[de]=V}return j.header&&(oe>B.length?ie("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+oe,W+ve):oe<B.length&&ie("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+oe,W+ve)),pe}var we;I&&(j.header||j.dynamicTyping||j.transform)&&(we=1,!I.data.length||Array.isArray(I.data[0])?(I.data=I.data.map(se),we=I.data.length):I.data=se(I.data,0),j.header&&I.meta&&(I.meta.fields=B),W+=we)}function J(){return j.header&&B.length===0}function ie(Ae,se,we,be){Ae={type:Ae,code:se,message:we},be!==void 0&&(Ae.row=be),I.errors.push(Ae)}T(j.step)&&(C=j.step,j.step=function(Ae){I=Ae,J()?G():(G(),I.data.length!==0&&(R+=Ae.data.length,j.preview&&R>j.preview?z.abort():(I.data=I.data[0],C(I,O))))}),this.parse=function(Ae,se,we){var be=j.quoteChar||'"',be=(j.newline||(j.newline=this.guessLineEndings(Ae,be)),E=!1,j.delimiter?T(j.delimiter)&&(j.delimiter=j.delimiter(Ae),I.meta.delimiter=j.delimiter):((be=((ve,pe,oe,de,V)=>{var re,he,ue,Ce;V=V||[",","	","|",";",A.RECORD_SEP,A.UNIT_SEP];for(var _e=0;_e<V.length;_e++){for(var Fe,Re=V[_e],Qe=0,Ge=0,et=0,st=(ue=void 0,new v({comments:de,delimiter:Re,newline:pe,preview:10}).parse(ve)),Nt=0;Nt<st.data.length;Nt++)oe&&H(st.data[Nt])?et++:(Fe=st.data[Nt].length,Ge+=Fe,ue===void 0?ue=Fe:0<Fe&&(Qe+=Math.abs(Fe-ue),ue=Fe));0<st.data.length&&(Ge/=st.data.length-et),(he===void 0||Qe<=he)&&(Ce===void 0||Ce<Ge)&&1.99<Ge&&(he=Qe,re=Re,Ce=Ge)}return{successful:!!(j.delimiter=re),bestDelimiter:re}})(Ae,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=be.bestDelimiter:(E=!0,j.delimiter=A.DefaultDelimiter),I.meta.delimiter=j.delimiter),N(j));return j.preview&&j.header&&be.preview++,k=Ae,z=new v(be),I=z.parse(k,se,we),G(),M?{meta:{paused:!0}}:I||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,z.abort(),k=T(j.chunk)?"":k.substring(z.getCharIndex())},this.resume=function(){O.streamer._halted?(M=!1,O.streamer.parseChunk(k,!0)):setTimeout(O.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,z.abort(),I.meta.aborted=!0,T(j.complete)&&j.complete(I),k=""},this.guessLineEndings=function(ve,be){ve=ve.substring(0,1048576);var be=new RegExp(x(be)+"([^]*?)"+x(be),"gm"),we=(ve=ve.replace(be,"")).split("\r"),be=ve.split(`
`),ve=1<be.length&&be[0].length<we[0].length;if(we.length===1||ve)return`
`;for(var pe=0,oe=0;oe<we.length;oe++)we[oe][0]===`
`&&pe++;return pe>=we.length/2?`\r
`:"\r"}}function x(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(j){var k=(j=j||{}).delimiter,z=j.newline,E=j.comments,C=j.step,Q=j.preview,L=j.fastMode,D=null,S=!1,O=j.quoteChar==null?'"':j.quoteChar,R=O;if(j.escapeChar!==void 0&&(R=j.escapeChar),(typeof k!="string"||-1<A.BAD_DELIMITERS.indexOf(k))&&(k=","),E===k)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<A.BAD_DELIMITERS.indexOf(E))&&(E=!1),z!==`
`&&z!=="\r"&&z!==`\r
`&&(z=`
`);var W=0,M=!1;this.parse=function(q,B,I){if(typeof q!="string")throw new Error("Input must be a string");var H=q.length,G=k.length,J=z.length,ie=E.length,Ae=T(C),se=[],we=[],be=[],ve=W=0;if(!q)return Qe();if(L||L!==!1&&q.indexOf(O)===-1){for(var pe=q.split(z),oe=0;oe<pe.length;oe++){if(be=pe[oe],W+=be.length,oe!==pe.length-1)W+=z.length;else if(I)return Qe();if(!E||be.substring(0,ie)!==E){if(Ae){if(se=[],Ce(be.split(k)),Ge(),M)return Qe()}else Ce(be.split(k));if(Q&&Q<=oe)return se=se.slice(0,Q),Qe(!0)}}return Qe()}for(var de=q.indexOf(k,W),V=q.indexOf(z,W),re=new RegExp(x(R)+x(O),"g"),he=q.indexOf(O,W);;)if(q[W]===O)for(he=W,W++;;){if((he=q.indexOf(O,he+1))===-1)return I||we.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:se.length,index:W}),Fe();if(he===H-1)return Fe(q.substring(W,he).replace(re,O));if(O===R&&q[he+1]===R)he++;else if(O===R||he===0||q[he-1]!==R){de!==-1&&de<he+1&&(de=q.indexOf(k,he+1));var ue=_e((V=V!==-1&&V<he+1?q.indexOf(z,he+1):V)===-1?de:Math.min(de,V));if(q.substr(he+1+ue,G)===k){be.push(q.substring(W,he).replace(re,O)),q[W=he+1+ue+G]!==O&&(he=q.indexOf(O,W)),de=q.indexOf(k,W),V=q.indexOf(z,W);break}if(ue=_e(V),q.substring(he+1+ue,he+1+ue+J)===z){if(be.push(q.substring(W,he).replace(re,O)),Re(he+1+ue+J),de=q.indexOf(k,W),he=q.indexOf(O,W),Ae&&(Ge(),M))return Qe();if(Q&&se.length>=Q)return Qe(!0);break}we.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:se.length,index:W}),he++}}else if(E&&be.length===0&&q.substring(W,W+ie)===E){if(V===-1)return Qe();W=V+J,V=q.indexOf(z,W),de=q.indexOf(k,W)}else if(de!==-1&&(de<V||V===-1))be.push(q.substring(W,de)),W=de+G,de=q.indexOf(k,W);else{if(V===-1)break;if(be.push(q.substring(W,V)),Re(V+J),Ae&&(Ge(),M))return Qe();if(Q&&se.length>=Q)return Qe(!0)}return Fe();function Ce(et){se.push(et),ve=W}function _e(et){var st=0;return st=et!==-1&&(et=q.substring(he+1,et))&&et.trim()===""?et.length:st}function Fe(et){return I||(et===void 0&&(et=q.substring(W)),be.push(et),W=H,Ce(be),Ae&&Ge()),Qe()}function Re(et){W=et,Ce(be),be=[],V=q.indexOf(z,W)}function Qe(et){if(j.header&&!B&&se.length&&!S){var st=se[0],Nt={},ct=new Set(st);let Bt=!1;for(let ze=0;ze<st.length;ze++){let Zt=st[ze];if(Nt[Zt=T(j.transformHeader)?j.transformHeader(Zt,ze):Zt]){let kt,us=Nt[Zt];for(;kt=Zt+"_"+us,us++,ct.has(kt););ct.add(kt),st[ze]=kt,Nt[Zt]++,Bt=!0,(D=D===null?{}:D)[kt]=Zt}else Nt[Zt]=1,st[ze]=Zt;ct.add(Zt)}Bt&&console.warn("Duplicate headers found and renamed."),S=!0}return{data:se,errors:we,meta:{delimiter:k,linebreak:z,aborted:M,truncated:!!et,cursor:ve+(B||0),renamedHeaders:D}}}function Ge(){C(Qe()),se=[],we=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return W}}function y(j){var k=j.data,z=c[k.workerId],E=!1;if(k.error)z.userError(k.error,k.file);else if(k.results&&k.results.data){var C={abort:function(){E=!0,b(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(T(z.userStep)){for(var Q=0;Q<k.results.data.length&&(z.userStep({data:k.results.data[Q],errors:k.results.errors,meta:k.results.meta},C),!E);Q++);delete k.results}else T(z.userChunk)&&(z.userChunk(k.results,C,k.file),delete k.results)}k.finished&&!E&&b(k.workerId,k.results)}function b(j,k){var z=c[j];T(z.userComplete)&&z.userComplete(k),z.terminate(),delete c[j]}function _(){throw new Error("Not implemented.")}function N(j){if(typeof j!="object"||j===null)return j;var k,z=Array.isArray(j)?[]:{};for(k in j)z[k]=N(j[k]);return z}function P(j,k){return function(){j.apply(k,arguments)}}function T(j){return typeof j=="function"}return A.parse=function(j,k){var z=(k=k||{}).dynamicTyping||!1;if(T(z)&&(k.dynamicTypingFunction=z,z={}),k.dynamicTyping=z,k.transform=!!T(k.transform)&&k.transform,!k.worker||!A.WORKERS_SUPPORTED)return z=null,A.NODE_STREAM_INPUT,typeof j=="string"?(j=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(j),z=new(k.download?d:h)(k)):j.readable===!0&&T(j.read)&&T(j.on)?z=new p(k):(n.File&&j instanceof File||j instanceof Object)&&(z=new f(k)),z.stream(j);(z=(()=>{var E;return!!A.WORKERS_SUPPORTED&&(E=(()=>{var C=n.URL||n.webkitURL||null,Q=r.toString();return A.BLOB_URL||(A.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Q,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=y,E.id=l++,c[E.id]=E)})()).userStep=k.step,z.userChunk=k.chunk,z.userComplete=k.complete,z.userError=k.error,k.step=T(k.step),k.chunk=T(k.chunk),k.complete=T(k.complete),k.error=T(k.error),delete k.worker,z.postMessage({input:j,config:k,workerId:z.id})},A.unparse=function(j,k){var z=!1,E=!0,C=",",Q=`\r
`,L='"',D=L+L,S=!1,O=null,R=!1,W=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||A.BAD_DELIMITERS.filter(function(B){return k.delimiter.indexOf(B)!==-1}).length||(C=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(z=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(S=k.skipEmptyLines),typeof k.newline=="string"&&(Q=k.newline),typeof k.quoteChar=="string"&&(L=k.quoteChar),typeof k.header=="boolean"&&(E=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");O=k.columns}k.escapeChar!==void 0&&(D=k.escapeChar+L),k.escapeFormulae instanceof RegExp?R=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(R=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(L),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return M(null,j,S);if(typeof j[0]=="object")return M(O||Object.keys(j[0]),j,S)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||O),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),M(j.fields||[],j.data||[],S);throw new Error("Unable to serialize unrecognized input");function M(B,I,H){var G="",J=(typeof B=="string"&&(B=JSON.parse(B)),typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(B)&&0<B.length),ie=!Array.isArray(I[0]);if(J&&E){for(var Ae=0;Ae<B.length;Ae++)0<Ae&&(G+=C),G+=q(B[Ae],Ae);0<I.length&&(G+=Q)}for(var se=0;se<I.length;se++){var we=(J?B:I[se]).length,be=!1,ve=J?Object.keys(I[se]).length===0:I[se].length===0;if(H&&!J&&(be=H==="greedy"?I[se].join("").trim()==="":I[se].length===1&&I[se][0].length===0),H==="greedy"&&J){for(var pe=[],oe=0;oe<we;oe++){var de=ie?B[oe]:oe;pe.push(I[se][de])}be=pe.join("").trim()===""}if(!be){for(var V=0;V<we;V++){0<V&&!ve&&(G+=C);var re=J&&ie?B[V]:V;G+=q(I[se][re],V)}se<I.length-1&&(!H||0<we&&!ve)&&(G+=Q)}}return G}function q(B,I){var H,G;return B==null?"":B.constructor===Date?JSON.stringify(B).slice(1,25):(G=!1,R&&typeof B=="string"&&R.test(B)&&(B="'"+B,G=!0),H=B.toString().replace(W,D),(G=G||z===!0||typeof z=="function"&&z(B,I)||Array.isArray(z)&&z[I]||((J,ie)=>{for(var Ae=0;Ae<ie.length;Ae++)if(-1<J.indexOf(ie[Ae]))return!0;return!1})(H,A.BAD_DELIMITERS)||-1<H.indexOf(C)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?L+H+L:H)}},A.RECORD_SEP="",A.UNIT_SEP="",A.BYTE_ORDER_MARK="\uFEFF",A.BAD_DELIMITERS=["\r",`
`,'"',A.BYTE_ORDER_MARK],A.WORKERS_SUPPORTED=!i&&!!n.Worker,A.NODE_STREAM_INPUT=1,A.LocalChunkSize=10485760,A.RemoteChunkSize=5242880,A.DefaultDelimiter=",",A.Parser=v,A.ParserHandle=m,A.NetworkStreamer=d,A.FileStreamer=f,A.StringStreamer=h,A.ReadableStreamStreamer=p,n.jQuery&&((s=n.jQuery).fn.parse=function(j){var k=j.config||{},z=[];return this.each(function(Q){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)z.push({file:this.files[L],inputElem:this,instanceConfig:s.extend({},k)})}),E(),this;function E(){if(z.length===0)T(j.complete)&&j.complete();else{var Q,L,D,S,O=z[0];if(T(j.before)){var R=j.before(O.file,O.inputElem);if(typeof R=="object"){if(R.action==="abort")return Q="AbortError",L=O.file,D=O.inputElem,S=R.reason,void(T(j.error)&&j.error({name:Q},L,D,S));if(R.action==="skip")return void C();typeof R.config=="object"&&(O.instanceConfig=s.extend(O.instanceConfig,R.config))}else if(R==="skip")return void C()}var W=O.instanceConfig.complete;O.instanceConfig.complete=function(M){T(W)&&W(M,O.file,O.inputElem),C()},A.parse(O.file,O.instanceConfig)}}function C(){z.splice(0,1),E()}}),o&&(n.onmessage=function(j){j=j.data,A.WORKER_ID===void 0&&j&&(A.WORKER_ID=j.workerId),typeof j.input=="string"?n.postMessage({workerId:A.WORKER_ID,results:A.parse(j.input,j.config),finished:!0}):(n.File&&j.input instanceof File||j.input instanceof Object)&&(j=A.parse(j.input,j.config))&&n.postMessage({workerId:A.WORKER_ID,results:j,finished:!0})}),(d.prototype=Object.create(u.prototype)).constructor=d,(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(h.prototype)).constructor=h,(p.prototype=Object.create(u.prototype)).constructor=p,A})})(sL);var jK=sL.exports;const NK=Mt(jK),BK=()=>{const e=_s(),[t,r]=$.useState([]),[n,s]=$.useState(""),[i,o]=$.useState(!1),[c,l]=$.useState({name:"",status:"Actief",visit_street:"",visit_postcode:"",visit_city:"",delivery_street:"",delivery_postcode:"",delivery_city:"",vat_number:"",kvk_number:"",contacts:[{first_name:"",last_name:"",email:"",phone:"",department:"",function:""}]});$.useEffect(()=>{A()},[]);const A=async()=>{try{const v=await $e.getClients();r(v)}catch(v){console.error("Error loading clients:",v),ge.error(v.message||"Er is een fout opgetreden bij het laden van de klanten")}},u=()=>{l(v=>({...v,contacts:[...v.contacts,{first_name:"",last_name:"",email:"",phone:"",department:"",function:""}]}))},d=v=>{const y=c.contacts.filter((b,_)=>_!==v);l({...c,contacts:y})},f=(v,y,b)=>{const _=[...c.contacts];_[v]={..._[v],[y]:b},l({...c,contacts:_})},h=async()=>{if(!c.name.trim()){ge.error("Vul tenminste de organisatienaam in!");return}try{const v=await $e.createClient(c);r([v,...t]),o(!1),l({name:"",status:"Actief",visit_street:"",visit_postcode:"",visit_city:"",delivery_street:"",delivery_postcode:"",delivery_city:"",vat_number:"",kvk_number:"",contacts:[{first_name:"",last_name:"",email:"",phone:"",department:"",function:""}]}),ge.success("Klant succesvol toegevoegd!")}catch(v){console.error("Error saving client:",v),ge.error("Er is een fout opgetreden bij het opslaan van de klant")}},p=async v=>{var b;const y=(b=v.target.files)==null?void 0:b[0];y&&(NK.parse(y,{header:!0,skipEmptyLines:!0,transformHeader:_=>_.trim(),complete:async _=>{try{const N=[];for(const P of _.data){const T={name:P.Organisatienaam,status:P.Status||"Actief",visit_street:P["Bezoekadres Straat"],visit_postcode:P["Bezoekadres Postcode"],visit_city:P["Bezoekadres Plaats"],delivery_street:P["Afleveradres Straat"],delivery_postcode:P["Afleveradres Postcode"],delivery_city:P["Afleveradres Plaats"],vat_number:P["BTW-nummer"],kvk_number:P["KvK-nummer"],contacts:[{first_name:P.Voornaam,last_name:P.Achternaam,email:P.Email,phone:P.Telefoon,department:P.Afdeling,function:P.Functie}]};if(!T.name){console.warn("Row missing organization name:",P);continue}try{const j=await $e.createClient(T);N.push(j)}catch(j){console.error("Error saving client:",j);continue}}N.length>0?(r(P=>[...N,...P]),ge.success(`${N.length} klanten succesvol geïmporteerd!`)):ge.error("Geen geldige klantgegevens gevonden in het CSV-bestand")}catch(N){console.error("CSV Processing Error:",N),ge.error("Fout bij het verwerken van het CSV-bestand")}},error:_=>{console.error("CSV Parse Error:",_),ge.error("Fout bij het importeren van het CSV-bestand")}}),v.target.value="")},m=async()=>{if(window.confirm("Weet je zeker dat je ALLE klanten wilt verwijderen? Dit kan niet ongedaan worden gemaakt!"))try{for(const v of t)await $e.deleteClient(v.id);r([]),ge.success("Alle klanten zijn verwijderd!")}catch(v){console.error("Error deleting clients:",v),ge.error("Er is een fout opgetreden bij het verwijderen van de klanten")}},x=t.filter(v=>v.name.toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx(wd,{position:"top-right"}),a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Klantenoverzicht"}),a.jsx("p",{className:"text-gray-400",children:"Beheer al je klanten op één plek"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("div",{children:[a.jsx("input",{type:"file",accept:".csv",onChange:p,className:"hidden",id:"csv-upload"}),a.jsxs("label",{htmlFor:"csv-upload",className:"btn-secondary flex items-center space-x-2 cursor-pointer",children:[a.jsx(Co,{size:20}),a.jsx("span",{children:"Importeer CSV"})]})]}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center space-x-2",children:[a.jsx(BT,{size:20}),a.jsx("span",{children:"Klant toevoegen"})]}),t.length>0&&a.jsxs("button",{onClick:m,className:"btn-secondary flex items-center space-x-2 bg-red-500/20 hover:bg-red-500/30 text-red-400",children:[a.jsx(Zr,{size:20}),a.jsx("span",{children:"Alle klanten verwijderen"})]})]})]})}),i&&a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsx("h2",{className:"text-lg text-gradient mb-6",children:"Nieuwe klant toevoegen"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Organisatienaam",name:"name"},{label:"Status",name:"status",type:"select",options:["Actief","Inactief"]},{label:"Bezoekadres Straat",name:"visit_street"},{label:"Bezoekadres Postcode",name:"visit_postcode"},{label:"Bezoekadres Plaats",name:"visit_city"},{label:"Afleveradres Straat",name:"delivery_street"},{label:"Afleveradres Postcode",name:"delivery_postcode"},{label:"Afleveradres Plaats",name:"delivery_city"},{label:"BTW-nummer",name:"vat_number"},{label:"KvK-nummer",name:"kvk_number"}].map(v=>{var y;return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:[v.label,":"]}),v.type==="select"?a.jsx("select",{className:"input-field",value:c[v.name],onChange:b=>l({...c,[v.name]:b.target.value}),children:(y=v.options)==null?void 0:y.map(b=>a.jsx("option",{value:b,children:b},b))}):a.jsx("input",{type:"text",className:"input-field",value:c[v.name],onChange:b=>l({...c,[v.name]:b.target.value})})]},v.name)})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-md text-gradient",children:"Contactpersonen"}),a.jsxs("button",{onClick:u,className:"btn-primary flex items-center space-x-2",children:[a.jsx(Ss,{size:20}),a.jsx("span",{children:"Contact toevoegen"})]})]}),c.contacts.map((v,y)=>a.jsxs("div",{className:"card p-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-400",children:["Contact ",y+1]}),a.jsx("button",{onClick:()=>d(y),className:"text-red-400 hover:text-red-300 transition",children:a.jsx(Zr,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[a.jsx("input",{type:"text",placeholder:"Voornaam",value:v.first_name,onChange:b=>f(y,"first_name",b.target.value),className:"input-field"}),a.jsx("input",{type:"text",placeholder:"Achternaam",value:v.last_name,onChange:b=>f(y,"last_name",b.target.value),className:"input-field"}),a.jsx("input",{type:"email",placeholder:"Email",value:v.email,onChange:b=>f(y,"email",b.target.value),className:"input-field"}),a.jsx("input",{type:"text",placeholder:"Telefoon",value:v.phone,onChange:b=>f(y,"phone",b.target.value),className:"input-field"}),a.jsx("input",{type:"text",placeholder:"Afdeling",value:v.department,onChange:b=>f(y,"department",b.target.value),className:"input-field"}),a.jsx("input",{type:"text",placeholder:"Functie",value:v.function,onChange:b=>f(y,"function",b.target.value),className:"input-field"})]})]},y))]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"btn-secondary",children:"Annuleren"}),a.jsx("button",{onClick:h,className:"btn-primary",children:"Opslaan"})]})]})]}),a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Zoek op klantnaam...",className:"input-field pl-10",value:n,onChange:v=>s(v.target.value)})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"overflow-x-auto max-h-[70vh] overflow-y-auto pr-4",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"table-header text-left",children:"Naam"}),a.jsx("th",{className:"table-header text-left",children:"Status"}),a.jsx("th",{className:"table-header text-left",children:"Aangemaakt op"}),a.jsx("th",{className:"table-header text-left",children:"Contactpersoon"}),a.jsx("th",{className:"table-header text-right",children:"Acties"})]})}),a.jsx("tbody",{children:x.map(v=>{var y,b;return a.jsxs("tr",{className:"table-row cursor-pointer",onClick:()=>e(`/client/${v.id}`),children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{className:"font-medium text-purple-400",children:v.name})]})}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${v.status==="Actief"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:v.status})}),a.jsx("td",{className:"py-4 text-gray-300",children:new Date(v.created_at).toLocaleString("nl-NL")}),a.jsx("td",{className:"py-4 text-gray-300",children:((b=(y=v.contacts)==null?void 0:y[0])==null?void 0:b.first_name)||"-"}),a.jsx("td",{className:"py-4 text-right",children:a.jsx("div",{className:"flex items-center justify-end space-x-2",children:a.jsx("button",{onClick:_=>{_.stopPropagation(),e(`/client/${v.id}`)},className:"p-2 bg-[#2A303C] hover:bg-purple-500/20 rounded-lg transition-colors group",title:"Openen",children:a.jsx(qa,{size:16,className:"text-gray-400 group-hover:text-purple-400"})})})})]},v.id)})})]}),x.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xa,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Geen klanten gevonden"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Probeer een andere zoekterm of voeg een nieuwe klant toe"})]})]})})]})},CK=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)}),kK=()=>{const{clientId:e}=jy(),t=_s(),[r,n]=$.useState(null),[s,i]=$.useState(!1);$.useEffect(()=>{o()},[e]);const o=async()=>{try{const h=(await $e.getClients()).find(p=>p.id===e);n(h||null)}catch(f){console.error("Error loading client:",f),ge.error("Er is een fout opgetreden bij het laden van de klant")}},c=(f,h)=>{n({...r,[f]:h})},l=(f,h,p)=>{const m=[...r.contacts];m[f][h]=p,n({...r,contacts:m})},A=f=>{const h=r.contacts.filter((p,m)=>m!==f);n({...r,contacts:h}),ge.success("Contactpersoon verwijderd!")},u=()=>{const f={id:CK(),client_id:r.id,first_name:"",last_name:"",email:"",phone:"",department:"",function:"",created_at:new Date().toISOString()};n({...r,contacts:[...r.contacts,f]})},d=async()=>{try{await $e.updateClient(r.id,r),ge.success("Wijzigingen opgeslagen!"),i(!1)}catch(f){console.error("Error updating client:",f),ge.error("Er is een fout opgetreden bij het opslaan van de wijzigingen")}};return r?a.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-white p-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-2xl",children:"Klantdetails"}),a.jsx("button",{onClick:()=>t("/clients"),className:"bg-[#4169e1] hover:bg-blue-600 transition text-white px-4 py-2 rounded-xl",children:"Terug naar klanten"})]}),a.jsxs("div",{className:"bg-[#1E2530] rounded-xl p-6 shadow-lg space-y-6 mb-8",children:[a.jsx("h2",{className:"text-lg text-[#4169e1] mb-4",children:"Klantgegevens"}),[{label:"Organisatienaam",name:"name"},{label:"Bezoekadres Straat",name:"visit_street"},{label:"Bezoekadres Postcode",name:"visit_postcode"},{label:"Bezoekadres Plaats",name:"visit_city"},{label:"Afleveradres Straat",name:"delivery_street"},{label:"Afleveradres Postcode",name:"delivery_postcode"},{label:"Afleveradres Plaats",name:"delivery_city"},{label:"BTW-nummer",name:"vat_number"},{label:"KvK-nummer",name:"kvk_number"}].map(f=>a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsxs("label",{className:"w-48 text-right mr-4",children:[f.label,":"]}),s?a.jsx("input",{type:"text",value:r[f.name],onChange:h=>c(f.name,h.target.value),className:"flex-1 bg-[#2A303C] text-white p-2 rounded"}):a.jsx("p",{children:r[f.name]||"-"})]},f.name))]}),a.jsxs("div",{className:"bg-[#1E2530] rounded-xl p-6 shadow-lg space-y-6 mb-8",children:[a.jsx("h2",{className:"text-lg text-[#4169e1] mb-4",children:"Contactpersonen"}),r.contacts.map((f,h)=>a.jsxs("div",{className:"grid grid-cols-6 gap-2 items-center mb-2",children:[["first_name","last_name","email","phone","department"].map(p=>a.jsx("input",{type:"text",placeholder:p.charAt(0).toUpperCase()+p.slice(1),value:f[p],onChange:m=>l(h,p,m.target.value),className:`bg-[#2A303C] text-white p-2 rounded ${!s&&"pointer-events-none opacity-70"}`,disabled:!s},p)),s&&a.jsx("button",{onClick:()=>A(h),className:"bg-red-500 hover:bg-red-600 transition text-white px-2 py-1 rounded",children:"Verwijderen"})]},h)),s&&a.jsx("button",{onClick:u,className:"bg-[#4169e1] hover:bg-blue-600 transition text-white px-4 py-2 rounded",children:"Contactpersoon toevoegen"})]}),a.jsx("div",{className:"flex justify-end space-x-4",children:s?a.jsx("button",{onClick:d,className:"bg-green-500 hover:bg-green-600 transition text-white px-6 py-2 rounded-xl",children:"Wijzigingen opslaan"}):a.jsx("button",{onClick:()=>i(!0),className:"bg-[#4169e1] hover:bg-blue-600 transition text-white px-6 py-2 rounded-xl",children:"Klantgegevens bewerken"})})]}):a.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-white p-8",children:[a.jsx("h1",{className:"text-2xl mb-4",children:"Klant niet gevonden"}),a.jsx("button",{onClick:()=>t("/clients"),className:"bg-[#4169e1] hover:bg-blue-600 transition text-white px-4 py-2 rounded-xl",children:"Terug naar klanten"})]})},aL=({project:e,onApprove:t,onDecline:r,onCancel:n,currentUser:s})=>{var T;const[i,o]=$.useState([{id:"1",question:"Zit de aarde erin? Rail/deur/paneel?",checked:!1,comments:"",approved:null,testerComments:""},{id:"2",question:"Kamrailen in?",checked:!1,comments:"",approved:null,testerComments:""},{id:"3",question:"eindkapjes kamrailen?",checked:!1,comments:"",approved:null,testerComments:""},{id:"4",question:"Slot gemonteerd in deur?",checked:!1,comments:"",approved:null,testerComments:""},{id:"5",question:"Wartels / invoerbak gemonteerd?",checked:!1,comments:"",approved:null,testerComments:""},{id:"6",question:"Nummertjes rijgklemmen/eindsteun?",checked:!1,comments:"",approved:null,testerComments:""},{id:"7",question:"Pootje afdekappen gemonteerd?",checked:!1,comments:"",approved:null,testerComments:""},{id:"8",question:"Codeerstroken gemaakt?",checked:!1,comments:"",approved:null,testerComments:""},{id:"9",question:"Stofzuigen?",checked:!1,comments:"",approved:null,testerComments:""},{id:"10",question:"Moet de tekening aangepast worden?",checked:!1,comments:"",approved:null,testerComments:""},{id:"11",question:"Alles vast gedraaid?",checked:!1,comments:"",approved:null,testerComments:""},{id:"12",question:"Materiaal t.b.v. Kast, deksels erbij zetten.",checked:!1,comments:"",approved:null,testerComments:""},{id:"13",question:"Juiste kabel dikte?",checked:!1,comments:"",approved:null,testerComments:""},{id:"14",question:"Draad goed in componenten gezet?",checked:!1,comments:"",approved:null,testerComments:""},{id:"15",question:"Overige opmerkingen?",checked:!1,comments:"",approved:null,testerComments:""},{id:"16",question:"OSB Contact aangesloten",checked:!1,comments:"",approved:null,testerComments:""}]),[c,l]=$.useState({submittedBy:"",submittedAt:"",reviewedBy:"",reviewedAt:"",overallApproval:null,generalComments:"",status:"draft"}),[A,u]=$.useState(!1),[d,f]=$.useState("form"),h=()=>{l(j=>({...j,status:"draft",reviewedBy:"",reviewedAt:"",overallApproval:null})),o(j=>j.map(k=>({...k,approved:null,testerComments:""}))),f("form"),ge.success("Je kunt de checklist nu aanpassen en opnieuw indienen")};$.useEffect(()=>{e!=null&&e.distributors&&e.distributors.length>0&&p()},[e.id]),$.useEffect(()=>{(s==null?void 0:s.role)==="tester"||(s==null?void 0:s.role)==="admin"?c.status==="submitted"&&!c.reviewedAt||c.reviewedAt?f("review"):f("form"):c.reviewedAt||c.status==="submitted"?f("review"):f("form")},[s,c]);const p=async()=>{if(!(e!=null&&e.distributors)||e.distributors.length===0){console.warn("No distributors found for project, cannot load approval data");return}try{const j=e.distributors[0].id,k=await $e.getTestData(j),z=k==null?void 0:k.find(E=>E.test_type==="pre_testing_approval");if(z){const E=z.data;o(E.checklist||i),l(E.approvalData||c)}}catch(j){console.error("Error loading existing approval data:",j)}},m=(j,k,z)=>{o(E=>E.map(C=>C.id===j?{...C,[k]:z}:C))},x=(j,k,z)=>{o(E=>E.map(C=>C.id===j?{...C,approved:k,testerComments:z}:C))},v=()=>i.every(j=>j.checked)&&c.submittedBy.trim()!=="",y=()=>i.every(j=>j.approved!==null)&&c.overallApproval!==null&&c.reviewedBy.trim()!=="",b=async()=>{if(!v()){ge.error("Vul alle velden in en vink alle items aan voordat je indient!");return}if(!(e!=null&&e.distributors)||e.distributors.length===0){ge.error("Dit project heeft geen verdelers. Voeg eerst verdelers toe voordat je de goedkeuring indient.");return}try{u(!0);const j={checklist:i,approvalData:{...c,submittedBy:(s==null?void 0:s.username)||"Unknown",submittedAt:new Date().toISOString(),status:"submitted"}},k=e.distributors[0].id;await $e.createTestData({distributorId:k,testType:"pre_testing_approval",data:j}),ge.success("Formulier ingediend voor beoordeling door tester!"),l(j.approvalData),(s==null?void 0:s.role)==="montage"?(ge.success("Je aanvraag is verzonden! Je kunt het project nu sluiten."),setTimeout(()=>{n()},2e3)):((s==null?void 0:s.role)==="tester"||(s==null?void 0:s.role)==="admin")&&f("review")}catch(j){console.error("Error submitting approval form:",j),ge.error("Er is een fout opgetreden bij het indienen van het formulier")}finally{u(!1)}},_=async()=>{if(!y()){ge.error("Beoordeel alle items en geef een eindoordeel voordat je goedkeurt!");return}if(!i.every(k=>k.approved===!0)&&c.overallApproval===!0){ge.error("Je kunt niet goedkeuren als er afgekeurde items zijn!");return}try{u(!0);const k={checklist:i,approvalData:{...c,reviewedBy:(s==null?void 0:s.username)||"Unknown",reviewedAt:new Date().toISOString(),overallApproval:c.overallApproval,status:"reviewed"}},z=e.distributors[0].id;await $e.createTestData({distributorId:z,testType:"pre_testing_approval",data:k}),c.overallApproval?(ge.success("Project goedgekeurd voor testfase!"),t()):(ge.success("Project afgekeurd - terug naar productie voor aanpassingen"),r())}catch(k){console.error("Error submitting tester approval:",k),ge.error("Er is een fout opgetreden bij het indienen van de beoordeling")}finally{u(!1)}},N=j=>j===!0?a.jsx("span",{className:"text-green-400 text-lg",children:"✓"}):j===!1?a.jsx("span",{className:"text-red-400 text-lg",children:"✗"}):a.jsx("span",{className:"text-gray-400 text-lg",children:"?"}),P=j=>j===!0?"bg-green-500/20 text-green-400":j===!1?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400";return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:a.jsx(ns,{size:20,className:"text-orange-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-orange-400",children:d==="review"?"Tester Beoordeling":"Pre-Testing Goedkeuring"}),a.jsxs("p",{className:"text-gray-400",children:["Project ",e.project_number," - ",e.client]})]})]}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsx("div",{className:"bg-[#2A303C] rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Huidige Status"}),a.jsx("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-sm",children:"Productie"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Gewenste Status"}),a.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm",children:"Testen"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Aantal Verdelers"}),a.jsx("span",{className:"text-white font-medium",children:((T=e.distributors)==null?void 0:T.length)||0})]})]})}),d==="form"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Qi,{size:16,className:"text-yellow-400"}),a.jsx("h3",{className:"font-medium text-yellow-400",children:"Productie Gereedheidscontrole"})]}),a.jsx("p",{className:"text-yellow-300 text-sm",children:"Controleer alle onderstaande punten voordat het project naar de testfase gaat. Alle items moeten worden aangevinkt en voorzien van opmerkingen."})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-3",children:"Ingediend door"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Naam monteur ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",className:"input-field",value:c.submittedBy,onChange:j=>l({...c,submittedBy:j.target.value}),placeholder:"Naam van de monteur",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Datum"}),a.jsx("input",{type:"date",className:"input-field",value:new Date().toISOString().split("T")[0],disabled:!0})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-4",children:"Productie Checklist"}),a.jsx("div",{className:"space-y-4",children:i.map(j=>a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-start space-x-3",children:a.jsxs("label",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("input",{type:"checkbox",checked:j.checked,onChange:k=>m(j.id,"checked",k.target.checked),className:"form-checkbox text-green-500"}),a.jsx("span",{className:"text-sm font-medium text-white",children:j.question})]})}),a.jsxs("div",{className:"mt-3 ml-6",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Opmerkingen"}),a.jsx("textarea",{className:"input-field h-20 text-sm",value:j.comments,onChange:k=>m(j.id,"comments",k.target.value),placeholder:"Beschrijf de status van dit item..."})]})]},j.id))})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-3",children:"Algemene Opmerkingen"}),a.jsx("textarea",{className:"input-field h-24",value:c.generalComments,onChange:j=>l({...c,generalComments:j.target.value}),placeholder:"Algemene opmerkingen over de productie status..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:n,className:"btn-secondary",disabled:A,children:"Annuleren"}),a.jsx("button",{onClick:b,className:`btn-primary flex items-center space-x-2 ${!v()||A?"opacity-50 cursor-not-allowed":""}`,disabled:!v()||A,children:A?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Indienen..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(BA,{size:20}),a.jsx("span",{children:"Indienen voor beoordeling"})]})})]})]}):a.jsxs("div",{className:"space-y-6",children:[c.reviewedAt&&((s==null?void 0:s.role)==="tester"||(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="montage")?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:`rounded-lg p-4 ${c.overallApproval?"bg-green-500/10 border border-green-500/20":"bg-red-500/10 border border-red-500/20"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.overallApproval?a.jsx(ns,{size:16,className:"text-green-400"}):a.jsx(gt,{size:16,className:"text-red-400"}),a.jsx("h3",{className:`font-medium ${c.overallApproval?"text-green-400":"text-red-400"}`,children:c.overallApproval?"Project Goedgekeurd":"Project Afgekeurd"})]}),a.jsx("p",{className:`text-sm ${c.overallApproval?"text-green-300":"text-red-300"}`,children:c.overallApproval?"Het project is goedgekeurd en kan naar de testfase":"Het project is afgekeurd en moet terug naar productie voor aanpassingen"})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-3",children:"Beoordeling Overzicht"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:i.filter(j=>j.approved===!0).length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Goedgekeurd"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-400",children:i.filter(j=>j.approved===!1).length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Afgekeurd"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-400",children:i.filter(j=>j.approved===null).length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Niet beoordeeld"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Beoordeeld door"}),a.jsx("p",{className:"text-white",children:c.reviewedBy||"Nog niet beoordeeld"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Beoordeeld op"}),a.jsx("p",{className:"text-white",children:c.reviewedAt?new Date(c.reviewedAt).toLocaleString("nl-NL"):"Nog niet beoordeeld"})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-4",children:"Gedetailleerde Beoordeling"}),a.jsx("div",{className:"space-y-3",children:i.map(j=>a.jsx("div",{className:"bg-[#1E2530] p-3 rounded-lg",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:j.question}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${P(j.approved)}`,children:N(j.approved)})]}),j.comments&&a.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Montage: ",j.comments]}),j.testerComments&&a.jsxs("p",{className:"text-xs text-blue-300",children:["Tester: ",j.testerComments]})]})})},j.id))})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:n,className:"btn-secondary",children:"Sluiten"}),c.overallApproval===!1&&a.jsxs("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl transition-all flex items-center space-x-2",children:[a.jsx(ns,{size:20}),a.jsx("span",{children:"Opnieuw Indienen"})]})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Bo,{size:16,className:"text-blue-400"}),a.jsx("h3",{className:"font-medium text-blue-400",children:"Tester Beoordeling"})]}),a.jsx("p",{className:"text-blue-300 text-sm",children:"Beoordeel elk item fysiek en geef aan of het goedgekeurd of afgekeurd wordt. Voeg opmerkingen toe voor verbeteringen."})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-3",children:"Ingediend door Montage"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Monteur"}),a.jsx("p",{className:"text-white",children:c.submittedBy||"Onbekend"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ingediend op"}),a.jsx("p",{className:"text-white",children:c.submittedAt?new Date(c.submittedAt).toLocaleString("nl-NL"):"-"})]})]}),c.generalComments&&a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Algemene opmerkingen montage"}),a.jsx("p",{className:"text-gray-300 bg-[#1E2530] p-3 rounded-lg text-sm",children:c.generalComments})]})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-3",children:"Tester Beoordeling"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Beoordeeld door ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",className:"input-field",value:c.reviewedBy,onChange:j=>l({...c,reviewedBy:j.target.value}),placeholder:"Naam van de tester",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Beoordelingsdatum"}),a.jsx("input",{type:"date",className:"input-field",value:new Date().toISOString().split("T")[0],disabled:!0})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-4",children:"Item Beoordeling"}),a.jsx("div",{className:"space-y-4",children:i.map(j=>a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(ns,{size:16,className:j.checked?"text-green-400":"text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-white",children:j.question})]}),j.comments&&a.jsxs("div",{className:"ml-6",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Montage opmerkingen"}),a.jsx("p",{className:"text-gray-300 bg-[#2A303C] p-2 rounded text-sm",children:j.comments})]})]}),a.jsx("div",{className:"flex items-center space-x-2 ml-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${P(j.approved)}`,children:N(j.approved)})})]}),a.jsx("div",{className:"ml-6 border-t border-gray-700 pt-3",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Tester beoordeling"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>x(j.id,!0,j.testerComments||""),className:`px-3 py-2 rounded-lg text-sm transition ${j.approved===!0?"bg-green-500 text-white":"bg-gray-700 hover:bg-green-500/20 text-gray-300"}`,children:"✓ Goedkeuren"}),a.jsx("button",{onClick:()=>x(j.id,!1,j.testerComments||""),className:`px-3 py-2 rounded-lg text-sm transition ${j.approved===!1?"bg-red-500 text-white":"bg-gray-700 hover:bg-red-500/20 text-gray-300"}`,children:"✗ Afkeuren"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Tester opmerkingen"}),a.jsx("textarea",{className:"input-field h-16 text-sm",value:j.testerComments||"",onChange:k=>x(j.id,j.approved||!1,k.target.value),placeholder:"Opmerkingen van tester..."})]})]})})]},j.id))})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-3",children:"Eindoordeel"}),a.jsxs("div",{className:"flex space-x-4 mb-4",children:[a.jsx("button",{onClick:()=>l({...c,overallApproval:!0}),className:`px-6 py-3 rounded-lg transition ${c.overallApproval===!0?"bg-green-500 text-white":"bg-gray-700 hover:bg-green-500/20 text-gray-300"}`,children:"✓ Project goedkeuren voor testfase"}),a.jsx("button",{onClick:()=>l({...c,overallApproval:!1}),className:`px-6 py-3 rounded-lg transition ${c.overallApproval===!1?"bg-red-500 text-white":"bg-gray-700 hover:bg-red-500/20 text-gray-300"}`,children:"✗ Project afkeuren - terug naar productie"})]}),c.overallApproval===!1&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:a.jsx("p",{className:"text-red-300 text-sm",children:'⚠️ Bij afkeuring wordt het project teruggezet naar "Productie" status. De montage afdeling kan dan de opmerkingen bekijken en verbeteringen doorvoeren.'})})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:n,className:"btn-secondary",disabled:A,children:"Annuleren"}),a.jsx("button",{onClick:_,className:`btn-primary flex items-center space-x-2 ${!y()||A?"opacity-50 cursor-not-allowed":""}`,disabled:!y()||A,children:A?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Verwerken..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(ns,{size:20}),a.jsx("span",{children:c.overallApproval?"Goedkeuren voor testfase":"Afkeuren - terug naar productie"})]})})]})]}),c.status==="submitted"&&(s==null?void 0:s.role)==="montage"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Fn,{size:16,className:"text-blue-400"}),a.jsx("h3",{className:"font-medium text-blue-400",children:"Wacht op Tester Beoordeling"})]}),a.jsx("p",{className:"text-blue-300 text-sm",children:"Je aanvraag is ingediend en wacht op beoordeling door de tester. Je ontvangt een melding zodra de beoordeling is voltooid."})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-3",children:"Jouw Ingediende Checklist"}),a.jsx("div",{className:"space-y-3",children:i.map(j=>a.jsxs("div",{className:"bg-[#1E2530] p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx(ns,{size:16,className:j.checked?"text-green-400":"text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-white",children:j.question})]}),j.comments&&a.jsx("p",{className:"text-xs text-gray-400 ml-6",children:j.comments})]},j.id))})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:n,className:"btn-secondary",children:"Sluiten"}),c.overallApproval===!1&&a.jsxs("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl transition-all flex items-center space-x-2",children:[a.jsx(ns,{size:20}),a.jsx("span",{children:"Opnieuw Indienen"})]})]})]}):(s==null?void 0:s.role)==="tester"&&c.status==="submitted"&&!c.reviewedAt?a.jsx("div",{}):null]})]})})},SK=({project:e})=>{const[t,r]=$.useState({status:null});return $.useEffect(()=>{(async()=>{if(!(!e.distributors||e.distributors.length===0))try{const s=e.distributors[0].id,i=await $e.getTestData(s),o=i==null?void 0:i.find(c=>c.test_type==="pre_testing_approval");if(o&&o.data.approvalData){const c=o.data.approvalData;c.reviewedAt?r({status:c.overallApproval?"approved":"declined",reviewedBy:c.reviewedBy}):c.status==="submitted"&&r({status:"submitted"})}}catch(s){console.error("Error checking approval status:",s)}})()},[e]),t.status?a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ml-2 ${t.status==="approved"?"bg-green-500/20 text-green-400":t.status==="declined"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:t.status==="approved"?"✅ Goedgekeurd":t.status==="declined"?"❌ Afgekeurd":"⏳ Ingediend"}):null},_K=()=>{const e=_s(),{currentUser:t}=ai(),[r,n]=$.useState([]),[s,i]=$.useState(""),[o,c]=$.useState("all"),[l,A]=$.useState("all"),[u,d]=$.useState("all"),[f,h]=$.useState(!1),[p,m]=$.useState(!0),[x,v]=$.useState([]),[y,b]=$.useState(null),[_,N]=$.useState(!1),[P,T]=$.useState(!1),[j,k]=$.useState(null),[z,E]=$.useState(new Set),C=async pe=>{var oe;if(console.log("🔍 APPROVAL CHECK: Checking project:",pe.project_number,"ID:",pe.id),console.log("🔍 APPROVAL CHECK: Project distributors:",((oe=pe.distributors)==null?void 0:oe.length)||0),!pe.distributors||pe.distributors.length===0)return console.log("❌ APPROVAL CHECK: No distributors found"),!1;try{const de=pe.distributors[0].id;console.log("🔍 APPROVAL CHECK: Checking distributor ID:",de);const V=await $e.getTestData(de);console.log("🔍 APPROVAL CHECK: Test data found:",(V==null?void 0:V.length)||0);const re=V==null?void 0:V.find(he=>he.test_type==="pre_testing_approval");if(console.log("🔍 APPROVAL CHECK: Approval record found:",!!re),re&&re.data.approvalData){const he=re.data.approvalData;console.log("🔍 APPROVAL CHECK: Approval data status:",he.status),console.log("🔍 APPROVAL CHECK: Reviewed at:",he.reviewedAt);const ue=he.status==="submitted"&&!he.reviewedAt;return console.log("🔍 APPROVAL CHECK: Is pending approval:",ue),ue}return console.log("❌ APPROVAL CHECK: No approval record or data found"),!1}catch(de){return console.error("Error checking approval status:",de),!1}};$.useEffect(()=>{console.log("🚀 PROJECTS: Component mounting, setting up subscriptions...");const pe=localStorage.getItem("currentUserId");if(pe){const V=JSON.parse(localStorage.getItem("users")||"[]").find(re=>re.id===pe);console.log("👤 PROJECTS: Current user set:",V==null?void 0:V.username,V==null?void 0:V.id)}Q(),console.log("🔄 PROJECTS: Setting up project locks subscription...");const oe=Ir.subscribeToAllProjectLocks(de=>{console.log("📊 PROJECTS: Received locks update:",de.length,"locks"),console.log("🔒 PROJECTS: Lock details:",de.map(V=>`${V.project_id.slice(0,8)} by ${V.username}`)),v(de)});return()=>{console.log("🔄 PROJECTS: Cleaning up subscriptions..."),oe()}},[]);const Q=async()=>{try{m(!0);const pe=await $e.getProjects();n(pe||[])}catch(pe){console.error("Error loading projects:",pe),ge.error(pe.message||"Er is een fout opgetreden bij het laden van de projecten")}finally{m(!1)}},L=async pe=>{(t==null?void 0:t.role)==="admin"&&(console.log(`Admin force unlocking project ${pe}`),await Ir.forceUnlockProject(pe))},D=pe=>{if(!(t!=null&&t.id))return console.log("❌ PROJECTS: No current user ID available"),!1;console.log(`🔍 PROJECTS: Checking lock for ${pe} with ${x.length} total locks`),console.log("📊 PROJECTS: Available locks:",x.map(V=>`${V.project_id} by ${V.username}`));const oe=x.find(V=>V.project_id===pe&&V.is_active);if(console.log(`🔍 PROJECTS: Found lock for ${pe}:`,oe),console.log(`👤 PROJECTS: Current user: ${t.username} (${t.id})`),!oe)return console.log("✅ PROJECTS: No lock found - project available"),!1;const de=oe.user_id!==t.id;return console.log(`🔒 PROJECTS: Lock check result - isLocked: ${de}, lock owner: ${oe.username} (${oe.user_id})`),de},S=async pe=>{var oe,de;if(!(t!=null&&t.id)){console.log("❌ PROJECTS: No current user ID available");return}console.log(`🎯 PROJECTS: Attempting to navigate to project ${pe}`);try{const V=await Ir.isProjectLocked(pe,t.id);if(console.log("🔍 PROJECTS: Lock check result:",V),V.locked){console.log(`🚫 PROJECTS: Project ${pe} is LOCKED by ${(oe=V.lockInfo)==null?void 0:oe.username} - BLOCKING NAVIGATION`),ge.error(`Project wordt bewerkt door ${(de=V.lockInfo)==null?void 0:de.username}`);return}console.log(`✅ PROJECTS: Project ${pe} is available, creating lock and navigating...`);const re=await Ir.lockProject(pe,t.id,t.username);console.log("🔒 PROJECTS: Lock creation result:",re),re.success?(console.log(`✅ PROJECTS: Successfully locked project ${pe}, navigating...`),e(`/project/${pe}`)):(console.log(`❌ PROJECTS: Failed to lock project ${pe}`),ge.error("Kon project niet vergrendelen"))}catch(V){console.error("❌ PROJECTS: Error during project navigation:",V),ge.error("Er is een fout opgetreden")}},O=async pe=>{var oe;if((t==null?void 0:t.role)==="tester"&&((oe=pe.status)==null?void 0:oe.toLowerCase())==="productie")if(await C(pe)){console.log("🧪 TESTER: Opening approval interface for project:",pe.project_number),k(pe),T(!0);return}else console.log("🧪 TESTER: No pending approval found for project:",pe.project_number);S(pe.id)},R=async()=>{if(j)try{await $e.updateProject(j.id,{...j,status:"Testen"}),T(!1),k(null),await Q(),ge.success("Project goedgekeurd voor testfase!")}catch(pe){console.error("Error approving project for testing:",pe),ge.error("Er is een fout opgetreden bij het goedkeuren voor testfase")}},W=async()=>{if(j)try{T(!1),k(null),ge.success("Project afgekeurd - blijft in productie voor aanpassingen")}catch(pe){console.error("Error declining project for testing:",pe),ge.error("Er is een fout opgetreden bij het afkeuren voor testfase")}},M=()=>{T(!1),k(null)},q=pe=>{const oe=new Date,de=new Date(oe.getFullYear(),oe.getMonth(),oe.getDate());switch(pe){case"this_week":const V=new Date(de);return V.setDate(de.getDate()-de.getDay()),{start:V,end:oe};case"this_month":return{start:new Date(oe.getFullYear(),oe.getMonth(),1),end:oe};case"this_quarter":const he=Math.floor(oe.getMonth()/3);return{start:new Date(oe.getFullYear(),he*3,1),end:oe};default:return null}},I=(pe=>pe.filter(oe=>{var ue,Ce,_e,Fe,Re;if((t==null?void 0:t.role)==="tester"){const Qe=((ue=oe.status)==null?void 0:ue.toLowerCase())==="testen",Ge=((Ce=oe.status)==null?void 0:Ce.toLowerCase())==="productie";if(!Qe&&!Ge)return console.log(`🧪 TESTER FILTER: Hiding project ${oe.project_number} (status: ${oe.status}) from tester ${t.username} - NOT IN TESTING OR PRODUCTION PHASE`),!1;Qe?console.log(`🧪 TESTER FILTER: Showing project ${oe.project_number} (status: ${oe.status}) to tester ${t.username} - IN TESTING PHASE`):Ge&&console.log(`🧪 TESTER FILTER: Showing project ${oe.project_number} (status: ${oe.status}) to tester ${t.username} - PRODUCTION STATUS (will check for pending approval)`)}if(console.log("🌍 FILTER: Checking project:",oe.project_number,"Location:",oe.location),console.log("🌍 FILTER: Current user:",t==null?void 0:t.username,"Assigned locations:",t==null?void 0:t.assignedLocations),t!=null&&t.assignedLocations&&t.assignedLocations.length>0){console.log("🔍 LOCATION DEBUG: User assignedLocations type:",typeof t.assignedLocations),console.log("🔍 LOCATION DEBUG: User assignedLocations value:",t.assignedLocations),console.log("🔍 LOCATION DEBUG: Available locations:",ss);const Qe=Array.isArray(t.assignedLocations)&&t.assignedLocations.length>=ss.length||Array.isArray(t.assignedLocations)&&ss.every(Ge=>t.assignedLocations.includes(Ge))||Array.isArray(t.assignedLocations)&&t.assignedLocations.length===0;if(console.log("🔍 LOCATION DEBUG: hasAllLocations result:",Qe),Qe)console.log(`🌍 LOCATION FILTER: User ${t.username} has access to all locations - showing all projects`);else{const Ge=oe.location?t.assignedLocations.includes(oe.location):!0;if(console.log("🌍 FILTER: Location access check for",oe.project_number,":",Ge),console.log("🌍 FILTER: Project location:",oe.location,"User locations:",t.assignedLocations),!Ge)return console.log(`🌍 LOCATION FILTER: Hiding project ${oe.project_number} (location: ${oe.location}) from user ${t.username} (assigned: ${t.assignedLocations.join(", ")}) - NO ACCESS`),!1}}else console.log(`🌍 LOCATION FILTER: User ${t==null?void 0:t.username} has no location restrictions - showing all projects`);const de=oe.project_number.toLowerCase().includes(s.toLowerCase())||(((_e=oe.status)==null?void 0:_e.toLowerCase())||"").includes(s.toLowerCase())||(((Fe=oe.client)==null?void 0:Fe.toLowerCase())||"").includes(s.toLowerCase())||(((Re=oe.location)==null?void 0:Re.toLowerCase())||"").includes(s.toLowerCase()),V=o==="all"||oe.status===o,re=l==="all"||oe.client===l;let he=!0;if(u!=="all"){const Qe=q(u);if(Qe){const Ge=new Date(oe.created_at);he=Ge>=Qe.start&&Ge<=Qe.end}}return de&&V&&re&&he}))(r),H=()=>[...new Set(r.map(oe=>oe.client).filter(Boolean))].sort(),G=()=>[...new Set(r.map(oe=>oe.status).filter(Boolean))].sort(),J=()=>{i(""),c("all"),A("all"),d("all")},ie=()=>{let pe=0;return s&&pe++,o!=="all"&&pe++,l!=="all"&&pe++,u!=="all"&&pe++,pe},Ae=()=>{e("/create-project")},se=async pe=>{const oe=r.find(de=>de.id===pe);oe&&b(oe)},we=async()=>{if(y)try{N(!0),await $e.deleteProject(y.id),n(r.filter(pe=>pe.id!==y.id)),ge.success("Project en alle bijbehorende gegevens zijn verwijderd!"),b(null)}catch(pe){console.error("Error deleting project:",pe),ge.error("Er is een fout opgetreden bij het verwijderen van het project")}finally{N(!1)}},be=()=>{b(null)},ve=pe=>{if(!pe)return"bg-gray-500/20 text-gray-400";switch(pe.toLowerCase()){case"intake":return"bg-blue-500/20 text-blue-400";case"offerte":return"bg-yellow-500/20 text-yellow-400";case"order":return"bg-blue-500/20 text-blue-400";case"productie":return"bg-purple-500/20 text-purple-400";case"testen":return"bg-yellow-500/20 text-yellow-400";case"levering":return"bg-green-500/20 text-green-400";case"gereed voor oplevering":return"bg-green-500/20 text-green-400";case"opgeleverd":return"bg-green-500/20 text-green-400";case"verloren":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}};return p?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Projecten laden..."})]})})}):a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx(wd,{position:"top-right"}),a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Projectenoverzicht"}),a.jsx("p",{className:"text-gray-400",children:"Beheer al je projecten op één plek"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>h(!f),className:`btn-secondary flex items-center space-x-2 ${ie()>0?"bg-blue-500/20 text-blue-400":""}`,children:[a.jsx(kg,{size:16}),a.jsx("span",{children:"Filters"}),ie()>0&&a.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:ie()})]}),a.jsxs("button",{onClick:Ae,className:"btn-primary flex items-center space-x-2",children:[a.jsx(Ss,{size:20}),a.jsx("span",{children:"Project toevoegen"})]})]})]})}),f&&a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Project Filters"}),ie()>0&&a.jsxs("button",{onClick:J,className:"btn-secondary flex items-center space-x-2 text-sm",children:[a.jsx(gt,{size:14}),a.jsxs("span",{children:["Wis alle filters (",ie(),")"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Snelle datum selectie"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:[{label:"Deze week",value:"this_week",icon:qn},{label:"Deze maand",value:"this_month",icon:qn},{label:"Dit kwartaal",value:"this_quarter",icon:qn},{label:"Alle tijd",value:"all",icon:qn}].map(pe=>{const oe=pe.icon;return a.jsx("button",{onClick:()=>d(pe.value),className:`px-4 py-3 rounded-xl text-sm transition-all transform hover:scale-105 ${u===pe.value?"bg-gradient-to-r from-blue-600 to-blue-400 text-white shadow-lg":"bg-[#2A303C] text-gray-400 hover:bg-[#374151] hover:text-white border border-gray-700 hover:border-gray-600"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oe,{size:16}),a.jsx("span",{className:"font-medium",children:pe.label})]})},pe.value)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Status filter"}),a.jsxs("select",{className:"input-field",value:o,onChange:pe=>c(pe.target.value),children:[a.jsx("option",{value:"all",children:"Alle statussen"}),G().map(pe=>a.jsx("option",{value:pe,children:pe},pe))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Klant filter"}),a.jsxs("select",{className:"input-field",value:l,onChange:pe=>A(pe.target.value),children:[a.jsx("option",{value:"all",children:"Alle klanten"}),H().map(pe=>a.jsx("option",{value:pe,children:pe},pe))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Zoeken in projecten"}),a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Projectnummer, klant, locatie...",className:"input-field pl-10",value:s,onChange:pe=>i(pe.target.value)}),s&&a.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:a.jsx(gt,{size:16})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-gray-400",children:[a.jsx("strong",{className:"text-white",children:I.length})," van ",a.jsx("strong",{className:"text-white",children:r.length})," projecten"]}),ie()>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Actieve filters:"}),s&&a.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full text-xs",children:['"',s,'"']}),o!=="all"&&a.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-xs",children:o}),l!=="all"&&a.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded-full text-xs",children:l}),u!=="all"&&a.jsx("span",{className:"px-2 py-1 bg-orange-500/20 text-orange-400 rounded-full text-xs",children:u==="this_week"?"Week":u==="this_month"?"Maand":u==="this_quarter"?"Kwartaal":u})]})]}),ie()>0&&a.jsx("button",{onClick:J,className:"text-sm text-blue-400 hover:text-blue-300 underline",children:"Wis alle filters"})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"overflow-x-auto max-h-[70vh] overflow-y-auto pr-4",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"table-header text-left",children:"Projectnummer"}),a.jsx("th",{className:"table-header text-left",children:"Datum"}),a.jsx("th",{className:"table-header text-left",children:"Klant"}),a.jsx("th",{className:"table-header text-left",children:"Locatie"}),a.jsx("th",{className:"table-header text-left",children:"Status"}),a.jsx("th",{className:"table-header text-left",children:"Vergrendeling"}),a.jsx("th",{className:"table-header text-left",children:"Verdelers"}),a.jsx("th",{className:"table-header text-left",children:"Omschrijving"}),a.jsx("th",{className:"table-header text-right",children:"Acties"})]})}),a.jsx("tbody",{children:I.map(pe=>{var oe;return a.jsxs("tr",{className:`table-row ${D(pe.id)?"opacity-60 cursor-not-allowed":"cursor-pointer"}`,onClick:()=>{if(!D(pe.id))O(pe);else{const de=x.find(V=>V.project_id===pe.id&&V.is_active);ge.error(`Project wordt bewerkt door ${de==null?void 0:de.username}`)}},children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{className:"font-medium text-blue-400",children:pe.project_number})]})}),a.jsx("td",{className:"py-4 text-gray-300",children:new Date(pe.date).toLocaleDateString("nl-NL")}),a.jsx("td",{className:"py-4 text-gray-300",children:pe.client||"-"}),a.jsx("td",{className:"py-4 text-gray-300",children:pe.location||"-"}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ve(pe.status)}`,children:pe.status||"Onbekend"}),a.jsx(SK,{project:pe})]})}),a.jsx("td",{className:"py-4",children:a.jsx(rL,{projectId:pe.id,projectLocks:x,currentUserId:(t==null?void 0:t.id)||"",currentUserRole:(t==null?void 0:t.role)||"user",onForceUnlock:()=>L(pe.id)})}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-medium text-green-400",children:((oe=pe.distributors)==null?void 0:oe.length)||0})}),a.jsx("span",{className:"text-sm text-gray-400",children:"verdelers"})]})}),a.jsx("td",{className:"py-4 max-w-xs",children:a.jsx("p",{className:"text-sm text-gray-300 truncate",title:pe.description,children:pe.description||"-"})}),a.jsx("td",{className:"py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:de=>{de.stopPropagation(),D(pe.id)||e(`/uploads?projectId=${pe.id}`)},className:`p-2 bg-[#2A303C] rounded-lg transition-colors group ${D(pe.id)?"opacity-50 cursor-not-allowed":"hover:bg-purple-500/20"}`,title:"Uploads",disabled:D(pe.id),children:a.jsx(Co,{size:16,className:"text-gray-400 group-hover:text-purple-400"})}),a.jsx("button",{onClick:de=>{if(de.stopPropagation(),!D(pe.id))O(pe);else{const V=x.find(re=>re.project_id===pe.id&&re.is_active);ge.error(`Project wordt bewerkt door ${V==null?void 0:V.username}`)}},className:`p-2 bg-[#2A303C] rounded-lg transition-colors group ${D(pe.id)?"opacity-50 cursor-not-allowed":"hover:bg-blue-500/20"}`,title:"Openen",disabled:D(pe.id),children:a.jsx(qa,{size:16,className:"text-gray-400 group-hover:text-blue-400"})}),a.jsx("button",{onClick:de=>{de.stopPropagation(),se(pe.id)},className:"p-2 bg-[#2A303C] hover:bg-red-500/20 rounded-lg transition-colors group",title:"Verwijderen",disabled:D(pe.id),children:a.jsx(Zr,{size:16,className:"text-gray-400 group-hover:text-red-400"})})]})})]},pe.id)})})]}),I.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(qa,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Geen projecten gevonden"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Probeer een andere zoekterm of maak een nieuw project aan"})]})]})}),y&&a.jsx(nL,{project:y,onConfirm:we,onCancel:be,isDeleting:_}),P&&j&&a.jsx(aL,{project:j,onApprove:R,onDecline:W,onCancel:M,currentUser:t})]})};function Qt(e){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(e)}var Wn=Uint8Array,zs=Uint16Array,H5=Int32Array,Iy=new Wn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oy=new Wn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_j=new Wn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iL=function(e,t){for(var r=new zs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new H5(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},oL=iL(Iy,2),lL=oL.b,Ej=oL.r;lL[28]=258,Ej[258]=28;var cL=iL(Oy,0),EK=cL.b,bS=cL.r,Fj=new zs(32768);for(var pr=0;pr<32768;++pr){var dl=(pr&43690)>>1|(pr&21845)<<1;dl=(dl&52428)>>2|(dl&13107)<<2,dl=(dl&61680)>>4|(dl&3855)<<4,Fj[pr]=((dl&65280)>>8|(dl&255)<<8)>>1}var Li=function(e,t,r){for(var n=e.length,s=0,i=new zs(t);s<n;++s)e[s]&&++i[e[s]-1];var o=new zs(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var c;if(r){c=new zs(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var A=s<<4|e[s],u=t-e[s],d=o[e[s]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)c[Fj[d]>>l]=A}else for(c=new zs(n),s=0;s<n;++s)e[s]&&(c[s]=Fj[o[e[s]-1]++]>>15-e[s]);return c},nc=new Wn(288);for(var pr=0;pr<144;++pr)nc[pr]=8;for(var pr=144;pr<256;++pr)nc[pr]=9;for(var pr=256;pr<280;++pr)nc[pr]=7;for(var pr=280;pr<288;++pr)nc[pr]=8;var Lp=new Wn(32);for(var pr=0;pr<32;++pr)Lp[pr]=5;var FK=Li(nc,9,0),PK=Li(nc,9,1),IK=Li(Lp,5,0),OK=Li(Lp,5,1),uw=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Da=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},dw=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},z5=function(e){return(e+7)/8|0},AL=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Wn(e.subarray(t,r))},TK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],za=function(e,t,r){var n=new Error(t||TK[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,za),!r)throw n;return n},LK=function(e,t,r,n){var s=e.length,i=0;if(!s||t.f&&!t.l)return r||new Wn(0);var o=!r,c=o||t.i!=2,l=t.i;o&&(r=new Wn(s*3));var A=function(be){var ve=r.length;if(be>ve){var pe=new Wn(Math.max(ve*2,be));pe.set(r),r=pe}},u=t.f||0,d=t.p||0,f=t.b||0,h=t.l,p=t.d,m=t.m,x=t.n,v=s*8;do{if(!h){u=Da(e,d,1);var y=Da(e,d+1,3);if(d+=3,y)if(y==1)h=PK,p=OK,m=9,x=5;else if(y==2){var P=Da(e,d,31)+257,T=Da(e,d+10,15)+4,j=P+Da(e,d+5,31)+1;d+=14;for(var k=new Wn(j),z=new Wn(19),E=0;E<T;++E)z[_j[E]]=Da(e,d+E*3,7);d+=T*3;for(var C=uw(z),Q=(1<<C)-1,L=Li(z,C,1),E=0;E<j;){var D=L[Da(e,d,Q)];d+=D&15;var b=D>>4;if(b<16)k[E++]=b;else{var S=0,O=0;for(b==16?(O=3+Da(e,d,3),d+=2,S=k[E-1]):b==17?(O=3+Da(e,d,7),d+=3):b==18&&(O=11+Da(e,d,127),d+=7);O--;)k[E++]=S}}var R=k.subarray(0,P),W=k.subarray(P);m=uw(R),x=uw(W),h=Li(R,m,1),p=Li(W,x,1)}else za(1);else{var b=z5(d)+4,_=e[b-4]|e[b-3]<<8,N=b+_;if(N>s){l&&za(0);break}c&&A(f+_),r.set(e.subarray(b,N),f),t.b=f+=_,t.p=d=N*8,t.f=u;continue}if(d>v){l&&za(0);break}}c&&A(f+131072);for(var M=(1<<m)-1,q=(1<<x)-1,B=d;;B=d){var S=h[dw(e,d)&M],I=S>>4;if(d+=S&15,d>v){l&&za(0);break}if(S||za(2),I<256)r[f++]=I;else if(I==256){B=d,h=null;break}else{var H=I-254;if(I>264){var E=I-257,G=Iy[E];H=Da(e,d,(1<<G)-1)+lL[E],d+=G}var J=p[dw(e,d)&q],ie=J>>4;J||za(3),d+=J&15;var W=EK[ie];if(ie>3){var G=Oy[ie];W+=dw(e,d)&(1<<G)-1,d+=G}if(d>v){l&&za(0);break}c&&A(f+131072);var Ae=f+H;if(f<W){var se=i-W,we=Math.min(W,Ae);for(se+f<0&&za(3);f<we;++f)r[f]=n[se+f]}for(;f<Ae;++f)r[f]=r[f-W]}}t.l=h,t.p=B,t.b=f,t.f=u,h&&(u=1,t.m=m,t.d=p,t.n=x)}while(!u);return f!=r.length&&o?AL(r,0,f):r.subarray(0,f)},co=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},lh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},fw=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:dL,l:0};if(s==1){var o=new Wn(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,P){return N.f-P.f}),r.push({s:-1,f:25001});var c=r[0],l=r[1],A=0,u=1,d=2;for(r[0]={s:-1,f:c.f+l.f,l:c,r:l};u!=s-1;)c=r[r[A].f<r[d].f?A++:d++],l=r[A!=u&&r[A].f<r[d].f?A++:d++],r[u++]={s:-1,f:c.f+l.f,l:c,r:l};for(var f=i[0].s,n=1;n<s;++n)i[n].s>f&&(f=i[n].s);var h=new zs(f+1),p=Pj(r[u-1],h,0);if(p>t){var n=0,m=0,x=p-t,v=1<<x;for(i.sort(function(P,T){return h[T.s]-h[P.s]||P.f-T.f});n<s;++n){var y=i[n].s;if(h[y]>t)m+=v-(1<<p-h[y]),h[y]=t;else break}for(m>>=x;m>0;){var b=i[n].s;h[b]<t?m-=1<<t-h[b]++-1:++n}for(;n>=0&&m;--n){var _=i[n].s;h[_]==t&&(--h[_],++m)}p=t}return{t:new Wn(h),l:p}},Pj=function(e,t,r){return e.s==-1?Math.max(Pj(e.l,t,r+1),Pj(e.r,t,r+1)):t[e.s]=r},wS=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new zs(++t),n=0,s=e[0],i=1,o=function(l){r[n++]=l},c=1;c<=t;++c)if(e[c]==s&&c!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[c]}return{c:r.subarray(0,n),n:t}},ch=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},uL=function(e,t,r){var n=r.length,s=z5(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},jS=function(e,t,r,n,s,i,o,c,l,A,u){co(t,u++,r),++s[256];for(var d=fw(s,15),f=d.t,h=d.l,p=fw(i,15),m=p.t,x=p.l,v=wS(f),y=v.c,b=v.n,_=wS(m),N=_.c,P=_.n,T=new zs(19),j=0;j<y.length;++j)++T[y[j]&31];for(var j=0;j<N.length;++j)++T[N[j]&31];for(var k=fw(T,7),z=k.t,E=k.l,C=19;C>4&&!z[_j[C-1]];--C);var Q=A+5<<3,L=ch(s,nc)+ch(i,Lp)+o,D=ch(s,f)+ch(i,m)+o+14+3*C+ch(T,z)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&Q<=L&&Q<=D)return uL(t,u,e.subarray(l,l+A));var S,O,R,W;if(co(t,u,1+(D<L)),u+=2,D<L){S=Li(f,h,0),O=f,R=Li(m,x,0),W=m;var M=Li(z,E,0);co(t,u,b-257),co(t,u+5,P-1),co(t,u+10,C-4),u+=14;for(var j=0;j<C;++j)co(t,u+3*j,z[_j[j]]);u+=3*C;for(var q=[y,N],B=0;B<2;++B)for(var I=q[B],j=0;j<I.length;++j){var H=I[j]&31;co(t,u,M[H]),u+=z[H],H>15&&(co(t,u,I[j]>>5&127),u+=I[j]>>12)}}else S=FK,O=nc,R=IK,W=Lp;for(var j=0;j<c;++j){var G=n[j];if(G>255){var H=G>>18&31;lh(t,u,S[H+257]),u+=O[H+257],H>7&&(co(t,u,G>>23&31),u+=Iy[H]);var J=G&31;lh(t,u,R[J]),u+=W[J],J>3&&(lh(t,u,G>>5&8191),u+=Oy[J])}else lh(t,u,S[G]),u+=O[G]}return lh(t,u,S[256]),u+O[256]},UK=new H5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),dL=new Wn(0),DK=function(e,t,r,n,s,i){var o=i.z||e.length,c=new Wn(n+o+5*(1+Math.ceil(o/7e3))+s),l=c.subarray(n,c.length-s),A=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var d=UK[t-1],f=d>>13,h=d&8191,p=(1<<r)-1,m=i.p||new zs(32768),x=i.h||new zs(p+1),v=Math.ceil(r/3),y=2*v,b=function(oe){return(e[oe]^e[oe+1]<<v^e[oe+2]<<y)&p},_=new H5(25e3),N=new zs(288),P=new zs(32),T=0,j=0,k=i.i||0,z=0,E=i.w||0,C=0;k+2<o;++k){var Q=b(k),L=k&32767,D=x[Q];if(m[L]=D,x[Q]=L,E<=k){var S=o-k;if((T>7e3||z>24576)&&(S>423||!A)){u=jS(e,l,0,_,N,P,j,z,C,k-C,u),z=T=j=0,C=k;for(var O=0;O<286;++O)N[O]=0;for(var O=0;O<30;++O)P[O]=0}var R=2,W=0,M=h,q=L-D&32767;if(S>2&&Q==b(k-q))for(var B=Math.min(f,S)-1,I=Math.min(32767,k),H=Math.min(258,S);q<=I&&--M&&L!=D;){if(e[k+R]==e[k+R-q]){for(var G=0;G<H&&e[k+G]==e[k+G-q];++G);if(G>R){if(R=G,W=q,G>B)break;for(var J=Math.min(q,G-2),ie=0,O=0;O<J;++O){var Ae=k-q+O&32767,se=m[Ae],we=Ae-se&32767;we>ie&&(ie=we,D=Ae)}}}L=D,D=m[L],q+=L-D&32767}if(W){_[z++]=268435456|Ej[R]<<18|bS[W];var be=Ej[R]&31,ve=bS[W]&31;j+=Iy[be]+Oy[ve],++N[257+be],++P[ve],E=k+R,++T}else _[z++]=e[k],++N[e[k]]}}for(k=Math.max(k,E);k<o;++k)_[z++]=e[k],++N[e[k]];u=jS(e,l,A,_,N,P,j,z,C,k-C,u),A||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=x,i.p=m,i.i=k,i.w=E)}else{for(var k=i.w||0;k<o+A;k+=65535){var pe=k+65535;pe>=o&&(l[u/8|0]=A,pe=o),u=uL(l,u+1,e.subarray(k,pe))}i.i=o}return AL(c,0,n+z5(u)+s)},fL=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,o=0;o!=i;){for(var c=Math.min(o+2655,i);o<c;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},QK=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Wn(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return DK(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},hL=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},MK=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=fL();s.p(t.dictionary),hL(e,2,s.d())}},RK=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&za(6,"invalid zlib data"),(e[1]>>5&1)==1&&za(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Ij(e,t){t||(t={});var r=fL();r.p(e);var n=QK(e,t,t.dictionary?6:2,4);return MK(n,t),hL(n,n.length-4,r.d()),n}function $K(e,t){return LK(e.subarray(RK(e),-4),{i:2},t,t)}var HK=typeof TextDecoder<"u"&&new TextDecoder,zK=0;try{HK.decode(dL,{stream:!0}),zK=1}catch{}var dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hw(){dt.console&&typeof dt.console.log=="function"&&dt.console.log.apply(dt.console,arguments)}var rr={log:hw,warn:function(e){dt.console&&(typeof dt.console.warn=="function"?dt.console.warn.apply(dt.console,arguments):hw.call(null,arguments))},error:function(e){dt.console&&(typeof dt.console.error=="function"?dt.console.error.apply(dt.console,arguments):hw(e))}};function pw(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Uc(n.response,t,r)},n.onerror=function(){rr.error("could not download file")},n.send()}function NS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ym(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var np,Oj,Uc=dt.saveAs||((typeof window>"u"?"undefined":Qt(window))!=="object"||window!==dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=dt.URL||dt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?NS(s.href)?pw(e,t,r):Ym(s,s.target="_blank"):Ym(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Ym(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(NS(e))pw(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Ym(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Qt(i)!=="object"&&(rr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return pw(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(dt.HTMLElement)||dt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Qt(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var u=c.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},c.readAsDataURL(e)}else{var l=dt.URL||dt.webkitURL,A=l.createObjectURL(e);n?n.location=A:location.href=A,n=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function pL(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),l=this.g.toString(16),A=this.b.toString(16);return c.length==1&&(c="0"+c),l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),"#"+c+l+A}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gw(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Qn(r,n,s,i,t[0],7,-680876936),i=Qn(i,r,n,s,t[1],12,-389564586),s=Qn(s,i,r,n,t[2],17,606105819),n=Qn(n,s,i,r,t[3],22,-1044525330),r=Qn(r,n,s,i,t[4],7,-176418897),i=Qn(i,r,n,s,t[5],12,1200080426),s=Qn(s,i,r,n,t[6],17,-1473231341),n=Qn(n,s,i,r,t[7],22,-45705983),r=Qn(r,n,s,i,t[8],7,1770035416),i=Qn(i,r,n,s,t[9],12,-1958414417),s=Qn(s,i,r,n,t[10],17,-42063),n=Qn(n,s,i,r,t[11],22,-1990404162),r=Qn(r,n,s,i,t[12],7,1804603682),i=Qn(i,r,n,s,t[13],12,-40341101),s=Qn(s,i,r,n,t[14],17,-1502002290),r=Mn(r,n=Qn(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Mn(i,r,n,s,t[6],9,-1069501632),s=Mn(s,i,r,n,t[11],14,643717713),n=Mn(n,s,i,r,t[0],20,-373897302),r=Mn(r,n,s,i,t[5],5,-701558691),i=Mn(i,r,n,s,t[10],9,38016083),s=Mn(s,i,r,n,t[15],14,-660478335),n=Mn(n,s,i,r,t[4],20,-405537848),r=Mn(r,n,s,i,t[9],5,568446438),i=Mn(i,r,n,s,t[14],9,-1019803690),s=Mn(s,i,r,n,t[3],14,-187363961),n=Mn(n,s,i,r,t[8],20,1163531501),r=Mn(r,n,s,i,t[13],5,-1444681467),i=Mn(i,r,n,s,t[2],9,-51403784),s=Mn(s,i,r,n,t[7],14,1735328473),r=Rn(r,n=Mn(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Rn(i,r,n,s,t[8],11,-2022574463),s=Rn(s,i,r,n,t[11],16,1839030562),n=Rn(n,s,i,r,t[14],23,-35309556),r=Rn(r,n,s,i,t[1],4,-1530992060),i=Rn(i,r,n,s,t[4],11,1272893353),s=Rn(s,i,r,n,t[7],16,-155497632),n=Rn(n,s,i,r,t[10],23,-1094730640),r=Rn(r,n,s,i,t[13],4,681279174),i=Rn(i,r,n,s,t[0],11,-358537222),s=Rn(s,i,r,n,t[3],16,-722521979),n=Rn(n,s,i,r,t[6],23,76029189),r=Rn(r,n,s,i,t[9],4,-640364487),i=Rn(i,r,n,s,t[12],11,-421815835),s=Rn(s,i,r,n,t[15],16,530742520),r=$n(r,n=Rn(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=$n(i,r,n,s,t[7],10,1126891415),s=$n(s,i,r,n,t[14],15,-1416354905),n=$n(n,s,i,r,t[5],21,-57434055),r=$n(r,n,s,i,t[12],6,1700485571),i=$n(i,r,n,s,t[3],10,-1894986606),s=$n(s,i,r,n,t[10],15,-1051523),n=$n(n,s,i,r,t[1],21,-2054922799),r=$n(r,n,s,i,t[8],6,1873313359),i=$n(i,r,n,s,t[15],10,-30611744),s=$n(s,i,r,n,t[6],15,-1560198380),n=$n(n,s,i,r,t[13],21,1309151649),r=$n(r,n,s,i,t[4],6,-145523070),i=$n(i,r,n,s,t[11],10,-1120210379),s=$n(s,i,r,n,t[2],15,718787259),n=$n(n,s,i,r,t[9],21,-343485551),e[0]=Ol(r,e[0]),e[1]=Ol(n,e[1]),e[2]=Ol(s,e[2]),e[3]=Ol(i,e[3])}function Ty(e,t,r,n,s,i){return t=Ol(Ol(t,e),Ol(n,i)),Ol(t<<s|t>>>32-s,r)}function Qn(e,t,r,n,s,i,o){return Ty(t&r|~t&n,e,t,s,i,o)}function Mn(e,t,r,n,s,i,o){return Ty(t&n|r&~n,e,t,s,i,o)}function Rn(e,t,r,n,s,i,o){return Ty(t^r^n,e,t,s,i,o)}function $n(e,t,r,n,s,i,o){return Ty(r^(t|~n),e,t,s,i,o)}function gL(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)gw(n,KK(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(gw(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,gw(n,s),n}function KK(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}np=dt.atob.bind(dt),Oj=dt.btoa.bind(dt);var BS="0123456789abcdef".split("");function VK(e){for(var t="",r=0;r<4;r++)t+=BS[e>>8*r+4&15]+BS[e>>8*r&15];return t}function GK(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Tj(e){return gL(e).map(GK).join("")}var WK=function(e){for(var t=0;t<e.length;t++)e[t]=VK(e[t]);return e.join("")}(gL("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ol(e,t){if(WK){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Lj(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),c=[],l=0;l<256;l++)c[l]=l;var A=0;for(l=0;l<256;l++){var u=c[l];A=(A+u+o.charCodeAt(l))%256,c[l]=c[A],c[A]=u}r=e,n=c}else c=n;var d=t.length,f=0,h=0,p="";for(l=0;l<d;l++)h=(h+(u=c[f=(f+1)%256]))%256,c[f]=c[h],c[h]=u,o=c[(c[f]+c[h])%256],p+=String.fromCharCode(t.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var CS={print:4,modify:8,copy:16,"annot-forms":32};function Su(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(c){if(CS.perm!==void 0)throw new Error("Invalid permission: "+c);s+=CS[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=Tj(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Lj(this.encryptionKey,this.padding)}function _u(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function kS(e){if(Qt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(c){dt.console&&rr.error("jsPDF PubSub Error",c.message,c)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function zv(e){if(!(this instanceof zv))return new zv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function mL(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Hc(e,t,r,n,s){if(!(this instanceof Hc))return new Hc(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,mL.call(this,n,s)}function zu(e,t,r,n,s){if(!(this instanceof zu))return new zu(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,mL.call(this,n,s)}function it(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],c=1,l=16,A="S",u=null;Qt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),A=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=kS;var p="1.3",m=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(F){p=F};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var v=h.__private__.getPageFormat=function(F){return x[F]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function _(){this.saveGraphicsState(),V(new At(ze,0,0,-ze,0,Zo()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),A="n",b=y.ADVANCED}function N(){this.restoreGraphicsState(),A="S",b=y.COMPAT}var P=h.__private__.combineFontStyleAndFontWeight=function(F,Z){if(F=="bold"&&Z=="normal"||F=="bold"&&Z==400||F=="normal"&&Z=="italic"||F=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(F=Z==400||Z==="normal"?F==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||F!=="normal"?(Z==700?"bold":Z)+""+F:"bold"),F};h.advancedAPI=function(F){var Z=b===y.COMPAT;return Z&&_.call(this),typeof F!="function"||(F(this),Z&&N.call(this)),this},h.compatAPI=function(F){var Z=b===y.ADVANCED;return Z&&N.call(this),typeof F!="function"||(F(this),Z&&_.call(this)),this},h.isAdvancedAPI=function(){return b===y.ADVANCED};var T,j=function(F){if(b!==y.ADVANCED)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=h.roundToPrecision=h.__private__.roundToPrecision=function(F,Z){var ce=t||Z;if(isNaN(F)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(ce).replace(/0+$/,"")};T=h.hpf=h.__private__.hpf=typeof l=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return k(F,l)}:l==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return k(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return k(F,16)};var z=h.f2=h.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return k(F,2)},E=h.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return k(F,3)},C=h.scale=h.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?F*ze:b===y.ADVANCED?F:void 0},Q=function(F){return b===y.COMPAT?Zo()-F:b===y.ADVANCED?F:void 0},L=function(F){return C(Q(F))};h.__private__.setPrecision=h.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(t=parseInt(F,10))};var D,S="00000000000000000000000000000000",O=h.__private__.getFileId=function(){return S},R=h.__private__.setFileId=function(F){return S=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():S.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Tn=new Su(u.userPermissions,u.userPassword,u.ownerPassword,S)),S};h.setFileId=function(F){return R(F),this},h.getFileId=function(){return O()};var W=h.__private__.convertDateToPDFDate=function(F){var Z=F.getTimezoneOffset(),ce=Z<0?"+":"-",me=Math.floor(Math.abs(Z/60)),Be=Math.abs(Z%60),Pe=[ce,H(me),"'",H(Be),"'"].join("");return["D:",F.getFullYear(),H(F.getMonth()+1),H(F.getDate()),H(F.getHours()),H(F.getMinutes()),H(F.getSeconds()),Pe].join("")},M=h.__private__.convertPDFDateToDate=function(F){var Z=parseInt(F.substr(2,4),10),ce=parseInt(F.substr(6,2),10)-1,me=parseInt(F.substr(8,2),10),Be=parseInt(F.substr(10,2),10),Pe=parseInt(F.substr(12,2),10),De=parseInt(F.substr(14,2),10);return new Date(Z,ce,me,Be,Pe,De,0)},q=h.__private__.setCreationDate=function(F){var Z;if(F===void 0&&(F=new Date),F instanceof Date)Z=W(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=F}return D=Z},B=h.__private__.getCreationDate=function(F){var Z=D;return F==="jsDate"&&(Z=M(D)),Z};h.setCreationDate=function(F){return q(F),this},h.getCreationDate=function(F){return B(F)};var I,H=h.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},G=h.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},J=0,ie=[],Ae=[],se=0,we=[],be=[],ve=!1,pe=Ae,oe=function(){J=0,se=0,Ae=[],ie=[],we=[],Xi=Kr(),_a=Kr()};h.__private__.setCustomOutputDestination=function(F){ve=!0,pe=F};var de=function(F){ve||(pe=F)};h.__private__.resetCustomOutputDestination=function(){ve=!1,pe=Ae};var V=h.__private__.out=function(F){return F=F.toString(),se+=F.length+1,pe.push(F),pe},re=h.__private__.write=function(F){return V(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},he=h.__private__.getArrayBuffer=function(F){for(var Z=F.length,ce=new ArrayBuffer(Z),me=new Uint8Array(ce);Z--;)me[Z]=F.charCodeAt(Z);return ce},ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ue};var Ce=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(F){return Ce=b===y.ADVANCED?F/ze:F,this};var _e,Fe=h.__private__.getFontSize=h.getFontSize=function(){return b===y.COMPAT?Ce:Ce*ze},Re=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(F){return Re=F,this},h.__private__.getR2L=h.getR2L=function(){return Re};var Qe,Ge=h.__private__.setZoomMode=function(F){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))_e=F;else if(isNaN(F)){if(Z.indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');_e=F}else _e=parseInt(F,10)};h.__private__.getZoomMode=function(){return _e};var et,st=h.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');Qe=F};h.__private__.getPageMode=function(){return Qe};var Nt=h.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');et=F};h.__private__.getLayoutMode=function(){return et},h.__private__.setDisplayMode=h.setDisplayMode=function(F,Z,ce){return Ge(F),Nt(Z),st(ce),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(F){if(Object.keys(ct).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[F]},h.__private__.getDocumentProperties=function(){return ct},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(F){for(var Z in ct)ct.hasOwnProperty(Z)&&F[Z]&&(ct[Z]=F[Z]);return this},h.__private__.setDocumentProperty=function(F,Z){if(Object.keys(ct).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[F]=Z};var Bt,ze,Zt,kt,us,er={},mr={},Ai=[],Rt={},gc={},Cr={},ka={},Ji=null,kr=0,mt=[],$t=new kS(h),mc=e.hotfixes||[],Nn={},ui={},di=[],At=function F(Z,ce,me,Be,Pe,De){if(!(this instanceof F))return new F(Z,ce,me,Be,Pe,De);isNaN(Z)&&(Z=1),isNaN(ce)&&(ce=0),isNaN(me)&&(me=0),isNaN(Be)&&(Be=1),isNaN(Pe)&&(Pe=0),isNaN(De)&&(De=0),this._matrix=[Z,ce,me,Be,Pe,De]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(F)},At.prototype.multiply=function(F){var Z=F.sx*this.sx+F.shy*this.shx,ce=F.sx*this.shy+F.shy*this.sy,me=F.shx*this.sx+F.sy*this.shx,Be=F.shx*this.shy+F.sy*this.sy,Pe=F.tx*this.sx+F.ty*this.shx+this.tx,De=F.tx*this.shy+F.ty*this.sy+this.ty;return new At(Z,ce,me,Be,Pe,De)},At.prototype.decompose=function(){var F=this.sx,Z=this.shy,ce=this.shx,me=this.sy,Be=this.tx,Pe=this.ty,De=Math.sqrt(F*F+Z*Z),Xe=(F/=De)*ce+(Z/=De)*me;ce-=F*Xe,me-=Z*Xe;var at=Math.sqrt(ce*ce+me*me);return Xe/=at,F*(me/=at)<Z*(ce/=at)&&(F=-F,Z=-Z,Xe=-Xe,De=-De),{scale:new At(De,0,0,at,0,0),translate:new At(1,0,0,1,Be,Pe),rotate:new At(F,Z,-Z,F,0,0),skew:new At(1,0,Xe,1,0,0)}},At.prototype.toString=function(F){return this.join(" ")},At.prototype.inversed=function(){var F=this.sx,Z=this.shy,ce=this.shx,me=this.sy,Be=this.tx,Pe=this.ty,De=1/(F*me-Z*ce),Xe=me*De,at=-Z*De,yt=-ce*De,vt=F*De;return new At(Xe,at,yt,vt,-Xe*Be-yt*Pe,-at*Be-vt*Pe)},At.prototype.applyToPoint=function(F){var Z=F.x*this.sx+F.y*this.shx+this.tx,ce=F.x*this.shy+F.y*this.sy+this.ty;return new GA(Z,ce)},At.prototype.applyToRectangle=function(F){var Z=this.applyToPoint(F),ce=this.applyToPoint(new GA(F.x+F.w,F.y+F.h));return new Pf(Z.x,Z.y,ce.x-Z.x,ce.y-Z.y)},At.prototype.clone=function(){var F=this.sx,Z=this.shy,ce=this.shx,me=this.sy,Be=this.tx,Pe=this.ty;return new At(F,Z,ce,me,Be,Pe)},h.Matrix=At;var Sa=h.matrixMult=function(F,Z){return Z.multiply(F)},fi=new At(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=fi;var ds=function(F,Z){if(!gc[F]){var ce=(Z instanceof Hc?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);Z.id=ce,gc[F]=ce,Rt[ce]=Z,$t.publish("addPattern",Z)}};h.ShadingPattern=Hc,h.TilingPattern=zu,h.addShadingPattern=function(F,Z){return j("addShadingPattern()"),ds(F,Z),this},h.beginTilingPattern=function(F){j("beginTilingPattern()"),sm(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},h.endTilingPattern=function(F,Z){j("endTilingPattern()"),Z.stream=be[I].join(`
`),ds(F,Z),$t.publish("endTilingPattern",Z),di.pop().restore()};var tn=h.__private__.newObject=function(){var F=Kr();return Ps(F,!0),F},Kr=h.__private__.newObjectDeferred=function(){return J++,ie[J]=function(){return se},J},Ps=function(F,Z){return Z=typeof Z=="boolean"&&Z,ie[F]=se,Z&&V(F+" 0 obj"),F},OA=h.__private__.newAdditionalObject=function(){var F={objId:Kr(),content:""};return we.push(F),F},Xi=Kr(),_a=Kr(),Ea=h.__private__.decodeColorString=function(F){var Z=F.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var ce=parseFloat(Z[0]);Z=[ce,ce,ce,"r"]}for(var me="#",Be=0;Be<3;Be++)me+=("0"+Math.floor(255*parseFloat(Z[Be])).toString(16)).slice(-2);return me},Fa=h.__private__.encodeColorString=function(F){var Z;typeof F=="string"&&(F={ch1:F});var ce=F.ch1,me=F.ch2,Be=F.ch3,Pe=F.ch4,De=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var Xe=new pL(ce);if(Xe.ok)ce=Xe.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var at=parseInt(ce.substr(1),16);ce=at>>16&255,me=at>>8&255,Be=255&at}if(me===void 0||Pe===void 0&&ce===me&&me===Be)if(typeof ce=="string")Z=ce+" "+De[0];else switch(F.precision){case 2:Z=z(ce/255)+" "+De[0];break;case 3:default:Z=E(ce/255)+" "+De[0]}else if(Pe===void 0||Qt(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return Z=["1.","1.","1.",De[1]].join(" ");if(typeof ce=="string")Z=[ce,me,Be,De[1]].join(" ");else switch(F.precision){case 2:Z=[z(ce/255),z(me/255),z(Be/255),De[1]].join(" ");break;default:case 3:Z=[E(ce/255),E(me/255),E(Be/255),De[1]].join(" ")}}else if(typeof ce=="string")Z=[ce,me,Be,Pe,De[2]].join(" ");else switch(F.precision){case 2:Z=[z(ce),z(me),z(Be),z(Pe),De[2]].join(" ");break;case 3:default:Z=[E(ce),E(me),E(Be),E(Pe),De[2]].join(" ")}return Z},hi=h.__private__.getFilters=function(){return o},Xs=h.__private__.putStream=function(F){var Z=(F=F||{}).data||"",ce=F.filters||hi(),me=F.alreadyAppliedFilters||[],Be=F.addLength1||!1,Pe=Z.length,De=F.objectId,Xe=function(Ln){return Ln};if(u!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Xe=Tn.encryptor(De,0));var at={};ce===!0&&(ce=["FlateEncode"]);var yt=F.additionalKeyValues||[],vt=(at=it.API.processDataByFilters!==void 0?it.API.processDataByFilters(Z,ce):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(at.data.length!==0&&(yt.push({key:"Length",value:at.data.length}),Be===!0&&yt.push({key:"Length1",value:Pe})),vt.length!=0)if(vt.split("/").length-1==1)yt.push({key:"Filter",value:vt});else{yt.push({key:"Filter",value:"["+vt+"]"});for(var It=0;It<yt.length;It+=1)if(yt[It].key==="DecodeParms"){for(var wr=[],Sr=0;Sr<at.reverseChain.split("/").length-1;Sr+=1)wr.push("null");wr.push(yt[It].value),yt[It].value="["+wr.join(" ")+"]"}}V("<<");for(var Vr=0;Vr<yt.length;Vr++)V("/"+yt[Vr].key+" "+yt[Vr].value);V(">>"),at.data.length!==0&&(V("stream"),V(Xe(at.data)),V("endstream"))},pi=h.__private__.putPage=function(F){var Z=F.number,ce=F.data,me=F.objId,Be=F.contentsObjId;Ps(me,!0),V("<</Type /Page"),V("/Parent "+F.rootDictionaryObjId+" 0 R"),V("/Resources "+F.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(T(F.mediaBox.bottomLeftX))+" "+parseFloat(T(F.mediaBox.bottomLeftY))+" "+T(F.mediaBox.topRightX)+" "+T(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&V("/CropBox ["+T(F.cropBox.bottomLeftX)+" "+T(F.cropBox.bottomLeftY)+" "+T(F.cropBox.topRightX)+" "+T(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&V("/BleedBox ["+T(F.bleedBox.bottomLeftX)+" "+T(F.bleedBox.bottomLeftY)+" "+T(F.bleedBox.topRightX)+" "+T(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&V("/TrimBox ["+T(F.trimBox.bottomLeftX)+" "+T(F.trimBox.bottomLeftY)+" "+T(F.trimBox.topRightX)+" "+T(F.trimBox.topRightY)+"]"),F.artBox!==null&&V("/ArtBox ["+T(F.artBox.bottomLeftX)+" "+T(F.artBox.bottomLeftY)+" "+T(F.artBox.topRightX)+" "+T(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&V("/UserUnit "+F.userUnit),$t.publish("putPage",{objId:me,pageContext:mt[Z],pageNumber:Z,page:ce}),V("/Contents "+Be+" 0 R"),V(">>"),V("endobj");var Pe=ce.join(`
`);return b===y.ADVANCED&&(Pe+=`
Q`),Ps(Be,!0),Xs({data:Pe,filters:hi(),objectId:Be}),V("endobj"),me},vc=h.__private__.putPages=function(){var F,Z,ce=[];for(F=1;F<=kr;F++)mt[F].objId=Kr(),mt[F].contentsObjId=Kr();for(F=1;F<=kr;F++)ce.push(pi({number:F,data:be[F],objId:mt[F].objId,contentsObjId:mt[F].contentsObjId,mediaBox:mt[F].mediaBox,cropBox:mt[F].cropBox,bleedBox:mt[F].bleedBox,trimBox:mt[F].trimBox,artBox:mt[F].artBox,userUnit:mt[F].userUnit,rootDictionaryObjId:Xi,resourceDictionaryObjId:_a}));Ps(Xi,!0),V("<</Type /Pages");var me="/Kids [";for(Z=0;Z<kr;Z++)me+=ce[Z]+" 0 R ";V(me+"]"),V("/Count "+kr),V(">>"),V("endobj"),$t.publish("postPutPages")},TA=function(F){$t.publish("putFont",{font:F,out:V,newObject:tn,putStream:Xs}),F.isAlreadyPutted!==!0&&(F.objectNumber=tn(),V("<<"),V("/Type /Font"),V("/BaseFont /"+_u(F.postScriptName)),V("/Subtype /Type1"),typeof F.encoding=="string"&&V("/Encoding /"+F.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},LA=function(){for(var F in er)er.hasOwnProperty(F)&&(d===!1||d===!0&&f.hasOwnProperty(F))&&TA(er[F])},UA=function(F){F.objectNumber=tn();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[T(F.x),T(F.y),T(F.x+F.width),T(F.y+F.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var ce=F.pages[1].join(`
`);Xs({data:ce,additionalKeyValues:Z,objectId:F.objectNumber}),V("endobj")},DA=function(){for(var F in Nn)Nn.hasOwnProperty(F)&&UA(Nn[F])},Mg=function(F,Z){var ce,me=[],Be=1/(Z-1);for(ce=0;ce<1;ce+=Be)me.push(ce);if(me.push(1),F[0].offset!=0){var Pe={offset:0,color:F[0].color};F.unshift(Pe)}if(F[F.length-1].offset!=1){var De={offset:1,color:F[F.length-1].color};F.push(De)}for(var Xe="",at=0,yt=0;yt<me.length;yt++){for(ce=me[yt];ce>F[at+1].offset;)at++;var vt=F[at].offset,It=(ce-vt)/(F[at+1].offset-vt),wr=F[at].color,Sr=F[at+1].color;Xe+=G(Math.round((1-It)*wr[0]+It*Sr[0]).toString(16))+G(Math.round((1-It)*wr[1]+It*Sr[1]).toString(16))+G(Math.round((1-It)*wr[2]+It*Sr[2]).toString(16))}return Xe.trim()},Rb=function(F,Z){Z||(Z=21);var ce=tn(),me=Mg(F.colors,Z),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+Z+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xs({data:me,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),V("endobj"),F.objectNumber=tn(),V("<< /ShadingType "+F.type),V("/ColorSpace /DeviceRGB");var Pe="/Coords ["+T(parseFloat(F.coords[0]))+" "+T(parseFloat(F.coords[1]))+" ";F.type===2?Pe+=T(parseFloat(F.coords[2]))+" "+T(parseFloat(F.coords[3])):Pe+=T(parseFloat(F.coords[2]))+" "+T(parseFloat(F.coords[3]))+" "+T(parseFloat(F.coords[4]))+" "+T(parseFloat(F.coords[5])),V(Pe+="]"),F.matrix&&V("/Matrix ["+F.matrix.toString()+"]"),V("/Function "+ce+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},$b=function(F,Z){var ce=Kr(),me=tn();Z.push({resourcesOid:ce,objectOid:me}),F.objectNumber=me;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+F.boundingBox.map(T).join(" ")+"]"}),Be.push({key:"XStep",value:T(F.xStep)}),Be.push({key:"YStep",value:T(F.yStep)}),Be.push({key:"Resources",value:ce+" 0 R"}),F.matrix&&Be.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),Xs({data:F.stream,additionalKeyValues:Be,objectId:F.objectNumber}),V("endobj")},QA=function(F){var Z;for(Z in Rt)Rt.hasOwnProperty(Z)&&(Rt[Z]instanceof Hc?Rb(Rt[Z]):Rt[Z]instanceof zu&&$b(Rt[Z],F))},Rg=function(F){for(var Z in F.objectNumber=tn(),V("<<"),F)switch(Z){case"opacity":V("/ca "+z(F[Z]));break;case"stroke-opacity":V("/CA "+z(F[Z]))}V(">>"),V("endobj")},Hb=function(){var F;for(F in Cr)Cr.hasOwnProperty(F)&&Rg(Cr[F])},wf=function(){for(var F in V("/XObject <<"),Nn)Nn.hasOwnProperty(F)&&Nn[F].objectNumber>=0&&V("/"+F+" "+Nn[F].objectNumber+" 0 R");$t.publish("putXobjectDict"),V(">>")},zb=function(){Tn.oid=tn(),V("<<"),V("/Filter /Standard"),V("/V "+Tn.v),V("/R "+Tn.r),V("/U <"+Tn.toHexString(Tn.U)+">"),V("/O <"+Tn.toHexString(Tn.O)+">"),V("/P "+Tn.P),V(">>"),V("endobj")},$g=function(){for(var F in V("/Font <<"),er)er.hasOwnProperty(F)&&(d===!1||d===!0&&f.hasOwnProperty(F))&&V("/"+F+" "+er[F].objectNumber+" 0 R");V(">>")},Kb=function(){if(Object.keys(Rt).length>0){for(var F in V("/Shading <<"),Rt)Rt.hasOwnProperty(F)&&Rt[F]instanceof Hc&&Rt[F].objectNumber>=0&&V("/"+F+" "+Rt[F].objectNumber+" 0 R");$t.publish("putShadingPatternDict"),V(">>")}},MA=function(F){if(Object.keys(Rt).length>0){for(var Z in V("/Pattern <<"),Rt)Rt.hasOwnProperty(Z)&&Rt[Z]instanceof h.TilingPattern&&Rt[Z].objectNumber>=0&&Rt[Z].objectNumber<F&&V("/"+Z+" "+Rt[Z].objectNumber+" 0 R");$t.publish("putTilingPatternDict"),V(">>")}},Vb=function(){if(Object.keys(Cr).length>0){var F;for(F in V("/ExtGState <<"),Cr)Cr.hasOwnProperty(F)&&Cr[F].objectNumber>=0&&V("/"+F+" "+Cr[F].objectNumber+" 0 R");$t.publish("putGStateDict"),V(">>")}},Tr=function(F){Ps(F.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),$g(),Kb(),MA(F.objectOid),Vb(),wf(),V(">>"),V("endobj")},Hg=function(){var F=[];LA(),Hb(),DA(),QA(F),$t.publish("putResources"),F.forEach(Tr),Tr({resourcesOid:_a,objectOid:Number.MAX_SAFE_INTEGER}),$t.publish("postPutResources")},zg=function(){$t.publish("putAdditionalObjects");for(var F=0;F<we.length;F++){var Z=we[F];Ps(Z.objId,!0),V(Z.content),V("endobj")}$t.publish("postPutAdditionalObjects")},Kg=function(F){mr[F.fontName]=mr[F.fontName]||{},mr[F.fontName][F.fontStyle]=F.id},jf=function(F,Z,ce,me,Be){var Pe={id:"F"+(Object.keys(er).length+1).toString(10),postScriptName:F,fontName:Z,fontStyle:ce,encoding:me,isStandardFont:Be||!1,metadata:{}};return $t.publish("addFont",{font:Pe,instance:this}),er[Pe.id]=Pe,Kg(Pe),Pe.id},Gb=function(F){for(var Z=0,ce=ue.length;Z<ce;Z++){var me=jf.call(this,F[Z][0],F[Z][1],F[Z][2],ue[Z][3],!0);d===!1&&(f[me]=!0);var Be=F[Z][0].split("-");Kg({id:me,fontName:Be[0],fontStyle:Be[1]||""})}$t.publish("addFonts",{fonts:er,dictionary:mr})},Pa=function(F){return F.foo=function(){try{return F.apply(this,arguments)}catch(me){var Z=me.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var ce="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+me.message;if(!dt.console)throw new Error(ce);dt.console.error(ce,me),dt.alert&&alert(ce)}},F.foo.bar=F,F.foo},RA=function(F,Z){var ce,me,Be,Pe,De,Xe,at,yt,vt;if(Be=(Z=Z||{}).sourceEncoding||"Unicode",De=Z.outputEncoding,(Z.autoencode||De)&&er[Bt].metadata&&er[Bt].metadata[Be]&&er[Bt].metadata[Be].encoding&&(Pe=er[Bt].metadata[Be].encoding,!De&&er[Bt].encoding&&(De=er[Bt].encoding),!De&&Pe.codePages&&(De=Pe.codePages[0]),typeof De=="string"&&(De=Pe[De]),De)){for(at=!1,Xe=[],ce=0,me=F.length;ce<me;ce++)(yt=De[F.charCodeAt(ce)])?Xe.push(String.fromCharCode(yt)):Xe.push(F[ce]),Xe[ce].charCodeAt(0)>>8&&(at=!0);F=Xe.join("")}for(ce=F.length;at===void 0&&ce!==0;)F.charCodeAt(ce-1)>>8&&(at=!0),ce--;if(!at)return F;for(Xe=Z.noBOM?[]:[254,255],ce=0,me=F.length;ce<me;ce++){if((vt=(yt=F.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+F+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xe.push(vt),Xe.push(yt-(vt<<8))}return String.fromCharCode.apply(void 0,Xe)},fs=h.__private__.pdfEscape=h.pdfEscape=function(F,Z){return RA(F,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nf=h.__private__.beginPage=function(F){be[++kr]=[],mt[kr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},Gg(kr),de(be[I])},Vg=function(F,Z){var ce,me,Be;switch(r=Z||r,typeof F=="string"&&(ce=v(F.toLowerCase()),Array.isArray(ce)&&(me=ce[0],Be=ce[1])),Array.isArray(F)&&(me=F[0]*ze,Be=F[1]*ze),isNaN(me)&&(me=s[0],Be=s[1]),(me>14400||Be>14400)&&(rr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Be=Math.min(14400,Be)),s=[me,Be],r.substr(0,1)){case"l":Be>me&&(s=[Be,me]);break;case"p":me>Be&&(s=[Be,me])}Nf(s),Zg(Sf),V(Ia),Ef!==0&&V(Ef+" J"),Ff!==0&&V(Ff+" j"),$t.publish("addPage",{pageNumber:kr})},Wb=function(F){F>0&&F<=kr&&(be.splice(F,1),mt.splice(F,1),kr--,I>kr&&(I=kr),this.setPage(I))},Gg=function(F){F>0&&F<=kr&&(I=F)},qb=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return be.length-1},Wg=function(F,Z,ce){var me,Be=void 0;return ce=ce||{},F=F!==void 0?F:er[Bt].fontName,Z=Z!==void 0?Z:er[Bt].fontStyle,me=F.toLowerCase(),mr[me]!==void 0&&mr[me][Z]!==void 0?Be=mr[me][Z]:mr[F]!==void 0&&mr[F][Z]!==void 0?Be=mr[F][Z]:ce.disableWarning===!1&&rr.warn("Unable to look up font label for font '"+F+"', '"+Z+"'. Refer to getFontList() for available fonts."),Be||ce.noFallback||(Be=mr.times[Z])==null&&(Be=mr.times.normal),Be},Jb=h.__private__.putInfo=function(){var F=tn(),Z=function(me){return me};for(var ce in u!==null&&(Z=Tn.encryptor(F,0)),V("<<"),V("/Producer ("+fs(Z("jsPDF "+it.version))+")"),ct)ct.hasOwnProperty(ce)&&ct[ce]&&V("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+fs(Z(ct[ce]))+")");V("/CreationDate ("+fs(Z(D))+")"),V(">>"),V("endobj")},Bf=h.__private__.putCatalog=function(F){var Z=(F=F||{}).rootDictionaryObjId||Xi;switch(tn(),V("<<"),V("/Type /Catalog"),V("/Pages "+Z+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+_e;ce.substr(ce.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&V("/OpenAction [3 0 R /XYZ null null "+z(_e)+"]")}switch(et||(et="continuous"),et){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}Qe&&V("/PageMode /"+Qe),$t.publish("putCatalog"),V(">>"),V("endobj")},Xb=h.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(J+1)),V("/Root "+J+" 0 R"),V("/Info "+(J-1)+" 0 R"),u!==null&&V("/Encrypt "+Tn.oid+" 0 R"),V("/ID [ <"+S+"> <"+S+"> ]"),V(">>")},Yb=h.__private__.putHeader=function(){V("%PDF-"+p),V("%ºß¬à")},Zb=h.__private__.putXRef=function(){var F="0000000000";V("xref"),V("0 "+(J+1)),V("0000000000 65535 f ");for(var Z=1;Z<=J;Z++)typeof ie[Z]=="function"?V((F+ie[Z]()).slice(-10)+" 00000 n "):ie[Z]!==void 0?V((F+ie[Z]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},Yi=h.__private__.buildDocument=function(){oe(),de(Ae),$t.publish("buildDocument"),Yb(),vc(),zg(),Hg(),u!==null&&zb(),Jb(),Bf();var F=se;return Zb(),Xb(),V("startxref"),V(""+F),V("%%EOF"),de(be[I]),Ae.join(`
`)},$A=h.__private__.getBlob=function(F){return new Blob([he(F)],{type:"application/pdf"})},HA=h.output=h.__private__.output=Pa(function(F,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",F){case void 0:return Yi();case"save":h.save(Z.filename);break;case"arraybuffer":return he(Yi());case"blob":return $A(Yi());case"bloburi":case"bloburl":if(dt.URL!==void 0&&typeof dt.URL.createObjectURL=="function")return dt.URL&&dt.URL.createObjectURL($A(Yi()))||void 0;rr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",me=Yi();try{ce=Oj(me)}catch{ce=Oj(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+Z.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Be=Z.pdfObjectUrl,Pe="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Xe=dt.open();return Xe!==null&&Xe.document.write(De),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',yt=dt.open();if(yt!==null){yt.document.write(at);var vt=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=Z.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(vt.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',wr=dt.open();if(wr!==null&&(wr.document.write(It),wr.document.title=Z.filename),wr||typeof safari>"u")return wr;break;case"datauri":case"dataurl":return dt.document.location.href=this.output("datauristring",Z);default:return null}}),qg=function(F){return Array.isArray(mc)===!0&&mc.indexOf(F)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=qg("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var Tn=null;q(),R();var e1=function(F){return u!==null?Tn.encryptor(F,0):function(Z){return Z}},Jg=h.__private__.getPageInfo=h.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[F].objId,pageNumber:F,pageContext:mt[F]}},pt=h.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in mt)if(mt[Z].objId===F)break;return Jg(Z)},t1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:mt[I].objId,pageNumber:I,pageContext:mt[I]}};h.addPage=function(){return Vg.apply(this,arguments),this},h.setPage=function(){return Gg.apply(this,arguments),de.call(this,be[I]),this},h.insertPage=function(F){return this.addPage(),this.movePage(I,F),this},h.movePage=function(F,Z){var ce,me;if(F>Z){ce=be[F],me=mt[F];for(var Be=F;Be>Z;Be--)be[Be]=be[Be-1],mt[Be]=mt[Be-1];be[Z]=ce,mt[Z]=me,this.setPage(Z)}else if(F<Z){ce=be[F],me=mt[F];for(var Pe=F;Pe<Z;Pe++)be[Pe]=be[Pe+1],mt[Pe]=mt[Pe+1];be[Z]=ce,mt[Z]=me,this.setPage(Z)}return this},h.deletePage=function(){return Wb.apply(this,arguments),this},h.__private__.text=h.text=function(F,Z,ce,me,Be){var Pe,De,Xe,at,yt,vt,It,wr,Sr,Vr=(me=me||{}).scope||this;if(typeof F=="number"&&typeof Z=="number"&&(typeof ce=="string"||Array.isArray(ce))){var Ln=ce;ce=Z,Z=F,F=Ln}if(arguments[3]instanceof At?(j("The transform parameter of text() with a Matrix value"),Sr=Be):(Xe=arguments[4],at=arguments[5],Qt(It=arguments[3])==="object"&&It!==null||(typeof Xe=="string"&&(at=Xe,Xe=null),typeof It=="string"&&(at=It,It=null),typeof It=="number"&&(Xe=It,It=null),me={flags:It,angle:Xe,align:at})),isNaN(Z)||isNaN(ce)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Vr;var un="",Oa=!1,Is=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:yc,vi=Vr.internal.scaleFactor;function am(sr){return sr=sr.split("	").join(Array(me.TabLen||9).join(" ")),fs(sr,It)}function Lf(sr){for(var ar,Ur=sr.concat(),rn=[],no=Ur.length;no--;)typeof(ar=Ur.shift())=="string"?rn.push(ar):Array.isArray(sr)&&(ar.length===1||ar[1]===void 0&&ar[2]===void 0)?rn.push(ar[0]):rn.push([ar[0],ar[1],ar[2]]);return rn}function Uf(sr,ar){var Ur;if(typeof sr=="string")Ur=ar(sr)[0];else if(Array.isArray(sr)){for(var rn,no,Kf=sr.concat(),su=[],Am=Kf.length;Am--;)typeof(rn=Kf.shift())=="string"?su.push(ar(rn)[0]):Array.isArray(rn)&&typeof rn[0]=="string"&&(no=ar(rn[0],rn[1],rn[2]),su.push([no[0],no[1],no[2]]));Ur=su}return Ur}var qA=!1,Df=!0;if(typeof F=="string")qA=!0;else if(Array.isArray(F)){var Qf=F.concat();De=[];for(var JA,Bn=Qf.length;Bn--;)(typeof(JA=Qf.shift())!="string"||Array.isArray(JA)&&typeof JA[0]!="string")&&(Df=!1);qA=Df}if(qA===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var XA=Ce/Vr.internal.scaleFactor,YA=XA*(Is-1);switch(me.baseline){case"bottom":ce-=YA;break;case"top":ce+=XA-YA;break;case"hanging":ce+=XA-2*YA;break;case"middle":ce+=XA/2-YA}if((vt=me.maxWidth||0)>0&&(typeof F=="string"?F=Vr.splitTextToSize(F,vt):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(sr,ar){return sr.concat(Vr.splitTextToSize(ar,vt))},[]))),Pe={text:F,x:Z,y:ce,options:me,mutex:{pdfEscape:fs,activeFontKey:Bt,fonts:er,activeFontSize:Ce}},$t.publish("preProcessText",Pe),F=Pe.text,Xe=(me=Pe.options).angle,!(Sr instanceof At)&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,me.rotationDirection===0&&(Xe=-Xe),b===y.ADVANCED&&(Xe=-Xe);var ZA=Math.cos(Xe),Mf=Math.sin(Xe);Sr=new At(ZA,Mf,-Mf,ZA,0,0)}else Xe&&Xe instanceof At&&(Sr=Xe);b!==y.ADVANCED||Sr||(Sr=fi),(yt=me.charSpace||VA)!==void 0&&(un+=T(C(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wr=me.horizontalScale)!==void 0&&(un+=T(100*wr)+` Tz
`),me.lang;var hs=-1,u1=me.renderingMode!==void 0?me.renderingMode:me.stroke,Rf=Vr.internal.getCurrentPageInfo().pageContext;switch(u1){case 0:case!1:case"fill":hs=0;break;case 1:case!0:case"stroke":hs=1;break;case 2:case"fillThenStroke":hs=2;break;case 3:case"invisible":hs=3;break;case 4:case"fillAndAddForClipping":hs=4;break;case 5:case"strokeAndAddPathForClipping":hs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hs=6;break;case 7:case"addToPathForClipping":hs=7}var im=Rf.usedRenderingMode!==void 0?Rf.usedRenderingMode:-1;hs!==-1?un+=hs+` Tr
`:im!==-1&&(un+=`0 Tr
`),hs!==-1&&(Rf.usedRenderingMode=hs),at=me.align||"left";var Ys,eu=Ce*Is,om=Vr.internal.pageSize.getWidth(),lm=er[Bt];yt=me.charSpace||VA,vt=me.maxWidth||0,It=Object.assign({autoencode:!0,noBOM:!0},me.flags);var el=[],jc=function(sr){return Vr.getStringUnitWidth(sr,{font:lm,charSpace:yt,fontSize:Ce,doKerning:!1})*Ce/vi};if(Object.prototype.toString.call(F)==="[object Array]"){var ps;De=Lf(F),at!=="left"&&(Ys=De.map(jc));var Xn,tl=0;if(at==="right"){Z-=Ys[0],F=[],Bn=De.length;for(var eo=0;eo<Bn;eo++)eo===0?(Xn=mi(Z),ps=Zi(ce)):(Xn=C(tl-Ys[eo]),ps=-eu),F.push([De[eo],Xn,ps]),tl=Ys[eo]}else if(at==="center"){Z-=Ys[0]/2,F=[],Bn=De.length;for(var to=0;to<Bn;to++)to===0?(Xn=mi(Z),ps=Zi(ce)):(Xn=C((tl-Ys[to])/2),ps=-eu),F.push([De[to],Xn,ps]),tl=Ys[to]}else if(at==="left"){F=[],Bn=De.length;for(var tu=0;tu<Bn;tu++)F.push(De[tu])}else if(at==="justify"&&lm.encoding==="Identity-H"){F=[],Bn=De.length,vt=vt!==0?vt:om;for(var ro=0,Lr=0;Lr<Bn;Lr++)if(ps=Lr===0?Zi(ce):-eu,Xn=Lr===0?mi(Z):ro,Lr<Bn-1){var $f=C((vt-Ys[Lr])/(De[Lr].split(" ").length-1)),Yn=De[Lr].split(" ");F.push([Yn[0]+" ",Xn,ps]),ro=0;for(var Zs=1;Zs<Yn.length;Zs++){var ru=(jc(Yn[Zs-1]+" "+Yn[Zs])-jc(Yn[Zs]))*vi+$f;Zs==Yn.length-1?F.push([Yn[Zs],ru,0]):F.push([Yn[Zs]+" ",ru,0]),ro-=ru}}else F.push([De[Lr],Xn,ps]);F.push(["",ro,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],Bn=De.length,vt=vt!==0?vt:om,Lr=0;Lr<Bn;Lr++)ps=Lr===0?Zi(ce):-eu,Xn=Lr===0?mi(Z):0,Lr<Bn-1?el.push(T(C((vt-Ys[Lr])/(De[Lr].split(" ").length-1)))):el.push(0),F.push([De[Lr],Xn,ps])}}var cm=typeof me.R2L=="boolean"?me.R2L:Re;cm===!0&&(F=Uf(F,function(sr,ar,Ur){return[sr.split("").reverse().join(""),ar,Ur]})),Pe={text:F,x:Z,y:ce,options:me,mutex:{pdfEscape:fs,activeFontKey:Bt,fonts:er,activeFontSize:Ce}},$t.publish("postProcessText",Pe),F=Pe.text,Oa=Pe.mutex.isHex||!1;var Hf=er[Bt].encoding;Hf!=="WinAnsiEncoding"&&Hf!=="StandardEncoding"||(F=Uf(F,function(sr,ar,Ur){return[am(sr),ar,Ur]})),De=Lf(F),F=[];for(var Nc,Bc,rl,Cc=0,nu=1,kc=Array.isArray(De[0])?nu:Cc,nl="",zf=function(sr,ar,Ur){var rn="";return Ur instanceof At?(Ur=typeof me.angle=="number"?Sa(Ur,new At(1,0,0,1,sr,ar)):Sa(new At(1,0,0,1,sr,ar),Ur),b===y.ADVANCED&&(Ur=Sa(new At(1,0,0,-1,0,0),Ur)),rn=Ur.join(" ")+` Tm
`):rn=T(sr)+" "+T(ar)+` Td
`,rn},ea=0;ea<De.length;ea++){switch(nl="",kc){case nu:rl=(Oa?"<":"(")+De[ea][0]+(Oa?">":")"),Nc=parseFloat(De[ea][1]),Bc=parseFloat(De[ea][2]);break;case Cc:rl=(Oa?"<":"(")+De[ea]+(Oa?">":")"),Nc=mi(Z),Bc=Zi(ce)}el!==void 0&&el[ea]!==void 0&&(nl=el[ea]+` Tw
`),ea===0?F.push(nl+zf(Nc,Bc,Sr)+rl):kc===Cc?F.push(nl+rl):kc===nu&&F.push(nl+zf(Nc,Bc,Sr)+rl)}F=kc===Cc?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var ta=`BT
/`;return ta+=Bt+" "+Ce+` Tf
`,ta+=T(Ce*Is)+` TL
`,ta+=bc+`
`,ta+=un,ta+=F,V(ta+="ET"),f[Bt]=!0,Vr};var r1=h.__private__.clip=h.clip=function(F){return V(F==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return r1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return V("n"),this};var gi=h.__private__.isValidStyle=function(F){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(Z=!0),Z};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(F){return gi(F)&&(A=F),this};var Xg=h.__private__.getStyle=h.getStyle=function(F){var Z=A;switch(F){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=F}return Z},Yg=h.close=function(){return V("h"),this};h.stroke=function(){return V("S"),this},h.fill=function(F){return zA("f",F),this},h.fillEvenOdd=function(F){return zA("f*",F),this},h.fillStroke=function(F){return zA("B",F),this},h.fillStrokeEvenOdd=function(F){return zA("B*",F),this};var zA=function(F,Z){Qt(Z)==="object"?s1(Z,F):V(F)},Cf=function(F){F===null||b===y.ADVANCED&&F===void 0||(F=Xg(F),V(F))};function n1(F,Z,ce,me,Be){var Pe=new zu(Z||this.boundingBox,ce||this.xStep,me||this.yStep,this.gState,Be||this.matrix);Pe.stream=this.stream;var De=F+"$$"+this.cloneIndex+++"$$";return ds(De,Pe),Pe}var s1=function(F,Z){var ce=gc[F.key],me=Rt[ce];if(me instanceof Hc)V("q"),V(a1(Z)),me.gState&&h.setGState(me.gState),V(F.matrix.toString()+" cm"),V("/"+ce+" sh"),V("Q");else if(me instanceof zu){var Be=new At(1,0,0,-1,0,Zo());F.matrix&&(Be=Be.multiply(F.matrix||fi),ce=n1.call(me,F.key,F.boundingBox,F.xStep,F.yStep,Be).id),V("q"),V("/Pattern cs"),V("/"+ce+" scn"),me.gState&&h.setGState(me.gState),V(Z),V("Q")}},a1=function(F){switch(F){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},kf=h.moveTo=function(F,Z){return V(T(C(F))+" "+T(L(Z))+" m"),this},xc=h.lineTo=function(F,Z){return V(T(C(F))+" "+T(L(Z))+" l"),this},Xo=h.curveTo=function(F,Z,ce,me,Be,Pe){return V([T(C(F)),T(L(Z)),T(C(ce)),T(L(me)),T(C(Be)),T(L(Pe)),"c"].join(" ")),this};h.__private__.line=h.line=function(F,Z,ce,me,Be){if(isNaN(F)||isNaN(Z)||isNaN(ce)||isNaN(me)||!gi(Be))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[ce-F,me-Z]],F,Z,[1,1],Be||"S"):this.lines([[ce-F,me-Z]],F,Z,[1,1]).stroke()},h.__private__.lines=h.lines=function(F,Z,ce,me,Be,Pe){var De,Xe,at,yt,vt,It,wr,Sr,Vr,Ln,un,Oa;if(typeof F=="number"&&(Oa=ce,ce=Z,Z=F,F=Oa),me=me||[1,1],Pe=Pe||!1,isNaN(Z)||isNaN(ce)||!Array.isArray(F)||!Array.isArray(me)||!gi(Be)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kf(Z,ce),De=me[0],Xe=me[1],yt=F.length,Ln=Z,un=ce,at=0;at<yt;at++)(vt=F[at]).length===2?(Ln=vt[0]*De+Ln,un=vt[1]*Xe+un,xc(Ln,un)):(It=vt[0]*De+Ln,wr=vt[1]*Xe+un,Sr=vt[2]*De+Ln,Vr=vt[3]*Xe+un,Ln=vt[4]*De+Ln,un=vt[5]*Xe+un,Xo(It,wr,Sr,Vr,Ln,un));return Pe&&Yg(),Cf(Be),this},h.path=function(F){for(var Z=0;Z<F.length;Z++){var ce=F[Z],me=ce.c;switch(ce.op){case"m":kf(me[0],me[1]);break;case"l":xc(me[0],me[1]);break;case"c":Xo.apply(this,me);break;case"h":Yg()}}return this},h.__private__.rect=h.rect=function(F,Z,ce,me,Be){if(isNaN(F)||isNaN(Z)||isNaN(ce)||isNaN(me)||!gi(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(me=-me),V([T(C(F)),T(L(Z)),T(C(ce)),T(C(me)),"re"].join(" ")),Cf(Be),this},h.__private__.triangle=h.triangle=function(F,Z,ce,me,Be,Pe,De){if(isNaN(F)||isNaN(Z)||isNaN(ce)||isNaN(me)||isNaN(Be)||isNaN(Pe)||!gi(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-F,me-Z],[Be-ce,Pe-me],[F-Be,Z-Pe]],F,Z,[1,1],De,!0),this},h.__private__.roundedRect=h.roundedRect=function(F,Z,ce,me,Be,Pe,De){if(isNaN(F)||isNaN(Z)||isNaN(ce)||isNaN(me)||isNaN(Be)||isNaN(Pe)||!gi(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*ce),Pe=Math.min(Pe,.5*me),this.lines([[ce-2*Be,0],[Be*Xe,0,Be,Pe-Pe*Xe,Be,Pe],[0,me-2*Pe],[0,Pe*Xe,-Be*Xe,Pe,-Be,Pe],[2*Be-ce,0],[-Be*Xe,0,-Be,-Pe*Xe,-Be,-Pe],[0,2*Pe-me],[0,-Pe*Xe,Be*Xe,-Pe,Be,-Pe]],F+Be,Z,[1,1],De,!0),this},h.__private__.ellipse=h.ellipse=function(F,Z,ce,me,Be){if(isNaN(F)||isNaN(Z)||isNaN(ce)||isNaN(me)||!gi(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*ce,De=4/3*(Math.SQRT2-1)*me;return kf(F+ce,Z),Xo(F+ce,Z-De,F+Pe,Z-me,F,Z-me),Xo(F-Pe,Z-me,F-ce,Z-De,F-ce,Z),Xo(F-ce,Z+De,F-Pe,Z+me,F,Z+me),Xo(F+Pe,Z+me,F+ce,Z+De,F+ce,Z),Cf(Be),this},h.__private__.circle=h.circle=function(F,Z,ce,me){if(isNaN(F)||isNaN(Z)||isNaN(ce)||!gi(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,Z,ce,ce,me)},h.setFont=function(F,Z,ce){return ce&&(Z=P(Z,ce)),Bt=Wg(F,Z,{disableWarning:!1}),this};var i1=h.__private__.getFont=h.getFont=function(){return er[Wg.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var F,Z,ce={};for(F in mr)if(mr.hasOwnProperty(F))for(Z in ce[F]=[],mr[F])mr[F].hasOwnProperty(Z)&&ce[F].push(Z);return ce},h.addFont=function(F,Z,ce,me,Be){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(ce=P(ce,me)),Be=Be||"Identity-H",jf.call(this,F,Z,ce,Be)};var yc,Sf=e.lineWidth||.200025,KA=h.__private__.getLineWidth=h.getLineWidth=function(){return Sf},Zg=h.__private__.setLineWidth=h.setLineWidth=function(F){return Sf=F,V(T(C(F))+" w"),this};h.__private__.setLineDash=it.API.setLineDash=it.API.setLineDashPattern=function(F,Z){if(F=F||[],Z=Z||0,isNaN(Z)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(ce){return T(C(ce))}).join(" "),Z=T(C(Z)),V("["+F+"] "+Z+" d"),this};var em=h.__private__.getLineHeight=h.getLineHeight=function(){return Ce*yc};h.__private__.getLineHeight=h.getLineHeight=function(){return Ce*yc};var tm=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(yc=F),this},rm=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return yc};tm(e.lineHeight);var mi=h.__private__.getHorizontalCoordinate=function(F){return C(F)},Zi=h.__private__.getVerticalCoordinate=function(F){return b===y.ADVANCED?F:mt[I].mediaBox.topRightY-mt[I].mediaBox.bottomLeftY-C(F)},o1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(F){return T(mi(F))},Yo=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(F){return T(Zi(F))},Ia=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ea(Ia)},h.__private__.setStrokeColor=h.setDrawColor=function(F,Z,ce,me){return Ia=Fa({ch1:F,ch2:Z,ch3:ce,ch4:me,pdfColorType:"draw",precision:2}),V(Ia),this};var _f=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ea(_f)},h.__private__.setFillColor=h.setFillColor=function(F,Z,ce,me){return _f=Fa({ch1:F,ch2:Z,ch3:ce,ch4:me,pdfColorType:"fill",precision:2}),V(_f),this};var bc=e.textColor||"0 g",l1=h.__private__.getTextColor=h.getTextColor=function(){return Ea(bc)};h.__private__.setTextColor=h.setTextColor=function(F,Z,ce,me){return bc=Fa({ch1:F,ch2:Z,ch3:ce,ch4:me,pdfColorType:"text",precision:3}),this};var VA=e.charSpace,c1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(VA||0)};h.__private__.setCharSpace=h.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return VA=F,this};var Ef=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(F){var Z=h.CapJoinStyles[F];if(Z===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ef=Z,V(Z+" J"),this};var Ff=0;h.__private__.setLineJoin=h.setLineJoin=function(F){var Z=h.CapJoinStyles[F];if(Z===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ff=Z,V(Z+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(T(C(F))+" M"),this},h.GState=zv,h.setGState=function(F){(F=typeof F=="string"?Cr[ka[F]]:nm(null,F)).equals(Ji)||(V("/"+F.id+" gs"),Ji=F)};var nm=function(F,Z){if(!F||!ka[F]){var ce=!1;for(var me in Cr)if(Cr.hasOwnProperty(me)&&Cr[me].equals(Z)){ce=!0;break}if(ce)Z=Cr[me];else{var Be="GS"+(Object.keys(Cr).length+1).toString(10);Cr[Be]=Z,Z.id=Be}return F&&(ka[F]=Z.id),$t.publish("addGState",Z),Z}};h.addGState=function(F,Z){return nm(F,Z),this},h.saveGraphicsState=function(){return V("q"),Ai.push({key:Bt,size:Ce,color:bc}),this},h.restoreGraphicsState=function(){V("Q");var F=Ai.pop();return Bt=F.key,Ce=F.size,bc=F.color,Ji=null,this},h.setCurrentTransformationMatrix=function(F){return V(F.toString()+" cm"),this},h.comment=function(F){return V("#"+F),this};var GA=function(F,Z){var ce=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Pe){isNaN(Pe)||(ce=parseFloat(Pe))}});var me=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Pe){isNaN(Pe)||(me=parseFloat(Pe))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(Pe){Be=Pe.toString()}}),this},Pf=function(F,Z,ce,me){GA.call(this,F,Z),this.type="rect";var Be=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(De){isNaN(De)||(Be=parseFloat(De))}});var Pe=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(De){isNaN(De)||(Pe=parseFloat(De))}}),this},If=function(){this.page=kr,this.currentPage=I,this.pages=be.slice(0),this.pagesContext=mt.slice(0),this.x=Zt,this.y=kt,this.matrix=us,this.width=wc(I),this.height=Zo(I),this.outputDestination=pe,this.id="",this.objectNumber=-1};If.prototype.restore=function(){kr=this.page,I=this.currentPage,mt=this.pagesContext,be=this.pages,Zt=this.x,kt=this.y,us=this.matrix,Of(I,this.width),Tf(I,this.height),pe=this.outputDestination};var sm=function(F,Z,ce,me,Be){di.push(new If),kr=I=0,be=[],Zt=F,kt=Z,us=Be,Nf([ce,me])},A1=function(F){if(ui[F])di.pop().restore();else{var Z=new If,ce="Xo"+(Object.keys(Nn).length+1).toString(10);Z.id=ce,ui[F]=ce,Nn[ce]=Z,$t.publish("addFormObject",Z),di.pop().restore()}};for(var WA in h.beginFormObject=function(F,Z,ce,me,Be){return sm(F,Z,ce,me,Be),this},h.endFormObject=function(F){return A1(F),this},h.doFormObject=function(F,Z){var ce=Nn[ui[F]];return V("q"),V(Z.toString()+" cm"),V("/"+ce.id+" Do"),V("Q"),this},h.getFormObject=function(F){var Z=Nn[ui[F]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},h.save=function(F,Z){return F=F||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Uc($A(Yi()),F),typeof Uc.unload=="function"&&dt.setTimeout&&setTimeout(Uc.unload,911),this):new Promise(function(ce,me){try{var Be=Uc($A(Yi()),F);typeof Uc.unload=="function"&&dt.setTimeout&&setTimeout(Uc.unload,911),ce(Be)}catch(Pe){me(Pe.message)}})},it.API)it.API.hasOwnProperty(WA)&&(WA==="events"&&it.API.events.length?function(F,Z){var ce,me,Be;for(Be=Z.length-1;Be!==-1;Be--)ce=Z[Be][0],me=Z[Be][1],F.subscribe.apply(F,[ce].concat(typeof me=="function"?[me]:me))}($t,it.API.events):h[WA]=it.API[WA]);var wc=h.getPageWidth=function(F){return(mt[F=F||I].mediaBox.topRightX-mt[F].mediaBox.bottomLeftX)/ze},Of=h.setPageWidth=function(F,Z){mt[F].mediaBox.topRightX=Z*ze+mt[F].mediaBox.bottomLeftX},Zo=h.getPageHeight=function(F){return(mt[F=F||I].mediaBox.topRightY-mt[F].mediaBox.bottomLeftY)/ze},Tf=h.setPageHeight=function(F,Z){mt[F].mediaBox.topRightY=Z*ze+mt[F].mediaBox.bottomLeftY};return h.internal={pdfEscape:fs,getStyle:Xg,getFont:i1,getFontSize:Fe,getCharSpace:c1,getTextColor:l1,getLineHeight:em,getLineHeightFactor:rm,getLineWidth:KA,write:re,getHorizontalCoordinate:mi,getVerticalCoordinate:Zi,getCoordinateString:o1,getVerticalCoordinateString:Yo,collections:{},newObject:tn,newAdditionalObject:OA,newObjectDeferred:Kr,newObjectDeferredBegin:Ps,getFilters:hi,putStream:Xs,events:$t,scaleFactor:ze,pageSize:{getWidth:function(){return wc(I)},setWidth:function(F){Of(I,F)},getHeight:function(){return Zo(I)},setHeight:function(F){Tf(I,F)}},encryptionOptions:u,encryption:Tn,getEncryptor:e1,output:HA,getNumberOfPages:qb,pages:be,out:V,f2:z,f3:E,getPageInfo:Jg,getPageInfoByObjId:pt,getCurrentPageInfo:t1,getPDFVersion:m,Point:GA,Rectangle:Pf,Matrix:At,hasHotfix:qg},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return wc(I)},set:function(F){Of(I,F)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Zo(I)},set:function(F){Tf(I,F)},enumerable:!0,configurable:!0}),Gb.call(h,ue),Bt="F1",Vg(s,r),$t.publish("initialized"),h}Su.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Su.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Su.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Su.prototype.processOwnerPassword=function(e,t){return Lj(Tj(t).substr(0,5),e)},Su.prototype.encryptor=function(e,t){var r=Tj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Lj(r,n)}},zv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Qt(e)!==Qt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},it.API={events:[]},it.version="3.0.1";var Er=it.API,K5=1,SA=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xt=function(e){return e.toFixed(2)},fl=function(e){return e.toFixed(5)};Er.__acroform__={};var Es=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},SS=function(e){return e*K5},ji=function(e){var t=new xL,r=nt.internal.getHeight(e)||0,n=nt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xt(n)),Number(xt(r))],t},qK=Er.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},JK=Er.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},XK=Er.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Rr=Er.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return XK(e,t-1)},$r=Er.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qK(e,t-1)},Hr=Er.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JK(e,t-1)},YK=Er.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],c=e[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+c)||0,l.upperRight_X=r(s+o)||0,l.upperRight_Y=n(i)||0,[Number(xt(l.lowerLeft_X)),Number(xt(l.lowerLeft_Y)),Number(xt(l.upperRight_X)),Number(xt(l.upperRight_Y))]},ZK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Uj(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+xt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ji(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Uj=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(E){return E.split(`
`)}):s.map(function(E){return[E]});var i=r,o=nt.internal.getHeight(e)||0;o=o<0?-o:o;var c=nt.internal.getWidth(e)||0;c=c<0?-c:c;var l=function(E,C,Q){if(E+1<s.length){var L=C+" "+s[E+1][0];return Zm(L,e,Q).width<=c-4}return!1};i++;e:for(;i>0;){t="",i--;var A,u,d=Zm("3",e,i).height,f=e.multiline?o-i:(o-d)/2,h=f+=2,p=0,m=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Zm(t,e,i=12).width+", FieldWidth:"+c+`
`;break}for(var v="",y=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var _=!1;if(s[b].length!==1&&x!==s[b].length-1){if((d+2)*(y+2)+2>o)continue e;v+=s[b][x],_=!0,m=b,b--}else{v=(v+=s[b][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var N=parseInt(b),P=l(N,v,i),T=b>=s.length-1;if(P&&!T){v+=" ",x=0;continue}if(P||T){if(T)m=N;else if(e.multiline&&(d+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(y+2)+2>o)continue e;m=N}}for(var j="",k=p;k<=m;k++){var z=s[k];if(e.multiline){if(k===m){j+=z[x]+" ",x=(x+1)%z.length;continue}if(k===p){j+=z[z.length-1]+" ";continue}}j+=z[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,u=Zm(j,e,i).width,e.textAlign){case"right":A=c-u-2;break;case"center":A=(c-u)/2;break;case"left":default:A=2}t+=xt(A)+" "+xt(h)+` Td
`,t+="("+SA(j)+`) Tj
`,t+=-xt(A)+` 0 Td
`,h=-(i+2),u=0,p=_?m:m+1,y++,v=""}break}return n.text=t,n.fontSize=i,n},Zm=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},eV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tV=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},rV=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),Qt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},nV=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ii.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(eV)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new yL,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&tV(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var c=n[o],l=[],A=c.Rect;if(c.Rect&&(c.Rect=YK(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=nt.createDefaultAppearanceStream(c),Qt(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(l=c.getKeyValueListForStream()),c.Rect=A,c.hasAppearanceStream&&!c.appearanceStreamContent){var u=ZK(c);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(c.appearanceStreamContent){var d="";for(var f in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(f)){var h=c.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var p=h[o];typeof p=="function"&&(p=p.call(s,c)),d+="/"+o+" "+p+" ",s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(s,c)),d+="/"+o+" "+p,s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:c.objId}),s.internal.out("endobj")}i&&rV(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},vL=Er.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Qt(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+SA(n(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mw=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+SA(n(e))+")"},Ei=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ei.prototype.toString=function(){return this.objId+" 0 R"},Ei.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ei.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:vL(s,this.objId,this.scope)}):s instanceof Ei?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var xL=function(){Ei.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Es(xL,Ei);var yL=function(){Ei.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+SA(r(e))+")"}},set:function(r){e=r}})};Es(yL,Ei);var ii=function e(){Ei.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rr(t,3)},set:function(v){v?this.F=$r(t,3):this.F=Hr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Kv)return;i="FieldObject"+e.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+SA(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/K5:A},set:function(v){A=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Kv||this instanceof aA))return mw(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof xn?f:mw(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof xn?v:v.substr(0,1)==="("?fu(v.substr(1,v.length-2)):fu(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?fu(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof xn?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof xn?h:mw(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof xn?v:v.substr(0,1)==="("?fu(v.substr(1,v.length-2)):fu(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xn?fu(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof xn?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(v){v=!!v,m=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,1)},set:function(v){v?this.Ff=$r(this.Ff,1):this.Ff=Hr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,2)},set:function(v){v?this.Ff=$r(this.Ff,2):this.Ff=Hr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,3)},set:function(v){v?this.Ff=$r(this.Ff,3):this.Ff=Hr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Es(ii,Ei);var sd=function(){ii.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vL(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,o,c){c||(c=1);for(var l,A=[];l=o.exec(i);)A.push(l[c]);return A}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,18)},set:function(r){r?this.Ff=$r(this.Ff,18):this.Ff=Hr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=$r(this.Ff,19):this.Ff=Hr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,20)},set:function(r){r?(this.Ff=$r(this.Ff,20),t.sort()):this.Ff=Hr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,22)},set:function(r){r?this.Ff=$r(this.Ff,22):this.Ff=Hr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(r){r?this.Ff=$r(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,27)},set:function(r){r?this.Ff=$r(this.Ff,27):this.Ff=Hr(this.Ff,27)}}),this.hasAppearanceStream=!1};Es(sd,ii);var ad=function(){sd.call(this),this.fontName="helvetica",this.combo=!1};Es(ad,sd);var id=function(){ad.call(this),this.combo=!0};Es(id,ad);var iv=function(){id.call(this),this.edit=!0};Es(iv,id);var xn=function(){ii.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,15)},set:function(r){r?this.Ff=$r(this.Ff,15):this.Ff=Hr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,16)},set:function(r){r?this.Ff=$r(this.Ff,16):this.Ff=Hr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,17)},set:function(r){r?this.Ff=$r(this.Ff,17):this.Ff=Hr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(r){r?this.Ff=$r(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+SA(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Qt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Es(xn,ii);var ov=function(){xn.call(this),this.pushButton=!0};Es(ov,xn);var od=function(){xn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Es(od,xn);var Kv=function(){var e,t;ii.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+SA(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Qt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Es(Kv,ii),od.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},od.prototype.createOption=function(e){var t=new Kv;return t.Parent=this,t.optionName=e,this.Kids.push(t),sV.call(this.scope,t),t};var lv=function(){xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};Es(lv,xn);var aA=function(){ii.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,13)},set:function(t){t?this.Ff=$r(this.Ff,13):this.Ff=Hr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,21)},set:function(t){t?this.Ff=$r(this.Ff,21):this.Ff=Hr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(t){t?this.Ff=$r(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,24)},set:function(t){t?this.Ff=$r(this.Ff,24):this.Ff=Hr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,25)},set:function(t){t?this.Ff=$r(this.Ff,25):this.Ff=Hr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(t){t?this.Ff=$r(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Es(aA,ii);var cv=function(){aA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,14)},set:function(e){e?this.Ff=$r(this.Ff,14):this.Ff=Hr(this.Ff,14)}}),this.password=!0};Es(cv,aA);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ji(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Uj(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+xt(nt.internal.getWidth(e))+" "+xt(nt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+xt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ji(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=nt.internal.getHeight(e),o=nt.internal.getWidth(e),c=Uj(e,e.caption);return s.push("1 g"),s.push("0 0 "+xt(o)+" "+xt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+xt(o-1)+" "+xt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+xt(c.fontSize)+" Tf "+n),s.push(c.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ji(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xt(nt.internal.getWidth(e))+" "+xt(nt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nt.RadioButton.Circle.YesNormal,t.D[e]=nt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ji(e);t.scope=e.scope;var r=[],n=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=nt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+fl(nt.internal.getWidth(e)/2)+" "+fl(nt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ji(e);t.scope=e.scope;var r=[],n=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*nt.internal.Bezier_C).toFixed(5)),o=Number((n*nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+fl(nt.internal.getWidth(e)/2)+" "+fl(nt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+fl(nt.internal.getWidth(e)/2)+" "+fl(nt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ji(e);t.scope=e.scope;var r=[],n=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+fl(nt.internal.getWidth(e)/2)+" "+fl(nt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nt.RadioButton.Cross.YesNormal,t.D[e]=nt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ji(e);t.scope=e.scope;var r=[],n=nt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+xt(nt.internal.getWidth(e)-2)+" "+xt(nt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xt(n.x1.x)+" "+xt(n.x1.y)+" m"),r.push(xt(n.x2.x)+" "+xt(n.x2.y)+" l"),r.push(xt(n.x4.x)+" "+xt(n.x4.y)+" m"),r.push(xt(n.x3.x)+" "+xt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ji(e);t.scope=e.scope;var r=nt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(nt.internal.getWidth(e))+" "+xt(nt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+xt(nt.internal.getWidth(e)-2)+" "+xt(nt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(xt(r.x1.x)+" "+xt(r.x1.y)+" m"),n.push(xt(r.x2.x)+" "+xt(r.x2.y)+" l"),n.push(xt(r.x4.x)+" "+xt(r.x4.y)+" m"),n.push(xt(r.x3.x)+" "+xt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ji(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xt(nt.internal.getWidth(e))+" "+xt(nt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};nt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nt.internal.getWidth(e),r=nt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},nt.internal.getWidth=function(e){var t=0;return Qt(e)==="object"&&(t=SS(e.Rect[2])),t},nt.internal.getHeight=function(e){var t=0;return Qt(e)==="object"&&(t=SS(e.Rect[3])),t};var sV=Er.addField=function(e){if(nV(this,e),!(e instanceof ii))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Er.AcroFormChoiceField=sd,Er.AcroFormListBox=ad,Er.AcroFormComboBox=id,Er.AcroFormEditBox=iv,Er.AcroFormButton=xn,Er.AcroFormPushButton=ov,Er.AcroFormRadioButton=od,Er.AcroFormCheckBox=lv,Er.AcroFormTextField=aA,Er.AcroFormPasswordField=cv,Er.AcroFormAppearance=nt,Er.AcroForm={ChoiceField:sd,ListBox:ad,ComboBox:id,EditBox:iv,Button:xn,PushButton:ov,RadioButton:od,CheckBox:lv,TextField:aA,PasswordField:cv,Appearance:nt},it.AcroForm={ChoiceField:sd,ListBox:ad,ComboBox:id,EditBox:iv,Button:xn,PushButton:ov,RadioButton:od,CheckBox:lv,TextField:aA,PasswordField:cv,Appearance:nt};it.AcroForm;function bL(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,C){var Q,L,D,S,O,R=t;if((C=C||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(P(E))for(O in r)for(D=r[O],Q=0;Q<D.length;Q+=1){for(S=!0,L=0;L<D[Q].length;L+=1)if(D[Q][L]!==void 0&&D[Q][L]!==E[L]){S=!1;break}if(S===!0){R=O;break}}else for(O in r)for(D=r[O],Q=0;Q<D.length;Q+=1){for(S=!0,L=0;L<D[Q].length;L+=1)if(D[Q][L]!==void 0&&D[Q][L]!==E.charCodeAt(L)){S=!1;break}if(S===!0){R=O;break}}return R===t&&C!==t&&(R=C),R},s=function E(C){for(var Q=this.internal.write,L=this.internal.putStream,D=(0,this.internal.getFilters)();D.indexOf("FlateEncode")!==-1;)D.splice(D.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var S=[];if(S.push({key:"Type",value:"/XObject"}),S.push({key:"Subtype",value:"/Image"}),S.push({key:"Width",value:C.width}),S.push({key:"Height",value:C.height}),C.colorSpace===x.INDEXED?S.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(S.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===x.DEVICE_CMYK&&S.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),S.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&S.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var O="",R=0,W=C.transparency.length;R<W;R++)O+=C.transparency[R]+" "+C.transparency[R]+" ";S.push({key:"Mask",value:"["+O+"]"})}C.sMask!==void 0&&S.push({key:"SMask",value:C.objectId+1+" 0 R"});var M=C.filter!==void 0?["/"+C.filter]:void 0;if(L({data:C.data,additionalKeyValues:S,alreadyAppliedFilters:M,objectId:C.objectId}),Q("endobj"),"sMask"in C&&C.sMask!==void 0){var q="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,B={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:q,data:C.sMask};"filter"in C&&(B.filter=C.filter),E.call(this,B)}if(C.colorSpace===x.INDEXED){var I=this.internal.newObject();L({data:j(new Uint8Array(C.palette)),objectId:I}),Q("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var C in E)s.call(this,E[C])},o=function(){var E,C=this.internal.collections.addImage_images,Q=this.internal.write;for(var L in C)Q("/I"+(E=C[L]).index,E.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return c.call(this),E},A=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},d=function(E){return Qt(E)==="object"&&E.nodeType===1},f=function(E,C){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var Q=""+E.getAttribute("src");if(Q.indexOf("data:image/")===0)return np(unescape(Q).split("base64,").pop());var L=e.loadFile(Q,!0);if(L!==void 0)return L}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var D;switch(C){case"PNG":D="image/png";break;case"WEBP":D="image/webp";break;case"JPEG":case"JPG":default:D="image/jpeg"}return np(E.toDataURL(D,1).split("base64,").pop())}},h=function(E){var C=this.internal.collections.addImage_images;if(C){for(var Q in C)if(E===C[Q].alias)return C[Q]}},p=function(E,C,Q){return E||C||(E=-96,C=-96),E<0&&(E=-1*Q.width*72/E/this.internal.scaleFactor),C<0&&(C=-1*Q.height*72/C/this.internal.scaleFactor),E===0&&(E=C*Q.width/Q.height),C===0&&(C=E*Q.height/Q.width),[E,C]},m=function(E,C,Q,L,D,S){var O=p.call(this,Q,L,D),R=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,M=l.call(this);if(Q=O[0],L=O[1],M[D.index]=D,S){S*=Math.PI/180;var q=Math.cos(S),B=Math.sin(S),I=function(G){return G.toFixed(4)},H=[I(q),I(B),I(-1*B),I(q),0,0,"cm"]}this.internal.write("q"),S?(this.internal.write([1,"0","0",1,R(E),W(C+L),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([R(Q),"0","0",R(L),"0","0","cm"].join(" "))):this.internal.write([R(Q),"0","0",R(L),R(E),W(C+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+D.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(E){var C,Q,L=0;if(typeof E=="string")for(Q=E.length,C=0;C<Q;C++)L=(L<<5)-L+E.charCodeAt(C),L|=0;else if(P(E))for(Q=E.byteLength/2,C=0;C<Q;C++)L=(L<<5)-L+E[C],L|=0;return L},b=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var C=!0;return E.length===0&&(C=!1),E.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(C=!1),C},_=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var C=E.indexOf(",");return C<0?null:E.substring(0,C).trim().endsWith("base64")?E.substring(C+1):null},N=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return N()&&E instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(E){return N()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var C=E.length,Q=new Uint8Array(C),L=0;L<C;L++)Q[L]=E.charCodeAt(L);return Q},j=e.__addimage__.arrayBufferToBinaryString=function(E){for(var C="",Q=P(E)?E:new Uint8Array(E),L=0;L<Q.length;L+=8192)C+=String.fromCharCode.apply(null,Q.subarray(L,L+8192));return C};e.addImage=function(){var E,C,Q,L,D,S,O,R,W;if(typeof arguments[1]=="number"?(C=t,Q=arguments[1],L=arguments[2],D=arguments[3],S=arguments[4],O=arguments[5],R=arguments[6],W=arguments[7]):(C=arguments[1],Q=arguments[2],L=arguments[3],D=arguments[4],S=arguments[5],O=arguments[6],R=arguments[7],W=arguments[8]),Qt(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var M=E;E=M.imageData,C=M.format||C||t,Q=M.x||Q||0,L=M.y||L||0,D=M.w||M.width||D,S=M.h||M.height||S,O=M.alias||O,R=M.compression||R,W=M.rotation||M.angle||W}var q=this.internal.getFilters();if(R===void 0&&q.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN(Q)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=k.call(this,E,C,O,R);return m.call(this,Q,L,D,S,B,W),this};var k=function(E,C,Q,L){var D,S,O;if(typeof E=="string"&&n(E)===t){E=unescape(E);var R=z(E,!1);(R!==""||(R=e.loadFile(E,!0))!==void 0)&&(E=R)}if(d(E)&&(E=f(E,C)),C=n(E,C),!u(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((O=Q)==null||O.length===0)&&(Q=function(W){return typeof W=="string"||P(W)?y(W):P(W.data)?y(W.data):null}(E)),(D=h.call(this,Q))||(N()&&(E instanceof Uint8Array||C==="RGBA"||(S=E,E=T(E))),D=this["process"+C.toUpperCase()](E,A.call(this),Q,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:v.NONE}(L),S)),!D)throw new Error("An unknown error occurred whilst processing the image.");return D},z=e.__addimage__.convertBase64ToBinaryString=function(E,C){C=typeof C!="boolean"||C;var Q,L="";if(typeof E=="string"){var D;Q=(D=_(E))!==null&&D!==void 0?D:E;try{L=np(Q)}catch(S){if(C)throw b(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+S.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};e.getImageProperties=function(E){var C,Q,L="";if(d(E)&&(E=f(E)),typeof E=="string"&&n(E)===t&&((L=z(E,!1))===""&&(L=e.loadFile(E)||""),E=L),Q=n(E),!u(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!N()||E instanceof Uint8Array||(E=T(E)),!(C=this["process"+Q.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=Q,C}})(it.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};it.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),A=r.pageContext.annotations,u=!1,d=0;d<A.length&&!u;d++)switch((n=A[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<A.length;f++){n=A[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(m.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+h(v(y))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(p(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var P=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var c=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:l(r),y:A(n),w:l(r+s),h:A(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,c,l=this.getTextWidth(r),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){c=i.maxWidth;var u=this.splitTextToSize(r,c).length;o=Math.ceil(A*u)}else c=l,o=A;return this.text(r,n,s,i),s+=.2*A,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-A,c,o,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(it.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},c=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&s.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(m){var x=0,v=r,y="",b=0;for(x=0;x<m.length;x+=1)v[m.charCodeAt(x)]!==void 0?(b++,typeof(v=v[m.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(v),v=r,b=0),x===m.length-1&&(v=r,y+=m.charAt(x-(b-1)),x-=b-1,b=0)):(v=r,y+=m.charAt(x-b),x-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(m,x,v){return o(m)?i(m)===!1?-1:!A(m)||!o(x)&&!o(v)||!o(v)&&c(x)||c(m)&&!o(x)||c(m)&&l(x)||c(m)&&c(x)?0:u(m)&&o(x)&&!c(x)&&o(v)&&A(v)?3:c(m)||!o(v)?1:2:-1},h=function(m){var x=0,v=0,y=0,b="",_="",N="",P=(m=m||"").split("\\s+"),T=[];for(x=0;x<P.length;x+=1){for(T.push(""),v=0;v<P[x].length;v+=1)b=P[x][v],_=P[x][v-1],N=P[x][v+1],o(b)?(y=f(b,_,N),T[x]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):T[x]+=b;T[x]=d(T[x])}return T.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var y=0;for(v=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?v.push([h(x[y][0]),x[y][1],x[y][2]]):v.push([h(x[y])]);m=v}else m=h(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",p])}(it.API),it.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(c){i=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(it.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,A){n.call(this);var u=(A=A||{}).fontSize||this.getFontSize(),d=A.font||this.getFont(),f=A.scaleFactor||this.internal.scaleFactor,h=0,p=0,m=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=A.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,_){return b.concat(x.splitTextToSize(_,v))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)h<(m=this.getStringUnitWidth(l[y],{font:d})*u)&&(h=m);return h!==0&&(p=l.length),{w:h/=f,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var A=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===l.lineNumber?(l.x=(A.x||0)+(A.width||0),l.y=A.y||0):A.y+A.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=A.y+A.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,A,u,d,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,p,m,x,v=[],y=[],b=[],_={},N={},P=[],T=[],j=(f=f||{}).autoSize||!1,k=f.printHeaders!==!1,z=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,E=f.margins||Object.assign({width:this.getPageWidth()},t),C=typeof f.padding=="number"?f.padding:3,Q=f.headerBackgroundColor||"#c8c8c8",L=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=L,this.setFontSize(z),d==null)y=v=Object.keys(u[0]),b=v.map(function(){return"left"});else if(Array.isArray(d)&&Qt(d[0])==="object")for(v=d.map(function(M){return M.name}),y=d.map(function(M){return M.prompt||M.name||""}),b=d.map(function(M){return M.align||"left"}),h=0;h<d.length;h+=1)N[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(y=v=d,b=v.map(function(){return"left"}));if(j||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<v.length;h+=1){for(_[x=v[h]]=u.map(function(M){return M[x]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=_[x],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)P.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[x]=Math.max.apply(null,P)+C+C,P=[]}if(k){var D={};for(h=0;h<v.length;h+=1)D[v[h]]={},D[v[h]].text=y[h],D[v[h]].align=b[h];var S=c.call(this,D,N);T=v.map(function(M){return new i(l,A,N[M],S,D[M].text,void 0,D[M].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var O=d.reduce(function(M,q){return M[q.name]=q.align,M},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var R=c.call(this,u[h],N);for(m=0;m<v.length;m+=1){var W=u[h][v[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:m,data:W},this),o.call(this,new i(l,A,N[v[m]],R,W,h+2,O[v[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=A,this};var c=function(l,A){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,A[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+u+u},this).reduce(function(h,p){return Math.max(h,p)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),A&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(it.API);var wL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Dj=bL(jL),NL=[100,200,300,400,500,600,700,800,900],aV=bL(NL);function Qj(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return wL[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof Dj[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function _S(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var iV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ES={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function oV(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},iV,r.genericFontFamilies||{}),i=null,o=null,c=0;c<t.length;++c)if(s[(i=Qj(t[c])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+FS(i)+"' and default family '"+n+"'.");if(o=function(l,A){if(A[l])return A[l];var u=Dj[l],d=u<=Dj.normal?-1:1,f=_S(A,jL,u,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(i.stretch,o),o=function(l,A){if(A[l])return A[l];for(var u=wL[l],d=0;d<u.length;++d)if(A[u[d]])return A[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,A){if(A[l])return A[l];if(l===400&&A[500])return A[500];if(l===500&&A[400])return A[400];var u=aV[l],d=_S(A,NL,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+FS(i)+"'.");return o}function PS(e){return e.trimLeft()}function lV(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function cV(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var e0,IS,OS,vw=["times"];(function(e){var t,r,n,s,i,o,c,l,A,u=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,l=this.internal.Matrix,A=new u}]);var d=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=B;Object.defineProperty(this,"pdf",{get:function(){return I}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(de){H=!!de}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(de){G=!!de}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(de){isNaN(de)||(J=de)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(de){isNaN(de)||(ie=de)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(de){var V;typeof de=="number"?V=[de,de,de,de]:((V=new Array(4))[0]=de[0],V[1]=de.length>=2?de[1]:V[0],V[2]=de.length>=3?de[2]:V[0],V[3]=de.length>=4?de[3]:V[1]),A.margin=V}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(de){Ae=de}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(de){se=de}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(de){we=de}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(de){de instanceof u&&(A=de)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(de){A.path=de}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(de){be=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var V;V=f(de),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var V=f(de);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var ve=null;function pe(de,V){if(ve===null){var re=function(he){var ue=[];return Object.keys(he).forEach(function(Ce){he[Ce].forEach(function(_e){var Fe=null;switch(_e){case"bold":Fe={family:Ce,weight:"bold"};break;case"italic":Fe={family:Ce,style:"italic"};break;case"bolditalic":Fe={family:Ce,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:Ce}}Fe!==null&&(Fe.ref={name:Ce,style:_e},ue.push(Fe))})}),ue}(de.getFontList());ve=function(he){for(var ue={},Ce=0;Ce<he.length;++Ce){var _e=Qj(he[Ce]),Fe=_e.family,Re=_e.stretch,Qe=_e.style,Ge=_e.weight;ue[Fe]=ue[Fe]||{},ue[Fe][Re]=ue[Fe][Re]||{},ue[Fe][Re][Qe]=ue[Fe][Re][Qe]||{},ue[Fe][Re][Qe][Ge]=_e}return ue}(re.concat(V))}return ve}var oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return oe},set:function(de){ve=null,oe=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var V;if(this.ctx.font=de,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(de))!==null){var re=V[1];V[2];var he=V[3],ue=V[4];V[5];var Ce=V[6],_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ue)[2];ue=Math.floor(_e==="px"?parseFloat(ue)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(ue)*this.pdf.getFontSize():parseFloat(ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ue);var Fe=function(ct){var Bt,ze,Zt=[],kt=ct.trim();if(kt==="")return vw;if(kt in ES)return[ES[kt]];for(;kt!=="";){switch(ze=null,Bt=(kt=PS(kt)).charAt(0)){case'"':case"'":ze=lV(kt.substring(1),Bt);break;default:ze=cV(kt)}if(ze===null||(Zt.push(ze[0]),(kt=PS(ze[1]))!==""&&kt.charAt(0)!==","))return vw;kt=kt.replace(/^,/,"")}return Zt}(Ce);if(this.fontFaces){var Re=oV(pe(this.pdf,this.fontFaces),Fe.map(function(ct){return{family:ct,stretch:"normal",weight:he,style:re}}));this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var Qe="";(he==="bold"||parseInt(he,10)>=700||re==="bold")&&(Qe="bold"),re==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var Ge="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<Fe.length;st++){if(this.pdf.internal.getFont(Fe[st],Qe,{noFallback:!0,disableWarning:!0})!==void 0){Ge=Fe[st];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(Fe[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=Fe[st],Qe="bold";else if(this.pdf.internal.getFont(Fe[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=Fe[st],Qe="normal";break}}if(Ge===""){for(var Nt=0;Nt<Fe.length;Nt++)if(et[Fe[Nt]]){Ge=et[Fe[Nt]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};d.prototype.setLineDash=function(B){this.lineDash=B},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){_.call(this,"fill",!1)},d.prototype.stroke=function(){_.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(B,I){if(isNaN(B)||isNaN(I))throw rr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new o(B,I));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(B,I)},d.prototype.closePath=function(){var B=new o(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&Qt(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){B=new o(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},d.prototype.lineTo=function(B,I){if(isNaN(B)||isNaN(I))throw rr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new o(B,I));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},d.prototype.quadraticCurveTo=function(B,I,H,G){if(isNaN(H)||isNaN(G)||isNaN(B)||isNaN(I))throw rr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o(H,G)),ie=this.ctx.transform.applyToPoint(new o(B,I));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},d.prototype.bezierCurveTo=function(B,I,H,G,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(B)||isNaN(I)||isNaN(H)||isNaN(G))throw rr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(J,ie)),se=this.ctx.transform.applyToPoint(new o(B,I)),we=this.ctx.transform.applyToPoint(new o(H,G));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:we.x,y2:we.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},d.prototype.arc=function(B,I,H,G,J,ie){if(isNaN(B)||isNaN(I)||isNaN(H)||isNaN(G)||isNaN(J))throw rr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new o(B,I));B=Ae.x,I=Ae.y;var se=this.ctx.transform.applyToPoint(new o(0,H)),we=this.ctx.transform.applyToPoint(new o(0,0));H=Math.sqrt(Math.pow(se.x-we.x,2)+Math.pow(se.y-we.y,2))}Math.abs(J-G)>=2*Math.PI&&(G=0,J=2*Math.PI),this.path.push({type:"arc",x:B,y:I,radius:H,startAngle:G,endAngle:J,counterclockwise:ie})},d.prototype.arcTo=function(B,I,H,G,J){throw new Error("arcTo not implemented.")},d.prototype.rect=function(B,I,H,G){if(isNaN(B)||isNaN(I)||isNaN(H)||isNaN(G))throw rr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,I),this.lineTo(B+H,I),this.lineTo(B+H,I+G),this.lineTo(B,I+G),this.lineTo(B,I),this.lineTo(B+H,I),this.lineTo(B,I)},d.prototype.fillRect=function(B,I,H,G){if(isNaN(B)||isNaN(I)||isNaN(H)||isNaN(G))throw rr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,I,H,G),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},d.prototype.strokeRect=function(B,I,H,G){if(isNaN(B)||isNaN(I)||isNaN(H)||isNaN(G))throw rr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(B,I,H,G),this.stroke())},d.prototype.clearRect=function(B,I,H,G){if(isNaN(B)||isNaN(I)||isNaN(H)||isNaN(G))throw rr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,I,H,G))},d.prototype.save=function(B){B=typeof B!="boolean"||B;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},d.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(I),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(B){var I,H,G,J;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))I=0,H=0,G=0,J=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(ie!==null)I=parseInt(ie[1]),H=parseInt(ie[2]),G=parseInt(ie[3]),J=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)I=parseInt(ie[1]),H=parseInt(ie[2]),G=parseInt(ie[3]),J=parseFloat(ie[4]);else{if(J=1,typeof B=="string"&&B.charAt(0)!=="#"){var Ae=new pL(B);B=Ae.ok?Ae.toHex():"#000000"}B.length===4?(I=B.substring(1,2),I+=I,H=B.substring(2,3),H+=H,G=B.substring(3,4),G+=G):(I=B.substring(1,3),H=B.substring(3,5),G=B.substring(5,7)),I=parseInt(I,16),H=parseInt(H,16),G=parseInt(G,16)}}return{r:I,g:H,b:G,a:J,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(B,I,H,G){if(isNaN(I)||isNaN(H)||typeof B!="string")throw rr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!h.call(this)){var J=R(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;C.call(this,{text:B,x:I,y:H,scale:ie,angle:J,align:this.textAlign,maxWidth:G})}},d.prototype.strokeText=function(B,I,H,G){if(isNaN(I)||isNaN(H)||typeof B!="string")throw rr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){G=isNaN(G)?void 0:G;var J=R(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;C.call(this,{text:B,x:I,y:H,scale:ie,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:G})}},d.prototype.measureText=function(B){if(typeof B!="string")throw rr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,H=this.pdf.internal.scaleFactor,G=I.internal.getFontSize(),J=I.getStringUnitWidth(B)*G/I.internal.scaleFactor,ie=function(Ae){var se=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return se}}),this};return new ie({width:J*=Math.round(96*H/72*1e4)/1e4})},d.prototype.scale=function(B,I){if(isNaN(B)||isNaN(I))throw rr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(B,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.rotate=function(B){if(isNaN(B))throw rr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},d.prototype.translate=function(B,I){if(isNaN(B)||isNaN(I))throw rr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,B,I);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.transform=function(B,I,H,G,J,ie){if(isNaN(B)||isNaN(I)||isNaN(H)||isNaN(G)||isNaN(J)||isNaN(ie))throw rr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new l(B,I,H,G,J,ie);this.ctx.transform=this.ctx.transform.multiply(Ae)},d.prototype.setTransform=function(B,I,H,G,J,ie){B=isNaN(B)?1:B,I=isNaN(I)?0:I,H=isNaN(H)?0:H,G=isNaN(G)?1:G,J=isNaN(J)?0:J,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(B,I,H,G,J,ie)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(B,I,H,G,J,ie,Ae,se,we){var be=this.pdf.getImageProperties(B),ve=1,pe=1,oe=1,de=1;G!==void 0&&se!==void 0&&(oe=se/G,de=we/J,ve=be.width/G*se/G,pe=be.height/J*we/J),ie===void 0&&(ie=I,Ae=H,I=0,H=0),G!==void 0&&se===void 0&&(se=G,we=J),G===void 0&&se===void 0&&(se=be.width,we=be.height);for(var V,re=this.ctx.transform.decompose(),he=R(re.rotate.shx),ue=new l,Ce=(ue=(ue=(ue=ue.multiply(re.translate)).multiply(re.skew)).multiply(re.scale)).applyToRectangle(new c(ie-I*oe,Ae-H*de,G*ve,J*pe)),_e=x.call(this,Ce),Fe=[],Re=0;Re<_e.length;Re+=1)Fe.indexOf(_e[Re])===-1&&Fe.push(_e[Re]);if(b(Fe),this.autoPaging)for(var Qe=Fe[0],Ge=Fe[Fe.length-1],et=Qe;et<Ge+1;et++){this.pdf.setPage(et);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=et===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=et===1?0:ct+(et-2)*Bt;if(this.ctx.clip_path.length!==0){var Zt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(V,this.posX+this.margin[3],-ze+Nt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Zt}var kt=JSON.parse(JSON.stringify(Ce));kt=y([kt],this.posX+this.margin[3],-ze+Nt+this.ctx.prevPageLastElemOffset)[0];var us=(et>Qe||et<Ge)&&m.call(this);us&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Bt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,he),us&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,he)};var x=function(B,I,H){var G=[];I=I||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":G.push(Math.floor((B.y+J)/H)+1);break;case"arc":G.push(Math.floor((B.y+J-B.radius)/H)+1),G.push(Math.floor((B.y+J+B.radius)/H)+1);break;case"qct":var ie=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);G.push(Math.floor((ie.y+J)/H)+1),G.push(Math.floor((ie.y+ie.h+J)/H)+1);break;case"bct":var Ae=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);G.push(Math.floor((Ae.y+J)/H)+1),G.push(Math.floor((Ae.y+Ae.h+J)/H)+1);break;case"rect":G.push(Math.floor((B.y+J)/H)+1),G.push(Math.floor((B.y+B.h+J)/H)+1)}for(var se=0;se<G.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<G[se];)v.call(this);return G},v=function(){var B=this.fillStyle,I=this.strokeStyle,H=this.font,G=this.lineCap,J=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=I,this.font=H,this.lineCap=G,this.lineWidth=J,this.lineJoin=ie},y=function(B,I,H){for(var G=0;G<B.length;G++)switch(B[G].type){case"bct":B[G].x2+=I,B[G].y2+=H;case"qct":B[G].x1+=I,B[G].y1+=H;case"mt":case"lt":case"arc":default:B[G].x+=I,B[G].y+=H}return B},b=function(B){return B.sort(function(I,H){return I-H})},_=function(B,I){for(var H,G,J=this.fillStyle,ie=this.strokeStyle,Ae=this.lineCap,se=this.lineWidth,we=Math.abs(se*this.ctx.transform.scaleX),be=this.lineJoin,ve=JSON.parse(JSON.stringify(this.path)),pe=JSON.parse(JSON.stringify(this.path)),oe=[],de=0;de<pe.length;de++)if(pe[de].x!==void 0)for(var V=x.call(this,pe[de]),re=0;re<V.length;re+=1)oe.indexOf(V[re])===-1&&oe.push(V[re]);for(var he=0;he<oe.length;he++)for(;this.pdf.internal.getNumberOfPages()<oe[he];)v.call(this);if(b(oe),this.autoPaging)for(var ue=oe[0],Ce=oe[oe.length-1],_e=ue;_e<Ce+1;_e++){this.pdf.setPage(_e),this.fillStyle=J,this.strokeStyle=ie,this.lineCap=Ae,this.lineWidth=we,this.lineJoin=be;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=_e===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=_e===1?0:Qe+(_e-2)*Ge;if(this.ctx.clip_path.length!==0){var st=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(H,this.posX+this.margin[3],-et+Re+this.ctx.prevPageLastElemOffset),N.call(this,B,!0),this.path=st}if(G=JSON.parse(JSON.stringify(ve)),this.path=y(G,this.posX+this.margin[3],-et+Re+this.ctx.prevPageLastElemOffset),I===!1||_e===0){var Nt=(_e>ue||_e<Ce)&&m.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Ge,null).clip().discardPath()),N.call(this,B,I),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=we,N.call(this,B,I),this.lineWidth=se;this.path=ve},N=function(B,I){if((B!=="stroke"||I||!p.call(this))&&(B==="stroke"||I||!h.call(this))){for(var H,G,J=[],ie=this.path,Ae=0;Ae<ie.length;Ae++){var se=ie[Ae];switch(se.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:se,deltas:[],abs:[]});break;case"lt":var we=J.length;if(ie[Ae-1]&&!isNaN(ie[Ae-1].x)&&(H=[se.x-ie[Ae-1].x,se.y-ie[Ae-1].y],we>0)){for(;we>=0;we--)if(J[we-1].close!==!0&&J[we-1].begin!==!0){J[we-1].deltas.push(H),J[we-1].abs.push(se);break}}break;case"bct":H=[se.x1-ie[Ae-1].x,se.y1-ie[Ae-1].y,se.x2-ie[Ae-1].x,se.y2-ie[Ae-1].y,se.x-ie[Ae-1].x,se.y-ie[Ae-1].y],J[J.length-1].deltas.push(H);break;case"qct":var be=ie[Ae-1].x+2/3*(se.x1-ie[Ae-1].x),ve=ie[Ae-1].y+2/3*(se.y1-ie[Ae-1].y),pe=se.x+2/3*(se.x1-se.x),oe=se.y+2/3*(se.y1-se.y),de=se.x,V=se.y;H=[be-ie[Ae-1].x,ve-ie[Ae-1].y,pe-ie[Ae-1].x,oe-ie[Ae-1].y,de-ie[Ae-1].x,V-ie[Ae-1].y],J[J.length-1].deltas.push(H);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(se)}}G=I?null:B==="stroke"?"stroke":"fill";for(var re=!1,he=0;he<J.length;he++)if(J[he].arc)for(var ue=J[he].abs,Ce=0;Ce<ue.length;Ce++){var _e=ue[Ce];_e.type==="arc"?j.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,I,!re):Q.call(this,_e.x,_e.y),re=!0}else if(J[he].close===!0)this.pdf.internal.out("h"),re=!1;else if(J[he].begin!==!0){var Fe=J[he].start.x,Re=J[he].start.y;L.call(this,J[he].deltas,Fe,Re),re=!0}G&&k.call(this,G),I&&z.call(this)}},P=function(B){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-H;case"top":return B+I-H;case"hanging":return B+I-2*H;case"middle":return B+I/2-H;case"ideographic":return B;case"alphabetic":default:return B}},T=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(I,H){this.colorStops.push([I,H])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(B,I,H,G,J,ie,Ae,se,we){for(var be=S.call(this,H,G,J,ie),ve=0;ve<be.length;ve++){var pe=be[ve];ve===0&&(we?E.call(this,pe.x1+B,pe.y1+I):Q.call(this,pe.x1+B,pe.y1+I)),D.call(this,B,I,pe.x2,pe.y2,pe.x3,pe.y3,pe.x4,pe.y4)}se?z.call(this):k.call(this,Ae)},k=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(B,I){this.pdf.internal.out(r(B)+" "+n(I)+" m")},C=function(B){var I;switch(B.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var H=this.pdf.getTextDimensions(B.text),G=P.call(this,B.y),J=T.call(this,G)-H.h,ie=this.ctx.transform.applyToPoint(new o(B.x,G)),Ae=this.ctx.transform.decompose(),se=new l;se=(se=(se=se.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var we,be,ve,pe=this.ctx.transform.applyToRectangle(new c(B.x,G,H.w,H.h)),oe=se.applyToRectangle(new c(B.x,J,H.w,H.h)),de=x.call(this,oe),V=[],re=0;re<de.length;re+=1)V.indexOf(de[re])===-1&&V.push(de[re]);if(b(V),this.autoPaging)for(var he=V[0],ue=V[V.length-1],Ce=he;Ce<ue+1;Ce++){this.pdf.setPage(Ce);var _e=Ce===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[2],Qe=Re-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],et=Ge-this.margin[3],st=Ce===1?0:Fe+(Ce-2)*Qe;if(this.ctx.clip_path.length!==0){var Nt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(we,this.posX+this.margin[3],-1*st+_e),N.call(this,"fill",!0),this.path=Nt}var ct=y([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-st+_e+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*B.scale),ve=this.lineWidth,this.lineWidth=ve*B.scale);var Bt=this.autoPaging!=="text";if(Bt||ct.y+ct.h<=Re){if(Bt||ct.y>=_e&&ct.x<=Ge){var ze=Bt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ge-ct.x)[0],Zt=y([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-st+_e+this.ctx.prevPageLastElemOffset)[0],kt=Bt&&(Ce>he||Ce<ue)&&m.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Qe,null).clip().discardPath()),this.pdf.text(ze,Zt.x,Zt.y,{angle:B.angle,align:I,renderingMode:B.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else ct.y<Re&&(this.ctx.prevPageLastElemOffset+=Re-ct.y);B.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=ve)}else B.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*B.scale),ve=this.lineWidth,this.lineWidth=ve*B.scale),this.pdf.text(B.text,ie.x+this.posX,ie.y+this.posY,{angle:B.angle,align:I,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=ve)},Q=function(B,I,H,G){H=H||0,G=G||0,this.pdf.internal.out(r(B+H)+" "+n(I+G)+" l")},L=function(B,I,H){return this.pdf.lines(B,I,H,null,null)},D=function(B,I,H,G,J,ie,Ae,se){this.pdf.internal.out([t(s(H+B)),t(i(G+I)),t(s(J+B)),t(i(ie+I)),t(s(Ae+B)),t(i(se+I)),"c"].join(" "))},S=function(B,I,H,G){for(var J=2*Math.PI,ie=Math.PI/2;I>H;)I-=J;var Ae=Math.abs(H-I);Ae<J&&G&&(Ae=J-Ae);for(var se=[],we=G?-1:1,be=I;Ae>1e-5;){var ve=be+we*Math.min(Ae,ie);se.push(O.call(this,B,be,ve)),Ae-=Math.abs(ve-be),be=ve}return se},O=function(B,I,H){var G=(H-I)/2,J=B*Math.cos(G),ie=B*Math.sin(G),Ae=J,se=-ie,we=Ae*Ae+se*se,be=we+Ae*J+se*ie,ve=4/3*(Math.sqrt(2*we*be)-be)/(Ae*ie-se*J),pe=Ae-ve*se,oe=se+ve*Ae,de=pe,V=-oe,re=G+I,he=Math.cos(re),ue=Math.sin(re);return{x1:B*Math.cos(I),y1:B*Math.sin(I),x2:pe*he-oe*ue,y2:pe*ue+oe*he,x3:de*he-V*ue,y3:de*ue+V*he,x4:B*Math.cos(H),y4:B*Math.sin(H)}},R=function(B){return 180*B/Math.PI},W=function(B,I,H,G,J,ie){var Ae=B+.5*(H-B),se=I+.5*(G-I),we=J+.5*(H-J),be=ie+.5*(G-ie),ve=Math.min(B,J,Ae,we),pe=Math.max(B,J,Ae,we),oe=Math.min(I,ie,se,be),de=Math.max(I,ie,se,be);return new c(ve,oe,pe-ve,de-oe)},M=function(B,I,H,G,J,ie,Ae,se){var we,be,ve,pe,oe,de,V,re,he,ue,Ce,_e,Fe,Re,Qe=H-B,Ge=G-I,et=J-H,st=ie-G,Nt=Ae-J,ct=se-ie;for(be=0;be<41;be++)he=(V=(ve=B+(we=be/40)*Qe)+we*((oe=H+we*et)-ve))+we*(oe+we*(J+we*Nt-oe)-V),ue=(re=(pe=I+we*Ge)+we*((de=G+we*st)-pe))+we*(de+we*(ie+we*ct-de)-re),be==0?(Ce=he,_e=ue,Fe=he,Re=ue):(Ce=Math.min(Ce,he),_e=Math.min(_e,ue),Fe=Math.max(Fe,he),Re=Math.max(Re,ue));return new c(Math.round(Ce),Math.round(_e),Math.round(Fe-Ce),Math.round(Re-_e))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,I,H=(B=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:I}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(it.API),function(e){var t=function(i){var o,c,l,A,u,d,f,h,p,m;for(c=[],l=0,A=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;A>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(m=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,c.push(d+33,f+33,h+33,p+33,m+33)):c.push(122);return function(x,v){for(var y=v;y>0;y--)x.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(i){var o,c,l,A,u,d=String,f="length",h=255,p="charCodeAt",m="slice",x="replace";for(i[m](-2),i=i[m](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],A=0,u=(i+=o="uuuuu"[m](i[f]%5||5))[f];u>A;A+=5)c=52200625*(i[p](A)-33)+614125*(i[p](A+1)-33)+7225*(i[p](A+2)-33)+85*(i[p](A+3)-33)+(i[p](A+4)-33),l.push(h&c>>24,h&c>>16,h&c>>8,h&c);return function(v,y){for(var b=y;b>0;b--)v.pop()}(l,o[f]),d.fromCharCode.apply(d,l)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var c="",l=0;l<i.length;l+=2)c+=String.fromCharCode("0x"+(i[l]+i[l+1]));return c},s=function(i){for(var o=new Uint8Array(i.length),c=i.length;c--;)o[c]=i.charCodeAt(c);return i=(o=Ij(o)).reduce(function(l,A){return l+String.fromCharCode(A)},"")};e.processDataByFilters=function(i,o){var c=0,l=i||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:l,reverseChain:A.reverse().join(" ")}}}(it.API),function(e){e.loadFile=function(t,r,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(l,A,u){var d=new XMLHttpRequest,f=0,h=function(p){var m=p.length,x=[],v=String.fromCharCode;for(f=0;f<m;f+=1)x.push(v(255&p.charCodeAt(f)));return x.join("")};if(d.open("GET",l,!A),d.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(d.onload=function(){d.status===200?u(h(this.responseText)):u(void 0)}),d.send(null),A&&d.status===200)return h(d.responseText)}(s,i,o)}catch{}return c}(t,r,n)},e.loadImageFile=e.loadFile}(it.API),function(e){function t(){return(dt.html2canvas?Promise.resolve(dt.html2canvas):Mi(()=>Promise.resolve().then(()=>wY),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(dt.DOMPurify?Promise.resolve(dt.DOMPurify):Mi(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=Qt(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(o,c){var l=document.createElement(o);for(var A in c.className&&(l.className=c.className),c.innerHTML&&c.dompurify&&(l.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)l.style[A]=c.style[A];return l},i=function o(c){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),l);return A=(A=A.setProgress(1,o,1,[o])).set(c)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,c){return o.__proto__=c||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:s("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function l(A,u){for(var d=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),f=A.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return A.nodeType===1&&(A.nodeName==="CANVAS"?(d.width=A.width,d.height=A.height,d.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(d.value=A.value),d.addEventListener("load",function(){d.scrollTop=A.scrollTop,d.scrollLeft=A.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,c(this.prop.container,l)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var l=this.opt.jsPDF,A=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=A,A)for(var f=0;f<A.length;++f){var h=A[f],p=h.src.find(function(m){return m.format==="truetype"});p&&l.addFont(p.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),c(this.prop.container,d)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,c,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},i.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(c)})},i.prototype.get=function(o,c){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return c?c(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function c(l,A){return Math.floor(l*A/72*96)}return this.then(function(){(o=o||it.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,c,l,A){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),l!=null&&(this.progress.n=l),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,c,l,A){return this.setProgress(o?this.progress.val+o:null,c||null,l?this.progress.n+l:null,A?this.progress.stack.concat(A):null)},i.prototype.then=function(o,c){var l=this;return this.thenCore(o,c,function(A,u){return l.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,A),d}).then(A,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(o,c,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(A,o,c);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},i.prototype.thenList=function(o){var c=this;return o.forEach(function(l){c=c.thenCore(l)}),c},i.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return i.convert(c,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,it.getPageSize=function(o,c,l){if(Qt(o)==="object"){var A=o;o=A.orientation,c=A.unit||c,l=A.format||l}c=c||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+c}var h,p=0,m=0;if(f.hasOwnProperty(d))p=f[d][1]/u,m=f[d][0]/u;else try{p=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",m>p&&(h=m,m=p,p=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>m&&(h=m,m=p,p=h)}return{width:m,height:p,unit:c,k:u,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Qj):null;var l=new i(c);return c.worker?l:l.from(o).doCallback()}}(it.API),it.API.addJS=function(e){return OS=e,this.internal.events.subscribe("postPutResources",function(){e0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),IS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+OS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e0!==void 0&&IS!==void 0&&this.internal.out("/Names <</JavaScript "+e0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],c=n.exec(o);if(c!=null){var l=c[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,u=[];for(i=0;i<A;i++){var d=r.internal.newObject();u.push(d);var f=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(it.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,c){var l,A=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,m={width:0,height:0,numcomponents:1},x=4;x<p;x+=2){if(x+=h,t.indexOf(d.charCodeAt(x+1))!==-1){f=256*d.charCodeAt(x+5)+d.charCodeAt(x+6),m={width:256*d.charCodeAt(x+7)+d.charCodeAt(x+8),height:f,numcomponents:d.charCodeAt(x+9)};break}h=256*d.charCodeAt(x+2)+d.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:c,bitsPerComponent:8,filter:A,index:n,alias:s}}return u}}(it.API);var hu,t0,TS,LS,US,AV=function(){var e,t,r;function n(i){var o,c,l,A,u,d,f,h,p,m,x,v,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),p=(function(){var _,N;for(N=[],_=0;_<4;++_)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),A=this.readUInt16()||100,d.delay=1e3*u/A,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,o-=4),i=(d!=null?d.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(y=0;0<=m?y<m:y>m;0<=m?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(x=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,x.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,x.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,c;for(c=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)c.push(this.data[this.pos++]);return c},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),l=0,A=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,f,h,p){var m,x,v,y,b,_,N,P,T,j,k,z,E,C,Q,L,D,S,O,R,W,M=Math.ceil((A.width-d)/h),q=Math.ceil((A.height-f)/p),B=A.width==M&&A.height==q;for(C=o*M,z=B?c:new Uint8Array(C*q),_=i.length,E=0,x=0;E<q&&l<_;){switch(i[l++]){case 0:for(y=D=0;D<C;y=D+=1)z[x++]=i[l++];break;case 1:for(y=S=0;S<C;y=S+=1)m=i[l++],b=y<o?0:z[x-o],z[x++]=(m+b)%256;break;case 2:for(y=O=0;O<C;y=O+=1)m=i[l++],v=(y-y%o)/o,Q=E&&z[(E-1)*C+v*o+y%o],z[x++]=(Q+m)%256;break;case 3:for(y=R=0;R<C;y=R+=1)m=i[l++],v=(y-y%o)/o,b=y<o?0:z[x-o],Q=E&&z[(E-1)*C+v*o+y%o],z[x++]=(m+Math.floor((b+Q)/2))%256;break;case 4:for(y=W=0;W<C;y=W+=1)m=i[l++],v=(y-y%o)/o,b=y<o?0:z[x-o],E===0?Q=L=0:(Q=z[(E-1)*C+v*o+y%o],L=v&&z[(E-1)*C+(v-1)*o+y%o]),N=b+Q-L,P=Math.abs(N-b),j=Math.abs(N-Q),k=Math.abs(N-L),T=P<=j&&P<=k?b:j<=k?Q:L,z[x++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!B){var I=((f+E*p)*A.width+d)*o,H=E*C;for(y=0;y<M;y+=1){for(var G=0;G<o;G+=1)c[I++]=z[H++];I+=(h-1)*o}}E++}}return i=$K(i),A.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),c},n.prototype.decodePalette=function(){var i,o,c,l,A,u,d,f,h;for(c=this.palette,u=this.transparency.indexed||[],A=new Uint8Array((u.length||0)+c.length),l=0,i=0,o=d=0,f=c.length;d<f;o=d+=3)A[l++]=c[o],A[l++]=c[o+1],A[l++]=c[o+2],A[l++]=(h=u[i++])!=null?h:255;return A},n.prototype.copyToImageData=function(i,o){var c,l,A,u,d,f,h,p,m,x,v;if(l=this.colors,m=null,c=this.hasAlphaChannel,this.palette.length&&(m=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,c=!0),p=(A=i.data||i).length,d=m||o,u=f=0,l===1)for(;u<p;)h=m?4*o[u/4]:f,x=d[h++],A[u++]=x,A[u++]=x,A[u++]=x,A[u++]=c?d[h++]:255,f=h;else for(;u<p;)h=m?4*o[u/4]:f,A[u++]=d[h++],A[u++]=d[h++],A[u++]=d[h++],A[u++]=c?d[h++]:255,f=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(dt)==="[object Window]"){try{t=dt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var o;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,c,l,A,u,d,f,h;if(this.animation){for(h=[],c=u=0,d=(f=this.animation.frames).length;u<d;c=++u)o=f[c],l=i.createImageData(o.width,o.height),A=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,A),o.imageData=l,h.push(o.image=e(l));return h}},n.prototype.renderFrame=function(i,o){var c,l,A;return c=(l=this.animation.frames)[o],A=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(A!=null?A.disposeOp:void 0)===1?i.clearRect(A.xOffset,A.yOffset,A.width,A.height):(A!=null?A.disposeOp:void 0)===2&&i.putImageData(A.imageData,A.xOffset,A.yOffset),c.blendOp===0&&i.clearRect(c.xOffset,c.yOffset,c.width,c.height),i.drawImage(c.image,c.xOffset,c.yOffset)},n.prototype.animate=function(i){var o,c,l,A,u,d,f=this;return c=0,d=this.animation,A=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var h,p;if(h=c++%A,p=l[h],f.renderFrame(i,h),A>1&&c/A<u)return f.animation._timeout=setTimeout(o,p.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,c;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function uV(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var c=null,l=null;i&&(c=t,l=o,t+=3*o);var A=!0,u=[],d=0,f=null,h=0,p=null;for(this.width=r,this.height=n;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,f=e[t++],!(1&m)&&(f=null),h=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++],N=_>>6&1,P=1<<(7&_)+1,T=c,j=l,k=!1;_>>7&&(k=!0,T=t,j=P,t+=3*P);var z=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x,y:v,width:y,height:b,has_local_palette:k,palette_offset:T,palette_size:j,data_offset:z,data_length:t-z,transparent_index:f,interlaced:!!N,delay:d,disposal:h});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,Q){var L=this.frameInfo(C),D=L.width*L.height,S=new Uint8Array(D);DS(e,L.data_offset,S,D);var O=L.palette_offset,R=L.transparent_index;R===null&&(R=256);var W=L.width,M=r-W,q=W,B=4*(L.y*r+L.x),I=4*((L.y+L.height)*r+L.x),H=B,G=4*M;L.interlaced===!0&&(G+=4*r*7);for(var J=8,ie=0,Ae=S.length;ie<Ae;++ie){var se=S[ie];if(q===0&&(q=W,(H+=G)>=I&&(G=4*M+4*r*(J-1),H=B+(W+M)*(J<<1),J>>=1)),se===R)H+=4;else{var we=e[O+3*se],be=e[O+3*se+1],ve=e[O+3*se+2];Q[H++]=ve,Q[H++]=be,Q[H++]=we,Q[H++]=255}--q}},this.decodeAndBlitFrameRGBA=function(C,Q){var L=this.frameInfo(C),D=L.width*L.height,S=new Uint8Array(D);DS(e,L.data_offset,S,D);var O=L.palette_offset,R=L.transparent_index;R===null&&(R=256);var W=L.width,M=r-W,q=W,B=4*(L.y*r+L.x),I=4*((L.y+L.height)*r+L.x),H=B,G=4*M;L.interlaced===!0&&(G+=4*r*7);for(var J=8,ie=0,Ae=S.length;ie<Ae;++ie){var se=S[ie];if(q===0&&(q=W,(H+=G)>=I&&(G=4*M+4*r*(J-1),H=B+(W+M)*(J<<1),J>>=1)),se===R)H+=4;else{var we=e[O+3*se],be=e[O+3*se+1],ve=e[O+3*se+2];Q[H++]=we,Q[H++]=be,Q[H++]=ve,Q[H++]=255}--q}}}function DS(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,c=o+1,l=s+1,A=(1<<l)-1,u=0,d=0,f=0,h=e[t++],p=new Int32Array(4096),m=null;;){for(;u<16&&h!==0;)d|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<l)break;var x=d&A;if(d>>=l,u-=l,x!==i){if(x===o)break;for(var v=x<c?x:m,y=0,b=v;b>i;)b=p[b]>>8,++y;var _=b;if(f+y+(v!==x?1:0)>n)return void rr.log("Warning, gif stream longer than expected.");r[f++]=_;var N=f+=y;for(v!==x&&(r[f++]=_),b=v;y--;)b=p[b],r[--N]=255&b,b>>=8;m!==null&&c<4096&&(p[c++]=m<<8|_,c>=A+1&&l<12&&(++l,A=A<<1|1)),m=x}else c=o+1,A=(1<<(l=s+1))-1,m=null}return f!==n&&rr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xw(e){var t,r,n,s,i,o=Math.floor,c=new Array(64),l=new Array(64),A=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),m=[],x=0,v=7,y=new Array(64),b=new Array(64),_=new Array(64),N=new Array(256),P=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function S(B,I){for(var H=0,G=0,J=new Array,ie=1;ie<=16;ie++){for(var Ae=1;Ae<=B[ie];Ae++)J[I[G]]=[],J[I[G]][0]=H,J[I[G]][1]=ie,G++,H++;H*=2}return J}function O(B){for(var I=B[0],H=B[1]-1;H>=0;)I&1<<H&&(x|=1<<v),H--,--v<0&&(x==255?(R(255),R(0)):R(x),v=7,x=0)}function R(B){m.push(B)}function W(B){R(B>>8&255),R(255&B)}function M(B,I,H,G,J){for(var ie,Ae=J[0],se=J[240],we=function(ue,Ce){var _e,Fe,Re,Qe,Ge,et,st,Nt,ct,Bt,ze=0;for(ct=0;ct<8;++ct){_e=ue[ze],Fe=ue[ze+1],Re=ue[ze+2],Qe=ue[ze+3],Ge=ue[ze+4],et=ue[ze+5],st=ue[ze+6];var Zt=_e+(Nt=ue[ze+7]),kt=_e-Nt,us=Fe+st,er=Fe-st,mr=Re+et,Ai=Re-et,Rt=Qe+Ge,gc=Qe-Ge,Cr=Zt+Rt,ka=Zt-Rt,Ji=us+mr,kr=us-mr;ue[ze]=Cr+Ji,ue[ze+4]=Cr-Ji;var mt=.707106781*(kr+ka);ue[ze+2]=ka+mt,ue[ze+6]=ka-mt;var $t=.382683433*((Cr=gc+Ai)-(kr=er+kt)),mc=.5411961*Cr+$t,Nn=1.306562965*kr+$t,ui=.707106781*(Ji=Ai+er),di=kt+ui,At=kt-ui;ue[ze+5]=At+mc,ue[ze+3]=At-mc,ue[ze+1]=di+Nn,ue[ze+7]=di-Nn,ze+=8}for(ze=0,ct=0;ct<8;++ct){_e=ue[ze],Fe=ue[ze+8],Re=ue[ze+16],Qe=ue[ze+24],Ge=ue[ze+32],et=ue[ze+40],st=ue[ze+48];var Sa=_e+(Nt=ue[ze+56]),fi=_e-Nt,ds=Fe+st,tn=Fe-st,Kr=Re+et,Ps=Re-et,OA=Qe+Ge,Xi=Qe-Ge,_a=Sa+OA,Ea=Sa-OA,Fa=ds+Kr,hi=ds-Kr;ue[ze]=_a+Fa,ue[ze+32]=_a-Fa;var Xs=.707106781*(hi+Ea);ue[ze+16]=Ea+Xs,ue[ze+48]=Ea-Xs;var pi=.382683433*((_a=Xi+Ps)-(hi=tn+fi)),vc=.5411961*_a+pi,TA=1.306562965*hi+pi,LA=.707106781*(Fa=Ps+tn),UA=fi+LA,DA=fi-LA;ue[ze+40]=DA+vc,ue[ze+24]=DA-vc,ue[ze+8]=UA+TA,ue[ze+56]=UA-TA,ze++}for(ct=0;ct<64;++ct)Bt=ue[ct]*Ce[ct],h[ct]=Bt>0?Bt+.5|0:Bt-.5|0;return h}(B,I),be=0;be<64;++be)p[T[be]]=we[be];var ve=p[0]-H;H=p[0],ve==0?O(G[0]):(O(G[f[ie=32767+ve]]),O(d[ie]));for(var pe=63;pe>0&&p[pe]==0;)pe--;if(pe==0)return O(Ae),H;for(var oe,de=1;de<=pe;){for(var V=de;p[de]==0&&de<=pe;)++de;var re=de-V;if(re>=16){oe=re>>4;for(var he=1;he<=oe;++he)O(se);re&=15}ie=32767+p[de],O(J[(re<<4)+f[ie]]),O(d[ie]),de++}return pe!=63&&O(Ae),H}function q(B){B=Math.min(Math.max(B,1),100),i!=B&&(function(I){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var J=o((H[G]*I+50)/100);J=Math.min(Math.max(J,1),255),c[T[G]]=J}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var se=o((ie[Ae]*I+50)/100);se=Math.min(Math.max(se,1),255),l[T[Ae]]=se}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,ve=0;ve<8;ve++)for(var pe=0;pe<8;pe++)A[be]=1/(c[T[be]]*we[ve]*we[pe]*8),u[be]=1/(l[T[be]]*we[ve]*we[pe]*8),be++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,I){I&&q(I),m=new Array,x=0,v=7,W(65496),W(65504),W(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),W(1),W(1),R(0),R(0),function(){W(65499),W(132),R(0);for(var Fe=0;Fe<64;Fe++)R(c[Fe]);R(1);for(var Re=0;Re<64;Re++)R(l[Re])}(),function(Fe,Re){W(65472),W(17),R(8),W(Re),W(Fe),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(B.width,B.height),function(){W(65476),W(418),R(0);for(var Fe=0;Fe<16;Fe++)R(j[Fe+1]);for(var Re=0;Re<=11;Re++)R(k[Re]);R(16);for(var Qe=0;Qe<16;Qe++)R(z[Qe+1]);for(var Ge=0;Ge<=161;Ge++)R(E[Ge]);R(1);for(var et=0;et<16;et++)R(C[et+1]);for(var st=0;st<=11;st++)R(Q[st]);R(17);for(var Nt=0;Nt<16;Nt++)R(L[Nt+1]);for(var ct=0;ct<=161;ct++)R(D[ct])}(),W(65498),W(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var H=0,G=0,J=0;x=0,v=7,this.encode.displayName="_encode_";for(var ie,Ae,se,we,be,ve,pe,oe,de,V=B.data,re=B.width,he=B.height,ue=4*re,Ce=0;Ce<he;){for(ie=0;ie<ue;){for(be=ue*Ce+ie,pe=-1,oe=0,de=0;de<64;de++)ve=be+(oe=de>>3)*ue+(pe=4*(7&de)),Ce+oe>=he&&(ve-=ue*(Ce+1+oe-he)),ie+pe>=ue&&(ve-=ie+pe-ue+4),Ae=V[ve++],se=V[ve++],we=V[ve++],y[de]=(P[Ae]+P[se+256>>0]+P[we+512>>0]>>16)-128,b[de]=(P[Ae+768>>0]+P[se+1024>>0]+P[we+1280>>0]>>16)-128,_[de]=(P[Ae+1280>>0]+P[se+1536>>0]+P[we+1792>>0]>>16)-128;H=M(y,A,H,t,n),G=M(b,u,G,r,s),J=M(_,u,J,r,s),ie+=32}Ce+=8}if(v>=0){var _e=[];_e[1]=v+1,_e[0]=(1<<v+1)-1,O(_e)}return W(65497),new Uint8Array(m)},e=e||50,function(){for(var B=String.fromCharCode,I=0;I<256;I++)N[I]=B(I)}(),t=S(j,k),r=S(C,Q),n=S(z,E),s=S(L,D),function(){for(var B=1,I=2,H=1;H<=15;H++){for(var G=B;G<I;G++)f[32767+G]=H,d[32767+G]=[],d[32767+G][1]=H,d[32767+G][0]=G;for(var J=-(I-1);J<=-B;J++)f[32767+J]=H,d[32767+J]=[],d[32767+J][1]=H,d[32767+J][0]=I-1+J;B<<=1,I<<=1}}(),function(){for(var B=0;B<256;B++)P[B]=19595*B,P[B+256>>0]=38470*B,P[B+512>>0]=7471*B+32768,P[B+768>>0]=-11059*B,P[B+1024>>0]=-21709*B,P[B+1280>>0]=32768*B+8421375,P[B+1536>>0]=-27439*B,P[B+1792>>0]=-5329*B}(),q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QS(e){function t(j){if(!j)throw Error("assert :P")}function r(j,k,z){for(var E=0;4>E;E++)if(j[k+E]!=z.charCodeAt(E))return!0;return!1}function n(j,k,z,E,C){for(var Q=0;Q<C;Q++)j[k+Q]=z[E+Q]}function s(j,k,z,E){for(var C=0;C<E;C++)j[k+C]=z}function i(j){return new Int32Array(j)}function o(j,k){for(var z=[],E=0;E<j;E++)z.push(new k);return z}function c(j,k){var z=[];return function E(C,Q,L){for(var D=L[Q],S=0;S<D&&(C.push(L.length>Q+1?[]:new k),!(L.length<Q+1));S++)E(C[S],Q+1,L)}(z,0,j),z}var l=function(){var j=this;function k(g,w){for(var U=1<<w-1>>>0;g&U;)U>>>=1;return U?(g&U-1)+U:g}function z(g,w,U,K,Y){t(!(K%U));do g[w+(K-=U)]=Y;while(0<K)}function E(g,w,U,K,Y){if(t(2328>=Y),512>=Y)var ee=i(512);else if((ee=i(Y))==null)return 0;return function(te,ne,ae,le,xe,ke){var Se,Ne,Le=ne,Ee=1<<ae,ye=i(16),je=i(16);for(t(xe!=0),t(le!=null),t(te!=null),t(0<ae),Ne=0;Ne<xe;++Ne){if(15<le[Ne])return 0;++ye[le[Ne]]}if(ye[0]==xe)return 0;for(je[1]=0,Se=1;15>Se;++Se){if(ye[Se]>1<<Se)return 0;je[Se+1]=je[Se]+ye[Se]}for(Ne=0;Ne<xe;++Ne)Se=le[Ne],0<le[Ne]&&(ke[je[Se]++]=Ne);if(je[15]==1)return(le=new C).g=0,le.value=ke[0],z(te,Le,1,Ee,le),Ee;var Oe,Ue=-1,Te=Ee-1,Ye=0,Ke=1,lt=1,We=1<<ae;for(Ne=0,Se=1,xe=2;Se<=ae;++Se,xe<<=1){if(Ke+=lt<<=1,0>(lt-=ye[Se]))return 0;for(;0<ye[Se];--ye[Se])(le=new C).g=Se,le.value=ke[Ne++],z(te,Le+Ye,xe,We,le),Ye=k(Ye,Se)}for(Se=ae+1,xe=2;15>=Se;++Se,xe<<=1){if(Ke+=lt<<=1,0>(lt-=ye[Se]))return 0;for(;0<ye[Se];--ye[Se]){if(le=new C,(Ye&Te)!=Ue){for(Le+=We,Oe=1<<(Ue=Se)-ae;15>Ue&&!(0>=(Oe-=ye[Ue]));)++Ue,Oe<<=1;Ee+=We=1<<(Oe=Ue-ae),te[ne+(Ue=Ye&Te)].g=Oe+ae,te[ne+Ue].value=Le-ne-Ue}le.g=Se-ae,le.value=ke[Ne++],z(te,Le+(Ye>>ae),xe,We,le),Ye=k(Ye,Se)}}return Ke!=2*je[15]-1?0:Ee}(g,w,U,K,Y,ee)}function C(){this.value=this.g=0}function Q(){this.value=this.g=0}function L(){this.G=o(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Bn,Q)}function D(g,w,U,K){t(g!=null),t(w!=null),t(2147483648>K),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=U,g.Jd=w,g.Yc=U+K,g.Zc=4<=K?U+K-4+1:U,ie(g)}function S(g,w){for(var U=0;0<w--;)U|=se(g,128)<<w;return U}function O(g,w){var U=S(g,w);return Ae(g)?-U:U}function R(g,w,U,K){var Y,ee=0;for(t(g!=null),t(w!=null),t(4294967288>K),g.Sb=K,g.Ra=0,g.u=0,g.h=0,4<K&&(K=4),Y=0;Y<K;++Y)ee+=w[U+Y]<<8*Y;g.Ra=ee,g.bb=K,g.oa=w,g.pa=U}function W(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<ZA-8>>>0,++g.bb,g.u-=8;H(g)&&(g.h=1,g.u=0)}function M(g,w){if(t(0<=w),!g.h&&w<=YA){var U=I(g)&XA[w];return g.u+=w,W(g),U}return g.h=1,g.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(g){return g.Ra>>>(g.u&ZA-1)>>>0}function H(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>ZA}function G(g,w){g.u=w,g.h=H(g)}function J(g){g.u>=Mf&&(t(g.u>=Mf),W(g))}function ie(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Ae(g){return S(g,1)}function se(g,w){var U=g.Ca;0>g.b&&ie(g);var K=g.b,Y=U*w>>>8,ee=(g.I>>>K>Y)+0;for(ee?(U-=Y,g.I-=Y+1<<K>>>0):U=Y+1,K=U,Y=0;256<=K;)Y+=8,K>>=8;return K=7^Y+hs[K],g.b-=K,g.Ca=(U<<K)-1,ee}function we(g,w,U){g[w+0]=U>>24&255,g[w+1]=U>>16&255,g[w+2]=U>>8&255,g[w+3]=U>>0&255}function be(g,w){return g[w+0]<<0|g[w+1]<<8}function ve(g,w){return be(g,w)|g[w+2]<<16}function pe(g,w){return be(g,w)|be(g,w+2)<<16}function oe(g,w){var U=1<<w;return t(g!=null),t(0<w),g.X=i(U),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function de(g,w){t(g!=null),t(w!=null),t(g.Xa==w.Xa),n(w.X,0,g.X,0,1<<w.Xa)}function V(){this.X=[],this.Xa=this.Mb=0}function re(g,w,U,K){t(U!=null),t(K!=null);var Y=U[0],ee=K[0];return Y==0&&(Y=(g*ee+w/2)/w),ee==0&&(ee=(w*Y+g/2)/g),0>=Y||0>=ee?0:(U[0]=Y,K[0]=ee,1)}function he(g,w){return g+(1<<w)-1>>>w}function ue(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function Ce(g,w){j[w]=function(U,K,Y,ee,te,ne,ae){var le;for(le=0;le<te;++le){var xe=j[g](ne[ae+le-1],Y,ee+le);ne[ae+le]=ue(U[K+le],xe)}}}function _e(){this.ud=this.hd=this.jd=0}function Fe(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function Re(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Qe(g,w){return Re(g+(g-w+.5>>1))}function Ge(g,w,U){return Math.abs(w-U)-Math.abs(g-U)}function et(g,w,U,K,Y,ee,te){for(K=ee[te-1],U=0;U<Y;++U)ee[te+U]=K=ue(g[w+U],K)}function st(g,w,U,K,Y){var ee;for(ee=0;ee<U;++ee){var te=g[w+ee],ne=te>>8&255,ae=16711935&(ae=(ae=16711935&te)+((ne<<16)+ne));K[Y+ee]=(4278255360&te)+ae>>>0}}function Nt(g,w){w.jd=g>>0&255,w.hd=g>>8&255,w.ud=g>>16&255}function ct(g,w,U,K,Y,ee){var te;for(te=0;te<K;++te){var ne=w[U+te],ae=ne>>>8,le=ne,xe=255&(xe=(xe=ne>>>16)+((g.jd<<24>>24)*(ae<<24>>24)>>>5));le=255&(le=(le=le+((g.hd<<24>>24)*(ae<<24>>24)>>>5))+((g.ud<<24>>24)*(xe<<24>>24)>>>5)),Y[ee+te]=(4278255360&ne)+(xe<<16)+le}}function Bt(g,w,U,K,Y){j[w]=function(ee,te,ne,ae,le,xe,ke,Se,Ne){for(ae=ke;ae<Se;++ae)for(ke=0;ke<Ne;++ke)le[xe++]=Y(ne[K(ee[te++])])},j[g]=function(ee,te,ne,ae,le,xe,ke){var Se=8>>ee.b,Ne=ee.Ea,Le=ee.K[0],Ee=ee.w;if(8>Se)for(ee=(1<<ee.b)-1,Ee=(1<<Se)-1;te<ne;++te){var ye,je=0;for(ye=0;ye<Ne;++ye)ye&ee||(je=K(ae[le++])),xe[ke++]=Y(Le[je&Ee]),je>>=Se}else j["VP8LMapColor"+U](ae,le,Le,Ee,xe,ke,te,ne,Ne)}}function ze(g,w,U,K,Y){for(U=w+U;w<U;){var ee=g[w++];K[Y++]=ee>>16&255,K[Y++]=ee>>8&255,K[Y++]=ee>>0&255}}function Zt(g,w,U,K,Y){for(U=w+U;w<U;){var ee=g[w++];K[Y++]=ee>>16&255,K[Y++]=ee>>8&255,K[Y++]=ee>>0&255,K[Y++]=ee>>24&255}}function kt(g,w,U,K,Y){for(U=w+U;w<U;){var ee=(te=g[w++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;K[Y++]=ee,K[Y++]=te}}function us(g,w,U,K,Y){for(U=w+U;w<U;){var ee=(te=g[w++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;K[Y++]=ee,K[Y++]=te}}function er(g,w,U,K,Y){for(U=w+U;w<U;){var ee=g[w++];K[Y++]=ee>>0&255,K[Y++]=ee>>8&255,K[Y++]=ee>>16&255}}function mr(g,w,U,K,Y,ee){if(ee==0)for(U=w+U;w<U;)we(K,((ee=g[w++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Y+=32;else n(K,Y,g,w,U)}function Ai(g,w){j[w][0]=j[g+"0"],j[w][1]=j[g+"1"],j[w][2]=j[g+"2"],j[w][3]=j[g+"3"],j[w][4]=j[g+"4"],j[w][5]=j[g+"5"],j[w][6]=j[g+"6"],j[w][7]=j[g+"7"],j[w][8]=j[g+"8"],j[w][9]=j[g+"9"],j[w][10]=j[g+"10"],j[w][11]=j[g+"11"],j[w][12]=j[g+"12"],j[w][13]=j[g+"13"],j[w][14]=j[g+"0"],j[w][15]=j[g+"0"]}function Rt(g){return g==h1||g==p1||g==gm||g==g1}function gc(){this.eb=[],this.size=this.A=this.fb=0}function Cr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ka(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gc,this.f.kb=new Cr,this.sd=null}function Ji(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function mt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function $t(g,w){var U=g.T,K=w.ba.f.RGBA,Y=K.eb,ee=K.fb+g.ka*K.A,te=na[w.ba.S],ne=g.y,ae=g.O,le=g.f,xe=g.N,ke=g.ea,Se=g.W,Ne=w.cc,Le=w.dc,Ee=w.Mc,ye=w.Nc,je=g.ka,Oe=g.ka+g.T,Ue=g.U,Te=Ue+1>>1;for(je==0?te(ne,ae,null,null,le,xe,ke,Se,le,xe,ke,Se,Y,ee,null,null,Ue):(te(w.ec,w.fc,ne,ae,Ne,Le,Ee,ye,le,xe,ke,Se,Y,ee-K.A,Y,ee,Ue),++U);je+2<Oe;je+=2)Ne=le,Le=xe,Ee=ke,ye=Se,xe+=g.Rc,Se+=g.Rc,ee+=2*K.A,te(ne,(ae+=2*g.fa)-g.fa,ne,ae,Ne,Le,Ee,ye,le,xe,ke,Se,Y,ee-K.A,Y,ee,Ue);return ae+=g.fa,g.j+Oe<g.o?(n(w.ec,w.fc,ne,ae,Ue),n(w.cc,w.dc,le,xe,Te),n(w.Mc,w.Nc,ke,Se,Te),U--):1&Oe||te(ne,ae,null,null,le,xe,ke,Se,le,xe,ke,Se,Y,ee+K.A,null,null,Ue),U}function mc(g,w,U){var K=g.F,Y=[g.J];if(K!=null){var ee=g.U,te=w.ba.S,ne=te==pm||te==gm;w=w.ba.f.RGBA;var ae=[0],le=g.ka;ae[0]=g.T,g.Kb&&(le==0?--ae[0]:(--le,Y[0]-=g.width),g.j+g.ka+g.T==g.o&&(ae[0]=g.o-g.j-le));var xe=w.eb;le=w.fb+le*w.A,g=ar(K,Y[0],g.width,ee,ae,xe,le+(ne?0:3),w.A),t(U==ae),g&&Rt(te)&&ta(xe,le,ne,ee,ae,w.A)}return 0}function Nn(g){var w=g.ma,U=w.ba.S,K=11>U,Y=U==fm||U==hm||U==pm||U==f1||U==12||Rt(U);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Df(w.Oa,g,Y?11:12))return 0;if(Y&&Rt(U)&&De(),g.da)alert("todo:use_scaling");else{if(K){if(w.Ib=mt,g.Kb){if(U=g.U+1>>1,w.memory=i(g.U+2*U),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+U,w.Ib=$t,De()}}else alert("todo:EmitYUV");Y&&(w.Jb=mc,K&&Be())}if(K&&!mk){for(g=0;256>g;++g)JQ[g]=89858*(g-128)+vm>>mm,ZQ[g]=-22014*(g-128)+vm,YQ[g]=-45773*(g-128),XQ[g]=113618*(g-128)+vm>>mm;for(g=Gf;g<x1;++g)w=76283*(g-16)+vm>>mm,e3[g-Gf]=Is(w,255),t3[g-Gf]=Is(w+8>>4,15);mk=1}return 1}function ui(g){var w=g.ma,U=g.U,K=g.T;return t(!(1&g.ka)),0>=U||0>=K?0:(U=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,U),w.Dc+=U,1)}function di(g){g.ma.memory=null}function At(g,w,U,K){return M(g,8)!=47?0:(w[0]=M(g,14)+1,U[0]=M(g,14)+1,K[0]=M(g,1),M(g,3)!=0?0:!g.h)}function Sa(g,w){if(4>g)return g+1;var U=g-2>>1;return(2+(1&g)<<U)+M(w,U)+1}function fi(g,w){return 120<w?w-120:1<=(U=((U=LQ[w-1])>>4)*g+(8-(15&U)))?U:1;var U}function ds(g,w,U){var K=I(U),Y=g[w+=255&K].g-8;return 0<Y&&(G(U,U.u+8),K=I(U),w+=g[w].value,w+=K&(1<<Y)-1),G(U,U.u+g[w].g),g[w].value}function tn(g,w,U){return U.g+=g.g,U.value+=g.value<<w>>>0,t(8>=U.g),g.g}function Kr(g,w,U){var K=g.xc;return t((w=K==0?0:g.vc[g.md*(U>>K)+(w>>K)])<g.Wb),g.Ya[w]}function Ps(g,w,U,K){var Y=g.ab,ee=g.c*w,te=g.C;w=te+w;var ne=U,ae=K;for(K=g.Ta,U=g.Ua;0<Y--;){var le=g.gc[Y],xe=te,ke=w,Se=ne,Ne=ae,Le=(ae=K,ne=U,le.Ea);switch(t(xe<ke),t(ke<=le.nc),le.hc){case 2:im(Se,Ne,(ke-xe)*Le,ae,ne);break;case 0:var Ee=xe,ye=ke,je=ae,Oe=ne,Ue=(We=le).Ea;Ee==0&&(u1(Se,Ne,null,null,1,je,Oe),et(Se,Ne+1,0,0,Ue-1,je,Oe+1),Ne+=Ue,Oe+=Ue,++Ee);for(var Te=1<<We.b,Ye=Te-1,Ke=he(Ue,We.b),lt=We.K,We=We.w+(Ee>>We.b)*Ke;Ee<ye;){var Dt=lt,Kt=We,Tt=1;for(Rf(Se,Ne,je,Oe-Ue,1,je,Oe);Tt<Ue;){var Et=(Tt&~Ye)+Te;Et>Ue&&(Et=Ue),(0,el[Dt[Kt++]>>8&15])(Se,Ne+ +Tt,je,Oe+Tt-Ue,Et-Tt,je,Oe+Tt),Tt=Et}Ne+=Ue,Oe+=Ue,++Ee&Ye||(We+=Ke)}ke!=le.nc&&n(ae,ne-Le,ae,ne+(ke-xe-1)*Le,Le);break;case 1:for(Le=Se,ye=Ne,Ue=(Se=le.Ea)-(Oe=Se&~(je=(Ne=1<<le.b)-1)),Ee=he(Se,le.b),Te=le.K,le=le.w+(xe>>le.b)*Ee;xe<ke;){for(Ye=Te,Ke=le,lt=new _e,We=ye+Oe,Dt=ye+Se;ye<We;)Nt(Ye[Ke++],lt),jc(lt,Le,ye,Ne,ae,ne),ye+=Ne,ne+=Ne;ye<Dt&&(Nt(Ye[Ke++],lt),jc(lt,Le,ye,Ue,ae,ne),ye+=Ue,ne+=Ue),++xe&je||(le+=Ee)}break;case 3:if(Se==ae&&Ne==ne&&0<le.b){for(ye=ae,Se=Le=ne+(ke-xe)*Le-(Oe=(ke-xe)*he(le.Ea,le.b)),Ne=ae,je=ne,Ee=[],Oe=(Ue=Oe)-1;0<=Oe;--Oe)Ee[Oe]=Ne[je+Oe];for(Oe=Ue-1;0<=Oe;--Oe)ye[Se+Oe]=Ee[Oe];Ys(le,xe,ke,ae,Le,ae,ne)}else Ys(le,xe,ke,Se,Ne,ae,ne)}ne=K,ae=U}ae!=U&&n(K,U,ne,ae,ee)}function OA(g,w){var U=g.V,K=g.Ba+g.c*g.C,Y=w-g.C;if(t(w<=g.l.o),t(16>=Y),0<Y){var ee=g.l,te=g.Ta,ne=g.Ua,ae=ee.width;if(Ps(g,Y,U,K),Y=ne=[ne],t((U=g.C)<(K=w)),t(ee.v<ee.va),K>ee.o&&(K=ee.o),U<ee.j){var le=ee.j-U;U=ee.j,Y[0]+=le*ae}if(U>=K?U=0:(Y[0]+=4*ee.v,ee.ka=U-ee.j,ee.U=ee.va-ee.v,ee.T=K-U,U=1),U){if(ne=ne[0],11>(U=g.ca).S){var xe=U.f.RGBA,ke=(K=U.S,Y=ee.U,ee=ee.T,le=xe.eb,xe.A),Se=ee;for(xe=xe.fb+g.Ma*xe.A;0<Se--;){var Ne=te,Le=ne,Ee=Y,ye=le,je=xe;switch(K){case dm:ps(Ne,Le,Ee,ye,je);break;case fm:Xn(Ne,Le,Ee,ye,je);break;case h1:Xn(Ne,Le,Ee,ye,je),ta(ye,je,0,Ee,1,0);break;case lk:to(Ne,Le,Ee,ye,je);break;case hm:mr(Ne,Le,Ee,ye,je,1);break;case p1:mr(Ne,Le,Ee,ye,je,1),ta(ye,je,0,Ee,1,0);break;case pm:mr(Ne,Le,Ee,ye,je,0);break;case gm:mr(Ne,Le,Ee,ye,je,0),ta(ye,je,1,Ee,1,0);break;case f1:tl(Ne,Le,Ee,ye,je);break;case g1:tl(Ne,Le,Ee,ye,je),sr(ye,je,Ee,1,0);break;case ck:eo(Ne,Le,Ee,ye,je);break;default:t(0)}ne+=ae,xe+=ke}g.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=U.height)}}g.C=w,t(g.C<=g.i)}function Xi(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var U=g.Ya[w].G,K=g.Ya[w].H;if(0<U[1][K[1]+0].g||0<U[2][K[2]+0].g||0<U[3][K[3]+0].g)return 0}return 1}function _a(g,w,U,K,Y,ee){if(g.Z!=0){var te=g.qd,ne=g.rd;for(t(al[g.Z]!=null);w<U;++w)al[g.Z](te,ne,K,Y,K,Y,ee),te=K,ne=Y,Y+=ee;g.qd=te,g.rd=ne}}function Ea(g,w){var U=g.l.ma,K=U.Z==0||U.Z==1?g.l.j:g.C;if(K=g.C<K?K:g.C,t(w<=g.l.o),w>K){var Y=g.l.width,ee=U.ca,te=U.tb+Y*K,ne=g.V,ae=g.Ba+g.c*K,le=g.gc;t(g.ab==1),t(le[0].hc==3),om(le[0],K,w,ne,ae,ee,te),_a(U,K,w,ee,te,Y)}g.C=g.Ma=w}function Fa(g,w,U,K,Y,ee,te){var ne=g.$/K,ae=g.$%K,le=g.m,xe=g.s,ke=U+g.$,Se=ke;Y=U+K*Y;var Ne=U+K*ee,Le=280+xe.ua,Ee=g.Pb?ne:16777216,ye=0<xe.ua?xe.Wa:null,je=xe.wc,Oe=ke<Ne?Kr(xe,ae,ne):null;t(g.C<ee),t(Ne<=Y);var Ue=!1;e:for(;;){for(;Ue||ke<Ne;){var Te=0;if(ne>=Ee){var Ye=ke-U;t((Ee=g).Pb),Ee.wd=Ee.m,Ee.xd=Ye,0<Ee.s.ua&&de(Ee.s.Wa,Ee.s.vb),Ee=ne+DQ}if(ae&je||(Oe=Kr(xe,ae,ne)),t(Oe!=null),Oe.Qb&&(w[ke]=Oe.qb,Ue=!0),!Ue)if(J(le),Oe.jc){Te=le,Ye=w;var Ke=ke,lt=Oe.pd[I(Te)&Bn-1];t(Oe.jc),256>lt.g?(G(Te,Te.u+lt.g),Ye[Ke]=lt.value,Te=0):(G(Te,Te.u+lt.g-256),t(256<=lt.value),Te=lt.value),Te==0&&(Ue=!0)}else Te=ds(Oe.G[0],Oe.H[0],le);if(le.h)break;if(Ue||256>Te){if(!Ue)if(Oe.nd)w[ke]=(Oe.qb|Te<<8)>>>0;else{if(J(le),Ue=ds(Oe.G[1],Oe.H[1],le),J(le),Ye=ds(Oe.G[2],Oe.H[2],le),Ke=ds(Oe.G[3],Oe.H[3],le),le.h)break;w[ke]=(Ke<<24|Ue<<16|Te<<8|Ye)>>>0}if(Ue=!1,++ke,++ae>=K&&(ae=0,++ne,te!=null&&ne<=ee&&!(ne%16)&&te(g,ne),ye!=null))for(;Se<ke;)Te=w[Se++],ye.X[(506832829*Te&4294967295)>>>ye.Mb]=Te}else if(280>Te){if(Te=Sa(Te-256,le),Ye=ds(Oe.G[4],Oe.H[4],le),J(le),Ye=fi(K,Ye=Sa(Ye,le)),le.h)break;if(ke-U<Ye||Y-ke<Te)break e;for(Ke=0;Ke<Te;++Ke)w[ke+Ke]=w[ke+Ke-Ye];for(ke+=Te,ae+=Te;ae>=K;)ae-=K,++ne,te!=null&&ne<=ee&&!(ne%16)&&te(g,ne);if(t(ke<=Y),ae&je&&(Oe=Kr(xe,ae,ne)),ye!=null)for(;Se<ke;)Te=w[Se++],ye.X[(506832829*Te&4294967295)>>>ye.Mb]=Te}else{if(!(Te<Le))break e;for(Ue=Te-280,t(ye!=null);Se<ke;)Te=w[Se++],ye.X[(506832829*Te&4294967295)>>>ye.Mb]=Te;Te=ke,t(!(Ue>>>(Ye=ye).Xa)),w[Te]=Ye.X[Ue],Ue=!0}Ue||t(le.h==H(le))}if(g.Pb&&le.h&&ke<Y)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&de(g.s.vb,g.s.Wa);else{if(le.h)break e;te!=null&&te(g,ne>ee?ee:ne),g.a=0,g.$=ke-U}return 1}return g.a=3,0}function hi(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,t(g!=null)}function Xs(){var g=new A1;return g==null?null:(g.a=0,g.xb=dk,Ai("Predictor","VP8LPredictors"),Ai("Predictor","VP8LPredictors_C"),Ai("PredictorAdd","VP8LPredictorsAdd"),Ai("PredictorAdd","VP8LPredictorsAdd_C"),im=st,jc=ct,ps=ze,Xn=Zt,tl=kt,eo=us,to=er,j.VP8LMapColor32b=eu,j.VP8LMapColor8b=lm,g)}function pi(g,w,U,K,Y){var ee=1,te=[g],ne=[w],ae=K.m,le=K.s,xe=null,ke=0;e:for(;;){if(U)for(;ee&&M(ae,1);){var Se=te,Ne=ne,Le=K,Ee=1,ye=Le.m,je=Le.gc[Le.ab],Oe=M(ye,2);if(Le.Oc&1<<Oe)ee=0;else{switch(Le.Oc|=1<<Oe,je.hc=Oe,je.Ea=Se[0],je.nc=Ne[0],je.K=[null],++Le.ab,t(4>=Le.ab),Oe){case 0:case 1:je.b=M(ye,3)+2,Ee=pi(he(je.Ea,je.b),he(je.nc,je.b),0,Le,je.K),je.K=je.K[0];break;case 3:var Ue,Te=M(ye,8)+1,Ye=16<Te?0:4<Te?1:2<Te?2:3;if(Se[0]=he(je.Ea,Ye),je.b=Ye,Ue=Ee=pi(Te,1,0,Le,je.K)){var Ke,lt=Te,We=je,Dt=1<<(8>>We.b),Kt=i(Dt);if(Kt==null)Ue=0;else{var Tt=We.K[0],Et=We.w;for(Kt[0]=We.K[0][0],Ke=1;Ke<1*lt;++Ke)Kt[Ke]=ue(Tt[Et+Ke],Kt[Ke-1]);for(;Ke<4*Dt;++Ke)Kt[Ke]=0;We.K[0]=null,We.K[0]=Kt,Ue=1}}Ee=Ue;break;case 2:break;default:t(0)}ee=Ee}}if(te=te[0],ne=ne[0],ee&&M(ae,1)&&!(ee=1<=(ke=M(ae,4))&&11>=ke)){K.a=3;break e}var tr;if(tr=ee)t:{var Jt,bt,Gr,gs=K,Wr=te,ms=ne,Vt=ke,Ts=U,Ls=gs.m,dn=gs.s,Cn=[null],Zn=1,sa=0,xi=UQ[Vt];r:for(;;){if(Ts&&M(Ls,1)){var fn=M(Ls,3)+2,ao=he(Wr,fn),Sc=he(ms,fn),au=ao*Sc;if(!pi(ao,Sc,0,gs,Cn))break r;for(Cn=Cn[0],dn.xc=fn,Jt=0;Jt<au;++Jt){var il=Cn[Jt]>>8&65535;Cn[Jt]=il,il>=Zn&&(Zn=il+1)}}if(Ls.h)break r;for(bt=0;5>bt;++bt){var _r=Ak[bt];!bt&&0<Vt&&(_r+=1<<Vt),sa<_r&&(sa=_r)}var y1=o(Zn*xi,C),yk=Zn,bk=o(yk,L);if(bk==null)var ym=null;else t(65536>=yk),ym=bk;var Wf=i(sa);if(ym==null||Wf==null||y1==null){gs.a=1;break r}var bm=y1;for(Jt=Gr=0;Jt<Zn;++Jt){var La=ym[Jt],iu=La.G,ou=La.H,wk=0,wm=1,jk=0;for(bt=0;5>bt;++bt){_r=Ak[bt],iu[bt]=bm,ou[bt]=Gr,!bt&&0<Vt&&(_r+=1<<Vt);s:{var jm,b1=_r,Nm=gs,qf=Wf,s3=bm,a3=Gr,w1=0,ol=Nm.m,i3=M(ol,1);if(s(qf,0,0,b1),i3){var o3=M(ol,1)+1,l3=M(ol,1),Nk=M(ol,l3==0?1:8);qf[Nk]=1,o3==2&&(qf[Nk=M(ol,8)]=1);var Bm=1}else{var Bk=i(19),Ck=M(ol,4)+4;if(19<Ck){Nm.a=3;var Cm=0;break s}for(jm=0;jm<Ck;++jm)Bk[TQ[jm]]=M(ol,3);var j1=void 0,Jf=void 0,kk=Nm,c3=Bk,km=b1,Sk=qf,N1=0,ll=kk.m,_k=8,Ek=o(128,C);n:for(;E(Ek,0,7,c3,19);){if(M(ll,1)){var A3=2+2*M(ll,3);if((j1=2+M(ll,A3))>km)break n}else j1=km;for(Jf=0;Jf<km&&j1--;){J(ll);var Fk=Ek[0+(127&I(ll))];G(ll,ll.u+Fk.g);var lu=Fk.value;if(16>lu)Sk[Jf++]=lu,lu!=0&&(_k=lu);else{var u3=lu==16,Pk=lu-16,d3=IQ[Pk],Ik=M(ll,PQ[Pk])+d3;if(Jf+Ik>km)break n;for(var f3=u3?_k:0;0<Ik--;)Sk[Jf++]=f3}}N1=1;break n}N1||(kk.a=3),Bm=N1}(Bm=Bm&&!ol.h)&&(w1=E(s3,a3,8,qf,b1)),Bm&&w1!=0?Cm=w1:(Nm.a=3,Cm=0)}if(Cm==0)break r;if(wm&&OQ[bt]==1&&(wm=bm[Gr].g==0),wk+=bm[Gr].g,Gr+=Cm,3>=bt){var Xf,B1=Wf[0];for(Xf=1;Xf<_r;++Xf)Wf[Xf]>B1&&(B1=Wf[Xf]);jk+=B1}}if(La.nd=wm,La.Qb=0,wm&&(La.qb=(iu[3][ou[3]+0].value<<24|iu[1][ou[1]+0].value<<16|iu[2][ou[2]+0].value)>>>0,wk==0&&256>iu[0][ou[0]+0].value&&(La.Qb=1,La.qb+=iu[0][ou[0]+0].value<<8)),La.jc=!La.Qb&&6>jk,La.jc){var Sm,io=La;for(Sm=0;Sm<Bn;++Sm){var cl=Sm,Al=io.pd[cl],_m=io.G[0][io.H[0]+cl];256<=_m.value?(Al.g=_m.g+256,Al.value=_m.value):(Al.g=0,Al.value=0,cl>>=tn(_m,8,Al),cl>>=tn(io.G[1][io.H[1]+cl],16,Al),cl>>=tn(io.G[2][io.H[2]+cl],0,Al),tn(io.G[3][io.H[3]+cl],24,Al))}}}dn.vc=Cn,dn.Wb=Zn,dn.Ya=ym,dn.yc=y1,tr=1;break t}tr=0}if(!(ee=tr)){K.a=3;break e}if(0<ke){if(le.ua=1<<ke,!oe(le.Wa,ke)){K.a=1,ee=0;break e}}else le.ua=0;var C1=K,Ok=te,h3=ne,k1=C1.s,S1=k1.xc;if(C1.c=Ok,C1.i=h3,k1.md=he(Ok,S1),k1.wc=S1==0?-1:(1<<S1)-1,U){K.xb=KQ;break e}if((xe=i(te*ne))==null){K.a=1,ee=0;break e}ee=(ee=Fa(K,xe,0,te,ne,ne,null))&&!ae.h;break e}return ee?(Y!=null?Y[0]=xe:(t(xe==null),t(U)),K.$=0,U||hi(le)):hi(le),ee}function vc(g,w){var U=g.c*g.i,K=U+w+16*w;return t(g.c<=w),g.V=i(K),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+U+w,1)}function TA(g,w){var U=g.C,K=w-U,Y=g.V,ee=g.Ba+g.c*U;for(t(w<=g.l.o);0<K;){var te=16<K?16:K,ne=g.l.ma,ae=g.l.width,le=ae*te,xe=ne.ca,ke=ne.tb+ae*U,Se=g.Ta,Ne=g.Ua;Ps(g,te,Y,ee),Ur(Se,Ne,xe,ke,le),_a(ne,U,U+te,xe,ke,ae),K-=te,Y+=te*g.c,U+=te}t(U==w),g.C=g.Ma=w}function LA(){this.ub=this.yd=this.td=this.Rb=0}function UA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function DA(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Mg(){this.Yb=function(){var g=[];return function w(U,K,Y){for(var ee=Y[K],te=0;te<ee&&(U.push(Y.length>K+1?[]:0),!(Y.length<K+1));te++)w(U[te],K+1,Y)}(g,0,[3,11]),g}()}function Rb(){this.jb=i(3),this.Wc=c([4,8],Mg),this.Xc=c([4,17],Mg)}function $b(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function QA(){this.ld=this.La=this.dd=this.tc=0}function Rg(){this.Na=this.la=0}function Hb(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wf(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zb(){this.uc=this.M=this.Nb=0,this.wa=Array(new QA),this.Y=0,this.ya=Array(new wf),this.aa=0,this.l=new MA}function $g(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Kb(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new LA,this.Kc=new UA,this.ed=new $b,this.Qa=new DA,this.Ic=this.$c=this.Aa=0,this.D=new zb,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,q),this.ia=0,this.pb=o(4,Hb),this.Pa=new Rb,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $g),this.Hd=0,this.rb=Array(new Rg),this.sb=0,this.wa=Array(new QA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wf),this.L=this.aa=0,this.gd=c([4,2],QA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function MA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vb(){var g=new Kb;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Vf||(Vf=Kg)),g}function Tr(g,w,U){return g.a==0&&(g.a=w,g.sc=U,g.cb=0),0}function Hg(g,w,U){return 3<=U&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function zg(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return Tr(g,2,"null VP8Io passed to VP8GetHeaders()");var U=w.data,K=w.w,Y=w.ha;if(4>Y)return Tr(g,7,"Truncated header.");var ee=U[K+0]|U[K+1]<<8|U[K+2]<<16,te=g.Od;if(te.Rb=!(1&ee),te.td=ee>>1&7,te.yd=ee>>4&1,te.ub=ee>>5,3<te.td)return Tr(g,3,"Incorrect keyframe parameters.");if(!te.yd)return Tr(g,4,"Frame not displayable.");K+=3,Y-=3;var ne=g.Kc;if(te.Rb){if(7>Y)return Tr(g,7,"cannot parse picture header");if(!Hg(U,K,Y))return Tr(g,3,"Bad code word");ne.c=16383&(U[K+4]<<8|U[K+3]),ne.Td=U[K+4]>>6,ne.i=16383&(U[K+6]<<8|U[K+5]),ne.Ud=U[K+6]>>6,K+=7,Y-=7,g.za=ne.c+15>>4,g.Ub=ne.i+15>>4,w.width=ne.c,w.height=ne.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,s((ee=g.Pa).jb,0,255,ee.jb.length),t((ee=g.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,s(ee.Zb,0,0,ee.Zb.length),s(ee.Lb,0,0,ee.Lb)}if(te.ub>Y)return Tr(g,7,"bad partition length");D(ee=g.m,U,K,te.ub),K+=te.ub,Y-=te.ub,te.Rb&&(ne.Ld=Ae(ee),ne.Kd=Ae(ee)),ne=g.Qa;var ae,le=g.Pa;if(t(ee!=null),t(ne!=null),ne.Cb=Ae(ee),ne.Cb){if(ne.Bb=Ae(ee),Ae(ee)){for(ne.Fb=Ae(ee),ae=0;4>ae;++ae)ne.Zb[ae]=Ae(ee)?O(ee,7):0;for(ae=0;4>ae;++ae)ne.Lb[ae]=Ae(ee)?O(ee,6):0}if(ne.Bb)for(ae=0;3>ae;++ae)le.jb[ae]=Ae(ee)?S(ee,8):255}else ne.Bb=0;if(ee.Ka)return Tr(g,3,"cannot parse segment header");if((ne=g.ed).zd=Ae(ee),ne.Tb=S(ee,6),ne.wb=S(ee,3),ne.Pc=Ae(ee),ne.Pc&&Ae(ee)){for(le=0;4>le;++le)Ae(ee)&&(ne.vd[le]=O(ee,6));for(le=0;4>le;++le)Ae(ee)&&(ne.od[le]=O(ee,6))}if(g.L=ne.Tb==0?0:ne.zd?1:2,ee.Ka)return Tr(g,3,"cannot parse filter header");var xe=Y;if(Y=ae=K,K=ae+xe,ne=xe,g.Xb=(1<<S(g.m,2))-1,xe<3*(le=g.Xb))U=7;else{for(ae+=3*le,ne-=3*le,xe=0;xe<le;++xe){var ke=U[Y+0]|U[Y+1]<<8|U[Y+2]<<16;ke>ne&&(ke=ne),D(g.Jc[+xe],U,ae,ke),ae+=ke,ne-=ke,Y+=3}D(g.Jc[+le],U,ae,ne),U=ae<K?0:5}if(U!=0)return Tr(g,U,"cannot parse partitions");for(U=S(ae=g.m,7),Y=Ae(ae)?O(ae,4):0,K=Ae(ae)?O(ae,4):0,ne=Ae(ae)?O(ae,4):0,le=Ae(ae)?O(ae,4):0,ae=Ae(ae)?O(ae,4):0,xe=g.Qa,ke=0;4>ke;++ke){if(xe.Cb){var Se=xe.Zb[ke];xe.Fb||(Se+=U)}else{if(0<ke){g.pb[ke]=g.pb[0];continue}Se=U}var Ne=g.pb[ke];Ne.Sc[0]=m1[Is(Se+Y,127)],Ne.Sc[1]=v1[Is(Se+0,127)],Ne.Eb[0]=2*m1[Is(Se+K,127)],Ne.Eb[1]=101581*v1[Is(Se+ne,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=m1[Is(Se+le,117)],Ne.Qc[1]=v1[Is(Se+ae,127)],Ne.lc=Se+ae}if(!te.Rb)return Tr(g,4,"Not a key frame.");for(Ae(ee),te=g.Pa,U=0;4>U;++U){for(Y=0;8>Y;++Y)for(K=0;3>K;++K)for(ne=0;11>ne;++ne)le=se(ee,HQ[U][Y][K][ne])?S(ee,8):RQ[U][Y][K][ne],te.Wc[U][Y].Yb[K][ne]=le;for(Y=0;17>Y;++Y)te.Xc[U][Y]=te.Wc[U][zQ[Y]]}return g.kc=Ae(ee),g.kc&&(g.Bd=S(ee,8)),g.cb=1}function Kg(g,w,U,K,Y,ee,te){var ne=w[Y].Yb[U];for(U=0;16>Y;++Y){if(!se(g,ne[U+0]))return Y;for(;!se(g,ne[U+1]);)if(ne=w[++Y].Yb[0],U=0,Y==16)return 16;var ae=w[Y+1].Yb;if(se(g,ne[U+2])){var le=g,xe=0;if(se(le,(Se=ne)[(ke=U)+3]))if(se(le,Se[ke+6])){for(ne=0,ke=2*(xe=se(le,Se[ke+8]))+(Se=se(le,Se[ke+9+xe])),xe=0,Se=QQ[ke];Se[ne];++ne)xe+=xe+se(le,Se[ne]);xe+=3+(8<<ke)}else se(le,Se[ke+7])?(xe=7+2*se(le,165),xe+=se(le,145)):xe=5+se(le,159);else xe=se(le,Se[ke+4])?3+se(le,Se[ke+5]):2;ne=ae[2]}else xe=1,ne=ae[1];ae=te+MQ[Y],0>(le=g).b&&ie(le);var ke,Se=le.b,Ne=(ke=le.Ca>>1)-(le.I>>Se)>>31;--le.b,le.Ca+=Ne,le.Ca|=1,le.I-=(ke+1&Ne)<<Se,ee[ae]=((xe^Ne)-Ne)*K[(0<Y)+0]}return 16}function jf(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function Gb(g,w){if(g==null)return 0;if(w==null)return Tr(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!zg(g,w))return 0;if(t(g.cb),w.ac==null||w.ac(w)){w.ob&&(g.L=0);var U=xm[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=w.v-U>>4,g.zb=w.j-U>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=w.o+15+U>>4,g.Hb=w.va+15+U>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var K=g.ed;for(U=0;4>U;++U){var Y;if(g.Qa.Cb){var ee=g.Qa.Lb[U];g.Qa.Fb||(ee+=K.Tb)}else ee=K.Tb;for(Y=0;1>=Y;++Y){var te=g.gd[U][Y],ne=ee;if(K.Pc&&(ne+=K.vd[0],Y&&(ne+=K.od[0])),0<(ne=0>ne?0:63<ne?63:ne)){var ae=ne;0<K.wb&&(ae=4<K.wb?ae>>2:ae>>1)>9-K.wb&&(ae=9-K.wb),1>ae&&(ae=1),te.dd=ae,te.tc=2*ne+ae,te.ld=40<=ne?2:15<=ne?1:0}else te.tc=0;te.La=Y}}}U=0}else Tr(g,6,"Frame setup failed"),U=g.a;if(U=U==0){if(U){g.$c=0,0<g.Aa||(g.Ic=n3);e:{U=g.Ic,K=4*(ae=g.za);var le=32*ae,xe=ae+1,ke=0<g.L?ae*(0<g.Aa?2:1):0,Se=(g.Aa==2?2:1)*ae;if((te=K+832+(Y=3*(16*U+xm[g.L])/2*le)+(ee=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=te)U=0;else{if(te>g.Vb){if(g.Vb=0,g.Ec=i(te),g.Fc=0,g.Ec==null){U=Tr(g,1,"no memory during frame initialization.");break e}g.Vb=te}te=g.Ec,ne=g.Fc,g.Ac=te,g.Bc=ne,ne+=K,g.Gd=o(le,$g),g.Hd=0,g.rb=o(xe+1,Rg),g.sb=1,g.wa=ke?o(ke,QA):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ae),t(!0),g.oc=te,g.pc=ne,ne+=832,g.ya=o(Se,wf),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ae),g.R=16*ae,g.B=8*ae,ae=(le=xm[g.L])*g.R,le=le/2*g.B,g.sa=te,g.ta=ne+ae,g.qa=g.sa,g.ra=g.ta+16*U*g.R+le,g.Ha=g.qa,g.Ia=g.ra+8*U*g.B+le,g.$c=0,ne+=Y,g.mb=ee?te:null,g.nb=ee?ne:null,t(ne+ee<=g.Fc+g.Vb),jf(g),s(g.Ac,g.Bc,0,K),U=1}}if(U){if(w.ka=0,w.y=g.sa,w.O=g.ta,w.f=g.qa,w.N=g.ra,w.ea=g.Ha,w.Vd=g.Ia,w.fa=g.R,w.Rc=g.B,w.F=null,w.J=0,!Am){for(U=-255;255>=U;++U)rn[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)no[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)Kf[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)su[255+U]=0>U?0:255<U?255:U;Am=1}tu=Jb,ro=Wb,$f=Gg,Yn=qb,Zs=Wg,Lr=Vg,ru=_f,cm=bc,Hf=c1,Nc=Ef,Bc=l1,rl=VA,Cc=Ff,nu=nm,kc=rm,nl=mi,zf=Zi,ea=o1,Ta[0]=gi,Ta[1]=Xb,Ta[2]=t1,Ta[3]=r1,Ta[4]=Xg,Ta[5]=zA,Ta[6]=Yg,Ta[7]=Cf,Ta[8]=s1,Ta[9]=n1,sl[0]=qg,sl[1]=Zb,sl[2]=Yi,sl[3]=$A,sl[4]=Tn,sl[5]=e1,sl[6]=Jg,so[0]=Xo,so[1]=Yb,so[2]=a1,so[3]=kf,so[4]=yc,so[5]=i1,so[6]=Sf,U=1}else U=0}U&&(U=function(Ne,Le){for(Ne.M=0;Ne.M<Ne.Va;++Ne.M){var Ee,ye=Ne.Jc[Ne.M&Ne.Xb],je=Ne.m,Oe=Ne;for(Ee=0;Ee<Oe.za;++Ee){var Ue=je,Te=Oe,Ye=Te.Ac,Ke=Te.Bc+4*Ee,lt=Te.zc,We=Te.ya[Te.aa+Ee];if(Te.Qa.Bb?We.$b=se(Ue,Te.Pa.jb[0])?2+se(Ue,Te.Pa.jb[2]):se(Ue,Te.Pa.jb[1]):We.$b=0,Te.kc&&(We.Ad=se(Ue,Te.Bd)),We.Za=!se(Ue,145)+0,We.Za){var Dt=We.Ob,Kt=0;for(Te=0;4>Te;++Te){var Tt,Et=lt[0+Te];for(Tt=0;4>Tt;++Tt){Et=$Q[Ye[Ke+Tt]][Et];for(var tr=uk[se(Ue,Et[0])];0<tr;)tr=uk[2*tr+se(Ue,Et[tr])];Et=-tr,Ye[Ke+Tt]=Et}n(Dt,Kt,Ye,Ke,4),Kt+=4,lt[0+Te]=Et}}else Et=se(Ue,156)?se(Ue,128)?1:3:se(Ue,163)?2:0,We.Ob[0]=Et,s(Ye,Ke,Et,4),s(lt,0,Et,4);We.Dd=se(Ue,142)?se(Ue,114)?se(Ue,183)?1:3:2:0}if(Oe.m.Ka)return Tr(Ne,7,"Premature end-of-partition0 encountered.");for(;Ne.ja<Ne.za;++Ne.ja){if(Oe=ye,Ue=(je=Ne).rb[je.sb-1],Ye=je.rb[je.sb+je.ja],Ee=je.ya[je.aa+je.ja],Ke=je.kc?Ee.Ad:0)Ue.la=Ye.la=0,Ee.Za||(Ue.Na=Ye.Na=0),Ee.Hc=0,Ee.Gc=0,Ee.ia=0;else{var Jt,bt;if(Ue=Ye,Ye=Oe,Ke=je.Pa.Xc,lt=je.ya[je.aa+je.ja],We=je.pb[lt.$b],Te=lt.ad,Dt=0,Kt=je.rb[je.sb-1],Et=Tt=0,s(Te,Dt,0,384),lt.Za)var Gr=0,gs=Ke[3];else{tr=i(16);var Wr=Ue.Na+Kt.Na;if(Wr=Vf(Ye,Ke[1],Wr,We.Eb,0,tr,0),Ue.Na=Kt.Na=(0<Wr)+0,1<Wr)tu(tr,0,Te,Dt);else{var ms=tr[0]+3>>3;for(tr=0;256>tr;tr+=16)Te[Dt+tr]=ms}Gr=1,gs=Ke[0]}var Vt=15&Ue.la,Ts=15&Kt.la;for(tr=0;4>tr;++tr){var Ls=1&Ts;for(ms=bt=0;4>ms;++ms)Vt=Vt>>1|(Ls=(Wr=Vf(Ye,gs,Wr=Ls+(1&Vt),We.Sc,Gr,Te,Dt))>Gr)<<7,bt=bt<<2|(3<Wr?3:1<Wr?2:Te[Dt+0]!=0),Dt+=16;Vt>>=4,Ts=Ts>>1|Ls<<7,Tt=(Tt<<8|bt)>>>0}for(gs=Vt,Gr=Ts>>4,Jt=0;4>Jt;Jt+=2){for(bt=0,Vt=Ue.la>>4+Jt,Ts=Kt.la>>4+Jt,tr=0;2>tr;++tr){for(Ls=1&Ts,ms=0;2>ms;++ms)Wr=Ls+(1&Vt),Vt=Vt>>1|(Ls=0<(Wr=Vf(Ye,Ke[2],Wr,We.Qc,0,Te,Dt)))<<3,bt=bt<<2|(3<Wr?3:1<Wr?2:Te[Dt+0]!=0),Dt+=16;Vt>>=2,Ts=Ts>>1|Ls<<5}Et|=bt<<4*Jt,gs|=Vt<<4<<Jt,Gr|=(240&Ts)<<Jt}Ue.la=gs,Kt.la=Gr,lt.Hc=Tt,lt.Gc=Et,lt.ia=43690&Et?0:We.ia,Ke=!(Tt|Et)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[Ee.$b][Ee.Za],je.wa[je.Y+je.ja].La|=!Ke),Oe.Ka)return Tr(Ne,7,"Premature end-of-file encountered.")}if(jf(Ne),je=Le,Oe=1,Ee=(ye=Ne).D,Ue=0<ye.L&&ye.M>=ye.zb&&ye.M<=ye.Va,ye.Aa==0)e:{if(Ee.M=ye.M,Ee.uc=Ue,Uf(ye,Ee),Oe=1,Ee=(bt=ye.D).Nb,Ue=(Et=xm[ye.L])*ye.R,Ye=Et/2*ye.B,tr=16*Ee*ye.R,ms=8*Ee*ye.B,Ke=ye.sa,lt=ye.ta-Ue+tr,We=ye.qa,Te=ye.ra-Ye+ms,Dt=ye.Ha,Kt=ye.Ia-Ye+ms,Ts=(Vt=bt.M)==0,Tt=Vt>=ye.Va-1,ye.Aa==2&&Uf(ye,bt),bt.uc)for(Ls=(Wr=ye).D.M,t(Wr.D.uc),bt=Wr.yb;bt<Wr.Hb;++bt){Gr=bt,gs=Ls;var dn=(Cn=(_r=Wr).D).Nb;Jt=_r.R;var Cn=Cn.wa[Cn.Y+Gr],Zn=_r.sa,sa=_r.ta+16*dn*Jt+16*Gr,xi=Cn.dd,fn=Cn.tc;if(fn!=0)if(t(3<=fn),_r.L==1)0<Gr&&nl(Zn,sa,Jt,fn+4),Cn.La&&ea(Zn,sa,Jt,fn),0<gs&&kc(Zn,sa,Jt,fn+4),Cn.La&&zf(Zn,sa,Jt,fn);else{var ao=_r.B,Sc=_r.qa,au=_r.ra+8*dn*ao+8*Gr,il=_r.Ha,_r=_r.Ia+8*dn*ao+8*Gr;dn=Cn.ld,0<Gr&&(cm(Zn,sa,Jt,fn+4,xi,dn),Nc(Sc,au,il,_r,ao,fn+4,xi,dn)),Cn.La&&(rl(Zn,sa,Jt,fn,xi,dn),nu(Sc,au,il,_r,ao,fn,xi,dn)),0<gs&&(ru(Zn,sa,Jt,fn+4,xi,dn),Hf(Sc,au,il,_r,ao,fn+4,xi,dn)),Cn.La&&(Bc(Zn,sa,Jt,fn,xi,dn),Cc(Sc,au,il,_r,ao,fn,xi,dn))}}if(ye.ia&&alert("todo:DitherRow"),je.put!=null){if(bt=16*Vt,Vt=16*(Vt+1),Ts?(je.y=ye.sa,je.O=ye.ta+tr,je.f=ye.qa,je.N=ye.ra+ms,je.ea=ye.Ha,je.W=ye.Ia+ms):(bt-=Et,je.y=Ke,je.O=lt,je.f=We,je.N=Te,je.ea=Dt,je.W=Kt),Tt||(Vt-=Et),Vt>je.o&&(Vt=je.o),je.F=null,je.J=null,ye.Fa!=null&&0<ye.Fa.length&&bt<Vt&&(je.J=Tf(ye,je,bt,Vt-bt),je.F=ye.mb,je.F==null&&je.F.length==0)){Oe=Tr(ye,3,"Could not decode alpha data.");break e}bt<je.j&&(Et=je.j-bt,bt=je.j,t(!(1&Et)),je.O+=ye.R*Et,je.N+=ye.B*(Et>>1),je.W+=ye.B*(Et>>1),je.F!=null&&(je.J+=je.width*Et)),bt<Vt&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=bt-je.j,je.U=je.va-je.v,je.T=Vt-bt,Oe=je.put(je))}Ee+1!=ye.Ic||Tt||(n(ye.sa,ye.ta-Ue,Ke,lt+16*ye.R,Ue),n(ye.qa,ye.ra-Ye,We,Te+8*ye.B,Ye),n(ye.Ha,ye.Ia-Ye,Dt,Kt+8*ye.B,Ye))}if(!Oe)return Tr(Ne,6,"Output aborted.")}return 1}(g,w)),w.bc!=null&&w.bc(w),U&=1}return U?(g.cb=0,U):0}function Pa(g,w,U,K,Y){Y=g[w+U+32*K]+(Y>>3),g[w+U+32*K]=-256&Y?0>Y?0:255:Y}function RA(g,w,U,K,Y,ee){Pa(g,w,0,U,K+Y),Pa(g,w,1,U,K+ee),Pa(g,w,2,U,K-ee),Pa(g,w,3,U,K-Y)}function fs(g){return(20091*g>>16)+g}function Nf(g,w,U,K){var Y,ee=0,te=i(16);for(Y=0;4>Y;++Y){var ne=g[w+0]+g[w+8],ae=g[w+0]-g[w+8],le=(35468*g[w+4]>>16)-fs(g[w+12]),xe=fs(g[w+4])+(35468*g[w+12]>>16);te[ee+0]=ne+xe,te[ee+1]=ae+le,te[ee+2]=ae-le,te[ee+3]=ne-xe,ee+=4,w++}for(Y=ee=0;4>Y;++Y)ne=(g=te[ee+0]+4)+te[ee+8],ae=g-te[ee+8],le=(35468*te[ee+4]>>16)-fs(te[ee+12]),Pa(U,K,0,0,ne+(xe=fs(te[ee+4])+(35468*te[ee+12]>>16))),Pa(U,K,1,0,ae+le),Pa(U,K,2,0,ae-le),Pa(U,K,3,0,ne-xe),ee++,K+=32}function Vg(g,w,U,K){var Y=g[w+0]+4,ee=35468*g[w+4]>>16,te=fs(g[w+4]),ne=35468*g[w+1]>>16;RA(U,K,0,Y+te,g=fs(g[w+1]),ne),RA(U,K,1,Y+ee,g,ne),RA(U,K,2,Y-ee,g,ne),RA(U,K,3,Y-te,g,ne)}function Wb(g,w,U,K,Y){Nf(g,w,U,K),Y&&Nf(g,w+16,U,K+4)}function Gg(g,w,U,K){ro(g,w+0,U,K,1),ro(g,w+32,U,K+128,1)}function qb(g,w,U,K){var Y;for(g=g[w+0]+4,Y=0;4>Y;++Y)for(w=0;4>w;++w)Pa(U,K,w,Y,g)}function Wg(g,w,U,K){g[w+0]&&Yn(g,w+0,U,K),g[w+16]&&Yn(g,w+16,U,K+4),g[w+32]&&Yn(g,w+32,U,K+128),g[w+48]&&Yn(g,w+48,U,K+128+4)}function Jb(g,w,U,K){var Y,ee=i(16);for(Y=0;4>Y;++Y){var te=g[w+0+Y]+g[w+12+Y],ne=g[w+4+Y]+g[w+8+Y],ae=g[w+4+Y]-g[w+8+Y],le=g[w+0+Y]-g[w+12+Y];ee[0+Y]=te+ne,ee[8+Y]=te-ne,ee[4+Y]=le+ae,ee[12+Y]=le-ae}for(Y=0;4>Y;++Y)te=(g=ee[0+4*Y]+3)+ee[3+4*Y],ne=ee[1+4*Y]+ee[2+4*Y],ae=ee[1+4*Y]-ee[2+4*Y],le=g-ee[3+4*Y],U[K+0]=te+ne>>3,U[K+16]=le+ae>>3,U[K+32]=te-ne>>3,U[K+48]=le-ae>>3,K+=64}function Bf(g,w,U){var K,Y=w-32,ee=Os,te=255-g[Y-1];for(K=0;K<U;++K){var ne,ae=ee,le=te+g[w-1];for(ne=0;ne<U;++ne)g[w+ne]=ae[le+g[Y+ne]];w+=32}}function Xb(g,w){Bf(g,w,4)}function Yb(g,w){Bf(g,w,8)}function Zb(g,w){Bf(g,w,16)}function Yi(g,w){var U;for(U=0;16>U;++U)n(g,w+32*U,g,w-32,16)}function $A(g,w){var U;for(U=16;0<U;--U)s(g,w,g[w-1],16),w+=32}function HA(g,w,U){var K;for(K=0;16>K;++K)s(w,U+32*K,g,16)}function qg(g,w){var U,K=16;for(U=0;16>U;++U)K+=g[w-1+32*U]+g[w+U-32];HA(K>>5,g,w)}function Tn(g,w){var U,K=8;for(U=0;16>U;++U)K+=g[w-1+32*U];HA(K>>4,g,w)}function e1(g,w){var U,K=8;for(U=0;16>U;++U)K+=g[w+U-32];HA(K>>4,g,w)}function Jg(g,w){HA(128,g,w)}function pt(g,w,U){return g+2*w+U+2>>2}function t1(g,w){var U,K=w-32;for(K=new Uint8Array([pt(g[K-1],g[K+0],g[K+1]),pt(g[K+0],g[K+1],g[K+2]),pt(g[K+1],g[K+2],g[K+3]),pt(g[K+2],g[K+3],g[K+4])]),U=0;4>U;++U)n(g,w+32*U,K,0,K.length)}function r1(g,w){var U=g[w-1],K=g[w-1+32],Y=g[w-1+64],ee=g[w-1+96];we(g,w+0,16843009*pt(g[w-1-32],U,K)),we(g,w+32,16843009*pt(U,K,Y)),we(g,w+64,16843009*pt(K,Y,ee)),we(g,w+96,16843009*pt(Y,ee,ee))}function gi(g,w){var U,K=4;for(U=0;4>U;++U)K+=g[w+U-32]+g[w-1+32*U];for(K>>=3,U=0;4>U;++U)s(g,w+32*U,K,4)}function Xg(g,w){var U=g[w-1+0],K=g[w-1+32],Y=g[w-1+64],ee=g[w-1-32],te=g[w+0-32],ne=g[w+1-32],ae=g[w+2-32],le=g[w+3-32];g[w+0+96]=pt(K,Y,g[w-1+96]),g[w+1+96]=g[w+0+64]=pt(U,K,Y),g[w+2+96]=g[w+1+64]=g[w+0+32]=pt(ee,U,K),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=pt(te,ee,U),g[w+3+64]=g[w+2+32]=g[w+1+0]=pt(ne,te,ee),g[w+3+32]=g[w+2+0]=pt(ae,ne,te),g[w+3+0]=pt(le,ae,ne)}function Yg(g,w){var U=g[w+1-32],K=g[w+2-32],Y=g[w+3-32],ee=g[w+4-32],te=g[w+5-32],ne=g[w+6-32],ae=g[w+7-32];g[w+0+0]=pt(g[w+0-32],U,K),g[w+1+0]=g[w+0+32]=pt(U,K,Y),g[w+2+0]=g[w+1+32]=g[w+0+64]=pt(K,Y,ee),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=pt(Y,ee,te),g[w+3+32]=g[w+2+64]=g[w+1+96]=pt(ee,te,ne),g[w+3+64]=g[w+2+96]=pt(te,ne,ae),g[w+3+96]=pt(ne,ae,ae)}function zA(g,w){var U=g[w-1+0],K=g[w-1+32],Y=g[w-1+64],ee=g[w-1-32],te=g[w+0-32],ne=g[w+1-32],ae=g[w+2-32],le=g[w+3-32];g[w+0+0]=g[w+1+64]=ee+te+1>>1,g[w+1+0]=g[w+2+64]=te+ne+1>>1,g[w+2+0]=g[w+3+64]=ne+ae+1>>1,g[w+3+0]=ae+le+1>>1,g[w+0+96]=pt(Y,K,U),g[w+0+64]=pt(K,U,ee),g[w+0+32]=g[w+1+96]=pt(U,ee,te),g[w+1+32]=g[w+2+96]=pt(ee,te,ne),g[w+2+32]=g[w+3+96]=pt(te,ne,ae),g[w+3+32]=pt(ne,ae,le)}function Cf(g,w){var U=g[w+0-32],K=g[w+1-32],Y=g[w+2-32],ee=g[w+3-32],te=g[w+4-32],ne=g[w+5-32],ae=g[w+6-32],le=g[w+7-32];g[w+0+0]=U+K+1>>1,g[w+1+0]=g[w+0+64]=K+Y+1>>1,g[w+2+0]=g[w+1+64]=Y+ee+1>>1,g[w+3+0]=g[w+2+64]=ee+te+1>>1,g[w+0+32]=pt(U,K,Y),g[w+1+32]=g[w+0+96]=pt(K,Y,ee),g[w+2+32]=g[w+1+96]=pt(Y,ee,te),g[w+3+32]=g[w+2+96]=pt(ee,te,ne),g[w+3+64]=pt(te,ne,ae),g[w+3+96]=pt(ne,ae,le)}function n1(g,w){var U=g[w-1+0],K=g[w-1+32],Y=g[w-1+64],ee=g[w-1+96];g[w+0+0]=U+K+1>>1,g[w+2+0]=g[w+0+32]=K+Y+1>>1,g[w+2+32]=g[w+0+64]=Y+ee+1>>1,g[w+1+0]=pt(U,K,Y),g[w+3+0]=g[w+1+32]=pt(K,Y,ee),g[w+3+32]=g[w+1+64]=pt(Y,ee,ee),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=ee}function s1(g,w){var U=g[w-1+0],K=g[w-1+32],Y=g[w-1+64],ee=g[w-1+96],te=g[w-1-32],ne=g[w+0-32],ae=g[w+1-32],le=g[w+2-32];g[w+0+0]=g[w+2+32]=U+te+1>>1,g[w+0+32]=g[w+2+64]=K+U+1>>1,g[w+0+64]=g[w+2+96]=Y+K+1>>1,g[w+0+96]=ee+Y+1>>1,g[w+3+0]=pt(ne,ae,le),g[w+2+0]=pt(te,ne,ae),g[w+1+0]=g[w+3+32]=pt(U,te,ne),g[w+1+32]=g[w+3+64]=pt(K,U,te),g[w+1+64]=g[w+3+96]=pt(Y,K,U),g[w+1+96]=pt(ee,Y,K)}function a1(g,w){var U;for(U=0;8>U;++U)n(g,w+32*U,g,w-32,8)}function kf(g,w){var U;for(U=0;8>U;++U)s(g,w,g[w-1],8),w+=32}function xc(g,w,U){var K;for(K=0;8>K;++K)s(w,U+32*K,g,8)}function Xo(g,w){var U,K=8;for(U=0;8>U;++U)K+=g[w+U-32]+g[w-1+32*U];xc(K>>4,g,w)}function i1(g,w){var U,K=4;for(U=0;8>U;++U)K+=g[w+U-32];xc(K>>3,g,w)}function yc(g,w){var U,K=4;for(U=0;8>U;++U)K+=g[w-1+32*U];xc(K>>3,g,w)}function Sf(g,w){xc(128,g,w)}function KA(g,w,U){var K=g[w-U],Y=g[w+0],ee=3*(Y-K)+d1[1020+g[w-2*U]-g[w+U]],te=um[112+(ee+4>>3)];g[w-U]=Os[255+K+um[112+(ee+3>>3)]],g[w+0]=Os[255+Y-te]}function Zg(g,w,U,K){var Y=g[w+0],ee=g[w+U];return ra[255+g[w-2*U]-g[w-U]]>K||ra[255+ee-Y]>K}function em(g,w,U,K){return 4*ra[255+g[w-U]-g[w+0]]+ra[255+g[w-2*U]-g[w+U]]<=K}function tm(g,w,U,K,Y){var ee=g[w-3*U],te=g[w-2*U],ne=g[w-U],ae=g[w+0],le=g[w+U],xe=g[w+2*U],ke=g[w+3*U];return 4*ra[255+ne-ae]+ra[255+te-le]>K?0:ra[255+g[w-4*U]-ee]<=Y&&ra[255+ee-te]<=Y&&ra[255+te-ne]<=Y&&ra[255+ke-xe]<=Y&&ra[255+xe-le]<=Y&&ra[255+le-ae]<=Y}function rm(g,w,U,K){var Y=2*K+1;for(K=0;16>K;++K)em(g,w+K,U,Y)&&KA(g,w+K,U)}function mi(g,w,U,K){var Y=2*K+1;for(K=0;16>K;++K)em(g,w+K*U,1,Y)&&KA(g,w+K*U,1)}function Zi(g,w,U,K){var Y;for(Y=3;0<Y;--Y)rm(g,w+=4*U,U,K)}function o1(g,w,U,K){var Y;for(Y=3;0<Y;--Y)mi(g,w+=4,U,K)}function Yo(g,w,U,K,Y,ee,te,ne){for(ee=2*ee+1;0<Y--;){if(tm(g,w,U,ee,te))if(Zg(g,w,U,ne))KA(g,w,U);else{var ae=g,le=w,xe=U,ke=ae[le-2*xe],Se=ae[le-xe],Ne=ae[le+0],Le=ae[le+xe],Ee=ae[le+2*xe],ye=27*(Oe=d1[1020+3*(Ne-Se)+d1[1020+ke-Le]])+63>>7,je=18*Oe+63>>7,Oe=9*Oe+63>>7;ae[le-3*xe]=Os[255+ae[le-3*xe]+Oe],ae[le-2*xe]=Os[255+ke+je],ae[le-xe]=Os[255+Se+ye],ae[le+0]=Os[255+Ne-ye],ae[le+xe]=Os[255+Le-je],ae[le+2*xe]=Os[255+Ee-Oe]}w+=K}}function Ia(g,w,U,K,Y,ee,te,ne){for(ee=2*ee+1;0<Y--;){if(tm(g,w,U,ee,te))if(Zg(g,w,U,ne))KA(g,w,U);else{var ae=g,le=w,xe=U,ke=ae[le-xe],Se=ae[le+0],Ne=ae[le+xe],Le=um[112+((Ee=3*(Se-ke))+4>>3)],Ee=um[112+(Ee+3>>3)],ye=Le+1>>1;ae[le-2*xe]=Os[255+ae[le-2*xe]+ye],ae[le-xe]=Os[255+ke+Ee],ae[le+0]=Os[255+Se-Le],ae[le+xe]=Os[255+Ne-ye]}w+=K}}function _f(g,w,U,K,Y,ee){Yo(g,w,U,1,16,K,Y,ee)}function bc(g,w,U,K,Y,ee){Yo(g,w,1,U,16,K,Y,ee)}function l1(g,w,U,K,Y,ee){var te;for(te=3;0<te;--te)Ia(g,w+=4*U,U,1,16,K,Y,ee)}function VA(g,w,U,K,Y,ee){var te;for(te=3;0<te;--te)Ia(g,w+=4,1,U,16,K,Y,ee)}function c1(g,w,U,K,Y,ee,te,ne){Yo(g,w,Y,1,8,ee,te,ne),Yo(U,K,Y,1,8,ee,te,ne)}function Ef(g,w,U,K,Y,ee,te,ne){Yo(g,w,1,Y,8,ee,te,ne),Yo(U,K,1,Y,8,ee,te,ne)}function Ff(g,w,U,K,Y,ee,te,ne){Ia(g,w+4*Y,Y,1,8,ee,te,ne),Ia(U,K+4*Y,Y,1,8,ee,te,ne)}function nm(g,w,U,K,Y,ee,te,ne){Ia(g,w+4,1,Y,8,ee,te,ne),Ia(U,K+4,1,Y,8,ee,te,ne)}function GA(){this.ba=new ka,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function If(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sm(){this.ua=0,this.Wa=new V,this.vb=new V,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new C}function A1(){this.xb=this.a=0,this.l=new MA,this.ca=new ka,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sm,this.ab=0,this.gc=o(4,If),this.Oc=0}function WA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new MA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wc(g,w,U,K,Y,ee,te){for(g=g==null?0:g[w+0],w=0;w<te;++w)Y[ee+w]=g+U[K+w]&255,g=Y[ee+w]}function Of(g,w,U,K,Y,ee,te){var ne;if(g==null)wc(null,null,U,K,Y,ee,te);else for(ne=0;ne<te;++ne)Y[ee+ne]=g[w+ne]+U[K+ne]&255}function Zo(g,w,U,K,Y,ee,te){if(g==null)wc(null,null,U,K,Y,ee,te);else{var ne,ae=g[w+0],le=ae,xe=ae;for(ne=0;ne<te;++ne)le=xe+(ae=g[w+ne])-le,xe=U[K+ne]+(-256&le?0>le?0:255:le)&255,le=ae,Y[ee+ne]=xe}}function Tf(g,w,U,K){var Y=w.width,ee=w.o;if(t(g!=null&&w!=null),0>U||0>=K||U+K>ee)return null;if(!g.Cc){if(g.ga==null){var te;if(g.ga=new WA,(te=g.ga==null)||(te=w.width*w.o,t(g.Gb.length==0),g.Gb=i(te),g.Uc=0,g.Gb==null?te=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,te=1),te=!te),!te){te=g.ga;var ne=g.Fa,ae=g.P,le=g.qc,xe=g.mb,ke=g.nb,Se=ae+1,Ne=le-1,Le=te.l;if(t(ne!=null&&xe!=null&&w!=null),al[0]=null,al[1]=wc,al[2]=Of,al[3]=Zo,te.ca=xe,te.tb=ke,te.c=w.width,te.i=w.height,t(0<te.c&&0<te.i),1>=le)w=0;else if(te.$a=ne[ae+0]>>0&3,te.Z=ne[ae+0]>>2&3,te.Lc=ne[ae+0]>>4&3,ae=ne[ae+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ae)w=0;else if(Le.put=ui,Le.ac=Nn,Le.bc=di,Le.ma=te,Le.width=w.width,Le.height=w.height,Le.Da=w.Da,Le.v=w.v,Le.va=w.va,Le.j=w.j,Le.o=w.o,te.$a)e:{t(te.$a==1),w=Xs();t:for(;;){if(w==null){w=0;break e}if(t(te!=null),te.mc=w,w.c=te.c,w.i=te.i,w.l=te.l,w.l.ma=te,w.l.width=te.c,w.l.height=te.i,w.a=0,R(w.m,ne,Se,Ne),!pi(te.c,te.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Xi(w.s)?(te.ic=1,ne=w.c*w.i,w.Ta=null,w.Ua=0,w.V=i(ne),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(te.ic=0,w=vc(w,te.c)),!w))break t;w=1;break e}te.mc=null,w=0}else w=Ne>=te.c*te.i;te=!w}if(te)return null;g.ga.Lc!=1?g.Ga=0:K=ee-U}t(g.ga!=null),t(U+K<=ee);e:{if(w=(ne=g.ga).c,ee=ne.l.o,ne.$a==0){if(Se=g.rc,Ne=g.Vc,Le=g.Fa,ae=g.P+1+U*w,le=g.mb,xe=g.nb+U*w,t(ae<=g.P+g.qc),ne.Z!=0)for(t(al[ne.Z]!=null),te=0;te<K;++te)al[ne.Z](Se,Ne,Le,ae,le,xe,w),Se=le,Ne=xe,xe+=w,ae+=w;else for(te=0;te<K;++te)n(le,xe,Le,ae,w),Se=le,Ne=xe,xe+=w,ae+=w;g.rc=Se,g.Vc=Ne}else{if(t(ne.mc!=null),w=U+K,t((te=ne.mc)!=null),t(w<=te.i),te.C>=w)w=1;else if(ne.ic||Be(),ne.ic){ne=te.V,Se=te.Ba,Ne=te.c;var Ee=te.i,ye=(Le=1,ae=te.$/Ne,le=te.$%Ne,xe=te.m,ke=te.s,te.$),je=Ne*Ee,Oe=Ne*w,Ue=ke.wc,Te=ye<Oe?Kr(ke,le,ae):null;t(ye<=je),t(w<=Ee),t(Xi(ke));t:for(;;){for(;!xe.h&&ye<Oe;){if(le&Ue||(Te=Kr(ke,le,ae)),t(Te!=null),J(xe),256>(Ee=ds(Te.G[0],Te.H[0],xe)))ne[Se+ye]=Ee,++ye,++le>=Ne&&(le=0,++ae<=w&&!(ae%16)&&Ea(te,ae));else{if(!(280>Ee)){Le=0;break t}Ee=Sa(Ee-256,xe);var Ye,Ke=ds(Te.G[4],Te.H[4],xe);if(J(xe),!(ye>=(Ke=fi(Ne,Ke=Sa(Ke,xe)))&&je-ye>=Ee)){Le=0;break t}for(Ye=0;Ye<Ee;++Ye)ne[Se+ye+Ye]=ne[Se+ye+Ye-Ke];for(ye+=Ee,le+=Ee;le>=Ne;)le-=Ne,++ae<=w&&!(ae%16)&&Ea(te,ae);ye<Oe&&le&Ue&&(Te=Kr(ke,le,ae))}t(xe.h==H(xe))}Ea(te,ae>w?w:ae);break t}!Le||xe.h&&ye<je?(Le=0,te.a=xe.h?5:3):te.$=ye,w=Le}else w=Fa(te,te.V,te.Ba,te.c,te.i,w,TA);if(!w){K=0;break e}}U+K>=ee&&(g.Cc=1),K=1}if(!K)return null;if(g.Cc&&((K=g.ga)!=null&&(K.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+U*Y}function F(g,w,U,K,Y,ee){for(;0<Y--;){var te,ne=g,ae=w+(U?1:0),le=g,xe=w+(U?0:3);for(te=0;te<K;++te){var ke=le[xe+4*te];ke!=255&&(ke*=32897,ne[ae+4*te+0]=ne[ae+4*te+0]*ke>>23,ne[ae+4*te+1]=ne[ae+4*te+1]*ke>>23,ne[ae+4*te+2]=ne[ae+4*te+2]*ke>>23)}w+=ee}}function Z(g,w,U,K,Y){for(;0<K--;){var ee;for(ee=0;ee<U;++ee){var te=g[w+2*ee+0],ne=15&(le=g[w+2*ee+1]),ae=4369*ne,le=(240&le|le>>4)*ae>>16;g[w+2*ee+0]=(240&te|te>>4)*ae>>16&240|(15&te|te<<4)*ae>>16>>4&15,g[w+2*ee+1]=240&le|ne}w+=Y}}function ce(g,w,U,K,Y,ee,te,ne){var ae,le,xe=255;for(le=0;le<Y;++le){for(ae=0;ae<K;++ae){var ke=g[w+ae];ee[te+4*ae]=ke,xe&=ke}w+=U,te+=ne}return xe!=255}function me(g,w,U,K,Y){var ee;for(ee=0;ee<Y;++ee)U[K+ee]=g[w+ee]>>8}function Be(){ta=F,sr=Z,ar=ce,Ur=me}function Pe(g,w,U){j[g]=function(K,Y,ee,te,ne,ae,le,xe,ke,Se,Ne,Le,Ee,ye,je,Oe,Ue){var Te,Ye=Ue-1>>1,Ke=ne[ae+0]|le[xe+0]<<16,lt=ke[Se+0]|Ne[Le+0]<<16;t(K!=null);var We=3*Ke+lt+131074>>2;for(w(K[Y+0],255&We,We>>16,Ee,ye),ee!=null&&(We=3*lt+Ke+131074>>2,w(ee[te+0],255&We,We>>16,je,Oe)),Te=1;Te<=Ye;++Te){var Dt=ne[ae+Te]|le[xe+Te]<<16,Kt=ke[Se+Te]|Ne[Le+Te]<<16,Tt=Ke+Dt+lt+Kt+524296,Et=Tt+2*(Dt+lt)>>3;We=Et+Ke>>1,Ke=(Tt=Tt+2*(Ke+Kt)>>3)+Dt>>1,w(K[Y+2*Te-1],255&We,We>>16,Ee,ye+(2*Te-1)*U),w(K[Y+2*Te-0],255&Ke,Ke>>16,Ee,ye+(2*Te-0)*U),ee!=null&&(We=Tt+lt>>1,Ke=Et+Kt>>1,w(ee[te+2*Te-1],255&We,We>>16,je,Oe+(2*Te-1)*U),w(ee[te+2*Te+0],255&Ke,Ke>>16,je,Oe+(2*Te+0)*U)),Ke=Dt,lt=Kt}1&Ue||(We=3*Ke+lt+131074>>2,w(K[Y+Ue-1],255&We,We>>16,Ee,ye+(Ue-1)*U),ee!=null&&(We=3*lt+Ke+131074>>2,w(ee[te+Ue-1],255&We,We>>16,je,Oe+(Ue-1)*U)))}}function De(){na[dm]=VQ,na[fm]=fk,na[lk]=GQ,na[hm]=hk,na[pm]=pk,na[f1]=gk,na[ck]=WQ,na[h1]=fk,na[p1]=hk,na[gm]=pk,na[g1]=gk}function Xe(g){return g&-16384?0>g?0:255:g>>qQ}function at(g,w){return Xe((19077*g>>8)+(26149*w>>8)-14234)}function yt(g,w,U){return Xe((19077*g>>8)-(6419*w>>8)-(13320*U>>8)+8708)}function vt(g,w){return Xe((19077*g>>8)+(33050*w>>8)-17685)}function It(g,w,U,K,Y){K[Y+0]=at(g,U),K[Y+1]=yt(g,w,U),K[Y+2]=vt(g,w)}function wr(g,w,U,K,Y){K[Y+0]=vt(g,w),K[Y+1]=yt(g,w,U),K[Y+2]=at(g,U)}function Sr(g,w,U,K,Y){var ee=yt(g,w,U);w=ee<<3&224|vt(g,w)>>3,K[Y+0]=248&at(g,U)|ee>>5,K[Y+1]=w}function Vr(g,w,U,K,Y){var ee=240&vt(g,w)|15;K[Y+0]=240&at(g,U)|yt(g,w,U)>>4,K[Y+1]=ee}function Ln(g,w,U,K,Y){K[Y+0]=255,It(g,w,U,K,Y+1)}function un(g,w,U,K,Y){wr(g,w,U,K,Y),K[Y+3]=255}function Oa(g,w,U,K,Y){It(g,w,U,K,Y),K[Y+3]=255}function Is(g,w){return 0>g?0:g>w?w:g}function vi(g,w,U){j[g]=function(K,Y,ee,te,ne,ae,le,xe,ke){for(var Se=xe+(-2&ke)*U;xe!=Se;)w(K[Y+0],ee[te+0],ne[ae+0],le,xe),w(K[Y+1],ee[te+0],ne[ae+0],le,xe+U),Y+=2,++te,++ae,xe+=2*U;1&ke&&w(K[Y+0],ee[te+0],ne[ae+0],le,xe)}}function am(g,w,U){return U==0?g==0?w==0?6:5:w==0?4:0:U}function Lf(g,w,U,K,Y){switch(g>>>30){case 3:ro(w,U,K,Y,0);break;case 2:Lr(w,U,K,Y);break;case 1:Yn(w,U,K,Y)}}function Uf(g,w){var U,K,Y=w.M,ee=w.Nb,te=g.oc,ne=g.pc+40,ae=g.oc,le=g.pc+584,xe=g.oc,ke=g.pc+600;for(U=0;16>U;++U)te[ne+32*U-1]=129;for(U=0;8>U;++U)ae[le+32*U-1]=129,xe[ke+32*U-1]=129;for(0<Y?te[ne-1-32]=ae[le-1-32]=xe[ke-1-32]=129:(s(te,ne-32-1,127,21),s(ae,le-32-1,127,9),s(xe,ke-32-1,127,9)),K=0;K<g.za;++K){var Se=w.ya[w.aa+K];if(0<K){for(U=-1;16>U;++U)n(te,ne+32*U-4,te,ne+32*U+12,4);for(U=-1;8>U;++U)n(ae,le+32*U-4,ae,le+32*U+4,4),n(xe,ke+32*U-4,xe,ke+32*U+4,4)}var Ne=g.Gd,Le=g.Hd+K,Ee=Se.ad,ye=Se.Hc;if(0<Y&&(n(te,ne-32,Ne[Le].y,0,16),n(ae,le-32,Ne[Le].f,0,8),n(xe,ke-32,Ne[Le].ea,0,8)),Se.Za){var je=te,Oe=ne-32+16;for(0<Y&&(K>=g.za-1?s(je,Oe,Ne[Le].y[15],4):n(je,Oe,Ne[Le+1].y,0,4)),U=0;4>U;U++)je[Oe+128+U]=je[Oe+256+U]=je[Oe+384+U]=je[Oe+0+U];for(U=0;16>U;++U,ye<<=2)je=te,Oe=ne+vk[U],Ta[Se.Ob[U]](je,Oe),Lf(ye,Ee,16*+U,je,Oe)}else if(je=am(K,Y,Se.Ob[0]),sl[je](te,ne),ye!=0)for(U=0;16>U;++U,ye<<=2)Lf(ye,Ee,16*+U,te,ne+vk[U]);for(U=Se.Gc,je=am(K,Y,Se.Dd),so[je](ae,le),so[je](xe,ke),ye=Ee,je=ae,Oe=le,255&(Se=U>>0)&&(170&Se?$f(ye,256,je,Oe):Zs(ye,256,je,Oe)),Se=xe,ye=ke,255&(U>>=8)&&(170&U?$f(Ee,320,Se,ye):Zs(Ee,320,Se,ye)),Y<g.Ub-1&&(n(Ne[Le].y,0,te,ne+480,16),n(Ne[Le].f,0,ae,le+224,8),n(Ne[Le].ea,0,xe,ke+224,8)),U=8*ee*g.B,Ne=g.sa,Le=g.ta+16*K+16*ee*g.R,Ee=g.qa,Se=g.ra+8*K+U,ye=g.Ha,je=g.Ia+8*K+U,U=0;16>U;++U)n(Ne,Le+U*g.R,te,ne+32*U,16);for(U=0;8>U;++U)n(Ee,Se+U*g.B,ae,le+32*U,8),n(ye,je+U*g.B,xe,ke+32*U,8)}}function qA(g,w,U,K,Y,ee,te,ne,ae){var le=[0],xe=[0],ke=0,Se=ae!=null?ae.kd:0,Ne=ae??new Pf;if(g==null||12>U)return 7;Ne.data=g,Ne.w=w,Ne.ha=U,w=[w],U=[U],Ne.gb=[Ne.gb];e:{var Le=w,Ee=U,ye=Ne.gb;if(t(g!=null),t(Ee!=null),t(ye!=null),ye[0]=0,12<=Ee[0]&&!r(g,Le[0],"RIFF")){if(r(g,Le[0]+8,"WEBP")){ye=3;break e}var je=pe(g,Le[0]+4);if(12>je||4294967286<je){ye=3;break e}if(Se&&je>Ee[0]-8){ye=7;break e}ye[0]=je,Le[0]+=12,Ee[0]-=12}ye=0}if(ye!=0)return ye;for(je=0<Ne.gb[0],U=U[0];;){e:{var Oe=g;Ee=w,ye=U;var Ue=le,Te=xe,Ye=Le=[0];if((We=ke=[ke])[0]=0,8>ye[0])ye=7;else{if(!r(Oe,Ee[0],"VP8X")){if(pe(Oe,Ee[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var Ke=pe(Oe,Ee[0]+8),lt=1+ve(Oe,Ee[0]+12);if(2147483648<=lt*(Oe=1+ve(Oe,Ee[0]+15))){ye=3;break e}Ye!=null&&(Ye[0]=Ke),Ue!=null&&(Ue[0]=lt),Te!=null&&(Te[0]=Oe),Ee[0]+=18,ye[0]-=18,We[0]=1}ye=0}}if(ke=ke[0],Le=Le[0],ye!=0)return ye;if(Ee=!!(2&Le),!je&&ke)return 3;if(ee!=null&&(ee[0]=!!(16&Le)),te!=null&&(te[0]=Ee),ne!=null&&(ne[0]=0),te=le[0],Le=xe[0],ke&&Ee&&ae==null){ye=0;break}if(4>U){ye=7;break}if(je&&ke||!je&&!ke&&!r(g,w[0],"ALPH")){U=[U],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{Ke=g,ye=w,je=U;var We=Ne.gb;Ue=Ne.na,Te=Ne.P,Ye=Ne.Sa,lt=22,t(Ke!=null),t(je!=null),Oe=ye[0];var Dt=je[0];for(t(Ue!=null),t(Ye!=null),Ue[0]=null,Te[0]=null,Ye[0]=0;;){if(ye[0]=Oe,je[0]=Dt,8>Dt){ye=7;break e}var Kt=pe(Ke,Oe+4);if(4294967286<Kt){ye=3;break e}var Tt=8+Kt+1&-2;if(lt+=Tt,0<We&&lt>We){ye=3;break e}if(!r(Ke,Oe,"VP8 ")||!r(Ke,Oe,"VP8L")){ye=0;break e}if(Dt[0]<Tt){ye=7;break e}r(Ke,Oe,"ALPH")||(Ue[0]=Ke,Te[0]=Oe+8,Ye[0]=Kt),Oe+=Tt,Dt-=Tt}}if(U=U[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],ye!=0)break}U=[U],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(We=g,ye=w,je=U,Ue=Ne.gb[0],Te=Ne.Ja,Ye=Ne.xa,Ke=ye[0],Oe=!r(We,Ke,"VP8 "),lt=!r(We,Ke,"VP8L"),t(We!=null),t(je!=null),t(Te!=null),t(Ye!=null),8>je[0])ye=7;else{if(Oe||lt){if(We=pe(We,Ke+4),12<=Ue&&We>Ue-12){ye=3;break e}if(Se&&We>je[0]-8){ye=7;break e}Te[0]=We,ye[0]+=8,je[0]-=8,Ye[0]=lt}else Ye[0]=5<=je[0]&&We[Ke+0]==47&&!(We[Ke+4]>>5),Te[0]=je[0];ye=0}if(U=U[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],w=w[0],ye!=0)break;if(4294967286<Ne.Ja)return 3;if(ne==null||Ee||(ne[0]=Ne.xa?2:1),te=[te],Le=[Le],Ne.xa){if(5>U){ye=7;break}ne=te,Se=Le,Ee=ee,g==null||5>U?g=0:5<=U&&g[w+0]==47&&!(g[w+4]>>5)?(je=[0],We=[0],Ue=[0],R(Te=new B,g,w,U),At(Te,je,We,Ue)?(ne!=null&&(ne[0]=je[0]),Se!=null&&(Se[0]=We[0]),Ee!=null&&(Ee[0]=Ue[0]),g=1):g=0):g=0}else{if(10>U){ye=7;break}ne=Le,g==null||10>U||!Hg(g,w+3,U-3)?g=0:(Se=g[w+0]|g[w+1]<<8|g[w+2]<<16,Ee=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Ne.Ja||!Ee||!g?g=0:(te&&(te[0]=Ee),ne&&(ne[0]=g),g=1))}if(!g||(te=te[0],Le=Le[0],ke&&(le[0]!=te||xe[0]!=Le)))return 3;ae!=null&&(ae[0]=Ne,ae.offset=w-ae.w,t(4294967286>w-ae.w),t(ae.offset==ae.ha-U));break}return ye==0||ye==7&&ke&&ae==null?(ee!=null&&(ee[0]|=Ne.na!=null&&0<Ne.na.length),K!=null&&(K[0]=te),Y!=null&&(Y[0]=Le),0):ye}function Df(g,w,U){var K=w.width,Y=w.height,ee=0,te=0,ne=K,ae=Y;if(w.Da=g!=null&&0<g.Da,w.Da&&(ne=g.cd,ae=g.bd,ee=g.v,te=g.j,11>U||(ee&=-2,te&=-2),0>ee||0>te||0>=ne||0>=ae||ee+ne>K||te+ae>Y))return 0;if(w.v=ee,w.j=te,w.va=ee+ne,w.o=te+ae,w.U=ne,w.T=ae,w.da=g!=null&&0<g.da,w.da){if(!re(ne,ae,U=[g.ib],ee=[g.hb]))return 0;w.ib=U[0],w.hb=ee[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*K/4&&w.hb<3*Y/4,w.Kb=0),1}function Qf(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function JA(g,w,U,K){if(K==null||0>=g||0>=w)return 2;if(U!=null){if(U.Da){var Y=U.cd,ee=U.bd,te=-2&U.v,ne=-2&U.j;if(0>te||0>ne||0>=Y||0>=ee||te+Y>g||ne+ee>w)return 2;g=Y,w=ee}if(U.da){if(!re(g,w,Y=[U.ib],ee=[U.hb]))return 2;g=Y[0],w=ee[0]}}K.width=g,K.height=w;e:{var ae=K.width,le=K.height;if(g=K.S,0>=ae||0>=le||!(g>=dm&&13>g))g=2;else{if(0>=K.Rd&&K.sd==null){te=ee=Y=w=0;var xe=(ne=ae*xk[g])*le;if(11>g||(ee=(le+1)/2*(w=(ae+1)/2),g==12&&(te=(Y=ae)*le)),(le=i(xe+2*ee+te))==null){g=1;break e}K.sd=le,11>g?((ae=K.f.RGBA).eb=le,ae.fb=0,ae.A=ne,ae.size=xe):((ae=K.f.kb).y=le,ae.O=0,ae.fa=ne,ae.Fd=xe,ae.f=le,ae.N=0+xe,ae.Ab=w,ae.Cd=ee,ae.ea=le,ae.W=0+xe+ee,ae.Db=w,ae.Ed=ee,g==12&&(ae.F=le,ae.J=0+xe+2*ee),ae.Tc=te,ae.lb=Y)}if(w=1,Y=K.S,ee=K.width,te=K.height,Y>=dm&&13>Y)if(11>Y)g=K.f.RGBA,w&=(ne=Math.abs(g.A))*(te-1)+ee<=g.size,w&=ne>=ee*xk[Y],w&=g.eb!=null;else{g=K.f.kb,ne=(ee+1)/2,xe=(te+1)/2,ae=Math.abs(g.fa),le=Math.abs(g.Ab);var ke=Math.abs(g.Db),Se=Math.abs(g.lb),Ne=Se*(te-1)+ee;w&=ae*(te-1)+ee<=g.Fd,w&=le*(xe-1)+ne<=g.Cd,w=(w&=ke*(xe-1)+ne<=g.Ed)&ae>=ee&le>=ne&ke>=ne,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,Y==12&&(w&=Se>=ee,w&=Ne<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||U!=null&&U.fd&&(g=Qf(K)),g}var Bn=64,XA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],YA=24,ZA=32,Mf=8,hs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(g){return g},j.Predictor2=function(g,w,U){return w[U+0]},j.Predictor3=function(g,w,U){return w[U+1]},j.Predictor4=function(g,w,U){return w[U-1]},j.Predictor5=function(g,w,U){return Fe(Fe(g,w[U+1]),w[U+0])},j.Predictor6=function(g,w,U){return Fe(g,w[U-1])},j.Predictor7=function(g,w,U){return Fe(g,w[U+0])},j.Predictor8=function(g,w,U){return Fe(w[U-1],w[U+0])},j.Predictor9=function(g,w,U){return Fe(w[U+0],w[U+1])},j.Predictor10=function(g,w,U){return Fe(Fe(g,w[U-1]),Fe(w[U+0],w[U+1]))},j.Predictor11=function(g,w,U){var K=w[U+0];return 0>=Ge(K>>24&255,g>>24&255,(w=w[U-1])>>24&255)+Ge(K>>16&255,g>>16&255,w>>16&255)+Ge(K>>8&255,g>>8&255,w>>8&255)+Ge(255&K,255&g,255&w)?K:g},j.Predictor12=function(g,w,U){var K=w[U+0];return(Re((g>>24&255)+(K>>24&255)-((w=w[U-1])>>24&255))<<24|Re((g>>16&255)+(K>>16&255)-(w>>16&255))<<16|Re((g>>8&255)+(K>>8&255)-(w>>8&255))<<8|Re((255&g)+(255&K)-(255&w)))>>>0},j.Predictor13=function(g,w,U){var K=w[U-1];return(Qe((g=Fe(g,w[U+0]))>>24&255,K>>24&255)<<24|Qe(g>>16&255,K>>16&255)<<16|Qe(g>>8&255,K>>8&255)<<8|Qe(g>>0&255,K>>0&255))>>>0};var u1=j.PredictorAdd0;j.PredictorAdd1=et,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Rf=j.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var im,Ys=j.ColorIndexInverseTransform,eu=j.MapARGB,om=j.VP8LColorIndexInverseTransformAlpha,lm=j.MapAlpha,el=j.VP8LPredictorsAdd=[];el.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var jc,ps,Xn,tl,eo,to,tu,ro,Lr,$f,Yn,Zs,ru,cm,Hf,Nc,Bc,rl,Cc,nu,kc,nl,zf,ea,ta,sr,ar,Ur,rn=i(511),no=i(2041),Kf=i(225),su=i(767),Am=0,d1=no,um=Kf,Os=su,ra=rn,dm=0,fm=1,lk=2,hm=3,pm=4,f1=5,ck=6,h1=7,p1=8,gm=9,g1=10,PQ=[2,3,7],IQ=[3,3,11],Ak=[280,256,256,256,40],OQ=[0,1,1,1,0],TQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],LQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],UQ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],DQ=8,m1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],v1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vf=null,QQ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],MQ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],uk=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],RQ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$Q=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],HQ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],zQ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sl=[],Ta=[],so=[],KQ=1,dk=2,al=[],na=[];Pe("UpsampleRgbLinePair",It,3),Pe("UpsampleBgrLinePair",wr,3),Pe("UpsampleRgbaLinePair",Oa,4),Pe("UpsampleBgraLinePair",un,4),Pe("UpsampleArgbLinePair",Ln,4),Pe("UpsampleRgba4444LinePair",Vr,2),Pe("UpsampleRgb565LinePair",Sr,2);var VQ=j.UpsampleRgbLinePair,GQ=j.UpsampleBgrLinePair,fk=j.UpsampleRgbaLinePair,hk=j.UpsampleBgraLinePair,pk=j.UpsampleArgbLinePair,gk=j.UpsampleRgba4444LinePair,WQ=j.UpsampleRgb565LinePair,mm=16,vm=1<<mm-1,Gf=-227,x1=482,qQ=6,mk=0,JQ=i(256),XQ=i(256),YQ=i(256),ZQ=i(256),e3=i(x1-Gf),t3=i(x1-Gf);vi("YuvToRgbRow",It,3),vi("YuvToBgrRow",wr,3),vi("YuvToRgbaRow",Oa,4),vi("YuvToBgraRow",un,4),vi("YuvToArgbRow",Ln,4),vi("YuvToRgba4444Row",Vr,2),vi("YuvToRgb565Row",Sr,2);var vk=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xm=[0,2,8],r3=[8,7,6,4,4,2,2,2,1,1,1,1],n3=1;this.WebPDecodeRGBA=function(g,w,U,K,Y){var ee=fm,te=new GA,ne=new ka;te.ba=ne,ne.S=ee,ne.width=[ne.width],ne.height=[ne.height];var ae=ne.width,le=ne.height,xe=new Ji;if(xe==null||g==null)var ke=2;else t(xe!=null),ke=qA(g,w,U,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(ke!=0?ae=0:(ae!=null&&(ae[0]=xe.width[0]),le!=null&&(le[0]=xe.height[0]),ae=1),ae){ne.width=ne.width[0],ne.height=ne.height[0],K!=null&&(K[0]=ne.width),Y!=null&&(Y[0]=ne.height);e:{if(K=new MA,(Y=new Pf).data=g,Y.w=w,Y.ha=U,Y.kd=1,w=[0],t(Y!=null),((g=qA(Y.data,Y.w,Y.ha,null,null,null,w,null,Y))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(t(te!=null),K.data=Y.data,K.w=Y.w+Y.offset,K.ha=Y.ha-Y.offset,K.put=ui,K.ac=Nn,K.bc=di,K.ma=te,Y.xa){if((g=Xs())==null){te=1;break e}if(function(Se,Ne){var Le=[0],Ee=[0],ye=[0];t:for(;;){if(Se==null)return 0;if(Ne==null)return Se.a=2,0;if(Se.l=Ne,Se.a=0,R(Se.m,Ne.data,Ne.w,Ne.ha),!At(Se.m,Le,Ee,ye)){Se.a=3;break t}if(Se.xb=dk,Ne.width=Le[0],Ne.height=Ee[0],!pi(Le[0],Ee[0],1,Se,null))break t;return 1}return t(Se.a!=0),0}(g,K)){if(K=(w=JA(K.width,K.height,te.Oa,te.ba))==0){t:{K=g;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((U=K.l)!=null),t((Y=U.ma)!=null),K.xb!=0){if(K.ca=Y.ba,K.tb=Y.tb,t(K.ca!=null),!Df(Y.Oa,U,hm)){K.a=2;break r}if(!vc(K,U.width)||U.da)break r;if((U.da||Rt(K.ca.S))&&Be(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Be()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!oe(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Fa(K,K.V,K.Ba,K.c,K.i,U.o,OA))break r;Y.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(w=g.a)}else w=g.a}else{if((g=new Vb)==null){te=1;break e}if(g.Fa=Y.na,g.P=Y.P,g.qc=Y.Sa,zg(g,K)){if((w=JA(K.width,K.height,te.Oa,te.ba))==0){if(g.Aa=0,U=te.Oa,t((Y=g)!=null),U!=null){if(0<(ae=0>(ae=U.Md)?0:100<ae?255:255*ae/100)){for(le=xe=0;4>le;++le)12>(ke=Y.pb[le]).lc&&(ke.ia=ae*r3[0>ke.lc?0:ke.lc]>>3),xe|=ke.ia;xe&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=U.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}Gb(g,K)||(w=g.a)}}else w=g.a}w==0&&te.Oa!=null&&te.Oa.fd&&(w=Qf(te.ba))}te=w}ee=te!=0?null:11>ee?ne.f.RGBA.eb:ne.f.kb.y}else ee=null;return ee};var xk=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(j,k){for(var z="",E=0;E<4;E++)z+=String.fromCharCode(j[k++]);return z}function u(j,k){return(j[k+0]<<0|j[k+1]<<8|j[k+2]<<16)>>>0}function d(j,k){return(j[k+0]<<0|j[k+1]<<8|j[k+2]<<16|j[k+3]<<24)>>>0}new l;var f=[0],h=[0],p=[],m=new l,x=e,v=function(j,k){var z={},E=0,C=!1,Q=0,L=0;if(z.frames=[],!function(I,H,G,J){for(var ie=0;ie<J;ie++)if(I[H+ie]!=G.charCodeAt(ie))return!0;return!1}(j,k,"RIFF",4)){for(d(j,k+=4),k+=8;k<j.length;){var D=A(j,k),S=d(j,k+=4);k+=4;var O=S+(1&S);switch(D){case"VP8 ":case"VP8L":z.frames[E]===void 0&&(z.frames[E]={}),(M=z.frames[E]).src_off=C?L:k-8,M.src_size=Q+S+8,E++,C&&(C=!1,Q=0,L=0);break;case"VP8X":(M=z.header={}).feature_flags=j[k];var R=k+4;M.canvas_width=1+u(j,R),R+=3,M.canvas_height=1+u(j,R),R+=3;break;case"ALPH":C=!0,Q=O+8,L=k-8;break;case"ANIM":(M=z.header).bgcolor=d(j,k),R=k+4,M.loop_count=(q=j)[(B=R)+0]<<0|q[B+1]<<8,R+=2;break;case"ANMF":var W,M;(M=z.frames[E]={}).offset_x=2*u(j,k),k+=3,M.offset_y=2*u(j,k),k+=3,M.width=1+u(j,k),k+=3,M.height=1+u(j,k),k+=3,M.duration=u(j,k),k+=3,W=j[k++],M.dispose=1&W,M.blend=W>>1&1}D!="ANMF"&&(k+=O)}var q,B;return z}}(x,0);v.response=x,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],h=[y.canvas_width];for(var _=0;_<b.length&&b[_].blend!=0;_++);}var N=b[0],P=m.WebPDecodeRGBA(x,N.src_off,N.src_size,h,f);N.rgba=P,N.imgwidth=h[0],N.imgheight=f[0];for(var T=0;T<h[0]*f[0]*4;T++)p[T]=P[T];return this.width=h,this.height=f,this.data=p,this}(function(e){var t=function(){return typeof Ij=="function"},r=function(f,h,p,m){var x=4,v=o;switch(m){case e.image_compression.FAST:x=1,v=i;break;case e.image_compression.MEDIUM:x=6,v=c;break;case e.image_compression.SLOW:x=9,v=l}f=n(f,h,p,v);var y=Ij(f,{level:x});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(f,h,p,m){for(var x,v,y,b=f.length/h,_=new Uint8Array(f.length+b),N=u(),P=0;P<b;P+=1){if(y=P*h,x=f.subarray(y,y+h),m)_.set(m(x,p,v),y+P);else{for(var T,j=N.length,k=[];T<j;T+=1)k[T]=N[T](x,p,v);var z=d(k.concat());_.set(k[z],y+P)}v=x}return _},s=function(f){var h=Array.apply([],f);return h.unshift(0),h},i=function(f,h){var p,m=[],x=f.length;m[0]=1;for(var v=0;v<x;v+=1)p=f[v-h]||0,m[v+1]=f[v]-p+256&255;return m},o=function(f,h,p){var m,x=[],v=f.length;x[0]=2;for(var y=0;y<v;y+=1)m=p&&p[y]||0,x[y+1]=f[y]-m+256&255;return x},c=function(f,h,p){var m,x,v=[],y=f.length;v[0]=3;for(var b=0;b<y;b+=1)m=f[b-h]||0,x=p&&p[b]||0,v[b+1]=f[b]+256-(m+x>>>1)&255;return v},l=function(f,h,p){var m,x,v,y,b=[],_=f.length;b[0]=4;for(var N=0;N<_;N+=1)m=f[N-h]||0,x=p&&p[N]||0,v=p&&p[N-h]||0,y=A(m,x,v),b[N+1]=f[N]-y+256&255;return b},A=function(f,h,p){if(f===h&&h===p)return f;var m=Math.abs(h-p),x=Math.abs(f-p),v=Math.abs(f+h-p-p);return m<=x&&m<=v?f:x<=v?h:p},u=function(){return[s,i,o,c,l]},d=function(f){var h=f.map(function(p){return p.reduce(function(m,x){return m+Math.abs(x)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(f,h,p,m){var x,v,y,b,_,N,P,T,j,k,z,E,C,Q,L,D=this.decode.FLATE_DECODE,S="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new AV(f)).imgData,v=y.bits,x=y.colorSpace,_=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){j=(T=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,z=new Uint8Array(j*y.colors),k=new Uint8Array(j);var O,R=y.pixelBitlength-y.bits;for(Q=0,L=0;Q<j;Q++){for(C=T[Q],O=0;O<R;)z[L++]=C>>>O&255,O+=y.bits;k[Q]=C>>>O&255}}if(y.bits===16){j=(T=new Uint32Array(y.decodePixels().buffer)).length,z=new Uint8Array(j*(32/y.pixelBitlength)*y.colors),k=new Uint8Array(j*(32/y.pixelBitlength)),E=y.colors>1,Q=0,L=0;for(var W=0;Q<j;)C=T[Q++],z[L++]=C>>>0&255,E&&(z[L++]=C>>>16&255,C=T[Q++],z[L++]=C>>>0&255),k[W++]=C>>>16&255;v=8}m!==e.image_compression.NONE&&t()?(f=r(z,y.width*y.colors,y.colors,m),P=r(k,y.width,1,m)):(f=z,P=k,D=void 0)}if(y.colorType===3&&(x=this.color_spaces.INDEXED,N=y.palette,y.transparency.indexed)){var M=y.transparency.indexed,q=0;for(Q=0,j=M.length;Q<j;++Q)q+=M[Q];if((q/=255)===j-1&&M.indexOf(0)!==-1)b=[M.indexOf(0)];else if(q!==j){for(T=y.decodePixels(),k=new Uint8Array(T.length),Q=0,j=T.length;Q<j;Q++)k[Q]=M[T[Q]];P=r(k,y.width,1)}}var B=function(I){var H;switch(I){case e.image_compression.FAST:H=11;break;case e.image_compression.MEDIUM:H=13;break;case e.image_compression.SLOW:H=14;break;default:H=12}return H}(m);return D===this.decode.FLATE_DECODE&&(S="/Predictor "+B+" "),S+="/Colors "+_+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:p,data:f,index:h,filter:D,decodeParameters:S,transparency:b,palette:N,sMask:P,predictor:B,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:x}}}})(it.API),function(e){e.processGIF89A=function(t,r,n,s){var i=new uV(t),o=i.width,c=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:o,height:c},u=new xw(100).encode(A,100);return e.processJPEG.call(this,u,r,n,s)},e.processGIF87A=e.processGIF89A}(it.API),Qa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){rr.log("bit decode error:"+r)}},Qa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var l=this.palette[i>>7-c&1];this.data[o+4*c]=l.blue,this.data[o+4*c+1]=l.green,this.data[o+4*c+2]=l.red,this.data[o+4*c+3]=255}r!==0&&(this.pos+=4-r)}},Qa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,c=i>>4,l=15&i,A=this.palette[c];if(this.data[o]=A.blue,this.data[o+1]=A.green,this.data[o+2]=A.red,this.data[o+3]=255,2*s+1>=this.width)break;A=this.palette[l],this.data[o+4]=A.blue,this.data[o+4+1]=A.green,this.data[o+4+2]=A.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Qa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Qa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,c=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,A=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=A}this.pos+=e}},Qa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,A=(o>>11)/t*255|0,u=s*this.width*4+4*i;this.data[u]=A,this.data[u+1]=l,this.data[u+2]=c,this.data[u+3]=255}this.pos+=e}},Qa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Qa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=i,this.data[c+1]=s,this.data[c+2]=n,this.data[c+3]=o}},Qa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new Qa(t,!1),o=i.width,c=i.height,l={data:i.getData(),width:o,height:c},A=new xw(100).encode(l,100);return e.processJPEG.call(this,A,r,n,s)}}(it.API),QS.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new QS(t),o=i.width,c=i.height,l={data:i.getData(),width:o,height:c},A=new xw(100).encode(l,100);return e.processJPEG.call(this,A,r,n,s)}}(it.API),it.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),c=0,l=0,A=0;A<s;A+=4){var u=n[A],d=n[A+1],f=n[A+2],h=n[A+3];i[c++]=u,i[c++]=d,i[c++]=f,o[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},it.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hu=it.API,t0=hu.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:s.metadata.Unicode.widths,l=c.fof?c.fof:1,A=t.kerning?t.kerning:s.metadata.Unicode.kerning,u=A.fof?A.fof:1,d=t.doKerning!==!1,f=0,h=e.length,p=0,m=c[0]||l,x=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(f=d&&Qt(A[n])==="object"&&!isNaN(parseInt(A[n][p],10))?A[n][p]/u:0,x.push((c[n]||m)/l+f)),p=n;return x},TS=hu.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return hu.processArabic&&(e=hu.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:t0.apply(this,arguments).reduce(function(i,o){return i+o},0)},LS=function(e,t,r,n){for(var s=[],i=0,o=e.length,c=0;i!==o&&c+t[i]<r;)c+=t[i],i++;s.push(e.slice(0,i));var l=i;for(c=0;i!==o;)c+t[i]>n&&(s.push(e.slice(l,i)),c=0,l=i),c+=t[i],i++;return l!==i&&s.push(e.slice(l,i)),s},US=function(e,t,r){r||(r={});var n,s,i,o,c,l,A,u=[],d=[u],f=r.textIndent||0,h=0,p=0,m=e.split(" "),x=t0.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),y=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(N,P){return(P&&N.length?`
`:"")+N})):y.push(_[0])}),m=y,l=TS.apply(this,[v,r])}for(i=0,o=m.length;i<o;i++){var b=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),b=1),f+h+(p=(s=t0.apply(this,[n,r])).reduce(function(_,N){return _+N},0))>t||b){if(p>t){for(c=LS.apply(this,[n,s,t-(f+h),t]),u.push(c.shift()),u=[c.pop()];c.length;)d.push([c.shift()]);p=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(_,N){return _+N},0)}else u=[n];d.push(u),f=p+l,h=x}else u.push(n),f+=h+p,h=x}return A=l?function(_,N){return(N?v:"")+_.join(" ")}:function(_){return _.join(" ")},d.map(A)},hu.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var c,l,A=[];for(c=0,l=n.length;c<l;c++)A=A.concat(US.apply(this,[n[c],o,i]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var f,h,p,m,x=["{"];for(var v in d){if(f=d[v],isNaN(parseInt(v,10))?h="'"+v+"'":(v=parseInt(v,10),h=(h=i(v).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof f=="number")f<0?(p=i(f).slice(3),m="-"):(p=i(f).slice(2),m=""),p=m+p.slice(0,-1)+n[p.slice(-1)];else{if(Qt(f)!=="object")throw new Error("Don't know what to do with value type "+Qt(f)+".");p=o(f)}x.push(h+p)}return x.push("}"),x.join("")},c=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,p,m,x={},v=1,y=x,b=[],_="",N="",P=d.length-1,T=1;T<P;T+=1)(m=d[T])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(m):m=="{"?(b.push([y,p]),y={},p=void 0):m=="}"?((h=b.pop())[0][h[1]]=y,p=void 0,y=h[0]):m=="-"?v=-1:p===void 0?r.hasOwnProperty(m)?(_+=r[m],p=parseInt(_,16)*v,v=1,_=""):_+=m:r.hasOwnProperty(m)?(N+=r[m],y[p]=parseInt(N,16)*v,v=1,p=void 0,N=""):N+=m;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var f=d.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var p=A.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(it.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(np(c)),o.metadata=e.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(it),function(e){function t(){return(dt.canvg?Promise.resolve(dt.canvg):Mi(()=>import("./index.es-DnvLOHNm.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}it.API.addSvgAsImage=function(r,n,s,i,o,c,l,A){if(isNaN(n)||isNaN(s))throw rr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw rr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(p){return p.fromString(d,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),n,s,i,o,l,A)})}}(),it.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},it.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),l=[],A=0,u=0,d=0;function f(p,m){var x,v=!1;for(x=0;x<p.length;x+=1)p[x]===m&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=c.length;for(d=0;d<h;d+=1)r[c[d]].value=r[c[d]].defaultValue,r[c[d]].explicitSet=!1}if(Qt(e)==="object"){for(s in e)if(i=e[s],f(c,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&f(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(A=0;A<i.length;A+=1)if(n=!0,i[A].length===1&&typeof i[A][0]=="number")l.push(String(i[A]-1));else if(i[A].length>1){for(u=0;u<i[A].length;u+=1)typeof i[A][u]!="number"&&(n=!1);n===!0&&l.push([i[A][0]-1,i[A][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?m.push("/"+p+" /"+r[p].value):m.push("/"+p+" "+r[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),A=i.length+o.length+c.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+c+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(it.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var c,l=o.metadata.Unicode.widths,A=["","0","00","000","0000"],u=[""],d=0,f=i.length;d<f;++d){if(c=o.metadata.characterToGlyph(i.charCodeAt(d)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=i.charCodeAt(d),l.indexOf(c)==-1&&(l.push(c),l.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return u.join("");c=c.toString(16),u.push(A[4-c.length],c)}return u.join("")},n=function(i){var o,c,l,A,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(c=Object.keys(i).sort(function(h,p){return h-p})).length;d<f;d++)o=c[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(A=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+A+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var c=o.font,l=o.out,A=o.newObject,u=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var d=c.metadata.Unicode.widths,f=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=A();u({data:h,addLength1:!0,objectId:m}),l("endobj");var x=A();u({data:n(c.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var v=A();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+_u(c.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),l("/Flags "+c.metadata.flags),l("/StemV "+c.metadata.stemV),l("/ItalicAngle "+c.metadata.italicAngle),l("/Ascent "+c.metadata.ascender),l("/Descent "+c.metadata.decender),l("/CapHeight "+c.metadata.capHeight),l(">>"),l("endobj");var y=A();l("<<"),l("/Type /Font"),l("/BaseFont /"+_u(c.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+c.encoding+")"),l(">>"),l(">>"),l("endobj"),c.objectNumber=A(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+_u(c.fontName)),l("/Encoding /"+c.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),c.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var c=o.font,l=o.out,A=o.newObject,u=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var d=c.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=A();u({data:f,addLength1:!0,objectId:p}),l("endobj");var m=A();u({data:n(c.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var x=A();l("<<"),l("/Descent "+c.metadata.decender),l("/CapHeight "+c.metadata.capHeight),l("/StemV "+c.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),l("/FontName /"+_u(c.fontName)),l("/ItalicAngle "+c.metadata.italicAngle),l("/Ascent "+c.metadata.ascender),l(">>"),l("endobj"),c.objectNumber=A();for(var v=0;v<c.metadata.hmtx.widths.length;v++)c.metadata.hmtx.widths[v]=parseInt(c.metadata.hmtx.widths[v]*(1e3/c.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+_u(c.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),l("endobj"),c.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,c=i.text||"",l=i.x,A=i.y,u=i.options||{},d=i.mutex||{},f=d.pdfEscape,h=d.activeFontKey,p=d.fonts,m=h,x="",v=0,y="",b=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:c,x:l,y:A,options:u,mutex:d};for(y=c,m=h,Array.isArray(c)&&(y=c[0]),v=0;v<y.length;v+=1)p[m].metadata.hasOwnProperty("cmap")&&(o=p[m].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),o||y[v].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?x+=y[v]:x+="";var _="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?_=f(x,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(_=r(x,p[m])),d.isHex=!0,{text:_,x:l,y:A,options:u,mutex:d}};t.events.push(["postProcessText",function(i){var o=i.text||"",c=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var A=0;for(A=0;A<o.length;A+=1)Array.isArray(o[A])&&o[A].length===3?c.push([s(Object.assign({},l,{text:o[A][0]})).text,o[A][1],o[A][2]]):c.push(s(Object.assign({},l,{text:o[A]})).text);i.text=c}else i.text=s(Object.assign({},l,{text:o})).text}])}(it),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(it.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,c,l,A,u,d=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var _=function(E){var C=E.charCodeAt(),Q=C>>8,L=m[Q];return L!==void 0?d[256*L+(255&C)]:Q===252||Q===253?"AL":v.test(Q)?"L":Q===8?"R":"N"},N=function(E){for(var C,Q=0;Q<E.length;Q++){if((C=_(E.charAt(Q)))==="L")return!1;if(C==="R")return!0}return!1},P=function(E,C,Q,L){var D,S,O,R,W=C[L];switch(W){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(W="AN");break;case"AL":y=!0,W="R";break;case"WS":W="N";break;case"CS":L<1||L+1>=C.length||(D=Q[L-1])!=="EN"&&D!=="AN"||(S=C[L+1])!=="EN"&&S!=="AN"?W="N":y&&(S="AN"),W=S===D?S:"N";break;case"ES":W=(D=L>0?Q[L-1]:"B")==="EN"&&L+1<C.length&&C[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&Q[L-1]==="EN"){W="EN";break}if(y){W="N";break}for(O=L+1,R=C.length;O<R&&C[O]==="ET";)O++;W=O<R&&C[O]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(R=C.length,O=L+1;O<R&&C[O]==="NSM";)O++;if(O<R){var M=E[L],q=M>=1425&&M<=2303||M===64286;if(D=C[O],q&&(D==="R"||D==="AL")){W="R";break}}}W=L<1||(D=C[L-1])==="B"?"N":Q[L-1];break;case"B":y=!1,s=!0,W=b;break;case"S":i=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":W="N"}return W},T=function(E,C,Q){var L=E.split("");return Q&&j(L,Q,{hiLevel:b}),L.reverse(),C&&C.reverse(),L.join("")},j=function(E,C,Q){var L,D,S,O,R,W=-1,M=E.length,q=0,B=[],I=b?h:f,H=[];for(y=!1,s=!1,i=!1,D=0;D<M;D++)H[D]=_(E[D]);for(S=0;S<M;S++){if(R=q,B[S]=P(E,H,B,S),L=240&(q=I[R][p[B[S]]]),q&=15,C[S]=O=I[q][5],L>0)if(L===16){for(D=W;D<S;D++)C[D]=1;W=-1}else W=-1;if(I[q][6])W===-1&&(W=S);else if(W>-1){for(D=W;D<S;D++)C[D]=O;W=-1}H[S]==="B"&&(C[S]=0),Q.hiLevel|=O}i&&function(G,J,ie){for(var Ae=0;Ae<ie;Ae++)if(G[Ae]==="S"){J[Ae]=b;for(var se=Ae-1;se>=0&&G[se]==="WS";se--)J[se]=b}}(H,C,M)},k=function(E,C,Q,L,D){if(!(D.hiLevel<E)){if(E===1&&b===1&&!s)return C.reverse(),void(Q&&Q.reverse());for(var S,O,R,W,M=C.length,q=0;q<M;){if(L[q]>=E){for(R=q+1;R<M&&L[R]>=E;)R++;for(W=q,O=R-1;W<O;W++,O--)S=C[W],C[W]=C[O],C[O]=S,Q&&(S=Q[W],Q[W]=Q[O],Q[O]=S);q=R}q++}}},z=function(E,C,Q){var L=E.split(""),D={hiLevel:b};return Q||(Q=[]),j(L,Q,D),function(S,O,R){if(R.hiLevel!==0&&u)for(var W,M=0;M<S.length;M++)O[M]===1&&(W=x.indexOf(S[M]))>=0&&(S[M]=x[W+1])}(L,Q,D),k(2,L,C,Q,D),k(1,L,C,Q,D),L.join("")};return this.__bidiEngine__.doBidiReorder=function(E,C,Q){if(function(D,S){if(S)for(var O=0;O<D.length;O++)S[O]=O;c===void 0&&(c=N(D)),A===void 0&&(A=N(D))}(E,C),o||!l||A)if(o&&l&&c^A)b=c?1:0,E=T(E,C,Q);else if(!o&&l&&A)b=c?1:0,E=z(E,C,Q),E=T(E,C);else if(!o||c||l||A){if(o&&!l&&c^A)E=T(E,C),c?(b=0,E=z(E,C,Q)):(b=1,E=z(E,C,Q),E=T(E,C));else if(o&&c&&!l&&A)b=1,E=z(E,C,Q),E=T(E,C);else if(!o&&!l&&c^A){var L=u;c?(b=1,E=z(E,C,Q),b=0,u=!1,E=z(E,C,Q),u=L):(b=0,E=z(E,C,Q),E=T(E,C),b=1,u=!1,E=z(E,C,Q),u=L,E=T(E,C))}}else b=0,E=z(E,C,Q);else b=c?1:0,E=z(E,C,Q);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,c=E.isInputRtl,A=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(o=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?o.push([r.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):o.push([r.doBidiReorder(s[c])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(it),it.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new sc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new CV(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new dV(this.contents),this.head=new hV(this),this.name=new xV(this),this.cmap=new BL(this),this.toUnicode={},this.hhea=new pV(this),this.maxp=new yV(this),this.hmtx=new bV(this),this.post=new mV(this),this.os2=new gV(this),this.loca=new BV(this),this.glyf=new wV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,l,A;for(A=[],o=0,c=(l=this.bbox).length;o<c;o++)t=l[o],A.push(Math.round(t*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,c;for(o=0,i=0,c=(t=""+t).length;0<=c?i<c:i>c;i=0<=c?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var oi,sc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,c,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^c)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*c+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),dV=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,c,l,A,u,d,f,h,p,m;for(m in h=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),o=Math.floor(d/l),u=16*h-d,(s=new sc).writeInt(this.scalarType),s.writeShort(h),s.writeShort(d),s.writeShort(o),s.writeShort(u),i=16*h,A=s.pos+i,c=null,p=[],r)for(f=r[m],s.writeString(m),s.writeInt(e(f)),s.writeInt(A),s.writeInt(f.length),p=p.concat(f),m==="head"&&(c=A),A+=f.length;A%4;)p.push(0),A++;return s.write(p),n=2981146554-e(s.data),s.pos=c+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=CL.call(r);r.length%4;)r.push(0);for(i=new sc(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),fV={}.hasOwnProperty,Ki=function(e,t){for(var r in t)fV.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};oi=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var hV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new sc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),MS=function(){function e(t,r){var n,s,i,o,c,l,A,u,d,f,h,p,m,x,v,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),f=h/2,t.pos+=6,i=function(){var _,N;for(N=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)N.push(t.readUInt16());return N}(),t.pos+=2,m=function(){var _,N;for(N=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)N.push(t.readUInt16());return N}(),A=function(){var _,N;for(N=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)N.push(t.readUInt16());return N}(),u=function(){var _,N;for(N=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)N.push(t.readUInt16());return N}(),s=(this.length-t.pos+this.offset)/2,c=function(){var _,N;for(N=[],l=_=0;0<=s?_<s:_>s;l=0<=s?++_:--_)N.push(t.readUInt16());return N}(),l=v=0,b=i.length;v<b;l=++v)for(x=i[l],n=y=p=m[l];p<=x?y<=x:y>=x;n=p<=x?++y:--y)u[l]===0?o=n+A[l]:(o=c[u[l]/2+(n-p)-(f-l)]||0)!==0&&(o+=A[l]),this.codeMap[n]=65535&o}t.pos=d}return e.encode=function(t,r){var n,s,i,o,c,l,A,u,d,f,h,p,m,x,v,y,b,_,N,P,T,j,k,z,E,C,Q,L,D,S,O,R,W,M,q,B,I,H,G,J,ie,Ae,se,we,be,ve;switch(L=new sc,o=Object.keys(t).sort(function(pe,oe){return pe-oe}),r){case"macroman":for(m=0,x=function(){var pe=[];for(p=0;p<256;++p)pe.push(0);return pe}(),y={0:0},i={},D=0,W=o.length;D<W;D++)y[se=t[s=o[D]]]==null&&(y[se]=++m),i[s]={old:t[s],new:y[t[s]]},x[s]=y[t[s]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(x),{charMap:i,subtable:L.data,maxGlyphID:m+1};case"unicode":for(C=[],d=[],b=0,y={},n={},v=A=null,S=0,M=o.length;S<M;S++)y[N=t[s=o[S]]]==null&&(y[N]=++b),n[s]={old:N,new:y[N]},c=y[N]-s,v!=null&&c===A||(v&&d.push(v),C.push(s),A=c),v=s;for(v&&d.push(v),d.push(65535),C.push(65535),z=2*(k=C.length),j=2*Math.pow(Math.log(k)/Math.LN2,2),f=Math.log(j/2)/Math.LN2,T=2*k-j,l=[],P=[],h=[],p=O=0,q=C.length;O<q;p=++O){if(E=C[p],u=d[p],E===65535){l.push(0),P.push(0);break}if(E-(Q=n[E].new)>=32768)for(l.push(0),P.push(2*(h.length+k-p)),s=R=E;E<=u?R<=u:R>=u;s=E<=u?++R:--R)h.push(n[s].new);else l.push(Q-E),P.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*k+2*h.length),L.writeUInt16(0),L.writeUInt16(z),L.writeUInt16(j),L.writeUInt16(f),L.writeUInt16(T),ie=0,B=d.length;ie<B;ie++)s=d[ie],L.writeUInt16(s);for(L.writeUInt16(0),Ae=0,I=C.length;Ae<I;Ae++)s=C[Ae],L.writeUInt16(s);for(we=0,H=l.length;we<H;we++)c=l[we],L.writeUInt16(c);for(be=0,G=P.length;be<G;be++)_=P[be],L.writeUInt16(_);for(ve=0,J=h.length;ve<J;ve++)m=h[ve],L.writeUInt16(m);return{charMap:n,subtable:L.data,maxGlyphID:b+1}}},e}(),BL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new MS(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=MS.encode(r,n),(i=new sc).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),pV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),gV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),mV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(s=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var c,l,A;for(A=[],o=c=0,l=this.file.maxp.numGlyphs;0<=l?c<l:c>l;o=0<=l?++c:--c)A.push(r.readUInt32());return A}).call(this)}},t}(),vV=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},xV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,i,o,c,l,A,u,d,f,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),s=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(A={},o=d=0,f=s.length;d<f;o=++d)i=s[o],r.pos=i.offset,u=r.readString(i.length),c=new vV(u,i),A[h=i.nameID]==null&&(A[h]=[]),A[i.nameID].push(c);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},t}(),yV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),bV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,i,o,c,l,A;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(r.readInt16());return d}(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)o=f[u],h.push(o.advance);return h}).call(this),s=this.widths[this.widths.length-1],A=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)A.push(this.widths.push(s));return A},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),CL=[].slice,wV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,i,o,c,l,A,u,d,f;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,s=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,c=(l=new sc(n.read(i))).readShort(),u=l.readShort(),f=l.readShort(),A=l.readShort(),d=l.readShort(),this.cache[r]=c===-1?new NV(l,u,f,A,d):new jV(l,c,u,f,A,d),this.cache[r]))},t.prototype.encode=function(r,n,s){var i,o,c,l,A;for(c=[],o=[],l=0,A=n.length;l<A;l++)i=r[n[l]],o.push(c.length),i&&(c=c.concat(i.encode(s)));return o.push(c.length),{table:c,offsets:o}},t}(),jV=function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),NV=function(){function e(t,r,n,s,i){var o,c;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new sc(CL.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),BV=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,oi),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,c=0;c<s.length;++c)if(s[c]=i,o<n.length&&n[o]==c){++o,s[c]=i;var l=this.offsets[c],A=this.offsets[c+1]-l;A>0&&(i+=A)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},t}(),CV=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,c,l;for(s={},o=0,c=t.length;o<c;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,c,l,A,u,d,f,h,p,m,x,v;for(s in n=BL.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},v=n.charMap)h[(l=v[s]).old]=l.new;for(p in f=n.maxGlyphID,o)p in h||(h[p]=f++);return u=function(y){var b,_;for(b in _={},y)_[y[b]]=b;return _}(h),d=Object.keys(u).sort(function(y,b){return y-b}),m=function(){var y,b,_;for(_=[],y=0,b=d.length;y<b;y++)c=d[y],_.push(u[c]);return _}(),i=this.font.glyf.encode(o,m,h),A=this.font.loca.encode(i.offsets,m),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();it.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+function(){var c,l,A;for(A=[],c=0,l=r.length;c<l;c++)n=r[c],A.push(t.convert(n));return A}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const kL="/assets/ewp2-logo-D3YkJgSa.png";let r0=null;const kV=()=>new Promise((e,t)=>{if(r0){e(r0);return}const r=new Image;r.crossOrigin="anonymous",r.onload=()=>{try{const n=document.createElement("canvas");n.width=r.width,n.height=r.height;const s=n.getContext("2d");s?(s.drawImage(r,0,0),r0=n.toDataURL("image/png"),e(r0)):t(new Error("Could not get canvas context"))}catch(n){t(n)}},r.onerror=()=>t(new Error("Failed to load logo")),r.src=kL}),_l=async e=>{const t=e.internal.pageSize.width,r=20;e.setDrawColor(0,0,0),e.setLineWidth(.5),e.line(r,35,t-r,35),e.setFontSize(28),e.setFont("helvetica","bold"),e.setTextColor(0,0,0),e.text("Keuringsrapport",r,25);try{const n=await kV(),s=52.5,i=15,o=t-s-r;e.addImage(n,"PNG",o,12,s,i)}catch(n){console.warn("Could not add logo to PDF:",n);const s=t-100,i=10;e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(0,123,255),e.text("EWP PANEELBOUW",s+10,i+15)}return e.setTextColor(0,0,0),45},Ci=(e,t="1.5e",r="WB2 FRM411")=>{const n=e.internal.pageSize.width,s=e.internal.pageSize.height,i=20,o=e.internal.pages.length-1;e.setFontSize(8),e.setTextColor(150,150,150),e.text(`Versie: ${t}`,i,s-10),e.text(`Tekeningnummer: ${r}`,n/2,s-10,{align:"center"}),e.text(`Pagina ${o}`,n-i,s-10,{align:"right"}),e.setTextColor(0,0,0)},SV=async(e,t,r,n,s)=>{try{const i=new it("p","mm","a4"),o=i.internal.pageSize.getWidth(),c=i.internal.pageSize.getHeight();let l=await _l(i);if(l+=5,i.setFontSize(12),i.setTextColor(100,100,100),i.text(`Gegenereerd op: ${new Date().toLocaleDateString("nl-NL")}`,20,l),l+=10,i.setFontSize(10),i.text(`Project: ${r}`,20,l),i.text(`Verdeler: ${t.distributorId||t.distributor_id}`,20,l+5),(t.kastNaam||t.kast_naam)&&i.text(`Kastnaam: ${t.kastNaam||t.kast_naam}`,20,l+10),i.text(`Rapport ID: KR-${Date.now().toString().slice(-6)}`,20,l+15),l+=30,e.workshopChecklist){const{workshopChecklist:u}=e;if(i.setFontSize(14),i.setTextColor(0,0,0),i.text("Werkplaats Checklist",20,l),l+=10,i.setFontSize(10),i.text(`Datum: ${u.date?new Date(u.date).toLocaleDateString("nl-NL"):"-"}`,20,l),i.text(`Uitgevoerd door: ${u.testedBy||"-"}`,120,l),l+=15,u.items&&u.items.length>0){const d={};u.items.forEach(h=>{d[h.category]||(d[h.category]=[]),d[h.category].push(h)});const f={goederenstroom:"1. Goederenstroom",railsystemen:"2. Railsystemen",componenten:"3. Componenten",interne_bedrading:"4. Interne bedrading",montageframe:"5. Montageframe",beproeving:"6. Beproeving",eindafwerking:"7. Eindafwerking",eindcontrole:"8. Eindcontrole",diversen:"9. Diversen"};i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Veld",20,l),i.text("Beschrijving",40,l),i.text("Status",140,l),i.text("Opmerkingen",160,l),l+=8;for(const h of Object.keys(d)){l>c-40&&(Ci(i),i.addPage(),l=await _l(i),l+=5),i.setFontSize(10),i.setFont("helvetica","bold"),i.text(f[h]||h,20,l),l+=8;for(const p of d[h]){l>c-30&&(Ci(i),i.addPage(),l=await _l(i),l+=5),i.setFontSize(8),i.setFont("helvetica","normal"),i.text(p.field||"",20,l);const m=i.splitTextToSize(p.description,95);i.text(m,40,l);let x="";if(p.passed==="akkoord"?x="✓ Akkoord":p.passed==="n.v.t."?x="N.v.t.":p.passed==="fout"?x="✗ Fout":p.passed==="hersteld"?x="🔧 Hersteld":typeof p.passed=="string"?x=p.passed:x=p.passed?"✓":p.passed===!1?"✗":"-",i.text(x,140,l),p.notes){const v=i.splitTextToSize(p.notes,35);i.text(v,160,l)}l+=Math.max(m.length*3,6)}l+=5}}}if(e.inspectionReport){const{inspectionReport:u}=e;l>c-100&&(Ci(i),i.addPage(),l=await _l(i),l+=5),i.setFontSize(12),i.setTextColor(0,0,0),i.setFont("helvetica","bold"),i.text("Keuringsrapport Details",20,l),i.setFont("helvetica","normal"),l+=10,i.setFontSize(10),i.text(`Datum: ${u.date?new Date(u.date).toLocaleDateString("nl-NL"):"-"}`,20,l),i.text(`Geïnspecteerd door: ${u.inspectedBy||"-"}`,120,l),l+=6,i.text(`Goedgekeurd door: ${u.approvedBy||"-"}`,20,l),l+=15,i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Controle",20,l),i.text("Status",140,l),i.text("Opmerkingen",160,l),l+=8;for(const f of u.items){l>c-30&&(Ci(i),i.addPage(),l=await _l(i),l+=5),i.setFontSize(9),i.setFont("helvetica","normal");const h=i.splitTextToSize(f.description,115);i.text(h,20,l);const p=f.passed?"✓ Akkoord":f.passed===!1?"✗ Niet akkoord":"-";if(i.text(p,140,l),f.notes){const m=i.splitTextToSize(f.notes,35);i.text(m,160,l)}l+=Math.max(h.length*4,8)}l+=10,i.setFontSize(12),i.setFont("helvetica","bold");let d="ONBEKEND";if(u.result==="approved"?d="GOEDGEKEURD":u.result==="conditionallyApproved"?d="VOORWAARDELIJK GOEDGEKEURD":u.result==="rejected"&&(d="AFGEKEURD"),i.text(`EINDRESULTAAT: ${d}`,20,l),l+=15,u.notes){i.setFontSize(10),i.setFont("helvetica","bold"),i.text("OPMERKINGEN:",20,l),l+=8,i.setFont("helvetica","normal");const f=i.splitTextToSize(u.notes,o-40);i.text(f,20,l),l+=f.length*5}}Ci(i);const A=i.output("datauristring");if(n&&s)try{const u=`Keuringsrapport_${t.distributorId||t.distributor_id}_${new Date().toLocaleDateString("nl-NL").replace(/\//g,"-")}.pdf`;await $e.createDocument({projectId:n,distributorId:s,folder:"Test certificaat",name:u,type:"application/pdf",size:A.length,content:A}),console.log("PDF automatically saved to Test certificaat folder"),ge.success("Keuringsrapport PDF automatisch opgeslagen in Test certificaat map!")}catch(u){console.error("Error saving PDF to documents:",u),ge.error("PDF gegenereerd maar kon niet automatisch worden opgeslagen")}return A}catch(i){throw console.error("Error generating PDF:",i),new Error("Er is een fout opgetreden bij het genereren van het PDF rapport")}},_V=({verdeler:e,projectNumber:t,onComplete:r,projectId:n,distributorId:s})=>{const[i,o]=$.useState(!1),[c,l]=$.useState(0),[A,u]=$.useState(!1),d=$.useMemo(()=>({workshopChecklist:{completed:!1,date:new Date().toISOString().split("T")[0],testedBy:"",items:[{id:1,category:"goederenstroom",field:"1.01",description:"Ontvangstprocedure volgens ISO 9003",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:2,category:"railsystemen",field:"2.01",description:"Railsystemen aanwezig",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:3,category:"railsystemen",field:"2.02",description:"Nominale waarde railsysteem",passed:null,notes:"",options:["250 A (12×5 mm)","315 A (20×5 mm)","400 A (30×5 mm)","500 A (20×10 mm)","630 A (30×10 mm)"]},{id:4,category:"railsystemen",field:"2.03",description:"Juiste CU-doorsnede toegepast",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:5,category:"railsystemen",field:"2.04",description:"Extra coderingen (L1, L2, L3, N, PE)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:6,category:"railsystemen",field:"2.05",description:"Kunststof afscherming railsysteem",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:7,category:"componenten",field:"3.01",description:"Componenten volgens schema geplaatst",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:8,category:"componenten",field:"3.02",description:"Componenten ingesteld (automaten, relais, klokken, meetinstrumenten)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:9,category:"componenten",field:"3.03",description:"Voldoende koeling tussen componenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:10,category:"componenten",field:"3.04",description:"Rijgklemmen aanwezig",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:11,category:"componenten",field:"3.05",description:"Rijgklemmen vastgedraaid",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:12,category:"componenten",field:"3.06",description:"Juiste kleuren drukknoppen / signaallampen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:13,category:"componenten",field:"3.07",description:"Juiste spanning signaallampen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:14,category:"componenten",field:"3.08",description:"Juiste spoelspanning besturingscomponenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:15,category:"componenten",field:"3.09",description:"Mechanische controle schakelaars",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:16,category:"componenten",field:"3.10",description:"Componenten in kastdeur gemonteerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:17,category:"componenten",field:"3.11",description:"Componenten in kastdeur gecodeerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:18,category:"interne_bedrading",field:"4.01",description:"90°C bedrading toegepast",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:19,category:"interne_bedrading",field:"4.02",description:"Doorsnede juist gekozen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:20,category:"interne_bedrading",field:"4.03",description:"Juiste draadkleuren",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:21,category:"interne_bedrading",field:"4.04",description:"Bedrading vrij t.o.v. railsysteem",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:22,category:"interne_bedrading",field:"4.05",description:"Juiste railklemmen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:23,category:"interne_bedrading",field:"4.06",description:"Vastgedraaid met juiste momenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:24,category:"interne_bedrading",field:"4.07",description:"Overzichtelijk aangelegd (uitbreiding)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:25,category:"interne_bedrading",field:"4.08",description:"Bedrading gecodeerd (hoofdstroom, hulpstroom, kleuren, cijfers/letters, symbolen)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:26,category:"interne_bedrading",field:"4.09",description:"PEN-sticker aanwezig (bij TNC)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:27,category:"interne_bedrading",field:"4.10",description:"Bedrading gebundeld",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:28,category:"interne_bedrading",field:"4.11",description:"Bedrading gecontroleerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:29,category:"montageframe",field:"5.01",description:"Controle diepte-instelling componenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:30,category:"montageframe",field:"5.02",description:"Frame geplaatst in verdeler",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:31,category:"montageframe",field:"5.03",description:"Frame bevestigd aan beschermingsleiding (sticker zichtbaar)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:32,category:"montageframe",field:"5.04",description:"Scheidingsschotten opgenomen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:33,category:"montageframe",field:"5.05",description:"Deur(en) bevestigd aan beschermingsleiding (sticker zichtbaar)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:34,category:"montageframe",field:"5.06",description:"Bij kunststof verdelers: frame/deur niet verbinden met aarde",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:35,category:"beproeving",field:"6.01",description:"Routineproef: inspectie verdeler, functionele proef, aardlek-test, schakelingen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:36,category:"beproeving",field:"6.02",description:"Functietest beproevingsapparatuur",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:37,category:"beproeving",field:"6.03",description:"Toetsing beschermingsmaatregelen & PE-verbinding",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:38,category:"beproeving",field:"6.04",description:"Hoogspanningstest (1000V, 2000V, 2500V afhankelijk van spanning)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:39,category:"beproeving",field:"6.05",description:"Functietest apparatuur",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:40,category:"beproeving",field:"6.06",description:"Isolatieweerstand meten (≥300 MΩ)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:41,category:"beproeving",field:"6.07",description:"Kruip- en luchtwegen volgens norm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:42,category:"eindafwerking",field:"7.01",description:"Tekeninghouder opgenomen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:43,category:"eindafwerking",field:"7.02",description:"Tekeningen en handleidingen meegeleverd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:44,category:"eindafwerking",field:"7.03",description:"Wandbevestigingsbeugels aanwezig",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:45,category:"eindafwerking",field:"7.04",description:"Deursleutels meegeleverd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:46,category:"eindafwerking",field:"7.05",description:"Rijgklemmen gecodeerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:47,category:"eindafwerking",field:"7.06",description:"Groepencodering op afdekplaten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:48,category:"eindafwerking",field:"7.07",description:"Creditcard en keuringssticker in kastdeur",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:49,category:"eindafwerking",field:"7.08",description:"Flensplaten gemonteerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:50,category:"eindafwerking",field:"7.09",description:"Warmteberekening uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:51,category:"eindafwerking",field:"7.10",description:"Algemene reiniging uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:52,category:"eindcontrole",field:"8.01",description:"Keuringsrapport volledig",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:53,category:"eindcontrole",field:"8.02",description:"Kopie rapport + sticker toegevoegd aan projectgegevens",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:54,category:"diversen",field:"9.01",description:"Vrije opmerkingenvelden",passed:null,notes:"",options:["text"]}]},inspectionReport:{completed:!1,date:new Date().toISOString().split("T")[0],inspectedBy:"",approvedBy:"",result:null,notes:"",items:[{id:1,description:"Voldoet aan technische specificaties",passed:null,notes:""},{id:2,description:"Voldoet aan veiligheidseisen",passed:null,notes:""},{id:3,description:"Documentatie compleet",passed:null,notes:""},{id:4,description:"Testresultaten goedgekeurd",passed:null,notes:""}]}}),[]),[f,h]=$.useState(d),p=$.useMemo(()=>({id:e.distributorId||e.distributor_id,name:e.kastNaam||e.kast_naam||"Naamloos"}),[e.distributorId,e.distributor_id,e.kastNaam,e.kast_naam]);$.useEffect(()=>{var W,M;const O=`verdeler_test_${p.id}`,R=localStorage.getItem(O);if(R)try{const q=JSON.parse(R);((M=(W=q.workshopChecklist)==null?void 0:W.items)==null?void 0:M.some(I=>I.field))?(console.log("Loading existing test data with new structure"),h(q)):(console.log("Old test data structure detected, clearing cache for:",p.id),localStorage.removeItem(O),ht.info("Test data structure updated - starting fresh"),h(d))}catch(q){console.error("Error parsing saved test data:",q),localStorage.removeItem(O),h(d)}else h(d)},[p.id,d]),$.useCallback(()=>{try{return localStorage.setItem(`verdeler_test_${p.id}`,JSON.stringify(f)),r(f),!0}catch(O){return console.error("Error saving test data:",O),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens"),!1}},[f,p.id,r]);const m=$.useCallback(async()=>{const R=["workshopChecklist","inspectionReport"][c],W={...f,[R]:{...f[R],completed:!0}};h(W);try{localStorage.setItem(`verdeler_test_${p.id}`,JSON.stringify(W)),r(W)}catch(M){console.error("Error saving test data:",M),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens");return}if(c<1)l(c+1),ht.success("Werkplaats Checklist succesvol afgerond!");else{try{u(!0),await SV(W,e,t,n,s),ht.success("Keuringsrapport voltooid en PDF automatisch opgeslagen!")}catch(M){console.error("Error generating PDF:",M),ht.error("Keuringsrapport voltooid, maar PDF generatie mislukt")}finally{u(!1)}ht.success("Keuringsrapport succesvol afgerond!"),o(!1)}},[c,f,p.id,r,e,t,n,s]),x=()=>{window.confirm("Weet je zeker dat je de test opnieuw wilt starten? Alle huidige gegevens gaan verloren.")&&(localStorage.removeItem(`verdeler_test_${p.id}`),h(d),l(0),ht.success("Test herstart - je kunt opnieuw beginnen"))},v=$.useCallback((O,R)=>W=>{const M=W.target.value;h(q=>({...q,[O]:{...q[O],[R]:M}}))},[]),y=$.useCallback((O,R,W,M)=>{h(q=>{const B={...q},I={...B[O]},H=[...I.items],G=H.findIndex(J=>J.id===R);return G!==-1&&(H[G]={...H[G],[W]:M}),I.items=H,B[O]=I,B})},[]),b=$.useCallback(O=>O==="workshopChecklist"?f.workshopChecklist.items.every(R=>R.options&&R.options.includes("text")?!0:R.passed!==null&&R.passed!==void 0&&R.passed!=="")&&f.workshopChecklist.testedBy.trim()!=="":O==="inspectionReport"?f.inspectionReport.items.every(R=>R.passed!==null&&R.passed!==void 0)&&f.inspectionReport.inspectedBy.trim()!==""&&f.inspectionReport.approvedBy.trim()!==""&&f.inspectionReport.result!==null:!1,[f]),_=$.useMemo(()=>v("workshopChecklist","date"),[v]),N=$.useMemo(()=>v("workshopChecklist","testedBy"),[v]),P=$.useMemo(()=>v("inspectionReport","date"),[v]),T=$.useMemo(()=>v("inspectionReport","inspectedBy"),[v]),j=$.useMemo(()=>v("inspectionReport","approvedBy"),[v]),k=$.useMemo(()=>v("inspectionReport","notes"),[v]),z=()=>{const O={};f.workshopChecklist.items.forEach(W=>{O[W.category]||(O[W.category]=[]),O[W.category].push(W)});const R={goederenstroom:"1. Goederenstroom",railsystemen:"2. Railsystemen",componenten:"3. Componenten",interne_bedrading:"4. Interne bedrading",montageframe:"5. Montageframe",beproeving:"6. Beproeving",eindafwerking:"7. Eindafwerking",eindcontrole:"8. Eindcontrole",diversen:"9. Diversen"};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Werkplaats Checklist"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Datum"}),a.jsx("input",{type:"date",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.workshopChecklist.date,onChange:_})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Getest door"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.workshopChecklist.testedBy,onChange:N,placeholder:"Naam monteur"})]})]}),Object.keys(O).map(W=>a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3 text-blue-400",children:R[W]}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-2",children:"Veld"}),a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-32 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:O[W].map(M=>a.jsxs("tr",{className:"border-t border-gray-700",children:[a.jsx("td",{className:"p-2 text-sm text-gray-400",children:M.field}),a.jsx("td",{className:"p-2",children:M.description}),a.jsx("td",{className:"p-2 text-center",children:M.options&&M.options.includes("text")?a.jsx("span",{className:"text-sm text-gray-400",children:"Tekstveld"}):M.options&&M.options.length<=4?a.jsx("div",{className:"flex justify-center space-x-1",children:M.options.map(q=>a.jsx("button",{className:`px-2 py-1 rounded text-xs font-medium ${M.passed===q?q==="akkoord"?"bg-green-600 text-white":q==="n.v.t."?"bg-yellow-600 text-white":q==="fout"?"bg-red-600 text-white":q==="hersteld"?"bg-blue-600 text-white":"bg-gray-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,onClick:()=>y("workshopChecklist",M.id,"passed",q),title:q,children:q==="akkoord"?"✓":q==="n.v.t."?"N.v.t.":q==="fout"?"✗":q==="hersteld"?"🔧":q},q))}):M.options&&M.options.length>4?a.jsxs("select",{className:"bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-xs",value:M.passed||"",onChange:q=>y("workshopChecklist",M.id,"passed",q.target.value),children:[a.jsx("option",{value:"",children:"Selecteer..."}),M.options.map(q=>a.jsx("option",{value:q,children:q},q))]}):a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsx("button",{className:`p-1 rounded ${M.passed===!0?"bg-green-600":"bg-gray-700 hover:bg-green-600"}`,onClick:()=>y("workshopChecklist",M.id,"passed",!0),children:a.jsx(Ti,{size:18})}),a.jsx("button",{className:`p-1 rounded ${M.passed===!1?"bg-red-600":"bg-gray-700 hover:bg-red-600"}`,onClick:()=>y("workshopChecklist",M.id,"passed",!1),children:a.jsx(gt,{size:18})})]})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:M.notes,onChange:q=>y("workshopChecklist",M.id,"notes",q.target.value),placeholder:"Opmerkingen"})})]},M.id))})]})]},W)),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{className:`btn-primary ${b("workshopChecklist")?"":"opacity-50 cursor-not-allowed"}`,onClick:m,disabled:!b("workshopChecklist"),children:"Voltooien en doorgaan"})})]})},E=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Keuringsrapport"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Datum"}),a.jsx("input",{type:"date",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.inspectionReport.date,onChange:P})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Geïnspecteerd door"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.inspectionReport.inspectedBy,onChange:T,placeholder:"Naam inspecteur"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Goedgekeurd door"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.inspectionReport.approvedBy,onChange:j,placeholder:"Naam goedkeurder"})]})]}),a.jsx("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:f.inspectionReport.items.map(O=>a.jsxs("tr",{className:"border-t border-gray-700",children:[a.jsx("td",{className:"p-2",children:O.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsx("button",{className:`p-1 rounded ${O.passed===!0?"bg-green-600":"bg-gray-700 hover:bg-green-600"}`,onClick:()=>y("inspectionReport",O.id,"passed",!0),children:a.jsx(Ti,{size:18})}),a.jsx("button",{className:`p-1 rounded ${O.passed===!1?"bg-red-600":"bg-gray-700 hover:bg-red-600"}`,onClick:()=>y("inspectionReport",O.id,"passed",!1),children:a.jsx(gt,{size:18})})]})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:O.notes,onChange:R=>y("inspectionReport",O.id,"notes",R.target.value),placeholder:"Opmerkingen"})})]},O.id))})]})}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Eindresultaat"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{className:`px-4 py-2 rounded ${f.inspectionReport.result==="approved"?"bg-green-600":"bg-gray-700 hover:bg-green-600"}`,onClick:()=>h(O=>({...O,inspectionReport:{...O.inspectionReport,result:"approved"}})),children:"Goedgekeurd"}),a.jsx("button",{className:`px-4 py-2 rounded ${f.inspectionReport.result==="conditionallyApproved"?"bg-yellow-600":"bg-gray-700 hover:bg-yellow-600"}`,onClick:()=>h(O=>({...O,inspectionReport:{...O.inspectionReport,result:"conditionallyApproved"}})),children:"Voorwaardelijk goedgekeurd"}),a.jsx("button",{className:`px-4 py-2 rounded ${f.inspectionReport.result==="rejected"?"bg-red-600":"bg-gray-700 hover:bg-red-600"}`,onClick:()=>h(O=>({...O,inspectionReport:{...O.inspectionReport,result:"rejected"}})),children:"Afgekeurd"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Opmerkingen"}),a.jsx("textarea",{className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition h-32",value:f.inspectionReport.notes,onChange:k,placeholder:"Algemene opmerkingen en aanbevelingen"})]})]}),a.jsxs("div",{className:"flex justify-between mt-4",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>l(0),children:"Terug"}),a.jsx("button",{className:`btn-primary ${b("inspectionReport")?"":"opacity-50 cursor-not-allowed"}`,onClick:m,disabled:!b("inspectionReport"),children:"Voltooien en afronden"})]})]}),C=()=>a.jsx("div",{className:"flex items-center justify-center mb-6",children:["Werkplaats Checklist","Keuringsrapport"].map((O,R)=>a.jsxs(fe.Fragment,{children:[a.jsxs("div",{className:`flex flex-col items-center ${R<=c?"text-blue-400":"text-gray-500"}`,onClick:()=>{R<c&&l(R)},children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${R<c?"bg-blue-400 text-white":R===c?"bg-blue-600 text-white":"bg-gray-700 text-gray-400"} ${R<c?"cursor-pointer":""}`,children:R<c?a.jsx(Ti,{size:16}):R+1}),a.jsx("span",{className:"mt-1 text-sm",children:O})]}),R<1&&a.jsx("div",{className:`h-[2px] w-16 mx-2 ${R<c?"bg-blue-400":"bg-gray-700"}`})]},R))}),Q=()=>{switch(c){case 0:return z();case 1:return E();default:return null}},L=()=>{if(f.inspectionReport.completed){const O=f.inspectionReport.result;if(O==="approved")return a.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:"Goedgekeurd"});if(O==="conditionallyApproved")return a.jsx("span",{className:"px-2 py-1 bg-yellow-600 text-white text-xs rounded-full",children:"Voorwaardelijk"});if(O==="rejected")return a.jsx("span",{className:"px-2 py-1 bg-red-600 text-white text-xs rounded-full",children:"Afgekeurd"})}else if(f.workshopChecklist.completed)return a.jsx("span",{className:"px-2 py-1 bg-blue-400 text-white text-xs rounded-full",children:"Checklist Voltooid"});return a.jsx("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"Niet getest"})},D=$.useCallback(O=>{O.target===O.currentTarget&&o(!1)},[]),S=$.useMemo(()=>i?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:999999},onClick:D,children:a.jsxs("div",{className:"bg-[#1E2530] rounded-xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto",onClick:O=>O.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:["Verdeler Testen: ",p.id," - ",p.name]}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),C(),Q(),f.inspectionReport.completed&&a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-green-400",children:"Test voltooid"}),a.jsx("p",{className:"text-sm text-gray-400",children:"PDF rapport is automatisch gegenereerd en opgeslagen"})]}),a.jsxs("button",{onClick:x,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(ns,{size:16}),a.jsx("span",{children:"Test opnieuw uitvoeren"})]})]})})]})}):null,[i,p,c,f,D,b,m]);return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center space-x-2",title:"Verdeler testen",children:[a.jsx(ns,{size:16}),a.jsx("span",{children:"Verdeler tot 630"}),f.workshopChecklist.completed&&a.jsx("div",{className:"ml-2",children:L()})]}),i&&si.createPortal(S,document.body)]})},EV=async(e,t,r,n,s)=>{try{const i=new it("p","mm","a4"),o=i.internal.pageSize.getWidth(),c=i.internal.pageSize.getHeight();let l=await _l(i);l+=10,i.setFontSize(10),i.setTextColor(100,100,100),i.text(`Gegenereerd op: ${new Date().toLocaleDateString("nl-NL")}`,20,l),l+=8;const{verdelerVanaf630Test:A}=e;if(i.setFontSize(10),i.setTextColor(0,0,0),i.text(`Datum: ${A.date?new Date(A.date).toLocaleDateString("nl-NL"):""}`,20,l),i.text(`Tekeningnr.: ${r}`,120,l),l+=6,i.text(`Verdeler nummer: ${t.distributorId||t.distributor_id}`,20,l),i.text(`Bescherming: ${A.bescherming||""}`,120,l),l+=6,i.text(`Projectnummer: ${r}`,20,l),i.text(`Bouwjaar: ${A.bouwjaar||""}`,120,l),l+=6,i.text(`Dichtheidsklasse: ${A.dichtheidsklasse||""}`,20,l),i.text(`Projectnaam: ${A.projectnaam||""}`,120,l),l+=15,i.text(`Un: ${A.un||""} [Vac]`,20,l),l+=6,i.text(`In: ${A.inValue||""} [A]`,20,l),l+=6,i.text(`Ik dyn: ${A.ikDyn||""} [kA]`,20,l),l+=6,i.text(`Ik th: ${A.ikTh||""} [kA]`,20,l),l+=6,i.text(`F: ${A.frequency||""} [Hz]`,20,l),l+=10,(A.unHulp230||A.unHulp24)&&(i.text("Un van hulpstroombanen:",20,l),l+=6,A.unHulp230&&(i.text("☑ 230 [Vac]",25,l),l+=6),A.unHulp24&&(i.text("☑ 24 [Vac]",25,l),l+=6),l+=5),A.afwijkend&&(i.text(`Afwijkend: ${A.afwijkend} [V]`,20,l),l+=10),i.setFontSize(12),i.setFont("helvetica","bold"),i.text("Keuringsprocedure",20,l),l+=8,i.setFontSize(9),i.setFont("helvetica","normal"),i.text("Samenstelling: NEN -EN-IEC 61439 -1/-3 (EN 61439 / IEC 439) / fabrikant handboek t/m 1600 A / NEN 1010",20,l),l+=15,A.items&&A.items.length>0){const d={};A.items.forEach(h=>{d[h.category]||(d[h.category]=[]),d[h.category].push(h)});const f={goederenstroom:"1. Goederenstroom",railsystemen:"2. Railsystemen",componenten:"3. Componenten",interne_bedrading:"4. Interne bedrading",montageframe:"5. Montageframe",beproeving:"6. Beproeving",eindafwerking:"7. Eindafwerking",uitlevering:"8. Uitlevering",eindcontrole:"9. Eindcontrole",diversen:"10. Diversen"};Object.keys(d).forEach(h=>{l>c-60&&(i.addPage(),l=20),i.setFontSize(11),i.setFont("helvetica","bold"),i.text(f[h]||h,20,l),l+=10,i.setFontSize(8),i.setFont("helvetica","normal"),i.text("Veld",20,l),i.text("Beschrijving",35,l),i.text("Status",140,l),i.text("Opm.",170,l),l+=6,d[h].forEach(p=>{l>c-15&&(i.addPage(),l=20),i.text(p.field||"",20,l);const m=i.splitTextToSize(p.description,100);i.text(m,35,l);let x="";if(p.passed==="akkoord"?x="☑ Akkoord":p.passed==="n.v.t."?x="☑ N.v.t.":p.passed==="fout"?x="☑ Fout":p.passed==="hersteld"?x="☑ Hersteld":typeof p.passed=="string"?x=p.passed:x=p.passed?"☑":(p.passed===!1,"☐"),i.text(x,140,l),p.notes){const v=i.splitTextToSize(p.notes,25);i.text(v,170,l)}l+=Math.max(m.length*3,6)}),l+=8})}l>c-80&&(i.addPage(),l=20),i.setFontSize(12),i.setFont("helvetica","bold"),i.text("Handtekening voor akkoord",20,l),l+=15,i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`Monteur: ${A.monteur||""}`,20,l),i.text(`Tester: ${A.testedBy||""}`,120,l),l+=8,i.text(`Datum: ${A.date?new Date(A.date).toLocaleDateString("nl-NL"):""}`,20,l),i.text(`Datum: ${A.date?new Date(A.date).toLocaleDateString("nl-NL"):""}`,120,l),l+=15,i.text(`Beproevingen: ${A.beproevingen||""}`,20,l),i.text(`Eindcontroleur: ${A.eindcontroleur||""}`,120,l),l+=8,i.text(`Datum: ${A.date?new Date(A.date).toLocaleDateString("nl-NL"):""}`,20,l),i.text(`Datum: ${A.date?new Date(A.date).toLocaleDateString("nl-NL"):""}`,120,l),i.setFontSize(8),i.setTextColor(100,100,100),i.text("© 2025 EWP Paneelbouw B.V.",20,c-10),i.text(`Gegenereerd op: ${new Date().toLocaleString("nl-NL")}`,o-20,c-10,{align:"right"});const u=i.output("datauristring");if(n&&s)try{const d=`Keuringsrapport_vanaf_630_${t.distributorId||t.distributor_id}_${new Date().toLocaleDateString("nl-NL").replace(/\//g,"-")}.pdf`;await $e.createDocument({projectId:n,distributorId:s,folder:"Test certificaat",name:d,type:"application/pdf",size:u.length,content:u}),console.log("PDF automatically saved to Test certificaat folder"),ge.success("Keuringsrapport vanaf 630 PDF automatisch opgeslagen in Test certificaat map!")}catch(d){console.error("Error saving PDF to documents:",d),ge.error("PDF gegenereerd maar kon niet automatisch worden opgeslagen")}return u}catch(i){throw console.error("Error generating PDF:",i),new Error("Er is een fout opgetreden bij het genereren van het PDF rapport")}},FV=({verdeler:e,projectNumber:t,onComplete:r,projectId:n,distributorId:s})=>{const[i,o]=$.useState(!1),[c,l]=$.useState(!1),A=$.useMemo(()=>({verdelerVanaf630Test:{completed:!1,date:new Date().toISOString().split("T")[0],testedBy:"",monteur:"",eindcontroleur:"",beproevingen:"",un:"",inValue:"",ikDyn:"",ikTh:"",frequency:"",unHulp230:!1,unHulp24:!1,afwijkend:"",dichtheidsklasse:"",bescherming:"",bouwjaar:"",projectnaam:"",items:[{id:1,category:"goederenstroom",field:"1.01",description:"Ontvangstprocedure volgens ISO 9003",passed:null,notes:"",options:["akkoord","n.v.t."]},{id:2,category:"railsystemen",field:"2.01",description:"Railsystemen aanwezig",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:3,category:"railsystemen",field:"2.02a",description:"Hoofdrailsysteem 2 x 40 x 10 mm 3 Fase + (PE)N",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:4,category:"railsystemen",field:"2.02b",description:"Subrailsysteem 80 x 10 mm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:5,category:"railsystemen",field:"2.02b",description:"Subrailsysteem 40 x 10 mm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:6,category:"railsystemen",field:"2.02c",description:"PE 40 x 10 mm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:7,category:"railsystemen",field:"2.03",description:"Juiste CU-doorsnede toegepast",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:8,category:"railsystemen",field:"2.04",description:"Extra coderingen aangebracht op raildrager en/of railsystemen (L1, L2, L3, [PE]N, PE)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:9,category:"railsystemen",field:"2.05",description:"Kunststof afschermingen opgenomen op railsysteem i.v.m. nabij liggende bekabeling",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:10,category:"railsystemen",field:"2.06",description:"L-profiel(en) 45 x 45 x 8 mm toegepast op railsets en/of voedingsveld",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:11,category:"componenten",field:"3.01",description:"Componenten volgens indelingsschets deugdelijk geplaatst",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:12,category:"componenten",field:"3.02",description:"Componenten ingesteld",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:13,category:"componenten",field:"3.02",description:"air circuit breaker",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:14,category:"componenten",field:"3.02",description:"vermogensautomaten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:15,category:"componenten",field:"3.02",description:"overige componenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:16,category:"componenten",field:"3.03",description:"Voldoende koeling tussen componenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:17,category:"componenten",field:"3.04",description:"Rijgklemmen aanwezig",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:18,category:"componenten",field:"3.05",description:"Rijgklemmen + overige klemmen vastgedraaid",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:19,category:"componenten",field:"3.06",description:"Juiste kleuren drukknoppen en / of signaallampen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:20,category:"componenten",field:"3.07",description:"Juiste spanning bij signaallampen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:21,category:"componenten",field:"3.08",description:"Juiste spoelspanning besturingscomponenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:22,category:"componenten",field:"3.09",description:"Mechanische controle schakelaar(s) en componenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:23,category:"componenten",field:"3.10",description:"Componenten gemonteerd in kastdeur(en)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:24,category:"componenten",field:"3.11",description:"Componenten in kastdeur gecodeerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:25,category:"interne_bedrading",field:"4.01",description:"90°C bedrading toegepast",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:26,category:"interne_bedrading",field:"4.02",description:"Bedradingsdoorsnede juist gekozen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:27,category:"interne_bedrading",field:"4.03",description:"Juiste draadkleuren toegepast",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:28,category:"interne_bedrading",field:"4.04",description:"Bedrading vrij opgesteld t.o.v. railsysteem",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:29,category:"interne_bedrading",field:"4.05",description:"Juiste railklemmen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:30,category:"interne_bedrading",field:"4.06",description:"Componenten vastgedraaid met juiste aandraaimomenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:31,category:"interne_bedrading",field:"4.07",description:"Bedrading overzichtelijk aangelegd met het oog op eventuele uitbreidingen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:32,category:"interne_bedrading",field:"4.08",description:"Bedrading gecodeerd op hoofd- en hulpstroombanen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:33,category:"interne_bedrading",field:"4.08",description:"Bedrading gecodeerd op kleuren",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:34,category:"interne_bedrading",field:"4.08",description:"Bedrading gecodeerd op cijfers/letters",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:35,category:"interne_bedrading",field:"4.08",description:"Bedrading gecodeerd op symbolen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:36,category:"interne_bedrading",field:"4.09",description:"Bij TNC-stelsel PEN-sticker op PEN-geleider",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:37,category:"interne_bedrading",field:"4.10",description:"Bedrading deugdelijk gebundeld",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:38,category:"interne_bedrading",field:"4.11",description:"Bedrading gecontroleerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:39,category:"montageframe",field:"5.01",description:"Controle diepte-instelling - Draagsteunen in voorste positie geplaatst",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:40,category:"montageframe",field:"5.02",description:"Frame opgebouwd in verdeler",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:41,category:"montageframe",field:"5.03",description:"Volledige frame bevestigd aan beschermingsleiding. Stickers zichtbaar aanbrengen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:42,category:"montageframe",field:"5.04",description:"Scheidingsschotten opgenomen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:43,category:"montageframe",field:"5.05",description:"Verdelerdeur(en) bevestigd aan beschermingsleiding. Stickers zichtbaar aanbrengen (uitsluitend geaarde verdelers)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:44,category:"beproeving",field:"6.01",description:"Routineproef: Inspecteer verdeler(s), incl. bedrading",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:45,category:"beproeving",field:"6.01",description:"Elektrische functionele proef uitgevoerd met nominale bedrijfsspanning",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:46,category:"beproeving",field:"6.01",description:"Alle eindgroepen functioneren",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:47,category:"beproeving",field:"6.01",description:"Aardlek-elementen getest (via foutstroom)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:48,category:"beproeving",field:"6.01",description:"Overige schakelingen gecontroleerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:49,category:"beproeving",field:"6.02",description:"Functietest beproevingsapparatuur uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:50,category:"beproeving",field:"6.03",description:"Routineproef: Toetsing beschermingsmaatregelen en doorgaande verbinding van de stroombaan van de beschermingsleiding. PE; standaard 40 x 10 mm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:51,category:"beproeving",field:"6.04",description:"Routineproef: hoogspanningstest 1 sec. 1000 V bij 24 V (Ui ≤ 60 V)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:52,category:"beproeving",field:"6.04",description:"Routineproef: hoogspanningstest 1 sec. 2000 V bij 230 V (60 V < Ui ≤ 300 V)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:53,category:"beproeving",field:"6.04",description:"Routineproef: hoogspanningstest 1 sec. 2500 V bij 400 V (300 V < Ui ≤ 660 V)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:54,category:"beproeving",field:"6.04",description:"Spanningsproef uitgevoerd (item A): Alle schakeltoestellen bevinden zich in ingeschakelde toestand",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:55,category:"beproeving",field:"6.04",description:"Spanningsproef uitgevoerd (item B): Proefspanning is achtereenvolgens aan alle onderdelen van stroombron aangelegd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:56,category:"beproeving",field:"6.04",description:"Juiste proefspanningen gecontroleerd (Let op isolatiespanning van componenten!)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:57,category:"beproeving",field:"6.04",description:"Componenten geschikt voor lagere isolatiespanning elektrisch losgekoppeld",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:58,category:"beproeving",field:"6.04",description:"Testprocedure uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:59,category:"beproeving",field:"6.04",description:"Geen doorslag óf overslag geconstateerd (proef is geslaagd)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:60,category:"beproeving",field:"6.04",description:"Losgekoppelde componenten elektrisch aangesloten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:61,category:"beproeving",field:"6.04",description:"2e spanningsproef uitgevoerd ter plaatste bij opstelling",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:62,category:"beproeving",field:"6.04",description:"Geen doorslag óf overslag geconstateerd (proef is geslaagd)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:63,category:"beproeving",field:"6.05",description:"Functietest beproevingsapparatuur uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:64,category:"beproeving",field:"6.06",description:"Isolatieweerstand - Fase t.o.v. omhulling/aarde: ≥300 MΩ",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:65,category:"beproeving",field:"6.06",description:"Isolatieweerstand - Fase t.o.v. Fase (L1-L2, L1-L3, L2-L3): ≥300 MΩ",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:66,category:"beproeving",field:"6.06",description:"Isolatieweerstand - Hulpstroomkring t.o.v. omhulling/constructiedelen: ≥300 MΩ",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:67,category:"beproeving",field:"6.06",description:"Isolatieweerstand - N t.o.v. PE: ≥300 MΩ",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:68,category:"beproeving",field:"6.07",description:"Kruip- en luchtwegen volgens bepaling fabrikant 1600A handboek",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:69,category:"eindafwerking",field:"7.01",description:"Tekeninghouder opgenomen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:70,category:"eindafwerking",field:"7.02",description:"Tekeningen + producthandleidingen meegeleverd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:71,category:"eindafwerking",field:"7.03",description:"Deursleutels meegeleverd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:72,category:"eindafwerking",field:"7.04",description:"Rijgklemmen gecodeerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:73,category:"eindafwerking",field:"7.05",description:"Groepencodering op afdekplaten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:74,category:"eindafwerking",field:"7.06",description:"Sticker ingevuld volgens HSA-normen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:75,category:"eindafwerking",field:"7.07",description:"Creditcard en keuringsticker geplaatst aan de binnenzijde van de kastdeur",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:76,category:"eindafwerking",field:"7.08",description:"Flensplaten gemonteerd in verdeler",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:77,category:"eindafwerking",field:"7.09",description:"Alle juiste aandraaimomenten op railsystemen / railverbindingen / componenten gecontroleerd en afgelakt",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:78,category:"eindafwerking",field:"7.10",description:"Warmteberekening uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:79,category:"eindafwerking",field:"7.11",description:"Algemene reiniging verdeler uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:80,category:"uitlevering",field:"8.01",description:"Documenten gereed voor uitleveringsprocedure volgens ISO 9003",passed:null,notes:"",options:["akkoord","n.v.t."]},{id:81,category:"eindcontrole",field:"9.01",description:"Verdelercombinatie samengesteld conform Fabrikant 1600A handboek",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:82,category:"eindcontrole",field:"9.02",description:"Keuringsrapport volledig",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:83,category:"eindcontrole",field:"9.03",description:"Kopie keuringsrapport + kopie sticker toegevoegd aan eigen projectgegevens",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:84,category:"diversen",field:"10.01",description:"Diversen - Vrije opmerkingen",passed:null,notes:"",options:["text"]}]}}),[]),[u,d]=$.useState(A),f=$.useMemo(()=>({id:e.distributorId||e.distributor_id,name:e.kastNaam||e.kast_naam||"Naamloos"}),[e.distributorId,e.distributor_id,e.kastNaam,e.kast_naam]);$.useEffect(()=>{const I=localStorage.getItem(`verdeler_vanaf_630_test_${f.id}`);if(I)try{const H=JSON.parse(I);d(H)}catch(H){console.error("Error parsing saved test data:",H),ht.error("Er is een fout opgetreden bij het laden van de testgegevens")}},[f.id]),$.useCallback(()=>{try{return localStorage.setItem(`verdeler_vanaf_630_test_${f.id}`,JSON.stringify(u)),r(u),!0}catch(I){return console.error("Error saving test data:",I),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens"),!1}},[u,f.id,r]);const h=$.useCallback(async()=>{const I={...u,verdelerVanaf630Test:{...u.verdelerVanaf630Test,completed:!0}};d(I);try{localStorage.setItem(`verdeler_vanaf_630_test_${f.id}`,JSON.stringify(I)),r(I)}catch(H){console.error("Error saving test data:",H),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens");return}try{l(!0),await EV(I,e,t,n,s),ht.success("Verdeler vanaf 630 test voltooid en PDF automatisch opgeslagen!")}catch(H){console.error("Error generating PDF:",H),ht.error("Test voltooid, maar PDF generatie mislukt")}finally{l(!1)}ht.success("Verdeler vanaf 630 test succesvol afgerond!"),o(!1)},[u,f.id,r,e,t,n,s]),p=$.useCallback(I=>H=>{const G=H.target.value;d(J=>({...J,verdelerVanaf630Test:{...J.verdelerVanaf630Test,[I]:G}}))},[]),m=$.useCallback(I=>H=>{const G=H.target.checked;d(J=>({...J,verdelerVanaf630Test:{...J.verdelerVanaf630Test,[I]:G}}))},[]),x=$.useCallback((I,H,G)=>{d(J=>{const ie={...J},Ae={...ie.verdelerVanaf630Test},se=[...Ae.items],we=se.findIndex(be=>be.id===I);return we!==-1&&(se[we]={...se[we],[H]:G}),Ae.items=se,ie.verdelerVanaf630Test=Ae,ie})},[]),v=$.useCallback(()=>u.verdelerVanaf630Test.items.every(I=>I.options&&I.options.includes("text")?!0:I.passed!==null&&I.passed!==void 0&&I.passed!=="")&&u.verdelerVanaf630Test.testedBy.trim()!==""&&u.verdelerVanaf630Test.monteur.trim()!==""&&u.verdelerVanaf630Test.eindcontroleur.trim()!=="",[u]),y=$.useMemo(()=>p("date"),[p]),b=$.useMemo(()=>p("testedBy"),[p]),_=$.useMemo(()=>p("monteur"),[p]),N=$.useMemo(()=>p("eindcontroleur"),[p]),P=$.useMemo(()=>p("beproevingen"),[p]),T=$.useMemo(()=>p("un"),[p]),j=$.useMemo(()=>p("inValue"),[p]),k=$.useMemo(()=>p("ikDyn"),[p]),z=$.useMemo(()=>p("ikTh"),[p]),E=$.useMemo(()=>p("frequency"),[p]),C=$.useMemo(()=>p("afwijkend"),[p]),Q=$.useMemo(()=>p("dichtheidsklasse"),[p]),L=$.useMemo(()=>p("bescherming"),[p]),D=$.useMemo(()=>p("bouwjaar"),[p]),S=$.useMemo(()=>p("projectnaam"),[p]),O=$.useMemo(()=>m("unHulp230"),[m]),R=$.useMemo(()=>m("unHulp24"),[m]),W=()=>{const I={};u.verdelerVanaf630Test.items.forEach(G=>{I[G.category]||(I[G.category]=[]),I[G.category].push(G)});const H={goederenstroom:"1. Goederenstroom",railsystemen:"2. Railsystemen",componenten:"3. Componenten",interne_bedrading:"4. Interne bedrading",montageframe:"5. Montageframe",beproeving:"6. Beproeving",eindafwerking:"7. Eindafwerking",uitlevering:"8. Uitlevering",eindcontrole:"9. Eindcontrole",diversen:"10. Diversen"};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Keuringsrapport verdeler vanaf 630 A"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Datum"}),a.jsx("input",{type:"date",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.date,onChange:y})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tester"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.testedBy,onChange:b,placeholder:"Naam tester"})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Technische Specificaties"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Un [Vac]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.un,onChange:T,placeholder:"400"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"In [A]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.inValue,onChange:j,placeholder:"1260"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ik dyn [kA]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.ikDyn,onChange:k,placeholder:"65"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ik th [kA]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.ikTh,onChange:z,placeholder:"50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"F [Hz]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.frequency,onChange:E,placeholder:"50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Dichtheidsklasse"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.dichtheidsklasse,onChange:Q,placeholder:"IP55"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Bescherming"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.bescherming,onChange:L,placeholder:"Klasse 1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Bouwjaar"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.bouwjaar,onChange:D,placeholder:"2025"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Projectnaam"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.projectnaam,onChange:S,placeholder:"Project naam"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Un van hulpstroombanen (indien van toepassing)"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:u.verdelerVanaf630Test.unHulp230,onChange:O,className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"230 [Vac]"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:u.verdelerVanaf630Test.unHulp24,onChange:R,className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"24 [Vac]"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Afwijkend [V]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.afwijkend,onChange:C,placeholder:"Afwijkende spanning"})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Handtekeningen"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Monteur"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.monteur,onChange:_,placeholder:"Naam monteur"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Eindcontroleur"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.eindcontroleur,onChange:N,placeholder:"Naam eindcontroleur"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Beproevingen"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:u.verdelerVanaf630Test.beproevingen,onChange:P,placeholder:"Ja/Nee"})]})]})]}),Object.keys(I).map(G=>a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3 text-blue-400",children:H[G]}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-2",children:"Veld"}),a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-32 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:I[G].map(J=>a.jsxs("tr",{className:"border-t border-gray-700",children:[a.jsx("td",{className:"p-2 text-sm text-gray-400",children:J.field}),a.jsx("td",{className:"p-2",children:J.description}),a.jsx("td",{className:"p-2 text-center",children:J.options&&J.options.includes("text")?a.jsx("span",{className:"text-sm text-gray-400",children:"Tekstveld"}):a.jsx("div",{className:"flex justify-center space-x-1",children:J.options.map(ie=>a.jsx("button",{className:`px-2 py-1 rounded text-xs font-medium ${J.passed===ie?ie==="akkoord"?"bg-green-600 text-white":ie==="n.v.t."?"bg-yellow-600 text-white":ie==="fout"?"bg-red-600 text-white":ie==="hersteld"?"bg-blue-600 text-white":"bg-gray-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,onClick:()=>x(J.id,"passed",ie),title:ie,children:ie==="akkoord"?"✓":ie==="n.v.t."?"N.v.t.":ie==="fout"?"✗":ie==="hersteld"?"🔧":ie},ie))})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:J.notes,onChange:ie=>x(J.id,"notes",ie.target.value),placeholder:"Opmerkingen"})})]},J.id))})]})]},G)),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{className:`btn-primary ${v()?"":"opacity-50 cursor-not-allowed"}`,onClick:h,disabled:!v()||c,children:c?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"PDF genereren..."})]}):"Test voltooien"})})]})},M=()=>u.verdelerVanaf630Test.completed?a.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:"Vanaf 630 Voltooid"}):a.jsx("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"Niet getest"}),q=$.useCallback(I=>{I.target===I.currentTarget&&o(!1)},[]),B=$.useMemo(()=>i?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:999999},onClick:q,children:a.jsxs("div",{className:"bg-[#1E2530] rounded-xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto",onClick:I=>I.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:["Verdeler vanaf 630: ",f.id," - ",f.name]}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),W()]})}):null,[i,f,u,q,v,h,c]);return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center space-x-2",title:"Verdeler vanaf 630 test",children:[a.jsx(ns,{size:16}),a.jsx("span",{children:"Verdeler vanaf 630"}),u.verdelerVanaf630Test.completed&&a.jsx("div",{className:"ml-2",children:M()})]}),i&&si.createPortal(B,document.body)]})},PV=async(e,t,r,n,s)=>{try{const i=new it("p","mm","a4"),o=i.internal.pageSize.getWidth(),c=i.internal.pageSize.getHeight();let l=await _l(i);l+=10;const{verdelerTestSimpel:A}=e;i.setFontSize(9),i.setFont("helvetica","normal"),i.setTextColor(0,0,0),i.text("Un",20,l),i.text(`: ${A.un||"400"}`,50,l),i.text("[ Vac ]",100,l),l+=5,i.text("In",20,l),i.text(`: ${A.inValue||""}`,50,l),i.text("[ A ]",100,l),l+=5,i.text("Ik dyn",20,l),i.text(`: ${A.ikDyn||""}`,50,l),i.text("[ kA ]",100,l),l+=5,i.text("Ik th",20,l),i.text(`: ${A.ikTh||""}`,50,l),i.text("[ kA ]",100,l),l+=5,i.text("F",20,l),i.text(`: ${A.frequency||"50"}`,50,l),i.text("[ Hz ]",100,l),l+=8,i.text("Un-hulp:",20,l),l+=5;const u=A.unHulp230,d=A.unHulp24;if(i.text(u?" [X] 230 [ Vac ]":" [ ] 230 [ Vac ]",25,l),i.text("Un van hulpstroombanen",60,l),l+=5,i.text(d?" [X] 24 [ Vac ]":" [ ] 24 [ Vac ]",25,l),i.text("( indien van toepassing )",60,l),l+=10,i.setFontSize(11),i.setFont("helvetica","bold"),i.text("Keuringsprocedure",20,l),l+=6,i.setFontSize(8),i.setFont("helvetica","normal"),i.text("Samenstelling: NEN-EN-IEC 61439 -1-2 (EN 61439 / IEC 439) / NEN 1010",20,l),l+=12,A.items&&A.items.length>0){const h={};A.items.forEach(m=>{h[m.category]||(h[m.category]=[]),h[m.category].push(m)});const p={goederenstroom:"1 Goederenstroom",verdeelblok:"2 Verdeelblok 80, 100, 125 en 160 A",componenten:"3 Componenten",interne_bedrading:"4 Interne bedrading",montageframe:"5 Montageframe",beproeving:"6 Beproeving",eindafwerking:"7 Eindafwerking",eindcontrole:"8 Eindcontrole",diversen:"9 Diversen"};Object.keys(h).forEach(m=>{l>c-60&&(Ci(i),i.addPage(),l=(async()=>await _l(i))(),l=20),i.setFillColor(220,220,220),i.rect(20,l-5,o-40,7,"F"),i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(0,0,0),i.text(p[m]||m,22,l),l+=8,i.setFontSize(8),i.setFont("helvetica","normal"),h[m].forEach(x=>{l>c-20&&(Ci(i),i.addPage(),l=20),i.text(x.field||"",20,l);const v=i.splitTextToSize(x.description,85);i.text(v,35,l);const y=130,b=3,_=12;if(x.options&&x.options.length>0&&x.options.forEach((P,T)=>{const j=y+T*_;i.setDrawColor(100,100,100),i.setLineWidth(.3),i.rect(j,l-2.5,b,b),x.passed===P&&(i.setFillColor(0,0,0),i.rect(j+.4,l-2.1,b-.8,b-.8,"F"))}),x.notes){const P=i.splitTextToSize(x.notes,30);i.text(P,168,l)}const N=Math.max(v.length*3.5,6);l+=N}),l+=5})}l>c-40&&(Ci(i),i.addPage(),l=20),l+=3,i.setFont("helvetica","bold"),i.setFontSize(8),i.text("Legenda status:",20,l),l+=5,i.setFont("helvetica","normal"),i.text("akkoord = Goedgekeurd",25,l),l+=3.5,i.text("n.v.t. = Niet van toepassing",25,l),l+=3.5,i.text("fout = Fout geconstateerd",25,l),l+=3.5,i.text("hersteld = Fout hersteld",25,l),l+=10,l>c-50&&(Ci(i),i.addPage(),l=20),i.setFont("helvetica","bold"),i.setFontSize(10),i.text("Handtekening voor akkoord",20,l),l+=8,i.setFont("helvetica","normal"),i.setFontSize(9),i.text("Monteur",20,l),i.text(`: ${A.monteur||""}`,60,l),l+=6,i.text("Datum",20,l),i.text(`: ${A.monteurDatum||""}`,60,l),l+=10,i.text("Tester",20,l),i.text(`: ${A.tester||""}`,60,l),l+=6,i.text("Datum",20,l),i.text(`: ${A.testerDatum||""}`,60,l),l+=10,i.text("Beproevingen",20,l),i.text(`: ${A.beproevingen||""}`,60,l),l+=6,i.text("Datum",20,l),i.text(`: ${A.beproevingenDatum||""}`,60,l),l+=10,i.text("Eindcontroleur",20,l),i.text(`: ${A.eindcontroleur||""}`,60,l),l+=6,i.text("Datum",20,l),i.text(`: ${A.eindcontroleurDatum||""}`,60,l),Ci(i);const f=i.output("datauristring");if(n&&s)try{const h=`Keuringsrapport_Simpel_${t.distributor_id||t.distributorId}_${new Date().toLocaleDateString("nl-NL").replace(/\//g,"-")}.pdf`;await $e.createDocument({projectId:n,distributorId:s,folder:"Test certificaat",name:h,type:"application/pdf",size:f.length,content:f}),console.log("PDF automatically saved to Test certificaat folder"),ge.success("Keuringsrapport Simpel PDF automatisch opgeslagen in Test certificaat map!")}catch(h){console.error("Error saving PDF to documents:",h),ge.error("PDF gegenereerd maar kon niet automatisch worden opgeslagen")}return f}catch(i){throw console.error("Error generating PDF:",i),ge.error("Fout bij genereren van PDF"),i}},IV=({verdeler:e,projectNumber:t,onComplete:r,projectId:n,distributorId:s})=>{const[i,o]=$.useState(!1),[c,l]=$.useState(!1),[A,u]=$.useState(!1),d=$.useMemo(()=>({verdelerTestSimpel:{completed:!1,date:new Date().toISOString().split("T")[0],testedBy:"",monteur:"",tester:"",beproevingen:"",eindcontroleur:"",un:"400",inValue:"",ikDyn:"",ikTh:"",frequency:"50",unHulp230:!1,unHulp24:!1,afwijkend:"",items:[{id:1,category:"goederenstroom",field:"1.01",description:"Ontvangstprocedure volgens ISO 9003",passed:null,notes:"",options:["akkoord","n.v.t."]},{id:2,category:"verdeelblok",field:"2.02",description:"Toegepaste nom. waarde vedeelblok",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:3,category:"verdeelblok",field:"2.02",description:"250 A 12 x 5 mm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:4,category:"verdeelblok",field:"2.02",description:"315 A 20 x 5 mm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:5,category:"verdeelblok",field:"2.02",description:"400 A 30 x 5 mm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:6,category:"verdeelblok",field:"2.02",description:"500 A 20 x 10 mm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:7,category:"verdeelblok",field:"2.02",description:"630 A 30 x 10 mm",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:8,category:"componenten",field:"3.01",description:"Componenten volgens indelingsschets deugdelijk geplaatst",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:9,category:"componenten",field:"3.02",description:"Componenten ingesteld volgens: type",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:10,category:"componenten",field:"3.02",description:"tijdrelais",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:11,category:"componenten",field:"3.02",description:"programmaklokken",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:12,category:"componenten",field:"3.02",description:"meetinstrumenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:13,category:"componenten",field:"3.03",description:"Voldoende koeling tussen componenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:14,category:"componenten",field:"3.04",description:"Rijgklemmen aanwezig",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:15,category:"componenten",field:"3.05",description:"Rijgklemmen + overige klemmen vastgedraaid",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:16,category:"componenten",field:"3.06",description:"Juiste kleuren drukknoppen en / of signaallampen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:17,category:"componenten",field:"3.07",description:"Juiste spanning bij signaallampen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:18,category:"componenten",field:"3.08",description:"Juiste spoelspanning besturingscomponenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:19,category:"componenten",field:"3.09",description:"Mechanische controle schakelaar(s) en componenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:20,category:"componenten",field:"3.10",description:"Componenten gemonteerd in kastdeur(en)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:21,category:"componenten",field:"3.11",description:"Componenten in kastdeur gecodeerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:22,category:"interne_bedrading",field:"4.01",description:"90°C bedrading toegepast",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:23,category:"interne_bedrading",field:"4.02",description:"Bedradingsdoorsnede juist gekozen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:24,category:"interne_bedrading",field:"4.03",description:"Juiste draadkleuren toegepast",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:25,category:"interne_bedrading",field:"4.06",description:"Componenten vastgedraaid met juiste aandraaimomenten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:26,category:"interne_bedrading",field:"4.07",description:"Bedrading overzichtelijk aangelegd met het oog op eventuele uitbreidingen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:27,category:"interne_bedrading",field:"4.10",description:"Bedrading deugdelijk gebundeld",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:28,category:"interne_bedrading",field:"4.11",description:"Bedrading gecontroleerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:29,category:"montageframe",field:"5.01",description:"Controle diepte-instelling i.v.m. componentenhoogte",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:30,category:"montageframe",field:"5.02",description:"Frame geplaatst in verdeler",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:31,category:"montageframe",field:"5.03",description:"Volledige frame bevestigd aan beschermingsleiding. Stickers zichtbaar aanbrengen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:32,category:"montageframe",field:"5.04",description:"Scheidingsschotten opgenomen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:33,category:"montageframe",field:"5.05",description:"Verdelerdeur(en) bevestigd aan beschermingsleiding. Stickers zichtbaar aanbrengen (uitsluitend geaarde verdelers)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:34,category:"montageframe",field:"5.06",description:"Bij toepassing van kunststof verdelers / volledige isolatie: Frame en verdelerdeur(en) niet met beschermingsleiding doorverbinden",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:35,category:"beproeving",field:"6.01",description:"Routineproef: Inspecteer verdeler(s), incl. bedrading",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:36,category:"beproeving",field:"6.01",description:"Elektrische functionele proef uitgevoerd met nominale bedrijfsspanning",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:37,category:"beproeving",field:"6.01",description:"Alle eindgroepen functioneren",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:38,category:"beproeving",field:"6.01",description:"Aardlek-elementen getest (via foutstroom)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:39,category:"beproeving",field:"6.01",description:"Overige schakelingen gecontroleerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:40,category:"beproeving",field:"6.02",description:"Functietest beproevingsapparatuur uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:41,category:"beproeving",field:"6.03",description:"Routineproef: Toetsing beschermingsmaatregelen en doorgaande verbinding van de stroombaan van de beschermingsleiding",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:42,category:"beproeving",field:"6.04",description:"Routineproef: Meggertest HT instruments Fulltest3 - 1 sec. 1000 V bij 24 V (Ui ≤ 60 V)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:43,category:"beproeving",field:"6.04",description:"Routineproef: Meggertest - 1 sec. 1500 V bij 230 V (60 V < Ui ≤ 300 V)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:44,category:"beproeving",field:"6.04",description:"Spanningsproef uitgevoerd (item A): Alle schakeltoestellen bevinden zich in ingeschakelde toestand",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:45,category:"beproeving",field:"6.04",description:"Spanningsproef uitgevoerd (item B): Proefspanning is achtereenvolgens aan alle onderdelen van stroombron aangelegd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:46,category:"beproeving",field:"6.04",description:"Bijlage gecontroleerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:47,category:"beproeving",field:"6.04",description:"Componenten geschikt voor lagere isolatiespanning elektrisch losgekoppeld",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:48,category:"beproeving",field:"6.04",description:"Testprocedure uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:49,category:"beproeving",field:"6.04",description:"Geen doorslag óf overslag geconstateerd (proef is geslaagd)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:50,category:"beproeving",field:"6.04",description:"Losgekoppelde componenten elektrisch aangesloten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:51,category:"beproeving",field:"6.04",description:"2e spanningsproef uitgevoerd ter plaatse bij opstelling (uitvoering door de klant)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:52,category:"beproeving",field:"6.04",description:"Geen doorslag óf overslag geconstateerd (proef is geslaagd)",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:53,category:"beproeving",field:"6.05",description:"Functietest beproevingsapparatuur uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:54,category:"beproeving",field:"6.06",description:"Isolatieweerstand: Fase t.o.v. omhulling/aarde ≥300 MΩ",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:55,category:"beproeving",field:"6.06",description:"Isolatieweerstand: Fase t.o.v. Fase (L1-L2, L1-L3, L2-L3) ≥300 MΩ",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:56,category:"beproeving",field:"6.06",description:"Isolatieweerstand: Hulpstroomkring t.o.v. omhulling/constructiedelen ≥300 MΩ",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:57,category:"beproeving",field:"6.06",description:"Isolatieweerstand: N t.o.v. PE ≥300 MΩ",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:58,category:"beproeving",field:"6.07",description:"Kruip- en luchtwegen volgens bepaling 7.1.2",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:59,category:"eindafwerking",field:"7.01",description:"Tekeninghouder opgenomen",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:60,category:"eindafwerking",field:"7.02",description:"Tekeningen + producthandleidingen meegeleverd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:61,category:"eindafwerking",field:"7.03",description:"Wandbevestigingsbeugels ingesloten in verdeler",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:62,category:"eindafwerking",field:"7.04",description:"Deursleutels meegeleverd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:63,category:"eindafwerking",field:"7.05",description:"Rijgklemmen gecodeerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:64,category:"eindafwerking",field:"7.06",description:"Groepencodering op afdekplaten",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:65,category:"eindafwerking",field:"7.07",description:"Creditcard en keuringssticker geplaatst aan de binnenzijde van de kastdeur",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:66,category:"eindafwerking",field:"7.08",description:"Flensplaten gemonteerd in verdeler",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:67,category:"eindafwerking",field:"7.09",description:"Warmteberekening uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:68,category:"eindafwerking",field:"7.10",description:"Algemene reiniging verdeler uitgevoerd",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:69,category:"eindcontrole",field:"8.01",description:"Keuringsrapport volledig",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:70,category:"eindcontrole",field:"8.02",description:"Kopie keuringsrapport + Kopie sticker toegevoegd aan eigen projectgegevens",passed:null,notes:"",options:["akkoord","n.v.t.","fout","hersteld"]},{id:71,category:"diversen",field:"9.01",description:"Diversen - Vrije opmerkingen",passed:null,notes:"",options:["text"]}]}}),[]),[f,h]=$.useState(d),p=$.useMemo(()=>({id:e.distributorId||e.distributor_id,name:e.kastNaam||e.kast_naam||"Naamloos"}),[e.distributorId,e.distributor_id,e.kastNaam,e.kast_naam]);$.useEffect(()=>{const H=localStorage.getItem(`verdeler_test_simpel_${p.id}`);if(H)try{const G=JSON.parse(H);h(G)}catch(G){console.error("Error parsing saved test data:",G)}},[p.id]);const m=$.useCallback(async()=>{u(!0)},[]),x=$.useCallback(async()=>{const H={...f,verdelerTestSimpel:{...f.verdelerTestSimpel,completed:!0}};h(H);try{localStorage.setItem(`verdeler_test_simpel_${p.id}`,JSON.stringify(H)),r(H)}catch(G){console.error("Error saving test data:",G),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens");return}try{l(!0),u(!1),await PV(H,e,t,n,s),ht.success("Verdeler Test Simpel voltooid en PDF automatisch opgeslagen!")}catch(G){console.error("Error generating PDF:",G),ht.error("Test voltooid, maar PDF generatie mislukt")}finally{l(!1)}ht.success("Verdeler Test Simpel succesvol afgerond!"),o(!1)},[f,p.id,r,e,t,n,s]),v=$.useCallback(H=>G=>{const J=G.target.value;h(ie=>({...ie,verdelerTestSimpel:{...ie.verdelerTestSimpel,[H]:J}}))},[]),y=$.useCallback(H=>G=>{const J=G.target.checked;h(ie=>({...ie,verdelerTestSimpel:{...ie.verdelerTestSimpel,[H]:J}}))},[]),b=$.useCallback((H,G,J)=>{h(ie=>{const Ae={...ie},se={...Ae.verdelerTestSimpel},we=[...se.items],be=we.findIndex(ve=>ve.id===H);return be!==-1&&(we[be]={...we[be],[G]:J}),se.items=we,Ae.verdelerTestSimpel=se,Ae})},[]),_=$.useCallback(H=>{h(G=>{const J={...G},ie={...J.verdelerTestSimpel},Ae=[...ie.items];return Ae.forEach((se,we)=>{se.category===H&&(!se.options||!se.options.includes("text"))&&(Ae[we]={...se,passed:"akkoord"})}),ie.items=Ae,J.verdelerTestSimpel=ie,J}),ht.success("Alle vragen in dit hoofdstuk aangekruist als akkoord")},[]),N=$.useCallback(()=>f.verdelerTestSimpel.items.every(H=>H.options&&H.options.includes("text")?!0:H.passed!==null&&H.passed!==void 0&&H.passed!=="")&&f.verdelerTestSimpel.testedBy.trim()!==""&&f.verdelerTestSimpel.monteur.trim()!==""&&f.verdelerTestSimpel.eindcontroleur.trim()!=="",[f]),P=$.useMemo(()=>v("date"),[v]),T=$.useMemo(()=>v("testedBy"),[v]),j=$.useMemo(()=>v("monteur"),[v]),k=$.useMemo(()=>v("eindcontroleur"),[v]),z=$.useMemo(()=>v("beproevingen"),[v]),E=$.useMemo(()=>v("un"),[v]),C=$.useMemo(()=>v("inValue"),[v]),Q=$.useMemo(()=>v("ikDyn"),[v]),L=$.useMemo(()=>v("ikTh"),[v]),D=$.useMemo(()=>v("frequency"),[v]),S=$.useMemo(()=>v("afwijkend"),[v]),O=$.useMemo(()=>y("unHulp230"),[y]),R=$.useMemo(()=>y("unHulp24"),[y]),W=()=>{const H={};f.verdelerTestSimpel.items.forEach(J=>{H[J.category]||(H[J.category]=[]),H[J.category].push(J)});const G={goederenstroom:"1. Goederenstroom",verdeelblok:"2. Verdeelblok 80, 100, 125 en 160 A",componenten:"3. Componenten",interne_bedrading:"4. Interne bedrading",montageframe:"5. Montageframe",beproeving:"6. Beproeving",eindafwerking:"7. Eindafwerking",eindcontrole:"8. Eindcontrole",diversen:"9. Diversen"};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Keuringsrapport - Verdeler Test Simpel"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Datum"}),a.jsx("input",{type:"date",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.date,onChange:P})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tester"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.testedBy,onChange:T,placeholder:"Naam tester"})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Technische Specificaties"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Un [Vac]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.un,onChange:E,placeholder:"400"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"In [A]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.inValue,onChange:C,placeholder:"Ampère"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ik dyn [kA]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.ikDyn,onChange:Q,placeholder:"kA"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ik th [kA]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.ikTh,onChange:L,placeholder:"kA"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"F [Hz]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.frequency,onChange:D,placeholder:"50"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Un van hulpstroombanen (indien van toepassing)"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:f.verdelerTestSimpel.unHulp230,onChange:O,className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"230 [Vac]"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:f.verdelerTestSimpel.unHulp24,onChange:R,className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"24 [Vac]"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Afwijkend [V]"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.afwijkend,onChange:S,placeholder:"Afwijkende spanning"})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Handtekeningen"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Monteur"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.monteur,onChange:j,placeholder:"Naam monteur"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Eindcontroleur"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.eindcontroleur,onChange:k,placeholder:"Naam eindcontroleur"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Beproevingen"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:f.verdelerTestSimpel.beproevingen,onChange:z,placeholder:"Ja/Nee"})]})]})]}),Object.keys(H).map(J=>a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"font-medium text-blue-400",children:G[J]}),a.jsxs("button",{onClick:()=>_(J),className:"btn-secondary flex items-center space-x-2 text-sm px-3 py-1",title:"Kruis alle vragen in dit hoofdstuk aan als akkoord",children:[a.jsx(ja,{size:16}),a.jsx("span",{children:"Alles akkoord"})]})]}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-2",children:"Veld"}),a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-32 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:H[J].map(ie=>a.jsxs("tr",{className:"border-t border-gray-700",children:[a.jsx("td",{className:"p-2 text-sm text-gray-400",children:ie.field}),a.jsx("td",{className:"p-2",children:ie.description}),a.jsx("td",{className:"p-2 text-center",children:ie.options&&ie.options.includes("text")?a.jsx("span",{className:"text-sm text-gray-400",children:"Tekstveld"}):a.jsx("div",{className:"flex justify-center space-x-1",children:ie.options.map(Ae=>a.jsx("button",{className:`px-2 py-1 rounded text-xs font-medium ${ie.passed===Ae?Ae==="akkoord"?"bg-green-600 text-white":Ae==="n.v.t."?"bg-yellow-600 text-white":Ae==="fout"?"bg-red-600 text-white":Ae==="hersteld"?"bg-blue-600 text-white":"bg-gray-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,onClick:()=>b(ie.id,"passed",Ae),title:Ae,children:Ae==="akkoord"?"✓":Ae==="n.v.t."?"N.v.t.":Ae==="fout"?"✗":Ae==="hersteld"?"🔧":Ae},Ae))})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:ie.notes,onChange:Ae=>b(ie.id,"notes",Ae.target.value),placeholder:"Opmerkingen"})})]},ie.id))})]})]},J)),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{className:`btn-primary ${N()?"":"opacity-50 cursor-not-allowed"}`,onClick:m,disabled:!N()||c,children:c?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"PDF genereren..."})]}):"Test voltooien"})})]})},M=()=>f.verdelerTestSimpel.completed?a.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:"Simpel Voltooid"}):a.jsx("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"Niet getest"}),q=$.useCallback(H=>{H.target===H.currentTarget&&o(!1)},[]),B=$.useMemo(()=>i?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:999999},onClick:q,children:a.jsxs("div",{className:"bg-[#1E2530] rounded-xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto",onClick:H=>H.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:["Verdeler Test Simpel: ",p.id," - ",p.name]}),a.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),W()]})}):null,[i,p,f,q,N,m,c]),I=$.useMemo(()=>A?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:9999999},onClick:H=>{H.target===H.currentTarget&&u(!1)},children:a.jsxs("div",{className:"bg-[#1E2530] rounded-xl p-6 max-w-md w-full",onClick:H=>H.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Bevestiging"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"Zijn de vragen zorgvuldig gelezen en beantwoord?"}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"btn-secondary",children:"Annuleren"}),a.jsx("button",{onClick:x,className:"btn-primary",children:"Ja, voltooien"})]})]})}):null,[A,x]);return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>o(!0),className:"btn-secondary flex items-center space-x-2",title:"Verdeler Test Simpel",children:[a.jsx(ns,{size:16}),a.jsx("span",{children:"Verdeler Test Simpel"}),f.verdelerTestSimpel.completed&&a.jsx("div",{className:"ml-2",children:M()})]}),i&&si.createPortal(B,document.body),A&&si.createPortal(I,document.body)]})},OV=({verdeler:e,projectNumber:t,onComplete:r})=>{const[n,s]=$.useState(!1),i=$.useMemo(()=>({factoryTest:{completed:!1,date:new Date().toISOString().split("T")[0],testedBy:"",measurements:{isolationResistance:"",continuityTest:"",functionalTest:"",voltageTest:""},items:[{id:1,category:"algemeen",description:"Afmetingen",passed:null,notes:""},{id:2,category:"algemeen",description:"Lakwerk",passed:null,notes:""},{id:3,category:"algemeen",description:"Scharnieren en deursluitingen",passed:null,notes:""},{id:4,category:"algemeen",description:"Tekening- groepenverklaringhouder",passed:null,notes:""},{id:5,category:"algemeen",description:"Beschermingsgraad IP",passed:null,notes:""},{id:6,category:"algemeen",description:"Naamplaat fabrikant",passed:null,notes:""},{id:7,category:"algemeen",description:"Aantal en plaats kabeldoorvoeringen",passed:null,notes:""},{id:8,category:"algemeen",description:"Aantal en plaats doorvoertulen",passed:null,notes:""},{id:9,category:"algemeen",description:"Kast en draadgoten schoongemaakt",passed:null,notes:""},{id:10,category:"algemeen",description:"Deurkoppelingen schakelaars",passed:null,notes:""},{id:11,category:"algemeen",description:"Bedieningsgreep smeltveiligheden",passed:null,notes:""},{id:12,category:"algemeen",description:"Montageframes wand/vloer",passed:null,notes:""},{id:13,category:"algemeen",description:"Certicificaten, CE verklaring installatie onderdelen",passed:null,notes:""},{id:14,category:"algemeen",description:"Verklaring integraal bouwen",passed:null,notes:""},{id:15,category:"railsysteem",description:"Raildoorsnede",passed:null,notes:""},{id:16,category:"railsysteem",description:"Kruip- en luchtwegen",passed:null,notes:""},{id:17,category:"railsysteem",description:"Verbindingsbouten kwaliteit 8.8",passed:null,notes:""},{id:18,category:"railsysteem",description:"Bouten aangetrokken en gelakt",passed:null,notes:""},{id:19,category:"railsysteem",description:"Tapbouten in rail van de juiste lengte",passed:null,notes:""},{id:20,category:"montage",description:"Voeding direct op hoofdschakelaar",passed:null,notes:""},{id:21,category:"montage",description:"Licht- en krachtinstallatie gescheiden",passed:null,notes:""},{id:22,category:"montage",description:"Niet beveiligde geleiders separaat aangebracht",passed:null,notes:""},{id:23,category:"montage",description:"Reserveruimte volgens tekening aanwezig",passed:null,notes:""},{id:24,category:"montage",description:"Reserveruimte in draadgoten",passed:null,notes:""},{id:25,category:"montage",description:"Voldoende ruimte voor inkomende kabels",passed:null,notes:""},{id:26,category:"montage",description:"Kabelopvangrail aanwezig",passed:null,notes:""},{id:27,category:"montage",description:"Afgaande groepen op klemmen uitgevoerd",passed:null,notes:""},{id:28,category:"montage",description:"Aansluitklemmen geschikt voor inkomende kabels",passed:null,notes:""},{id:29,category:"montage",description:"Scheidingsschotten tussen de aansluitklemmen",passed:null,notes:""},{id:30,category:"montage",description:"Apparatuur van juiste fabricaat en type",passed:null,notes:""},{id:31,category:"montage",description:"Bevestiging van de apparatuur",passed:null,notes:""},{id:32,category:"montage",description:"Draadbundels flexibel en voorzien van trekontlasting",passed:null,notes:""},{id:33,category:"montage",description:"Ventilatieroosters t.b.v. koeling",passed:null,notes:""},{id:34,category:"montage",description:"Intrinsiekveilige bedrading in aparte goot",passed:null,notes:""},{id:35,category:"montage",description:"Draaddoorsnede",passed:null,notes:""},{id:36,category:"montage",description:"Draadkleuren",passed:null,notes:""},{id:37,category:"montage",description:"Alle apparatuur goed bereikbaar",passed:null,notes:""},{id:38,category:"afscherming",description:"Niet beveiligde geleiders",passed:null,notes:""},{id:39,category:"afscherming",description:"Vreemde spanningen",passed:null,notes:""},{id:40,category:"afscherming",description:"Aansluitklemmen voedingskabel",passed:null,notes:""},{id:41,category:"afscherming",description:"Hoofdschakelaar",passed:null,notes:""},{id:42,category:"afscherming",description:"Apparatuur binnenzijde deuren",passed:null,notes:""},{id:43,category:"afscherming",description:"Overige spanningvoerende delen >50V ~ of 110V =",passed:null,notes:""},{id:44,category:"aarding",description:"Deuren",passed:null,notes:""},{id:45,category:"aarding",description:"Montageplaten",passed:null,notes:""},{id:46,category:"aarding",description:"Meet- en regelapparatuur",passed:null,notes:""},{id:47,category:"aarding",description:"Stroomtransformatoren / transformatoren",passed:null,notes:""},{id:48,category:"aarding",description:"Aardrail goed bereikbaar",passed:null,notes:""},{id:49,category:"aarding",description:"Aardbout- en aardraildoorsnede",passed:null,notes:""},{id:50,category:"aarding",description:"Voldoende aansluitbouten op aardrail",passed:null,notes:""},{id:51,category:"aarding",description:"Schone aarde",passed:null,notes:""},{id:52,category:"coderingen",description:"Railsysteem",passed:null,notes:""},{id:53,category:"coderingen",description:"Bedrading",passed:null,notes:""},{id:54,category:"coderingen",description:"Aansluitklemmen",passed:null,notes:""},{id:55,category:"coderingen",description:"Apparatuur in kast- resopal",passed:null,notes:""},{id:56,category:"coderingen",description:"Apparatuur in front- resopal",passed:null,notes:""},{id:57,category:"coderingen",description:"Gravering schakelaars",passed:null,notes:""},{id:58,category:"coderingen",description:"Kleur signaallamplensjes",passed:null,notes:""},{id:59,category:"coderingen",description:"Codering kastnaam",passed:null,notes:""},{id:60,category:"instellingen",description:"Hoofdautomaat trafo thermisch",passed:null,notes:""},{id:61,category:"instellingen",description:"Hoofdautomaat trafo maximaal",passed:null,notes:""},{id:62,category:"instellingen",description:"Hoofdschakelaars/schakelaars In = 2500 A",passed:null,notes:""},{id:63,category:"instellingen",description:"Maximaalautomaten",passed:null,notes:""},{id:64,category:"instellingen",description:"Thermische relais",passed:null,notes:""},{id:65,category:"instellingen",description:"Installatieautomaten",passed:null,notes:""},{id:66,category:"instellingen",description:"Smeltveiligheden wel / niet leveren",passed:null,notes:""},{id:67,category:"instellingen",description:"Tijdrelais",passed:null,notes:""},{id:68,category:"instellingen",description:"Transformatoren",passed:null,notes:""},{id:69,category:"instellingen",description:"Meetinstrumenten- stoomtransformatoren",passed:null,notes:""},{id:70,category:"instellingen",description:"Spoelspanningen",passed:null,notes:""},{id:71,category:"functioneel",description:"Fasevolgorde",passed:null,notes:""},{id:72,category:"functioneel",description:"Bedrading schakelapparatuur",passed:null,notes:""},{id:73,category:"functioneel",description:"Bedrading elektronische apparatuur",passed:null,notes:""},{id:74,category:"functioneel",description:"Bedrading meet- en regelapparatuur",passed:null,notes:""},{id:75,category:"functioneel",description:"Functionele elektrische test voedende (trafo) zijde",passed:null,notes:""},{id:76,category:"functioneel",description:"Functionele elektrische test (preferente) zijde",passed:null,notes:""},{id:77,category:"functioneel",description:"Kastverlichting/ventilatie/verwarming",passed:null,notes:""},{id:78,category:"functioneel",description:"Servicewandkontaktdoos",passed:null,notes:""},{id:79,category:"functioneel",description:"Blindschema's kleuren symbolen",passed:null,notes:""},{id:80,category:"functioneel",description:"Aanwijzing meetinstrumenten",passed:null,notes:""},{id:81,category:"functioneel",description:"Functionele pneumatische test",passed:null,notes:""},{id:82,category:"functioneel",description:"Sleutels van schakelaars onverwisselbaar",passed:null,notes:""},{id:83,category:"functioneel",description:"Schakelaar niet preferent aangesloten op juiste klemmen",passed:null,notes:""},{id:84,category:"functioneel",description:"Schakelaar preferent aangesloten op juiste klemmen",passed:null,notes:""},{id:85,category:"functioneel",description:"Controle werking storingscontacten",passed:null,notes:""},{id:86,category:"functioneel",description:"Controle sturingen in status net",passed:null,notes:""},{id:87,category:"functioneel",description:"Controle sturingen in status nood",passed:null,notes:""},{id:88,category:"functioneel",description:"Controle voeding sprinklerinstallatie in net situatie",passed:null,notes:""},{id:89,category:"diversen",description:"Wordt de kast in de afgesproken delen aangevoerd",passed:null,notes:""},{id:90,category:"diversen",description:"Zijn voldoende hijsogen aangebracht",passed:null,notes:""},{id:91,category:"diversen",description:"Deursleutels aanwezig",passed:null,notes:""},{id:92,category:"diversen",description:"Reserve onderdelen kompleet",passed:null,notes:""},{id:93,category:"diversen",description:"Busje reservelak",passed:null,notes:""},{id:94,category:"diversen",description:"Certificaat van kast of systeem",passed:null,notes:""},{id:95,category:"diversen",description:"Bedienings- en onderhoudsvoorschrift apparatuur",passed:null,notes:""},{id:96,category:"diversen",description:"Revisiegegevens verwerkt op tekening",passed:null,notes:""}]}}),[]),[o,c]=$.useState(i),l=$.useMemo(()=>({id:e.distributorId,name:e.kastNaam||"Naamloos"}),[e.distributorId,e.kastNaam]);$.useEffect(()=>{const j=localStorage.getItem(`fat_test_${e.distributorId}`);if(j)try{const k=JSON.parse(j);c(k)}catch(k){console.error("Error parsing saved test data:",k),ht.error("Er is een fout opgetreden bij het laden van de testgegevens")}},[e.distributorId]),$.useCallback(()=>{try{return localStorage.setItem(`fat_test_${e.distributorId}`,JSON.stringify(o)),r(o),!0}catch(j){return console.error("Error saving test data:",j),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens"),!1}},[o,e.distributorId,r]);const A=$.useCallback(()=>{const j={...o,factoryTest:{...o.factoryTest,completed:!0}};c(j);try{localStorage.setItem(`fat_test_${e.distributorId}`,JSON.stringify(j)),r(j)}catch(k){console.error("Error saving test data:",k),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens");return}ht.success("Factory Acceptance Test succesvol afgerond!"),s(!1)},[o,e.distributorId,r]),u=$.useCallback(j=>k=>{const z=k.target.value;c(E=>({...E,factoryTest:{...E.factoryTest,[j]:z}}))},[]),d=$.useCallback((j,k,z)=>{c(E=>{const C={...E},Q={...C.factoryTest},L=[...Q.items],D=L.findIndex(S=>S.id===j);return D!==-1&&(L[D]={...L[D],[k]:z}),Q.items=L,C.factoryTest=Q,C})},[]),f=$.useCallback(j=>k=>{const z=k.target.value;c(E=>({...E,factoryTest:{...E.factoryTest,measurements:{...E.factoryTest.measurements,[j]:z}}}))},[]),h=$.useCallback(()=>o.factoryTest.items.every(j=>j.passed!==null&&j.passed!==void 0)&&o.factoryTest.testedBy.trim()!=="",[o]),p=$.useMemo(()=>u("date"),[u]),m=$.useMemo(()=>u("testedBy"),[u]),x=$.useMemo(()=>f("isolationResistance"),[f]),v=$.useMemo(()=>f("continuityTest"),[f]),y=$.useMemo(()=>f("functionalTest"),[f]),b=$.useMemo(()=>f("voltageTest"),[f]),_=()=>{const j={};return o.factoryTest.items.forEach(k=>{j[k.category]||(j[k.category]=[]),j[k.category].push(k)}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Factory Acceptance Test (FAT)"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Datum"}),a.jsx("input",{type:"date",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.factoryTest.date,onChange:p})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Getest door"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.factoryTest.testedBy,onChange:m,placeholder:"Naam tester"})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Meetwaarden"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Isolatieweerstand (MΩ)"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.factoryTest.measurements.isolationResistance,onChange:x,placeholder:"Meetwaarde"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Doorgangstest (Ω)"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.factoryTest.measurements.continuityTest,onChange:v,placeholder:"Meetwaarde"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Functionele test (V)"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.factoryTest.measurements.functionalTest,onChange:y,placeholder:"Meetwaarde"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Spanningstest (V)"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.factoryTest.measurements.voltageTest,onChange:b,placeholder:"Meetwaarde"})]})]})]}),Object.keys(j).map(k=>a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3 text-blue-400 capitalize",children:k}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-2",children:"Test"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:j[k].map(z=>a.jsxs("tr",{className:"border-t border-gray-700",children:[a.jsx("td",{className:"p-2",children:z.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsx("button",{className:`p-1 rounded ${z.passed===!0?"bg-green-600":"bg-gray-700 hover:bg-green-600"}`,onClick:()=>d(z.id,"passed",!0),children:a.jsx(Ti,{size:18})}),a.jsx("button",{className:`p-1 rounded text-xs font-medium ${z.passed==="nvt"?"bg-yellow-600 text-white":"bg-gray-700 hover:bg-yellow-600 text-gray-300"}`,onClick:()=>d(z.id,"passed","nvt"),title:"Niet van toepassing",children:"N.v.t."}),a.jsx("button",{className:`p-1 rounded ${z.passed===!1?"bg-red-600":"bg-gray-700 hover:bg-red-600"}`,onClick:()=>d(z.id,"passed",!1),children:a.jsx(gt,{size:18})})]})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:z.notes,onChange:E=>d(z.id,"notes",E.target.value),placeholder:"Opmerkingen"})})]},z.id))})]})]},k)),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{className:`btn-primary ${h()?"":"opacity-50 cursor-not-allowed"}`,onClick:A,disabled:!h(),children:"Test voltooien"})})]})},N=()=>o.factoryTest.completed?a.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:"FAT Voltooid"}):a.jsx("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"Niet getest"}),P=$.useCallback(j=>{j.target===j.currentTarget&&s(!1)},[]),T=$.useMemo(()=>n?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:999999},onClick:P,children:a.jsxs("div",{className:"bg-[#1E2530] rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:["FAT Test: ",l.id," - ",l.name]}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),_()]})}):null,[n,l,o,P,h,A]);return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>s(!0),className:"btn-secondary flex items-center space-x-2",title:"FAT Test",children:[a.jsx(ns,{size:16}),a.jsx("span",{children:"FAT Test"}),o.factoryTest.completed&&a.jsx("div",{className:"ml-2",children:N()})]}),n&&si.createPortal(T,document.body)]})},TV=({verdeler:e,projectNumber:t,onComplete:r})=>{const[n,s]=$.useState(!1),i=$.useMemo(()=>({highVoltageTest:{completed:!1,date:new Date().toISOString().split("T")[0],testedBy:"",testVoltage:"",testDuration:"",ambientTemperature:"",humidity:"",items:[{id:1,description:"Is het verdeelsysteem volledig spanningsloos gemaakt vóór de test?",passed:null,notes:""},{id:2,description:"Zijn alle externe verbindingen en de aarding gecontroleerd en indien nodig losgekoppeld of goed geaard?",passed:null,notes:""},{id:3,description:"Is de juiste testspanning volgens de geldende norm ingesteld?",passed:null,notes:""},{id:4,description:"Wordt de testspanning aangelegd tussen de juiste punten (alle actieve delen en de aardklem/behuizing)?",passed:null,notes:""},{id:5,description:"Is de testspanning gedurende de voorgeschreven tijdsduur aangehouden (minimaal 1 minuut)?",passed:null,notes:""},{id:6,description:"Is de meetopstelling veilig voor het personeel (o.a. afzettingen en PBM's)?",passed:null,notes:""},{id:7,description:"Is er tijdens de test geen ongewenste doorslag of te hoge lekstroom gemeten?",passed:null,notes:""},{id:8,description:"Zijn alle relevante polen en combinaties van fasen en nul getest?",passed:null,notes:""},{id:9,description:"Is de test uitgevoerd onder geschikte omgevingstemperatuur en luchtvochtigheid?",passed:null,notes:""},{id:10,description:"Zijn gevoelige componenten (zoals overspanningsbeveiliging of elektronica) vooraf losgenomen of beschermd?",passed:null,notes:""},{id:11,description:"Zijn de meetresultaten en de tijdsduur correct geregistreerd?",passed:null,notes:""},{id:12,description:"Is de verdeler na de test weer correct aangesloten en bedrijfsklaar gemaakt?",passed:null,notes:""},{id:13,description:"Zijn er na de test geen zichtbare beschadigingen aan de isolatie of componenten geconstateerd?",passed:null,notes:""},{id:14,description:"Is de gebruikte testapparatuur gekalibreerd en goedgekeurd?",passed:null,notes:""},{id:15,description:"Is het testresultaat besproken met de verantwoordelijke of opdrachtgever?",passed:null,notes:""}]}}),[]),[o,c]=$.useState(i),l=$.useMemo(()=>({id:e.distributorId,name:e.kastNaam||"Naamloos"}),[e.distributorId,e.kastNaam]);$.useEffect(()=>{const T=localStorage.getItem(`hv_test_${e.distributorId}`);if(T)try{const j=JSON.parse(T);c(j)}catch(j){console.error("Error parsing saved test data:",j),ht.error("Er is een fout opgetreden bij het laden van de testgegevens")}},[e.distributorId]),$.useCallback(()=>{try{return localStorage.setItem(`hv_test_${e.distributorId}`,JSON.stringify(o)),r(o),!0}catch(T){return console.error("Error saving test data:",T),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens"),!1}},[o,e.distributorId,r]);const A=$.useCallback(()=>{const T={...o,highVoltageTest:{...o.highVoltageTest,completed:!0}};c(T);try{localStorage.setItem(`hv_test_${e.distributorId}`,JSON.stringify(T)),r(T)}catch(j){console.error("Error saving test data:",j),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens");return}ht.success("Hoogspanning test succesvol afgerond!"),s(!1)},[o,e.distributorId,r]),u=$.useCallback(T=>j=>{const k=j.target.value;c(z=>({...z,highVoltageTest:{...z.highVoltageTest,[T]:k}}))},[]),d=$.useCallback((T,j,k)=>{c(z=>{const E={...z},C={...E.highVoltageTest},Q=[...C.items],L=Q.findIndex(D=>D.id===T);return L!==-1&&(Q[L]={...Q[L],[j]:k}),C.items=Q,E.highVoltageTest=C,E})},[]),f=$.useCallback(()=>o.highVoltageTest.items.every(T=>T.passed!==null&&T.passed!==void 0)&&o.highVoltageTest.testedBy.trim()!=="",[o]),h=$.useMemo(()=>u("date"),[u]),p=$.useMemo(()=>u("testedBy"),[u]),m=$.useMemo(()=>u("testVoltage"),[u]),x=$.useMemo(()=>u("testDuration"),[u]),v=$.useMemo(()=>u("ambientTemperature"),[u]),y=$.useMemo(()=>u("humidity"),[u]),b=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Hoogspanning Test"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Datum"}),a.jsx("input",{type:"date",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.highVoltageTest.date,onChange:h})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Getest door"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.highVoltageTest.testedBy,onChange:p,placeholder:"Naam tester"})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Test Parameters"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Testspanning (V)"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.highVoltageTest.testVoltage,onChange:m,placeholder:"Testspanning"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Test duur (minuten)"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.highVoltageTest.testDuration,onChange:x,placeholder:"Test duur"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Omgevingstemperatuur (°C)"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.highVoltageTest.ambientTemperature,onChange:v,placeholder:"Temperatuur"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Luchtvochtigheid (%)"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.highVoltageTest.humidity,onChange:y,placeholder:"Luchtvochtigheid"})]})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-3 text-blue-400",children:"Veiligheids- en Testchecklist"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:o.highVoltageTest.items.map(T=>a.jsxs("tr",{className:"border-t border-gray-700",children:[a.jsx("td",{className:"p-2",children:T.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsx("button",{className:`p-1 rounded ${T.passed===!0?"bg-green-600":"bg-gray-700 hover:bg-green-600"}`,onClick:()=>d(T.id,"passed",!0),children:a.jsx(Ti,{size:18})}),a.jsx("button",{className:`p-1 rounded text-xs font-medium ${T.passed==="nvt"?"bg-yellow-600 text-white":"bg-gray-700 hover:bg-yellow-600 text-gray-300"}`,onClick:()=>d(T.id,"passed","nvt"),title:"Niet van toepassing",children:"N.v.t."}),a.jsx("button",{className:`p-1 rounded ${T.passed===!1?"bg-red-600":"bg-gray-700 hover:bg-red-600"}`,onClick:()=>d(T.id,"passed",!1),children:a.jsx(gt,{size:18})})]})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:T.notes,onChange:j=>d(T.id,"notes",j.target.value),placeholder:"Opmerkingen"})})]},T.id))})]})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{className:`btn-primary ${f()?"":"opacity-50 cursor-not-allowed"}`,onClick:A,disabled:!f(),children:"Test voltooien"})})]}),_=()=>o.highVoltageTest.completed?a.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:"HV Test Voltooid"}):a.jsx("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"Niet getest"}),N=$.useCallback(T=>{T.target===T.currentTarget&&s(!1)},[]),P=$.useMemo(()=>n?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:999999},onClick:N,children:a.jsxs("div",{className:"bg-[#1E2530] rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:["Hoogspanning Test: ",l.id," - ",l.name]}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),b()]})}):null,[n,l,o,N,f,A]);return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>s(!0),className:"btn-secondary flex items-center space-x-2",title:"Hoogspanning test",children:[a.jsx(ns,{size:16}),a.jsx("span",{children:"Hoogspanning test"}),o.highVoltageTest.completed&&a.jsx("div",{className:"ml-2",children:_()})]}),n&&si.createPortal(P,document.body)]})},LV=({verdeler:e,projectNumber:t,onComplete:r})=>{const[n,s]=$.useState(!1),i=$.useMemo(()=>({onSiteTest:{completed:!1,date:new Date().toISOString().split("T")[0],testedBy:"",location:"",transportDamage:!1,reassemblyRequired:!1,items:[{id:1,description:"Visuele inspectie op transportschade",passed:null,notes:""},{id:2,description:"Controle bevestigingen en verbindingen na transport",passed:null,notes:""},{id:3,description:"Herbevestiging van losgeraakte onderdelen",passed:null,notes:""},{id:4,description:"Controle van alle elektrische verbindingen",passed:null,notes:""},{id:5,description:"Controle van aardverbindingen",passed:null,notes:""},{id:6,description:"Controle van kabelverbindingen en wartels",passed:null,notes:""},{id:7,description:"Test van hoofdschakelaar functionaliteit",passed:null,notes:""},{id:8,description:"Controle van beveiligingen en automaten",passed:null,notes:""},{id:9,description:"Test van noodstop functionaliteit (indien aanwezig)",passed:null,notes:""},{id:10,description:"Controle van signalering en indicatie",passed:null,notes:""},{id:11,description:"Isolatiemeting tussen fasen",passed:null,notes:""},{id:12,description:"Isolatiemeting fase naar aarde",passed:null,notes:""},{id:13,description:"Doorgangsmeting aardverbindingen",passed:null,notes:""},{id:14,description:"Functionele test van alle uitgaande groepen",passed:null,notes:""},{id:15,description:"Controle van fasevolgorde (bij 3-fasen installaties)",passed:null,notes:""},{id:16,description:"Test van RCD/aardlekschakelaars (indien aanwezig)",passed:null,notes:""},{id:17,description:"Controle van kastverlichting en hulpvoeding",passed:null,notes:""},{id:18,description:"Documentatie controle (schema's, certificaten)",passed:null,notes:""},{id:19,description:"Oplevering aan eindgebruiker met instructies",passed:null,notes:""},{id:20,description:"Ondertekening opleveringsprotocol",passed:null,notes:""}]}}),[]),[o,c]=$.useState(i),l=$.useMemo(()=>({id:e.distributorId,name:e.kastNaam||"Naamloos"}),[e.distributorId,e.kastNaam]);$.useEffect(()=>{const _=localStorage.getItem(`onsite_test_${e.distributorId}`);if(_)try{const N=JSON.parse(_);c(N)}catch(N){console.error("Error parsing saved test data:",N),ht.error("Er is een fout opgetreden bij het laden van de testgegevens")}},[e.distributorId]),$.useCallback(()=>{try{return localStorage.setItem(`onsite_test_${e.distributorId}`,JSON.stringify(o)),r(o),!0}catch(_){return console.error("Error saving test data:",_),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens"),!1}},[o,e.distributorId,r]);const A=$.useCallback(()=>{const _={...o,onSiteTest:{...o.onSiteTest,completed:!0}};c(_);try{localStorage.setItem(`onsite_test_${e.distributorId}`,JSON.stringify(_)),r(_)}catch(N){console.error("Error saving test data:",N),ht.error("Er is een fout opgetreden bij het opslaan van de testgegevens");return}ht.success("Test op locatie succesvol afgerond!"),s(!1)},[o,e.distributorId,r]),u=$.useCallback(_=>N=>{const P=N.target.value;c(T=>({...T,onSiteTest:{...T.onSiteTest,[_]:P}}))},[]),d=$.useCallback((_,N,P)=>{c(T=>{const j={...T},k={...j.onSiteTest},z=[...k.items],E=z.findIndex(C=>C.id===_);return E!==-1&&(z[E]={...z[E],[N]:P}),k.items=z,j.onSiteTest=k,j})},[]),f=$.useCallback(()=>o.onSiteTest.items.every(_=>_.passed!==null&&_.passed!==void 0)&&o.onSiteTest.testedBy.trim()!==""&&o.onSiteTest.location.trim()!=="",[o]),h=$.useMemo(()=>u("date"),[u]),p=$.useMemo(()=>u("testedBy"),[u]),m=$.useMemo(()=>u("location"),[u]),x=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Test op Locatie"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Datum"}),a.jsx("input",{type:"date",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.onSiteTest.date,onChange:h})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Getest door"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.onSiteTest.testedBy,onChange:p,placeholder:"Naam tester"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Locatie"}),a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:o.onSiteTest.location,onChange:m,placeholder:"Installatielocatie"})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Transport en Herinstallatie"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Transportschade geconstateerd?"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{className:`px-4 py-2 rounded ${o.onSiteTest.transportDamage===!0?"bg-red-600":"bg-gray-700 hover:bg-red-600"}`,onClick:()=>c(_=>({..._,onSiteTest:{..._.onSiteTest,transportDamage:!0}})),children:"Ja"}),a.jsx("button",{className:`px-4 py-2 rounded ${o.onSiteTest.transportDamage===!1?"bg-green-600":"bg-gray-700 hover:bg-green-600"}`,onClick:()=>c(_=>({..._,onSiteTest:{..._.onSiteTest,transportDamage:!1}})),children:"Nee"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Hermontage vereist?"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{className:`px-4 py-2 rounded ${o.onSiteTest.reassemblyRequired===!0?"bg-yellow-600":"bg-gray-700 hover:bg-yellow-600"}`,onClick:()=>c(_=>({..._,onSiteTest:{..._.onSiteTest,reassemblyRequired:!0}})),children:"Ja"}),a.jsx("button",{className:`px-4 py-2 rounded ${o.onSiteTest.reassemblyRequired===!1?"bg-green-600":"bg-gray-700 hover:bg-green-600"}`,onClick:()=>c(_=>({..._,onSiteTest:{..._.onSiteTest,reassemblyRequired:!1}})),children:"Nee"})]})]})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-3 text-blue-400",children:"Installatie en Test Checklist"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:o.onSiteTest.items.map(_=>a.jsxs("tr",{className:"border-t border-gray-700",children:[a.jsx("td",{className:"p-2",children:_.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsx("button",{className:`p-1 rounded ${_.passed===!0?"bg-green-600":"bg-gray-700 hover:bg-green-600"}`,onClick:()=>d(_.id,"passed",!0),children:a.jsx(Ti,{size:18})}),a.jsx("button",{className:`p-1 rounded text-xs font-medium ${_.passed==="nvt"?"bg-yellow-600 text-white":"bg-gray-700 hover:bg-yellow-600 text-gray-300"}`,onClick:()=>d(_.id,"passed","nvt"),title:"Niet van toepassing",children:"N.v.t."}),a.jsx("button",{className:`p-1 rounded ${_.passed===!1?"bg-red-600":"bg-gray-700 hover:bg-red-600"}`,onClick:()=>d(_.id,"passed",!1),children:a.jsx(gt,{size:18})})]})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:_.notes,onChange:N=>d(_.id,"notes",N.target.value),placeholder:"Opmerkingen"})})]},_.id))})]})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{className:`btn-primary ${f()?"":"opacity-50 cursor-not-allowed"}`,onClick:A,disabled:!f(),children:"Test voltooien"})})]}),v=()=>o.onSiteTest.completed?a.jsx("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:"Locatie Test Voltooid"}):a.jsx("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"Niet getest"}),y=$.useCallback(_=>{_.target===_.currentTarget&&s(!1)},[]),b=$.useMemo(()=>n?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:999999},onClick:y,children:a.jsxs("div",{className:"bg-[#1E2530] rounded-xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-2xl font-semibold",children:["Test op Locatie: ",l.id," - ",l.name]}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),x()]})}):null,[n,l,o,y,f,A]);return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>s(!0),className:"btn-secondary flex items-center space-x-2",title:"Test op locatie",children:[a.jsx(ns,{size:16}),a.jsx("span",{children:"Test op locatie"}),o.onSiteTest.completed&&a.jsx("div",{className:"ml-2",children:v()})]}),n&&si.createPortal(b,document.body)]})};var UV=Object.defineProperty,Vv=Object.getOwnPropertySymbols,SL=Object.prototype.hasOwnProperty,_L=Object.prototype.propertyIsEnumerable,RS=(e,t,r)=>t in e?UV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,DV=(e,t)=>{for(var r in t||(t={}))SL.call(t,r)&&RS(e,r,t[r]);if(Vv)for(var r of Vv(t))_L.call(t,r)&&RS(e,r,t[r]);return e},QV=(e,t)=>{var r={};for(var n in e)SL.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Vv)for(var n of Vv(e))t.indexOf(n)<0&&_L.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var gA;(e=>{const t=class{constructor(l,A,u,d){if(this.version=l,this.errorCorrectionLevel=A,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let p=0;p<this.size;p++)f.push(!1);for(let p=0;p<this.size;p++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(u);if(this.drawCodewords(h),d==-1){let p=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const x=this.getPenaltyScore();x<p&&(d=m,p=x),this.applyMask(m)}}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,A){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,A)}static encodeBinary(l,A){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],A)}static encodeSegments(l,A,u=1,d=40,f=-1,h=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let p,m;for(p=u;;p++){const b=t.getNumDataCodewords(p,A)*8,_=c.getTotalBits(l,p);if(_<=b){m=_;break}if(p>=d)throw new RangeError("Data too long")}for(const b of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])h&&m<=t.getNumDataCodewords(p,b)*8&&(A=b);let x=[];for(const b of l){n(b.mode.modeBits,4,x),n(b.numChars,b.mode.numCharCountBits(p),x);for(const _ of b.getData())x.push(_)}i(x.length==m);const v=t.getNumDataCodewords(p,A)*8;i(x.length<=v),n(0,Math.min(4,v-x.length),x),n(0,(8-x.length%8)%8,x),i(x.length%8==0);for(let b=236;x.length<v;b^=253)n(b,8,x);let y=[];for(;y.length*8<x.length;)y.push(0);return x.forEach((b,_)=>y[_>>>3]|=b<<7-(_&7)),new t(p,A,y,f)}getModule(l,A){return 0<=l&&l<this.size&&0<=A&&A<this.size&&this.modules[A][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),A=l.length;for(let u=0;u<A;u++)for(let d=0;d<A;d++)u==0&&d==0||u==0&&d==A-1||u==A-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const A=this.errorCorrectionLevel.formatBits<<3|l;let u=A;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const d=(A<<10|u)^21522;i(d>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(d,f));this.setFunctionModule(8,7,s(d,6)),this.setFunctionModule(8,8,s(d,7)),this.setFunctionModule(7,8,s(d,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(d,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(d,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(d,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const A=this.version<<12|l;i(A>>>18==0);for(let u=0;u<18;u++){const d=s(A,u),f=this.size-11+u%3,h=Math.floor(u/3);this.setFunctionModule(f,h,d),this.setFunctionModule(h,f,d)}}drawFinderPattern(l,A){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const f=Math.max(Math.abs(d),Math.abs(u)),h=l+d,p=A+u;0<=h&&h<this.size&&0<=p&&p<this.size&&this.setFunctionModule(h,p,f!=2&&f!=4)}}drawAlignmentPattern(l,A){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,A+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,A,u){this.modules[A][l]=u,this.isFunction[A][l]=!0}addEccAndInterleave(l){const A=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(A,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][A],f=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][A],h=Math.floor(t.getNumRawDataModules(A)/8),p=d-h%d,m=Math.floor(h/d);let x=[];const v=t.reedSolomonComputeDivisor(f);for(let b=0,_=0;b<d;b++){let N=l.slice(_,_+m-f+(b<p?0:1));_+=N.length;const P=t.reedSolomonComputeRemainder(N,v);b<p&&N.push(0),x.push(N.concat(P))}let y=[];for(let b=0;b<x[0].length;b++)x.forEach((_,N)=>{(b!=m-f||N>=p)&&y.push(_[b])});return i(y.length==h),y}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let A=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let f=0;f<2;f++){const h=u-f,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][h]&&A<l.length*8&&(this.modules[m][h]=s(l[A>>>3],7-(A&7)),A++)}}i(A==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let A=0;A<this.size;A++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+A)%2==0;break;case 1:d=A%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+A)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(A/2))%2==0;break;case 5:d=u*A%2+u*A%3==0;break;case 6:d=(u*A%2+u*A%3)%2==0;break;case 7:d=((u+A)%2+u*A%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[A][u]&&d&&(this.modules[A][u]=!this.modules[A][u])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let h=!1,p=0,m=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[f][x]==h?(p++,p==5?l+=t.PENALTY_N1:p>5&&l++):(this.finderPenaltyAddHistory(p,m),h||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),h=this.modules[f][x],p=1);l+=this.finderPenaltyTerminateAndCount(h,p,m)*t.PENALTY_N3}for(let f=0;f<this.size;f++){let h=!1,p=0,m=[0,0,0,0,0,0,0];for(let x=0;x<this.size;x++)this.modules[x][f]==h?(p++,p==5?l+=t.PENALTY_N1:p>5&&l++):(this.finderPenaltyAddHistory(p,m),h||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),h=this.modules[x][f],p=1);l+=this.finderPenaltyTerminateAndCount(h,p,m)*t.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let h=0;h<this.size-1;h++){const p=this.modules[f][h];p==this.modules[f][h+1]&&p==this.modules[f+1][h]&&p==this.modules[f+1][h+1]&&(l+=t.PENALTY_N2)}let A=0;for(const f of this.modules)A=f.reduce((h,p)=>h+(p?1:0),A);const u=this.size*this.size,d=Math.ceil(Math.abs(A*20-u*10)/u)-1;return i(0<=d&&d<=9),l+=d*t.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,A=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=A)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let A=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;A-=(25*u-10)*u-55,l>=7&&(A-=36)}return i(208<=A&&A<=29648),A}static getNumDataCodewords(l,A){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[A.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[A.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let A=[];for(let d=0;d<l-1;d++)A.push(0);A.push(1);let u=1;for(let d=0;d<l;d++){for(let f=0;f<A.length;f++)A[f]=t.reedSolomonMultiply(A[f],u),f+1<A.length&&(A[f]^=A[f+1]);u=t.reedSolomonMultiply(u,2)}return A}static reedSolomonComputeRemainder(l,A){let u=A.map(d=>0);for(const d of l){const f=d^u.shift();u.push(0),A.forEach((h,p)=>u[p]^=t.reedSolomonMultiply(h,f))}return u}static reedSolomonMultiply(l,A){if(l>>>8||A>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(A>>>d&1)*l;return i(u>>>8==0),u}finderPenaltyCountPatterns(l){const A=l[1];i(A<=this.size*3);const u=A>0&&l[2]==A&&l[3]==A*3&&l[4]==A&&l[5]==A;return(u&&l[0]>=A*4&&l[6]>=A?1:0)+(u&&l[6]>=A*4&&l[0]>=A?1:0)}finderPenaltyTerminateAndCount(l,A,u){return l&&(this.finderPenaltyAddHistory(A,u),A=0),A+=this.size,this.finderPenaltyAddHistory(A,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,A){A[0]==0&&(l+=this.size),A.pop(),A.unshift(l)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(l,A,u){if(A<0||A>31||l>>>A)throw new RangeError("Value out of range");for(let d=A-1;d>=0;d--)u.push(l>>>d&1)}function s(l,A){return(l>>>A&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,A,u){if(this.mode=l,this.numChars=A,this.bitData=u,A<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let A=[];for(const u of l)n(u,8,A);return new o(o.Mode.BYTE,l.length,A)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let A=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);n(parseInt(l.substr(u,d),10),d*3+1,A),u+=d}return new o(o.Mode.NUMERIC,l.length,A)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let A=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),n(d,11,A)}return u<l.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,A),new o(o.Mode.ALPHANUMERIC,l.length,A)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let A=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,A);else if(l<16384)n(2,2,A),n(l,14,A);else if(l<1e6)n(6,3,A),n(l,21,A);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,A)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,A){let u=0;for(const d of l){const f=d.mode.numCharCountBits(A);if(d.numChars>=1<<f)return 1/0;u+=4+f+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let A=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?A.push(l.charCodeAt(u)):(A.push(parseInt(l.substr(u+1,2),16)),u+=2);return A}};let c=o;c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=c})(gA||(gA={}));(e=>{(t=>{const r=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(gA||(gA={}));(e=>{(t=>{const r=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(gA||(gA={}));var Ph=gA;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var MV={L:Ph.QrCode.Ecc.LOW,M:Ph.QrCode.Ecc.MEDIUM,Q:Ph.QrCode.Ecc.QUARTILE,H:Ph.QrCode.Ecc.HIGH},RV=128,$V="L",HV="#FFFFFF",zV="#000000",KV=!1,EL=4,VV=.1;function GV(e,t=0){const r=[];return e.forEach(function(n,s){let i=null;n.forEach(function(o,c){if(!o&&i!==null){r.push(`M${i+t} ${s+t}h${c-i}v1H${i+t}z`),i=null;return}if(c===n.length-1){if(!o)return;i===null?r.push(`M${c+t},${s+t} h1v1H${c+t}z`):r.push(`M${i+t},${s+t} h${c+1-i}v1H${i+t}z`);return}o&&i===null&&(i=c)})}),r.join("")}function WV(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function qV(e,t,r,n){if(n==null)return null;const s=r?EL:0,i=e.length+s*2,o=Math.floor(t*VV),c=i/t,l=(n.width||o)*c,A=(n.height||o)*c,u=n.x==null?e.length/2-l/2:n.x*c,d=n.y==null?e.length/2-A/2:n.y*c;let f=null;if(n.excavate){let h=Math.floor(u),p=Math.floor(d),m=Math.ceil(l+u-h),x=Math.ceil(A+d-p);f={x:h,y:p,w:m,h:x}}return{x:u,y:d,h:A,w:l,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function JV(e){const t=e,{value:r,size:n=RV,level:s=$V,bgColor:i=HV,fgColor:o=zV,includeMargin:c=KV,imageSettings:l}=t,A=QV(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Ph.QrCode.encodeText(r,MV[s]).getModules();const d=c?EL:0,f=u.length+d*2,h=qV(u,n,c,l);let p=null;l!=null&&h!=null&&(h.excavation!=null&&(u=WV(u,h.excavation)),p=fe.createElement("image",{xlinkHref:l.src,height:h.h,width:h.w,x:h.x+d,y:h.y+d,preserveAspectRatio:"none"}));const m=GV(u,d);return fe.createElement("svg",DV({height:n,width:n,viewBox:`0 0 ${f} ${f}`},A),fe.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),fe.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),p)}const Ly="/assets/ewp-logo-DaPK8x3f.png",XV=({verdeler:e,projectNumber:t})=>{const r=`${window.location.origin}/maintenance-report?verdeler_id=${encodeURIComponent(e.distributor_id||e.distributorId)}&project_number=${encodeURIComponent(t)}&kast_naam=${encodeURIComponent(e.kast_naam||e.kastNaam||"")}`;return a.jsxs("div",{className:"w-[125mm] h-[95mm] bg-black p-4 relative",style:{color:"#FFFFFF"},children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex flex-col",style:{maxWidth:"60%"},children:[a.jsx("img",{src:Ly,alt:"EWP Logo",className:"h-11 object-contain mb-2"}),a.jsxs("div",{className:"text-[8pt] leading-tight",style:{color:"#000000"},children:[a.jsx("p",{children:"EWP Paneelbouw"}),a.jsx("p",{children:"Gildenstraat 28"}),a.jsx("p",{children:"4143HS Leerdam"}),a.jsx("p",{children:"www.ewpmidden.nl"}),a.jsx("p",{children:"Patrick@ewpmidden.nl"}),a.jsx("p",{children:"06-27343669"})]})]}),a.jsxs("div",{className:"flex flex-col items-center",style:{maxWidth:"35%"},children:[a.jsx("div",{className:"bg-white p-1 border border-gray-200",children:a.jsx(JV,{value:r,size:130,level:"H",includeMargin:!1})}),a.jsx("p",{className:"text-[7pt] mt-1 text-center",style:{color:"#FFFFFF"},children:"Scan voor onderhoud"})]})]}),a.jsxs("div",{className:"mt-4 text-[10pt] grid grid-cols-2 gap-x-4 gap-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",style:{color:"#FFFFFF"},children:"Verdeler ID:"}),a.jsx("span",{style:{color:"#FFFFFF"},children:e.distributor_id||e.distributorId})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",style:{color:"#FFFFFF"},children:"Project:"}),a.jsx("span",{style:{color:"#FFFFFF"},children:t})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",style:{color:"#FFFFFF"},children:"Kastnaam:"}),a.jsx("span",{style:{color:"#FFFFFF"},children:e.kast_naam||e.kastNaam||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",style:{color:"#FFFFFF"},children:"Systeem:"}),a.jsx("span",{style:{color:"#FFFFFF"},children:e.systeem||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",style:{color:"#FFFFFF"},children:"Voeding:"}),a.jsx("span",{style:{color:"#FFFFFF"},children:e.voeding||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",style:{color:"#FFFFFF"},children:"Un in V:"}),a.jsx("span",{style:{color:"#FFFFFF"},children:e.un_in_v||e.unInV||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",style:{color:"#FFFFFF"},children:"In in A:"}),a.jsx("span",{style:{color:"#FFFFFF"},children:e.in_in_a||e.inInA||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold",style:{color:"#FFFFFF"},children:"Freq. in Hz:"}),a.jsx("span",{style:{color:"#FFFFFF"},children:e.freq_in_hz||e.freqInHz||"-"})]})]}),a.jsx("style",{children:`
        @media print {
          @page {
            size: 125mm 95mm;
            margin: 0;
          }
          * {
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
            color-adjust: exact !important;
            color: #000000 !important;
          }
          .bg-white {
            background-color: black !important;
          }
          div {
            page-break-inside: avoid !important;
          }
        }
      `})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mj=function(e,t){return Mj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Mj(e,t)};function li(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mj(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rj=function(){return Rj=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Rj.apply(this,arguments)};function ts(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(u){try{A(n.next(u))}catch(d){o(d)}}function l(u){try{A(n.throw(u))}catch(d){o(d)}}function A(u){u.done?i(u.value):s(u.value).then(c,l)}A((n=n.apply(e,[])).next())})}function Hn(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(A){return function(u){return l([A,u])}}function l(A){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=A[0]&2?s.return:A[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,A[1])).done)return i;switch(s=0,i&&(A=[A[0]&2,i.value]),A[0]){case 0:case 1:i=A;break;case 4:return r.label++,{value:A[1],done:!1};case 5:r.label++,s=A[1],A=[0];continue;case 7:A=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(A[0]===6||A[0]===2)){r=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){r.label=A[1];break}if(A[0]===6&&r.label<i[1]){r.label=i[1],i=A;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(A);break}i[2]&&r.ops.pop(),r.trys.pop();continue}A=t.call(e,r)}catch(u){A=[6,u],s=0}finally{n=i=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function n0(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var Qo=function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Uy=function(e,t){return Qo.fromClientRect(e,t.getBoundingClientRect())},YV=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Qo(0,0,n,s)},Dy=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},Qr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},$S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ZV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var s0=0;s0<$S.length;s0++)ZV[$S.charCodeAt(s0)]=s0;var HS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ih=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var a0=0;a0<HS.length;a0++)Ih[HS.charCodeAt(a0)]=a0;var eG=function(e){var t=e.length*.75,r=e.length,n,s=0,i,o,c,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)i=Ih[e.charCodeAt(n)],o=Ih[e.charCodeAt(n+1)],c=Ih[e.charCodeAt(n+2)],l=Ih[e.charCodeAt(n+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|c>>2,u[s++]=(c&3)<<6|l&63;return A},tG=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},rG=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},iA=5,V5=11,yw=2,nG=V5-iA,FL=65536>>iA,sG=1<<iA,bw=sG-1,aG=1024>>iA,iG=FL+aG,oG=iG,lG=32,cG=oG+lG,AG=65536>>V5,uG=1<<nG,dG=uG-1,zS=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},fG=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},hG=function(e,t){var r=eG(e),n=Array.isArray(r)?rG(r):new Uint32Array(r),s=Array.isArray(r)?tG(r):new Uint16Array(r),i=24,o=zS(s,i/2,n[4]/2),c=n[5]===2?zS(s,(i+n[4])/2):fG(n,Math.ceil((i+n[4])/4));return new pG(n[0],n[1],n[2],n[3],o,c)},pG=function(){function e(t,r,n,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>iA],r=(r<<yw)+(t&bw),this.data[r];if(t<=65535)return r=this.index[FL+(t-55296>>iA)],r=(r<<yw)+(t&bw),this.data[r];if(t<this.highStart)return r=cG-AG+(t>>V5),r=this.index[r],r+=t>>iA&dG,r=this.index[r],r=(r<<yw)+(t&bw),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),KS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i0=0;i0<KS.length;i0++)gG[KS.charCodeAt(i0)]=i0;var mG="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",VS=50,vG=1,PL=2,IL=3,xG=4,yG=5,GS=7,OL=8,WS=9,Tl=10,$j=11,qS=12,Hj=13,bG=14,Oh=15,zj=16,o0=17,Ah=18,wG=19,JS=20,Kj=21,uh=22,ww=23,pu=24,Us=25,Th=26,Lh=27,gu=28,jG=29,zc=30,NG=31,l0=32,c0=33,Vj=34,Gj=35,Wj=36,Up=37,qj=38,Av=39,uv=40,jw=41,TL=42,BG=43,CG=[9001,65288],LL="!",Ft="×",A0="÷",Jj=hG(mG),Ao=[zc,Wj],Xj=[vG,PL,IL,yG],UL=[Tl,OL],XS=[Lh,Th],kG=Xj.concat(UL),YS=[qj,Av,uv,Vj,Gj],SG=[Oh,Hj],_G=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(i,o){var c=Jj.get(i);if(c>VS?(s.push(!0),c-=VS):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(zj);if(c===xG||c===$j){if(o===0)return n.push(o),r.push(zc);var l=r[o-1];return kG.indexOf(l)===-1?(n.push(n[o-1]),r.push(l)):(n.push(o),r.push(zc))}if(n.push(o),c===NG)return r.push(t==="strict"?Kj:Up);if(c===TL||c===jG)return r.push(zc);if(c===BG)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Up):r.push(zc);r.push(c)}),[n,r,s]},Nw=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===t)return!0;if(o!==Tl)break}if(s===Tl)for(var i=r;i>0;){i--;var c=n[i];if(Array.isArray(e)?e.indexOf(c)!==-1:e===c)for(var l=r;l<=n.length;){l++;var o=n[l];if(o===t)return!0;if(o!==Tl)break}if(c!==Tl)break}return!1},ZS=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===Tl)r--;else return n}return 0},EG=function(e,t,r,n,s){if(r[n]===0)return Ft;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Ft;var o=i-1,c=i+1,l=t[i],A=o>=0?t[o]:0,u=t[c];if(l===PL&&u===IL)return Ft;if(Xj.indexOf(l)!==-1)return LL;if(Xj.indexOf(u)!==-1||UL.indexOf(u)!==-1)return Ft;if(ZS(i,t)===OL)return A0;if(Jj.get(e[i])===$j||(l===l0||l===c0)&&Jj.get(e[c])===$j||l===GS||u===GS||l===WS||[Tl,Hj,Oh].indexOf(l)===-1&&u===WS||[o0,Ah,wG,pu,gu].indexOf(u)!==-1||ZS(i,t)===uh||Nw(ww,uh,i,t)||Nw([o0,Ah],Kj,i,t)||Nw(qS,qS,i,t))return Ft;if(l===Tl)return A0;if(l===ww||u===ww)return Ft;if(u===zj||l===zj)return A0;if([Hj,Oh,Kj].indexOf(u)!==-1||l===bG||A===Wj&&SG.indexOf(l)!==-1||l===gu&&u===Wj||u===JS||Ao.indexOf(u)!==-1&&l===Us||Ao.indexOf(l)!==-1&&u===Us||l===Lh&&[Up,l0,c0].indexOf(u)!==-1||[Up,l0,c0].indexOf(l)!==-1&&u===Th||Ao.indexOf(l)!==-1&&XS.indexOf(u)!==-1||XS.indexOf(l)!==-1&&Ao.indexOf(u)!==-1||[Lh,Th].indexOf(l)!==-1&&(u===Us||[uh,Oh].indexOf(u)!==-1&&t[c+1]===Us)||[uh,Oh].indexOf(l)!==-1&&u===Us||l===Us&&[Us,gu,pu].indexOf(u)!==-1)return Ft;if([Us,gu,pu,o0,Ah].indexOf(u)!==-1)for(var d=i;d>=0;){var f=t[d];if(f===Us)return Ft;if([gu,pu].indexOf(f)!==-1)d--;else break}if([Lh,Th].indexOf(u)!==-1)for(var d=[o0,Ah].indexOf(l)!==-1?o:i;d>=0;){var f=t[d];if(f===Us)return Ft;if([gu,pu].indexOf(f)!==-1)d--;else break}if(qj===l&&[qj,Av,Vj,Gj].indexOf(u)!==-1||[Av,Vj].indexOf(l)!==-1&&[Av,uv].indexOf(u)!==-1||[uv,Gj].indexOf(l)!==-1&&u===uv||YS.indexOf(l)!==-1&&[JS,Th].indexOf(u)!==-1||YS.indexOf(u)!==-1&&l===Lh||Ao.indexOf(l)!==-1&&Ao.indexOf(u)!==-1||l===pu&&Ao.indexOf(u)!==-1||Ao.concat(Us).indexOf(l)!==-1&&u===uh&&CG.indexOf(e[c])===-1||Ao.concat(Us).indexOf(u)!==-1&&l===Ah)return Ft;if(l===jw&&u===jw){for(var h=r[i],p=1;h>0&&(h--,t[h]===jw);)p++;if(p%2!==0)return Ft}return l===l0&&u===c0?Ft:A0},FG=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=_G(e,t.lineBreak),n=r[0],s=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(c){return[Us,zc,TL].indexOf(c)!==-1?Up:c}));var o=t.wordBreak==="keep-all"?i.map(function(c,l){return c&&e[l]>=19968&&e[l]<=40959}):void 0;return[n,s,o]},PG=function(){function e(t,r,n,s){this.codePoints=t,this.required=r===LL,this.start=n,this.end=s}return e.prototype.slice=function(){return Qr.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),IG=function(e,t){var r=Dy(e),n=FG(r,t),s=n[0],i=n[1],o=n[2],c=r.length,l=0,A=0;return{next:function(){if(A>=c)return{done:!0,value:null};for(var u=Ft;A<c&&(u=EG(r,i,s,++A,o))===Ft;);if(u!==Ft||A===c){var d=new PG(r,u,l,A);return l=A,{value:d,done:!1}}return{done:!0,value:null}}}},OG=1,TG=2,Pg=4,e_=8,Gv=10,t_=47,sp=92,LG=9,UG=32,u0=34,dh=61,DG=35,QG=36,MG=37,d0=39,f0=40,fh=41,RG=95,xs=45,$G=33,HG=60,zG=62,KG=64,VG=91,GG=93,WG=61,qG=123,h0=63,JG=125,r_=124,XG=126,YG=128,n_=65533,Bw=42,Jc=43,ZG=44,eW=58,tW=59,Dp=46,rW=0,nW=8,sW=11,aW=14,iW=31,oW=127,bi=-1,DL=48,QL=97,ML=101,lW=102,cW=117,AW=122,RL=65,$L=69,HL=70,uW=85,dW=90,Kn=function(e){return e>=DL&&e<=57},fW=function(e){return e>=55296&&e<=57343},mu=function(e){return Kn(e)||e>=RL&&e<=HL||e>=QL&&e<=lW},hW=function(e){return e>=QL&&e<=AW},pW=function(e){return e>=RL&&e<=dW},gW=function(e){return hW(e)||pW(e)},mW=function(e){return e>=YG},p0=function(e){return e===Gv||e===LG||e===UG},Wv=function(e){return gW(e)||mW(e)||e===RG},s_=function(e){return Wv(e)||Kn(e)||e===xs},vW=function(e){return e>=rW&&e<=nW||e===sW||e>=aW&&e<=iW||e===oW},jl=function(e,t){return e!==sp?!1:t!==Gv},g0=function(e,t,r){return e===xs?Wv(t)||jl(t,r):Wv(e)?!0:!!(e===sp&&jl(e,t))},Cw=function(e,t,r){return e===Jc||e===xs?Kn(t)?!0:t===Dp&&Kn(r):Kn(e===Dp?t:e)},xW=function(e){var t=0,r=1;(e[t]===Jc||e[t]===xs)&&(e[t]===xs&&(r=-1),t++);for(var n=[];Kn(e[t]);)n.push(e[t++]);var s=n.length?parseInt(Qr.apply(void 0,n),10):0;e[t]===Dp&&t++;for(var i=[];Kn(e[t]);)i.push(e[t++]);var o=i.length,c=o?parseInt(Qr.apply(void 0,i),10):0;(e[t]===$L||e[t]===ML)&&t++;var l=1;(e[t]===Jc||e[t]===xs)&&(e[t]===xs&&(l=-1),t++);for(var A=[];Kn(e[t]);)A.push(e[t++]);var u=A.length?parseInt(Qr.apply(void 0,A),10):0;return r*(s+c*Math.pow(10,-o))*Math.pow(10,l*u)},yW={type:2},bW={type:3},wW={type:4},jW={type:13},NW={type:8},BW={type:21},CW={type:9},kW={type:10},SW={type:11},_W={type:12},EW={type:14},m0={type:23},FW={type:1},PW={type:25},IW={type:24},OW={type:26},TW={type:27},LW={type:28},UW={type:29},DW={type:31},Yj={type:32},zL=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Dy(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==Yj;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case u0:return this.consumeStringToken(u0);case DG:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(s_(r)||jl(n,s)){var i=g0(r,n,s)?TG:OG,o=this.consumeName();return{type:5,value:o,flags:i}}break;case QG:if(this.peekCodePoint(0)===dh)return this.consumeCodePoint(),jW;break;case d0:return this.consumeStringToken(d0);case f0:return yW;case fh:return bW;case Bw:if(this.peekCodePoint(0)===dh)return this.consumeCodePoint(),EW;break;case Jc:if(Cw(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case ZG:return wW;case xs:var c=t,l=this.peekCodePoint(0),A=this.peekCodePoint(1);if(Cw(c,l,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(g0(c,l,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===xs&&A===zG)return this.consumeCodePoint(),this.consumeCodePoint(),IW;break;case Dp:if(Cw(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case t_:if(this.peekCodePoint(0)===Bw)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Bw&&(u=this.consumeCodePoint(),u===t_))return this.consumeToken();if(u===bi)return this.consumeToken()}break;case eW:return OW;case tW:return TW;case HG:if(this.peekCodePoint(0)===$G&&this.peekCodePoint(1)===xs&&this.peekCodePoint(2)===xs)return this.consumeCodePoint(),this.consumeCodePoint(),PW;break;case KG:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),h=this.peekCodePoint(2);if(g0(d,f,h)){var o=this.consumeName();return{type:7,value:o}}break;case VG:return LW;case sp:if(jl(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case GG:return UW;case WG:if(this.peekCodePoint(0)===dh)return this.consumeCodePoint(),NW;break;case qG:return SW;case JG:return _W;case cW:case uW:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===Jc&&(mu(m)||m===h0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case r_:if(this.peekCodePoint(0)===dh)return this.consumeCodePoint(),CW;if(this.peekCodePoint(0)===r_)return this.consumeCodePoint(),BW;break;case XG:if(this.peekCodePoint(0)===dh)return this.consumeCodePoint(),kW;break;case bi:return Yj}return p0(t)?(this.consumeWhiteSpace(),DW):Kn(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Wv(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Qr(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();mu(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===h0&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Qr.apply(void 0,t.map(function(l){return l===h0?DL:l})),16),i=parseInt(Qr.apply(void 0,t.map(function(l){return l===h0?HL:l})),16);return{type:30,start:s,end:i}}var o=parseInt(Qr.apply(void 0,t),16);if(this.peekCodePoint(0)===xs&&mu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var c=[];mu(r)&&c.length<6;)c.push(r),r=this.consumeCodePoint();var i=parseInt(Qr.apply(void 0,c),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===f0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===f0?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===bi)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===d0||r===u0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===bi||this.peekCodePoint(0)===fh)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),m0)}for(;;){var s=this.consumeCodePoint();if(s===bi||s===fh)return{type:22,value:Qr.apply(void 0,t)};if(p0(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===bi||this.peekCodePoint(0)===fh?(this.consumeCodePoint(),{type:22,value:Qr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),m0);if(s===u0||s===d0||s===f0||vW(s))return this.consumeBadUrlRemnants(),m0;if(s===sp)if(jl(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),m0;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;p0(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===fh||t===bi)return;jl(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=Qr.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===bi||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Gv)return this._value.splice(0,n),FW;if(s===sp){var i=this._value[n+1];i!==bi&&i!==void 0&&(i===Gv?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):jl(s,i)&&(r+=this.consumeStringSlice(n),r+=Qr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Pg,n=this.peekCodePoint(0);for((n===Jc||n===xs)&&t.push(this.consumeCodePoint());Kn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Dp&&Kn(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=e_;Kn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===$L||n===ML)&&((s===Jc||s===xs)&&Kn(i)||Kn(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=e_;Kn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[xW(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(g0(s,i,o)){var c=this.consumeName();return{type:15,number:r,flags:n,unit:c}}return s===MG?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(mu(t)){for(var r=Qr(t);mu(this.peekCodePoint(0))&&r.length<6;)r+=Qr(this.consumeCodePoint());p0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||fW(n)||n>1114111?n_:n}return t===bi?n_:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(s_(r))t+=Qr(r);else if(jl(r,this.peekCodePoint(0)))t+=Qr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),KL=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new zL;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||MW(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Yj:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Ig=function(e){return e.type===15},of=function(e){return e.type===17},Yt=function(e){return e.type===20},QW=function(e){return e.type===0},Zj=function(e,t){return Yt(e)&&e.value===t},VL=function(e){return e.type!==31},Nd=function(e){return e.type!==31&&e.type!==4},Vi=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},MW=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},ac=function(e){return e.type===17||e.type===15},Jr=function(e){return e.type===16||ac(e)},GL=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Pn={type:17,number:0,flags:Pg},G5={type:16,number:50,flags:Pg},Ll={type:16,number:100,flags:Pg},Uh=function(e,t,r){var n=e[0],s=e[1];return[cr(n,t),cr(typeof s<"u"?s:n,r)]},cr=function(e,t){if(e.type===16)return e.number/100*t;if(Ig(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},WL="deg",qL="grad",JL="rad",XL="turn",Qy={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case WL:return Math.PI*t.number/180;case qL:return Math.PI/200*t.number;case JL:return t.number;case XL:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},YL=function(e){return e.type===15&&(e.unit===WL||e.unit===qL||e.unit===JL||e.unit===XL)},ZL=function(e){var t=e.filter(Yt).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Pn,Pn];case"to top":case"bottom":return pa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Pn,Ll];case"to right":case"left":return pa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ll,Ll];case"to bottom":case"top":return pa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ll,Pn];case"to left":case"right":return pa(270)}return 0},pa=function(e){return Math.PI*e/180},Xl={name:"color",parse:function(e,t){if(t.type===18){var r=RW[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return Ul(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return Ul(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6);return Ul(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return Ul(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var c=So[t.value.toUpperCase()];if(typeof c<"u")return c}return So.TRANSPARENT}},Yl=function(e){return(255&e)===0},pn=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},Ul=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},a_=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},i_=function(e,t){var r=t.filter(Nd);if(r.length===3){var n=r.map(a_),s=n[0],i=n[1],o=n[2];return Ul(s,i,o,1)}if(r.length===4){var c=r.map(a_),s=c[0],i=c[1],o=c[2],l=c[3];return Ul(s,i,o,l)}return 0};function kw(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var o_=function(e,t){var r=t.filter(Nd),n=r[0],s=r[1],i=r[2],o=r[3],c=(n.type===17?pa(n.number):Qy.parse(e,n))/(Math.PI*2),l=Jr(s)?s.number/100:0,A=Jr(i)?i.number/100:0,u=typeof o<"u"&&Jr(o)?cr(o,1):1;if(l===0)return Ul(A*255,A*255,A*255,1);var d=A<=.5?A*(l+1):A+l-A*l,f=A*2-d,h=kw(f,d,c+1/3),p=kw(f,d,c),m=kw(f,d,c-1/3);return Ul(h*255,p*255,m*255,u)},RW={hsl:o_,hsla:o_,rgb:i_,rgba:i_},ap=function(e,t){return Xl.parse(e,KL.create(t).parseComponentValue())},So={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},$W={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Yt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},HW={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},My=function(e,t){var r=Xl.parse(e,t[0]),n=t[1];return n&&Jr(n)?{color:r,stop:n}:{color:r,stop:null}},l_=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Pn),n.stop===null&&(n.stop=Ll);for(var s=[],i=0,o=0;o<e.length;o++){var c=e[o].stop;if(c!==null){var l=cr(c,t);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var A=null,o=0;o<s.length;o++){var u=s[o];if(u===null)A===null&&(A=o);else if(A!==null){for(var d=o-A,f=s[A-1],h=(u-f)/(d+1),p=1;p<=d;p++)s[A+p-1]=h*p;A=null}}return e.map(function(m,x){var v=m.color;return{color:v,stop:Math.max(Math.min(1,s[x]/t),0)}})},zW=function(e,t,r){var n=t/2,s=r/2,i=cr(e[0],t)-n,o=s-cr(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},KW=function(e,t,r){var n=typeof e=="number"?e:zW(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,o=r/2,c=s/2,l=Math.sin(n-Math.PI/2)*c,A=Math.cos(n-Math.PI/2)*c;return[s,i-A,i+A,o-l,o+l]},$a=function(e,t){return Math.sqrt(e*e+t*t)},c_=function(e,t,r,n,s){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,c){var l=c[0],A=c[1],u=$a(r-l,n-A);return(s?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:c,optimumDistance:u}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},VW=function(e,t,r,n,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)i=o=Math.min($a(t,r),$a(t,r-s),$a(t-n,r),$a(t-n,r-s));else if(e.shape===1){var c=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),l=c_(n,s,t,r,!0),A=l[0],u=l[1];i=$a(A-t,(u-r)/c),o=c*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)i=o=Math.max($a(t,r),$a(t,r-s),$a(t-n,r),$a(t-n,r-s));else if(e.shape===1){var c=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),d=c_(n,s,t,r,!1),A=d[0],u=d[1];i=$a(A-t,(u-r)/c),o=c*i}break}return Array.isArray(e.size)&&(i=cr(e.size[0],n),o=e.size.length===2?cr(e.size[1],s):i),[i,o]},GW=function(e,t){var r=pa(180),n=[];return Vi(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){r=ZL(s);return}else if(YL(o)){r=Qy.parse(e,o);return}}var c=My(e,s);n.push(c)}),{angle:r,stops:n,type:1}},v0=function(e,t){var r=pa(180),n=[];return Vi(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=ZL(s);return}else if(YL(o)){r=(Qy.parse(e,o)+pa(270))%pa(360);return}}var c=My(e,s);n.push(c)}),{angle:r,stops:n,type:1}},WW=function(e,t){var r=pa(180),n=[],s=1,i=0,o=3,c=[];return Vi(t).forEach(function(l,A){var u=l[0];if(A===0){if(Yt(u)&&u.value==="linear"){s=1;return}else if(Yt(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var d=Xl.parse(e,u.values[0]);n.push({stop:Pn,color:d})}else if(u.name==="to"){var d=Xl.parse(e,u.values[0]);n.push({stop:Ll,color:d})}else if(u.name==="color-stop"){var f=u.values.filter(Nd);if(f.length===2){var d=Xl.parse(e,f[1]),h=f[0];of(h)&&n.push({stop:{type:16,number:h.number*100,flags:h.flags},color:d})}}}}),s===1?{angle:(r+pa(180))%pa(360),stops:n,type:s}:{size:o,shape:i,stops:n,position:c,type:s}},eU="closest-side",tU="farthest-side",rU="closest-corner",nU="farthest-corner",sU="circle",aU="ellipse",iU="cover",oU="contain",qW=function(e,t){var r=0,n=3,s=[],i=[];return Vi(t).forEach(function(o,c){var l=!0;if(c===0){var A=!1;l=o.reduce(function(d,f){if(A)if(Yt(f))switch(f.value){case"center":return i.push(G5),d;case"top":case"left":return i.push(Pn),d;case"right":case"bottom":return i.push(Ll),d}else(Jr(f)||ac(f))&&i.push(f);else if(Yt(f))switch(f.value){case sU:return r=0,!1;case aU:return r=1,!1;case"at":return A=!0,!1;case eU:return n=0,!1;case iU:case tU:return n=1,!1;case oU:case rU:return n=2,!1;case nU:return n=3,!1}else if(ac(f)||Jr(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},l)}if(l){var u=My(e,o);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},x0=function(e,t){var r=0,n=3,s=[],i=[];return Vi(t).forEach(function(o,c){var l=!0;if(c===0?l=o.reduce(function(u,d){if(Yt(d))switch(d.value){case"center":return i.push(G5),!1;case"top":case"left":return i.push(Pn),!1;case"right":case"bottom":return i.push(Ll),!1}else if(Jr(d)||ac(d))return i.push(d),!1;return u},l):c===1&&(l=o.reduce(function(u,d){if(Yt(d))switch(d.value){case sU:return r=0,!1;case aU:return r=1,!1;case oU:case eU:return n=0,!1;case tU:return n=1,!1;case rU:return n=2,!1;case iU:case nU:return n=3,!1}else if(ac(d)||Jr(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},l)),l){var A=My(e,o);s.push(A)}}),{size:n,shape:r,stops:s,position:i,type:2}},JW=function(e){return e.type===1},XW=function(e){return e.type===2},W5={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=lU[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function YW(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!lU[e.name])}var lU={"linear-gradient":GW,"-moz-linear-gradient":v0,"-ms-linear-gradient":v0,"-o-linear-gradient":v0,"-webkit-linear-gradient":v0,"radial-gradient":qW,"-moz-radial-gradient":x0,"-ms-radial-gradient":x0,"-o-radial-gradient":x0,"-webkit-radial-gradient":x0,"-webkit-gradient":WW},ZW={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Nd(n)&&YW(n)}).map(function(n){return W5.parse(e,n)})}},eq={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Yt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tq={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Vi(t).map(function(r){return r.filter(Jr)}).map(GL)}},rq={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Vi(t).map(function(r){return r.filter(Yt).map(function(n){return n.value}).join(" ")}).map(nq)}},nq=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ld;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(ld||(ld={}));var sq={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Vi(t).map(function(r){return r.filter(aq)})}},aq=function(e){return Yt(e)||Jr(e)},Ry=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},iq=Ry("top"),oq=Ry("right"),lq=Ry("bottom"),cq=Ry("left"),$y=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return GL(r.filter(Jr))}}},Aq=$y("top-left"),uq=$y("top-right"),dq=$y("bottom-right"),fq=$y("bottom-left"),Hy=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},hq=Hy("top"),pq=Hy("right"),gq=Hy("bottom"),mq=Hy("left"),zy=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Ig(r)?r.number:0}}},vq=zy("top"),xq=zy("right"),yq=zy("bottom"),bq=zy("left"),wq={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Nq={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Yt).reduce(function(r,n){return r|Bq(n.value)},0)}},Bq=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Cq={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},kq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},qv;(function(e){e.NORMAL="normal",e.STRICT="strict"})(qv||(qv={}));var Sq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return qv.STRICT;case"normal":default:return qv.NORMAL}}},_q={name:"line-height",initialValue:"normal",prefix:!1,type:4},A_=function(e,t){return Yt(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Jr(e)?cr(e,t):t},Eq={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:W5.parse(e,t)}},Fq={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},eN={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ky=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Pq=Ky("top"),Iq=Ky("right"),Oq=Ky("bottom"),Tq=Ky("left"),Lq={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Yt).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Uq={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Vy=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Dq=Vy("top"),Qq=Vy("right"),Mq=Vy("bottom"),Rq=Vy("left"),$q={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Hq={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},zq={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Zj(t[0],"none")?[]:Vi(t).map(function(r){for(var n={color:So.TRANSPARENT,offsetX:Pn,offsetY:Pn,blur:Pn},s=0,i=0;i<r.length;i++){var o=r[i];ac(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=Xl.parse(e,o)}return n})}},Kq={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Vq={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=qq[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Gq=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},Wq=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],c=t[13];return t[14],t[15],t.length===16?[r,n,s,i,o,c]:null},qq={matrix:Gq,matrix3d:Wq},u_={type:16,number:50,flags:Pg},Jq=[u_,u_],Xq={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Jr);return r.length!==2?Jq:[r[0],r[1]]}},Yq={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ip;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(ip||(ip={}));var Zq={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return ip.BREAK_ALL;case"keep-all":return ip.KEEP_ALL;case"normal":default:return ip.NORMAL}}},eJ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(of(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},cU={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},tJ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return of(t)?t.number:1}},rJ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nJ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Yt).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},sJ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},aJ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},iJ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(of(t))return t.number;if(Yt(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},oJ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Yt).map(function(r){return r.value})}},lJ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},an=function(e,t){return(e&t)!==0},cJ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},AJ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(VL),i=0;i<s.length;i++){var o=s[i],c=s[i+1];if(o.type===20){var l=c&&of(c)?c.number:1;n.push({counter:o.value,increment:l})}}return n}},uJ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(VL),s=0;s<n.length;s++){var i=n[s],o=n[s+1];if(Yt(i)&&i.value!=="none"){var c=o&&of(o)?o.number:0;r.push({counter:i.value,reset:c})}}return r}},dJ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Ig).map(function(r){return cU.parse(e,r)})}},fJ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(QW);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,c=s[i+1].value;n.push({open:o,close:c})}return n}},d_=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},hJ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Zj(t[0],"none")?[]:Vi(t).map(function(r){for(var n={color:255,offsetX:Pn,offsetY:Pn,blur:Pn,spread:Pn,inset:!1},s=0,i=0;i<r.length;i++){var o=r[i];Zj(o,"inset")?n.inset=!0:ac(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=Xl.parse(e,o)}return n})}},pJ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Yt).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},gJ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},mJ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ig(t)?t.number:0}},vJ=function(){function e(t,r){var n,s;this.animationDuration=Ze(t,dJ,r.animationDuration),this.backgroundClip=Ze(t,$W,r.backgroundClip),this.backgroundColor=Ze(t,HW,r.backgroundColor),this.backgroundImage=Ze(t,ZW,r.backgroundImage),this.backgroundOrigin=Ze(t,eq,r.backgroundOrigin),this.backgroundPosition=Ze(t,tq,r.backgroundPosition),this.backgroundRepeat=Ze(t,rq,r.backgroundRepeat),this.backgroundSize=Ze(t,sq,r.backgroundSize),this.borderTopColor=Ze(t,iq,r.borderTopColor),this.borderRightColor=Ze(t,oq,r.borderRightColor),this.borderBottomColor=Ze(t,lq,r.borderBottomColor),this.borderLeftColor=Ze(t,cq,r.borderLeftColor),this.borderTopLeftRadius=Ze(t,Aq,r.borderTopLeftRadius),this.borderTopRightRadius=Ze(t,uq,r.borderTopRightRadius),this.borderBottomRightRadius=Ze(t,dq,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ze(t,fq,r.borderBottomLeftRadius),this.borderTopStyle=Ze(t,hq,r.borderTopStyle),this.borderRightStyle=Ze(t,pq,r.borderRightStyle),this.borderBottomStyle=Ze(t,gq,r.borderBottomStyle),this.borderLeftStyle=Ze(t,mq,r.borderLeftStyle),this.borderTopWidth=Ze(t,vq,r.borderTopWidth),this.borderRightWidth=Ze(t,xq,r.borderRightWidth),this.borderBottomWidth=Ze(t,yq,r.borderBottomWidth),this.borderLeftWidth=Ze(t,bq,r.borderLeftWidth),this.boxShadow=Ze(t,hJ,r.boxShadow),this.color=Ze(t,wq,r.color),this.direction=Ze(t,jq,r.direction),this.display=Ze(t,Nq,r.display),this.float=Ze(t,Cq,r.cssFloat),this.fontFamily=Ze(t,sJ,r.fontFamily),this.fontSize=Ze(t,aJ,r.fontSize),this.fontStyle=Ze(t,lJ,r.fontStyle),this.fontVariant=Ze(t,oJ,r.fontVariant),this.fontWeight=Ze(t,iJ,r.fontWeight),this.letterSpacing=Ze(t,kq,r.letterSpacing),this.lineBreak=Ze(t,Sq,r.lineBreak),this.lineHeight=Ze(t,_q,r.lineHeight),this.listStyleImage=Ze(t,Eq,r.listStyleImage),this.listStylePosition=Ze(t,Fq,r.listStylePosition),this.listStyleType=Ze(t,eN,r.listStyleType),this.marginTop=Ze(t,Pq,r.marginTop),this.marginRight=Ze(t,Iq,r.marginRight),this.marginBottom=Ze(t,Oq,r.marginBottom),this.marginLeft=Ze(t,Tq,r.marginLeft),this.opacity=Ze(t,tJ,r.opacity);var i=Ze(t,Lq,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ze(t,Uq,r.overflowWrap),this.paddingTop=Ze(t,Dq,r.paddingTop),this.paddingRight=Ze(t,Qq,r.paddingRight),this.paddingBottom=Ze(t,Mq,r.paddingBottom),this.paddingLeft=Ze(t,Rq,r.paddingLeft),this.paintOrder=Ze(t,pJ,r.paintOrder),this.position=Ze(t,Hq,r.position),this.textAlign=Ze(t,$q,r.textAlign),this.textDecorationColor=Ze(t,rJ,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Ze(t,nJ,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=Ze(t,zq,r.textShadow),this.textTransform=Ze(t,Kq,r.textTransform),this.transform=Ze(t,Vq,r.transform),this.transformOrigin=Ze(t,Xq,r.transformOrigin),this.visibility=Ze(t,Yq,r.visibility),this.webkitTextStrokeColor=Ze(t,gJ,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ze(t,mJ,r.webkitTextStrokeWidth),this.wordBreak=Ze(t,Zq,r.wordBreak),this.zIndex=Ze(t,eJ,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Yl(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return an(this.display,4)||an(this.display,33554432)||an(this.display,268435456)||an(this.display,536870912)||an(this.display,67108864)||an(this.display,134217728)},e}(),xJ=function(){function e(t,r){this.content=Ze(t,cJ,r.content),this.quotes=Ze(t,fJ,r.quotes)}return e}(),f_=function(){function e(t,r){this.counterIncrement=Ze(t,AJ,r.counterIncrement),this.counterReset=Ze(t,uJ,r.counterReset)}return e}(),Ze=function(e,t,r){var n=new zL,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var i=new KL(n.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,Yt(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Qy.parse(e,i.parseComponentValue());case"color":return Xl.parse(e,i.parseComponentValue());case"image":return W5.parse(e,i.parseComponentValue());case"length":var c=i.parseComponentValue();return ac(c)?c:Pn;case"length-percentage":var l=i.parseComponentValue();return Jr(l)?l:Pn;case"time":return cU.parse(e,i.parseComponentValue())}break}},yJ="data-html2canvas-debug",bJ=function(e){var t=e.getAttribute(yJ);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},tN=function(e,t){var r=bJ(e);return r===1||t===r},Gi=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,tN(r,3))debugger;this.styles=new vJ(t,window.getComputedStyle(r,null)),sN(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Uy(this.context,r),tN(r,4)&&(this.flags|=16)}return e}(),wJ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",h_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var y0=0;y0<h_.length;y0++)Dh[h_.charCodeAt(y0)]=y0;var jJ=function(e){var t=e.length*.75,r=e.length,n,s=0,i,o,c,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)i=Dh[e.charCodeAt(n)],o=Dh[e.charCodeAt(n+1)],c=Dh[e.charCodeAt(n+2)],l=Dh[e.charCodeAt(n+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|c>>2,u[s++]=(c&3)<<6|l&63;return A},NJ=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},BJ=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},oA=5,q5=11,Sw=2,CJ=q5-oA,AU=65536>>oA,kJ=1<<oA,_w=kJ-1,SJ=1024>>oA,_J=AU+SJ,EJ=_J,FJ=32,PJ=EJ+FJ,IJ=65536>>q5,OJ=1<<CJ,TJ=OJ-1,p_=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},LJ=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},UJ=function(e,t){var r=jJ(e),n=Array.isArray(r)?BJ(r):new Uint32Array(r),s=Array.isArray(r)?NJ(r):new Uint16Array(r),i=24,o=p_(s,i/2,n[4]/2),c=n[5]===2?p_(s,(i+n[4])/2):LJ(n,Math.ceil((i+n[4])/4));return new DJ(n[0],n[1],n[2],n[3],o,c)},DJ=function(){function e(t,r,n,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>oA],r=(r<<Sw)+(t&_w),this.data[r];if(t<=65535)return r=this.index[AU+(t-55296>>oA)],r=(r<<Sw)+(t&_w),this.data[r];if(t<this.highStart)return r=PJ-IJ+(t>>q5),r=this.index[r],r+=t>>oA&TJ,r=this.index[r],r=(r<<Sw)+(t&_w),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),g_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",QJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var b0=0;b0<g_.length;b0++)QJ[g_.charCodeAt(b0)]=b0;var MJ=1,Ew=2,Fw=3,m_=4,v_=5,RJ=7,x_=8,Pw=9,Iw=10,y_=11,b_=12,w_=13,j_=14,Ow=15,$J=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},HJ=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},zJ=UJ(wJ),oa="×",Tw="÷",KJ=function(e){return zJ.get(e)},VJ=function(e,t,r){var n=r-2,s=t[n],i=t[r-1],o=t[r];if(i===Ew&&o===Fw)return oa;if(i===Ew||i===Fw||i===m_||o===Ew||o===Fw||o===m_)return Tw;if(i===x_&&[x_,Pw,y_,b_].indexOf(o)!==-1||(i===y_||i===Pw)&&(o===Pw||o===Iw)||(i===b_||i===Iw)&&o===Iw||o===w_||o===v_||o===RJ||i===MJ)return oa;if(i===w_&&o===j_){for(;s===v_;)s=t[--n];if(s===j_)return oa}if(i===Ow&&o===Ow){for(var c=0;s===Ow;)c++,s=t[--n];if(c%2===0)return oa}return Tw},GJ=function(e){var t=$J(e),r=t.length,n=0,s=0,i=t.map(KJ);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=oa;n<r&&(o=VJ(t,i,++n))===oa;);if(o!==oa||n===r){var c=HJ.apply(null,t.slice(s,n));return s=n,{value:c,done:!1}}return{done:!0,value:null}}}},WJ=function(e){for(var t=GJ(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},qJ=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(n),i===t)return!0}}return!1},JJ=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=Dy(n.data).map(function(l){return Qr(l)}),i=0,o={},c=s.every(function(l,A){r.setStart(n,i),r.setEnd(n,i+l.length);var u=r.getBoundingClientRect();i+=l.length;var d=u.x>o.x||u.y>o.y;return o=u,A===0?!0:d});return e.body.removeChild(t),c},XJ=function(){return typeof new Image().crossOrigin<"u"},YJ=function(){return typeof new XMLHttpRequest().responseType=="string"},ZJ=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},N_=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},eX=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=t.toDataURL();s.src=i;var o=rN(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),B_(o).then(function(c){n.drawImage(c,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var A=e.createElement("div");return A.style.backgroundImage="url("+i+")",A.style.height=r+"px",N_(l)?B_(rN(r,r,0,0,A)):Promise.reject(!1)}).then(function(c){return n.drawImage(c,0,0),N_(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},rN=function(e,t,r,n,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),c=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(c),c.appendChild(s),o},B_=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},En={get SUPPORT_RANGE_BOUNDS(){var e=qJ(document);return Object.defineProperty(En,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=En.SUPPORT_RANGE_BOUNDS&&JJ(document);return Object.defineProperty(En,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=ZJ(document);return Object.defineProperty(En,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?eX(document):Promise.resolve(!1);return Object.defineProperty(En,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=XJ();return Object.defineProperty(En,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=YJ();return Object.defineProperty(En,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(En,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(En,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},op=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),tX=function(e,t,r,n){var s=sX(t,r),i=[],o=0;return s.forEach(function(c){if(r.textDecorationLine.length||c.trim().length>0)if(En.SUPPORT_RANGE_BOUNDS){var l=C_(n,o,c.length).getClientRects();if(l.length>1){var A=J5(c),u=0;A.forEach(function(f){i.push(new op(f,Qo.fromDOMRectList(e,C_(n,u+o,f.length).getClientRects()))),u+=f.length})}else i.push(new op(c,Qo.fromDOMRectList(e,l)))}else{var d=n.splitText(c.length);i.push(new op(c,rX(e,n))),n=d}else En.SUPPORT_RANGE_BOUNDS||(n=n.splitText(c.length));o+=c.length}),i},rX=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var i=Uy(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return Qo.EMPTY},C_=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},J5=function(e){if(En.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return WJ(e)},nX=function(e,t){if(En.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return iX(e,t)},sX=function(e,t){return t.letterSpacing!==0?J5(e):nX(e,t)},aX=[32,160,4961,65792,65793,4153,4241],iX=function(e,t){for(var r=IG(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,i=function(){if(s.value){var o=s.value.slice(),c=Dy(o),l="";c.forEach(function(A){aX.indexOf(A)===-1?l+=Qr(A):(l.length&&n.push(l),n.push(Qr(A)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},oX=function(){function e(t,r,n){this.text=lX(r.data,n.textTransform),this.textBounds=tX(t,this.text,n,r)}return e}(),lX=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(cX,AX);case 2:return e.toUpperCase();default:return e}},cX=/(^|\s|:|-|\(|\))([a-z])/g,AX=function(e,t,r){return e.length>0?t+r.toUpperCase():e},uU=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Gi),dU=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t}(Gi),fU=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=new XMLSerializer,o=Uy(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Gi),hU=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Gi),nN=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t}(Gi),uX=[{type:15,flags:0,unit:"px",number:3}],dX=[{type:16,flags:0,number:50}],fX=function(e){return e.width>e.height?new Qo(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Qo(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},hX=function(e){var t=e.type===pX?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},Jv="checkbox",Xv="radio",pX="password",k_=707406591,X5=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=hX(n),(s.type===Jv||s.type===Xv)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=fX(s.bounds)),s.type){case Jv:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=uX;break;case Xv:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=dX;break}return s}return t}(Gi),pU=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return t}(Gi),gU=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Gi),mU=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=xU(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ap(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):So.TRANSPARENT,o=n.contentWindow.document.body?ap(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):So.TRANSPARENT;s.backgroundColor=Yl(i)?Yl(o)?s.styles.backgroundColor:o:i}}catch{}return s}return t}(Gi),gX=["OL","UL","MENU"],dv=function(e,t,r,n){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,yU(s)&&s.data.trim().length>0)r.textNodes.push(new oX(e,s,r.styles));else if(Ku(s))if(NU(s)&&s.assignedNodes)s.assignedNodes().forEach(function(c){return dv(e,c,r,n)});else{var o=vU(e,s);o.styles.isVisible()&&(mX(s,o,n)?o.flags|=4:vX(o.styles)&&(o.flags|=2),gX.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?dv(e,s.shadowRoot,o,n):!Yv(s)&&!bU(s)&&!Zv(s)&&dv(e,s,o,n))}},vU=function(e,t){return aN(t)?new uU(e,t):wU(t)?new dU(e,t):bU(t)?new fU(e,t):xX(t)?new hU(e,t):yX(t)?new nN(e,t):bX(t)?new X5(e,t):Zv(t)?new pU(e,t):Yv(t)?new gU(e,t):jU(t)?new mU(e,t):new Gi(e,t)},xU=function(e,t){var r=vU(e,t);return r.flags|=4,dv(e,t,r,r),r},mX=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Y5(e)&&r.styles.isTransparent()},vX=function(e){return e.isPositioned()||e.isFloating()},yU=function(e){return e.nodeType===Node.TEXT_NODE},Ku=function(e){return e.nodeType===Node.ELEMENT_NODE},sN=function(e){return Ku(e)&&typeof e.style<"u"&&!fv(e)},fv=function(e){return typeof e.className=="object"},xX=function(e){return e.tagName==="LI"},yX=function(e){return e.tagName==="OL"},bX=function(e){return e.tagName==="INPUT"},wX=function(e){return e.tagName==="HTML"},bU=function(e){return e.tagName==="svg"},Y5=function(e){return e.tagName==="BODY"},wU=function(e){return e.tagName==="CANVAS"},S_=function(e){return e.tagName==="VIDEO"},aN=function(e){return e.tagName==="IMG"},jU=function(e){return e.tagName==="IFRAME"},__=function(e){return e.tagName==="STYLE"},jX=function(e){return e.tagName==="SCRIPT"},Yv=function(e){return e.tagName==="TEXTAREA"},Zv=function(e){return e.tagName==="SELECT"},NU=function(e){return e.tagName==="SLOT"},E_=function(e){return e.tagName.indexOf("-")>0},NX=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,i=!0;n!==null&&n.forEach(function(c){var l=r.counters[c.counter];l&&c.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=c.increment)});var o=[];return i&&s.forEach(function(c){var l=r.counters[c.counter];o.push(c.counter),l||(l=r.counters[c.counter]=[]),l.push(c.reset)}),o},e}(),F_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},P_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},BX={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},CX={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},vu=function(e,t,r,n,s,i){return e<t||e>r?Qp(e,s,i.length>0):n.integers.reduce(function(o,c,l){for(;e>=c;)e-=c,o+=n.values[l];return o},"")+i},BU=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},Dr=function(e,t,r,n,s){var i=r-t+1;return(e<0?"-":"")+(BU(Math.abs(e),i,n,function(o){return Qr(Math.floor(o%i)+t)})+s)},Ec=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return BU(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Eu=1,ml=2,vl=4,Qh=8,uo=function(e,t,r,n,s,i){if(e<-9999||e>9999)return Qp(e,4,s.length>0);var o=Math.abs(e),c=s;if(o===0)return t[0]+c;for(var l=0;o>0&&l<=4;l++){var A=o%10;A===0&&an(i,Eu)&&c!==""?c=t[A]+c:A>1||A===1&&l===0||A===1&&l===1&&an(i,ml)||A===1&&l===1&&an(i,vl)&&e>100||A===1&&l>1&&an(i,Qh)?c=t[A]+(l>0?r[l-1]:"")+c:A===1&&l>0&&(c=r[l-1]+c),o=Math.floor(o/10)}return(e<0?n:"")+c},I_="十百千萬",O_="拾佰仟萬",T_="マイナス",Lw="마이너스",Qp=function(e,t,r){var n=r?". ":"",s=r?"、":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var c=Dr(e,48,57,!0,n);return c.length<4?"0"+c:c;case 4:return Ec(e,"〇一二三四五六七八九",s);case 6:return vu(e,1,3999,F_,3,n).toLowerCase();case 7:return vu(e,1,3999,F_,3,n);case 8:return Dr(e,945,969,!1,n);case 9:return Dr(e,97,122,!1,n);case 10:return Dr(e,65,90,!1,n);case 11:return Dr(e,1632,1641,!0,n);case 12:case 49:return vu(e,1,9999,P_,3,n);case 35:return vu(e,1,9999,P_,3,n).toLowerCase();case 13:return Dr(e,2534,2543,!0,n);case 14:case 30:return Dr(e,6112,6121,!0,n);case 15:return Ec(e,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return Ec(e,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return uo(e,"零一二三四五六七八九",I_,"負",s,ml|vl|Qh);case 47:return uo(e,"零壹貳參肆伍陸柒捌玖",O_,"負",s,Eu|ml|vl|Qh);case 42:return uo(e,"零一二三四五六七八九",I_,"负",s,ml|vl|Qh);case 41:return uo(e,"零壹贰叁肆伍陆柒捌玖",O_,"负",s,Eu|ml|vl|Qh);case 26:return uo(e,"〇一二三四五六七八九","十百千万",T_,s,0);case 25:return uo(e,"零壱弐参四伍六七八九","拾百千万",T_,s,Eu|ml|vl);case 31:return uo(e,"영일이삼사오육칠팔구","십백천만",Lw,i,Eu|ml|vl);case 33:return uo(e,"零一二三四五六七八九","十百千萬",Lw,i,0);case 32:return uo(e,"零壹貳參四五六七八九","拾百千",Lw,i,Eu|ml|vl);case 18:return Dr(e,2406,2415,!0,n);case 20:return vu(e,1,19999,CX,3,n);case 21:return Dr(e,2790,2799,!0,n);case 22:return Dr(e,2662,2671,!0,n);case 22:return vu(e,1,10999,BX,3,n);case 23:return Ec(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Ec(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Dr(e,3302,3311,!0,n);case 28:return Ec(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return Ec(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Dr(e,3792,3801,!0,n);case 37:return Dr(e,6160,6169,!0,n);case 38:return Dr(e,4160,4169,!0,n);case 39:return Dr(e,2918,2927,!0,n);case 40:return Dr(e,1776,1785,!0,n);case 43:return Dr(e,3046,3055,!0,n);case 44:return Dr(e,3174,3183,!0,n);case 45:return Dr(e,3664,3673,!0,n);case 46:return Dr(e,3872,3881,!0,n);case 3:default:return Dr(e,48,57,!0,n)}},CU="data-html2canvas-ignore",L_=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new NX,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=kX(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,c=s.contentWindow,l=c.document,A=EX(s).then(function(){return ts(n,void 0,void 0,function(){var u,d;return Hn(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(OX),c&&(c.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==r.top||c.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-r.left,c.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,_X(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(PX(document.doctype)+"<html></html>"),IX(this.referenceElement.ownerDocument,i,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),A},e.prototype.createElementClone=function(t){if(tN(t,2))debugger;if(wU(t))return this.createCanvasClone(t);if(S_(t))return this.createVideoClone(t);if(__(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return aN(r)&&(aN(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),E_(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return Uw(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var i=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var c=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(c){var l=c.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!Ku(r)||!jX(r)&&!r.hasAttribute(CU)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ku(r)||!__(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(Ku(i)&&NU(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(c){return s.appendChildNode(r,c,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(yU(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Ku(t)&&(sN(t)||fv(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),c=n.getComputedStyle(t,":after");this.referenceElement===t&&sN(s)&&(this.clonedReferenceElement=s),Y5(s)&&UX(s);var l=this.counters.parse(new f_(this.context,i)),A=this.resolvePseudoContent(t,s,o,lp.BEFORE);E_(t)&&(r=!0),S_(t)||this.cloneChildNodes(t,s,r),A&&s.insertBefore(A,s.firstChild);var u=this.resolvePseudoContent(t,s,c,lp.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||fv(t))&&!jU(t)||r)&&Uw(i,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(Yv(t)||Zv(t))&&(Yv(s)||Zv(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var i=this;if(n){var o=n.content,c=r.ownerDocument;if(!(!c||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new f_(this.context,n));var l=new xJ(this.context,n),A=c.createElement("html2canvaspseudoelement");Uw(n,A),l.content.forEach(function(d){if(d.type===0)A.appendChild(c.createTextNode(d.value));else if(d.type===22){var f=c.createElement("img");f.src=d.value,f.style.opacity="1",A.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var h=d.values.filter(Yt);h.length&&A.appendChild(c.createTextNode(t.getAttribute(h[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(Nd),m=p[0],x=p[1];if(m&&Yt(m)){var v=i.counters.getCounterValue(m.value),y=x&&Yt(x)?eN.parse(i.context,x.value):3;A.appendChild(c.createTextNode(Qp(v,y,!1)))}}else if(d.name==="counters"){var b=d.values.filter(Nd),m=b[0],_=b[1],x=b[2];if(m&&Yt(m)){var N=i.counters.getCounterValues(m.value),P=x&&Yt(x)?eN.parse(i.context,x.value):3,T=_&&_.type===0?_.value:"",j=N.map(function(E){return Qp(E,P,!1)}).join(T);A.appendChild(c.createTextNode(j))}}}else if(d.type===20)switch(d.value){case"open-quote":A.appendChild(c.createTextNode(d_(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":A.appendChild(c.createTextNode(d_(l.quotes,--i.quoteDepth,!1)));break;default:A.appendChild(c.createTextNode(d.value))}}),A.className=iN+" "+oN;var u=s===lp.BEFORE?" "+iN:" "+oN;return fv(r)?r.className.baseValue+=u:r.className+=u,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),lp;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(lp||(lp={}));var kX=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(CU,"true"),e.body.appendChild(r),r},SX=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},_X=function(e){return Promise.all([].slice.call(e.images,0).map(SX))},EX=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},FX=["all","d","content"],Uw=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);FX.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},PX=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},IX=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},OX=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},TX=":before",LX=":after",iN="___html2canvas___pseudoelement_before",oN="___html2canvas___pseudoelement_after",U_=`{
    content: "" !important;
    display: none !important;
}`,UX=function(e){DX(e,"."+iN+TX+U_+`
         .`+oN+LX+U_)},DX=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},kU=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),QX=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(Qw(t)||HX(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ts(this,void 0,void 0,function(){var r,n,s,i,o=this;return Hn(this,function(c){switch(c.label){case 0:return r=kU.isSameOrigin(t),n=!Dw(t)&&this._options.useCORS===!0&&En.SUPPORT_CORS_IMAGES&&!r,s=!Dw(t)&&!r&&!Qw(t)&&typeof this._options.proxy=="string"&&En.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Dw(t)&&!Qw(t)&&!s&&!n?[2]:(i=t,s?[4,this.proxy(i)]:[3,2]);case 1:i=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,A){var u=new Image;u.onload=function(){return l(u)},u.onerror=A,(zX(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(i,o){var c=En.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(c==="text")i(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(f){return o(f)},!1),d.readAsDataURL(l.response)}else o("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=o;var A=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+A+"url="+encodeURIComponent(t)+"&responseType="+c),c!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=c),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+s)}}l.send()})},e}(),MX=/^data:image\/svg\+xml/i,RX=/^data:image\/.*;base64,/i,$X=/^data:image\/.*/i,HX=function(e){return En.SUPPORT_SVG_DRAWING||!KX(e)},Dw=function(e){return $X.test(e)},zX=function(e){return RX.test(e)},Qw=function(e){return e.substr(0,4)==="blob"},KX=function(e){return e.substr(-3).toLowerCase()==="svg"||MX.test(e)},Je=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),xu=function(e,t,r){return new Je(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},w0=function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=xu(this.start,this.startControl,t),s=xu(this.startControl,this.endControl,t),i=xu(this.endControl,this.end,t),o=xu(n,s,t),c=xu(s,i,t),l=xu(o,c,t);return r?new e(this.start,n,o,l):new e(l,c,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ua=function(e){return e.type===1},VX=function(){function e(t){var r=t.styles,n=t.bounds,s=Uh(r.borderTopLeftRadius,n.width,n.height),i=s[0],o=s[1],c=Uh(r.borderTopRightRadius,n.width,n.height),l=c[0],A=c[1],u=Uh(r.borderBottomRightRadius,n.width,n.height),d=u[0],f=u[1],h=Uh(r.borderBottomLeftRadius,n.width,n.height),p=h[0],m=h[1],x=[];x.push((i+l)/n.width),x.push((p+d)/n.width),x.push((o+m)/n.height),x.push((A+f)/n.height);var v=Math.max.apply(Math,x);v>1&&(i/=v,o/=v,l/=v,A/=v,d/=v,f/=v,p/=v,m/=v);var y=n.width-l,b=n.height-f,_=n.width-d,N=n.height-m,P=r.borderTopWidth,T=r.borderRightWidth,j=r.borderBottomWidth,k=r.borderLeftWidth,z=cr(r.paddingTop,t.bounds.width),E=cr(r.paddingRight,t.bounds.width),C=cr(r.paddingBottom,t.bounds.width),Q=cr(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?vr(n.left+k/3,n.top+P/3,i-k/3,o-P/3,zt.TOP_LEFT):new Je(n.left+k/3,n.top+P/3),this.topRightBorderDoubleOuterBox=i>0||o>0?vr(n.left+y,n.top+P/3,l-T/3,A-P/3,zt.TOP_RIGHT):new Je(n.left+n.width-T/3,n.top+P/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?vr(n.left+_,n.top+b,d-T/3,f-j/3,zt.BOTTOM_RIGHT):new Je(n.left+n.width-T/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?vr(n.left+k/3,n.top+N,p-k/3,m-j/3,zt.BOTTOM_LEFT):new Je(n.left+k/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?vr(n.left+k*2/3,n.top+P*2/3,i-k*2/3,o-P*2/3,zt.TOP_LEFT):new Je(n.left+k*2/3,n.top+P*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?vr(n.left+y,n.top+P*2/3,l-T*2/3,A-P*2/3,zt.TOP_RIGHT):new Je(n.left+n.width-T*2/3,n.top+P*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?vr(n.left+_,n.top+b,d-T*2/3,f-j*2/3,zt.BOTTOM_RIGHT):new Je(n.left+n.width-T*2/3,n.top+n.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?vr(n.left+k*2/3,n.top+N,p-k*2/3,m-j*2/3,zt.BOTTOM_LEFT):new Je(n.left+k*2/3,n.top+n.height-j*2/3),this.topLeftBorderStroke=i>0||o>0?vr(n.left+k/2,n.top+P/2,i-k/2,o-P/2,zt.TOP_LEFT):new Je(n.left+k/2,n.top+P/2),this.topRightBorderStroke=i>0||o>0?vr(n.left+y,n.top+P/2,l-T/2,A-P/2,zt.TOP_RIGHT):new Je(n.left+n.width-T/2,n.top+P/2),this.bottomRightBorderStroke=d>0||f>0?vr(n.left+_,n.top+b,d-T/2,f-j/2,zt.BOTTOM_RIGHT):new Je(n.left+n.width-T/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=p>0||m>0?vr(n.left+k/2,n.top+N,p-k/2,m-j/2,zt.BOTTOM_LEFT):new Je(n.left+k/2,n.top+n.height-j/2),this.topLeftBorderBox=i>0||o>0?vr(n.left,n.top,i,o,zt.TOP_LEFT):new Je(n.left,n.top),this.topRightBorderBox=l>0||A>0?vr(n.left+y,n.top,l,A,zt.TOP_RIGHT):new Je(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||f>0?vr(n.left+_,n.top+b,d,f,zt.BOTTOM_RIGHT):new Je(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||m>0?vr(n.left,n.top+N,p,m,zt.BOTTOM_LEFT):new Je(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?vr(n.left+k,n.top+P,Math.max(0,i-k),Math.max(0,o-P),zt.TOP_LEFT):new Je(n.left+k,n.top+P),this.topRightPaddingBox=l>0||A>0?vr(n.left+Math.min(y,n.width-T),n.top+P,y>n.width+T?0:Math.max(0,l-T),Math.max(0,A-P),zt.TOP_RIGHT):new Je(n.left+n.width-T,n.top+P),this.bottomRightPaddingBox=d>0||f>0?vr(n.left+Math.min(_,n.width-k),n.top+Math.min(b,n.height-j),Math.max(0,d-T),Math.max(0,f-j),zt.BOTTOM_RIGHT):new Je(n.left+n.width-T,n.top+n.height-j),this.bottomLeftPaddingBox=p>0||m>0?vr(n.left+k,n.top+Math.min(N,n.height-j),Math.max(0,p-k),Math.max(0,m-j),zt.BOTTOM_LEFT):new Je(n.left+k,n.top+n.height-j),this.topLeftContentBox=i>0||o>0?vr(n.left+k+Q,n.top+P+z,Math.max(0,i-(k+Q)),Math.max(0,o-(P+z)),zt.TOP_LEFT):new Je(n.left+k+Q,n.top+P+z),this.topRightContentBox=l>0||A>0?vr(n.left+Math.min(y,n.width+k+Q),n.top+P+z,y>n.width+k+Q?0:l-k+Q,A-(P+z),zt.TOP_RIGHT):new Je(n.left+n.width-(T+E),n.top+P+z),this.bottomRightContentBox=d>0||f>0?vr(n.left+Math.min(_,n.width-(k+Q)),n.top+Math.min(b,n.height+P+z),Math.max(0,d-(T+E)),f-(j+C),zt.BOTTOM_RIGHT):new Je(n.left+n.width-(T+E),n.top+n.height-(j+C)),this.bottomLeftContentBox=p>0||m>0?vr(n.left+k+Q,n.top+N,Math.max(0,p-(k+Q)),m-(j+C),zt.BOTTOM_LEFT):new Je(n.left+k+Q,n.top+n.height-(j+C))}return e}(),zt;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(zt||(zt={}));var vr=function(e,t,r,n,s){var i=4*((Math.sqrt(2)-1)/3),o=r*i,c=n*i,l=e+r,A=t+n;switch(s){case zt.TOP_LEFT:return new w0(new Je(e,A),new Je(e,A-c),new Je(l-o,t),new Je(l,t));case zt.TOP_RIGHT:return new w0(new Je(e,t),new Je(e+o,t),new Je(l,A-c),new Je(l,A));case zt.BOTTOM_RIGHT:return new w0(new Je(l,t),new Je(l,t+c),new Je(e+o,A),new Je(e,A));case zt.BOTTOM_LEFT:default:return new w0(new Je(l,A),new Je(l-o,A),new Je(e,t+c),new Je(e,t))}},ex=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},GX=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},tx=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},WX=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),j0=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),qX=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),JX=function(e){return e.type===0},SU=function(e){return e.type===1},XX=function(e){return e.type===2},D_=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},YX=function(e,t,r,n,s){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+s);case 3:return i.add(t,r+s)}return i})},_U=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),EU=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new VX(this.container),this.container.styles.opacity<1&&this.effects.push(new qX(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new WX(n,s,i))}if(this.container.styles.overflowX!==0){var o=ex(this.curves),c=tx(this.curves);D_(o,c)?this.effects.push(new j0(o,6)):(this.effects.push(new j0(o,2)),this.effects.push(new j0(c,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!SU(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=ex(n.curves),c=tx(n.curves);D_(o,c)||s.unshift(new j0(c,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return an(l.target,t)})},e}(),lN=function(e,t,r,n){e.container.elements.forEach(function(s){var i=an(s.flags,4),o=an(s.flags,2),c=new EU(s,e);an(s.styles.display,2048)&&n.push(c);var l=an(s.flags,8)?[]:n;if(i||o){var A=i||s.styles.isPositioned()?r:t,u=new _U(c);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var f=0;A.negativeZIndex.some(function(p,m){return d>p.element.container.styles.zIndex.order?(f=m,!1):f>0}),A.negativeZIndex.splice(f,0,u)}else if(d>0){var h=0;A.positiveZIndex.some(function(p,m){return d>=p.element.container.styles.zIndex.order?(h=m+1,!1):h>0}),A.positiveZIndex.splice(h,0,u)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?A.nonPositionedFloats.push(u):A.nonPositionedInlineLevel.push(u);lN(c,u,i?u:r,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(c):t.nonInlineLevel.push(c),lN(c,t,r,l);an(s.flags,8)&&FU(s,l)})},FU=function(e,t){for(var r=e instanceof nN?e.start:1,n=e instanceof nN?e.reversed:!1,s=0;s<t.length;s++){var i=t[s];i.container instanceof hU&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Qp(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},ZX=function(e){var t=new EU(e,null),r=new _U(t),n=[];return lN(t,r,r,n),FU(t.container,n),r},Q_=function(e,t){switch(t){case 0:return ga(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ga(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ga(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ga(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},eY=function(e,t){switch(t){case 0:return ga(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ga(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ga(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ga(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},tY=function(e,t){switch(t){case 0:return ga(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ga(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ga(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ga(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},rY=function(e,t){switch(t){case 0:return N0(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return N0(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return N0(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return N0(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},N0=function(e,t){var r=[];return ua(e)?r.push(e.subdivide(.5,!1)):r.push(e),ua(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},ga=function(e,t,r,n){var s=[];return ua(e)?s.push(e.subdivide(.5,!1)):s.push(e),ua(r)?s.push(r.subdivide(.5,!0)):s.push(r),ua(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),ua(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},PU=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},rx=function(e){var t=e.styles,r=e.bounds,n=cr(t.paddingLeft,r.width),s=cr(t.paddingRight,r.width),i=cr(t.paddingTop,r.width),o=cr(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+i+o))},nY=function(e,t){return e===0?t.bounds:e===2?rx(t):PU(t)},sY=function(e,t){return e===0?t.bounds:e===2?rx(t):PU(t)},Mw=function(e,t,r){var n=nY(Fu(e.styles.backgroundOrigin,t),e),s=sY(Fu(e.styles.backgroundClip,t),e),i=aY(Fu(e.styles.backgroundSize,t),r,n),o=i[0],c=i[1],l=Uh(Fu(e.styles.backgroundPosition,t),n.width-o,n.height-c),A=iY(Fu(e.styles.backgroundRepeat,t),l,i,n,s),u=Math.round(n.left+l[0]),d=Math.round(n.top+l[1]);return[A,u,d,o,c]},yu=function(e){return Yt(e)&&e.value===ld.AUTO},B0=function(e){return typeof e=="number"},aY=function(e,t,r){var n=t[0],s=t[1],i=t[2],o=e[0],c=e[1];if(!o)return[0,0];if(Jr(o)&&c&&Jr(c))return[cr(o,r.width),cr(c,r.height)];var l=B0(i);if(Yt(o)&&(o.value===ld.CONTAIN||o.value===ld.COVER)){if(B0(i)){var A=r.width/r.height;return A<i!=(o.value===ld.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=B0(n),d=B0(s),f=u||d;if(yu(o)&&(!c||yu(c))){if(u&&d)return[n,s];if(!l&&!f)return[r.width,r.height];if(f&&l){var h=u?n:s*i,p=d?s:n/i;return[h,p]}var m=u?n:r.width,x=d?s:r.height;return[m,x]}if(l){var v=0,y=0;return Jr(o)?v=cr(o,r.width):Jr(c)&&(y=cr(c,r.height)),yu(o)?v=y*i:(!c||yu(c))&&(y=v/i),[v,y]}var b=null,_=null;if(Jr(o)?b=cr(o,r.width):c&&Jr(c)&&(_=cr(c,r.height)),b!==null&&(!c||yu(c))&&(_=u&&d?b/n*s:r.height),_!==null&&yu(o)&&(b=u&&d?_/s*n:r.width),b!==null&&_!==null)return[b,_];throw new Error("Unable to calculate background-size for element")},Fu=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},iY=function(e,t,r,n,s){var i=t[0],o=t[1],c=r[0],l=r[1];switch(e){case 2:return[new Je(Math.round(n.left),Math.round(n.top+o)),new Je(Math.round(n.left+n.width),Math.round(n.top+o)),new Je(Math.round(n.left+n.width),Math.round(l+n.top+o)),new Je(Math.round(n.left),Math.round(l+n.top+o))];case 3:return[new Je(Math.round(n.left+i),Math.round(n.top)),new Je(Math.round(n.left+i+c),Math.round(n.top)),new Je(Math.round(n.left+i+c),Math.round(n.height+n.top)),new Je(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Je(Math.round(n.left+i),Math.round(n.top+o)),new Je(Math.round(n.left+i+c),Math.round(n.top+o)),new Je(Math.round(n.left+i+c),Math.round(n.top+o+l)),new Je(Math.round(n.left+i),Math.round(n.top+o+l))];default:return[new Je(Math.round(s.left),Math.round(s.top)),new Je(Math.round(s.left+s.width),Math.round(s.top)),new Je(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Je(Math.round(s.left),Math.round(s.height+s.top))]}},oY="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",M_="Hidden Text",lY=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=oY,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(M_)),n.appendChild(i),n.appendChild(s);var c=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(M_)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:c,middle:l}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),IU=function(){function e(t,r){this.context=t,this.options=r}return e}(),cY=1e4,AY=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new lY(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),XX(r)&&(this.ctx.globalAlpha=r.opacity),JX(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),SU(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return ts(this,void 0,void 0,function(){var n;return Hn(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return ts(this,void 0,void 0,function(){return Hn(this,function(n){switch(n.label){case 0:if(an(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=J5(r.text);o.reduce(function(c,l){return i.ctx.fillText(l,c,r.bounds.top+s),c+i.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=pY(r.fontFamily).join(", "),i=Ig(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},t.prototype.renderTextNode=function(r,n){return ts(this,void 0,void 0,function(){var s,i,o,c,l,A,u,d,f=this;return Hn(this,function(h){return s=this.createFontStyle(n),i=s[0],o=s[1],c=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,c),A=l.baseline,u=l.middle,d=n.paintOrder,r.textBounds.forEach(function(p){d.forEach(function(m){switch(m){case 0:f.ctx.fillStyle=pn(n.color),f.renderTextWithLetterSpacing(p,n.letterSpacing,A);var x=n.textShadow;x.length&&p.text.trim().length&&(x.slice(0).reverse().forEach(function(v){f.ctx.shadowColor=pn(v.color),f.ctx.shadowOffsetX=v.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=v.offsetY.number*f.options.scale,f.ctx.shadowBlur=v.blur.number,f.renderTextWithLetterSpacing(p,n.letterSpacing,A)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=pn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+A),p.bounds.width,1);break;case 2:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:f.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(f.ctx.strokeStyle=pn(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+A)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=rx(r),o=tx(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return ts(this,void 0,void 0,function(){var n,s,i,o,c,l,y,y,A,u,d,f,_,h,p,N,m,x,v,y,b,_,N;return Hn(this,function(P){switch(P.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,o=0,c=n.textNodes,P.label=1;case 1:return o<c.length?(l=c[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:P.sent(),P.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof uU))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=P.sent(),this.renderReplacedElement(n,s,y),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof dU&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof fU))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=P.sent(),this.renderReplacedElement(n,s,y),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof mU&&n.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:u=P.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),P.label=14;case 14:if(n instanceof X5&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===Jv?n.checked&&(this.ctx.save(),this.path([new Je(n.bounds.left+d*.39363,n.bounds.top+d*.79),new Je(n.bounds.left+d*.16,n.bounds.top+d*.5549),new Je(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new Je(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new Je(n.bounds.left+d*.72983,n.bounds.top+d*.23),new Je(n.bounds.left+d*.84,n.bounds.top+d*.34085),new Je(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=pn(k_),this.ctx.fill(),this.ctx.restore()):n.type===Xv&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=pn(k_),this.ctx.fill(),this.ctx.restore())),uY(n)&&n.value.length){switch(f=this.createFontStyle(i),_=f[0],h=f[1],p=this.fontMetrics.getMetrics(_,h).baseline,this.ctx.font=_,this.ctx.fillStyle=pn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fY(n.styles.textAlign),N=rx(n),m=0,n.styles.textAlign){case 1:m+=N.width/2;break;case 2:m+=N.width;break}x=N.add(m,0,0,-N.height/2+1),this.ctx.save(),this.path([new Je(N.left,N.top),new Je(N.left+N.width,N.top),new Je(N.left+N.width,N.top+N.height),new Je(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new op(n.value,x),i.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!an(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];y=void 0,b=v.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return y=P.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(i)[0],this.ctx.font=_,this.ctx.fillStyle=pn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new Qo(n.bounds.left,n.bounds.top+cr(n.styles.paddingTop,n.bounds.width),n.bounds.width,A_(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new op(r.listValue,N),i.letterSpacing,A_(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return ts(this,void 0,void 0,function(){var n,s,v,i,o,v,c,l,v,A,u,v,d,f,v,h,p,v,m,x,v;return Hn(this,function(y){switch(y.label){case 0:if(an(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,s=r.negativeZIndex,y.label=2;case 2:return n<s.length?(v=s[n],[4,this.renderStack(v)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,o=r.nonInlineLevel,y.label=7;case 7:return i<o.length?(v=o[i],[4,this.renderNode(v)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:c=0,l=r.nonPositionedFloats,y.label=11;case 11:return c<l.length?(v=l[c],[4,this.renderStack(v)]):[3,14];case 12:y.sent(),y.label=13;case 13:return c++,[3,11];case 14:A=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return A<u.length?(v=u[A],[4,this.renderStack(v)]):[3,18];case 16:y.sent(),y.label=17;case 17:return A++,[3,15];case 18:d=0,f=r.inlineLevel,y.label=19;case 19:return d<f.length?(v=f[d],[4,this.renderNode(v)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:h=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return h<p.length?(v=p[h],[4,this.renderStack(v)]):[3,26];case 24:y.sent(),y.label=25;case 25:return h++,[3,23];case 26:m=0,x=r.positiveZIndex,y.label=27;case 27:return m<x.length?(v=x[m],[4,this.renderStack(v)]):[3,30];case 28:y.sent(),y.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var o=ua(s)?s.start:s;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),ua(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},t.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,c=o.createElement("canvas");c.width=Math.max(1,n),c.height=Math.max(1,s);var l=c.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),c},t.prototype.renderBackgroundImage=function(r){return ts(this,void 0,void 0,function(){var n,s,i,o,c,l;return Hn(this,function(A){switch(A.label){case 0:n=r.styles.backgroundImage.length-1,s=function(u){var d,f,h,z,S,O,Q,L,j,p,z,S,O,Q,L,m,x,v,y,b,_,N,P,T,j,k,z,E,C,Q,L,D,S,O,R,W,M,q,B,I,H,G;return Hn(this,function(J){switch(J.label){case 0:if(u.type!==0)return[3,5];d=void 0,f=u.url,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return d=J.sent(),[3,4];case 3:return J.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(h=Mw(r,n,[d.width,d.height,d.width/d.height]),z=h[0],S=h[1],O=h[2],Q=h[3],L=h[4],j=i.ctx.createPattern(i.resizeImage(d,Q,L),"repeat"),i.renderRepeat(z,j,S,O)),[3,6];case 5:JW(u)?(p=Mw(r,n,[null,null,null]),z=p[0],S=p[1],O=p[2],Q=p[3],L=p[4],m=KW(u.angle,Q,L),x=m[0],v=m[1],y=m[2],b=m[3],_=m[4],N=document.createElement("canvas"),N.width=Q,N.height=L,P=N.getContext("2d"),T=P.createLinearGradient(v,b,y,_),l_(u.stops,x).forEach(function(ie){return T.addColorStop(ie.stop,pn(ie.color))}),P.fillStyle=T,P.fillRect(0,0,Q,L),Q>0&&L>0&&(j=i.ctx.createPattern(N,"repeat"),i.renderRepeat(z,j,S,O))):XW(u)&&(k=Mw(r,n,[null,null,null]),z=k[0],E=k[1],C=k[2],Q=k[3],L=k[4],D=u.position.length===0?[G5]:u.position,S=cr(D[0],Q),O=cr(D[D.length-1],L),R=VW(u,S,O,Q,L),W=R[0],M=R[1],W>0&&M>0&&(q=i.ctx.createRadialGradient(E+S,C+O,0,E+S,C+O,W),l_(u.stops,W*2).forEach(function(ie){return q.addColorStop(ie.stop,pn(ie.color))}),i.path(z),i.ctx.fillStyle=q,W!==M?(B=r.bounds.left+.5*r.bounds.width,I=r.bounds.top+.5*r.bounds.height,H=M/W,G=1/H,i.ctx.save(),i.ctx.translate(B,I),i.ctx.transform(1,0,0,H,0,0),i.ctx.translate(-B,-I),i.ctx.fillRect(E,G*(C-I)+I,Q,L*G),i.ctx.restore()):i.ctx.fill())),J.label=6;case 6:return n--,[2]}})},i=this,o=0,c=r.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<c.length?(l=c[o],[5,s(l)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return ts(this,void 0,void 0,function(){return Hn(this,function(i){return this.path(Q_(s,n)),this.ctx.fillStyle=pn(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,i){return ts(this,void 0,void 0,function(){var o,c;return Hn(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return o=eY(i,s),this.path(o),this.ctx.fillStyle=pn(r),this.ctx.fill(),c=tY(i,s),this.path(c),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return ts(this,void 0,void 0,function(){var n,s,i,o,c,l,A,u,d=this;return Hn(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Yl(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=dY(Fu(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Yl(n.backgroundColor)||(this.ctx.fillStyle=pn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(h){d.ctx.save();var p=ex(r.curves),m=h.inset?0:cY,x=YX(p,-m+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(d.path(p),d.ctx.clip(),d.mask(x)):(d.mask(p),d.ctx.clip(),d.path(x)),d.ctx.shadowOffsetX=h.offsetX.number+m,d.ctx.shadowOffsetY=h.offsetY.number,d.ctx.shadowColor=pn(h.color),d.ctx.shadowBlur=h.blur.number,d.ctx.fillStyle=h.inset?pn(h.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:c=0,l=0,A=i,f.label=3;case 3:return l<A.length?(u=A[l],u.style!==0&&!Yl(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,c,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,c,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,c,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,c,r.curves)];case 10:f.sent(),f.label=11;case 11:c++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,i,o){return ts(this,void 0,void 0,function(){var c,l,A,u,d,f,h,p,m,x,v,y,b,_,N,P,N,P;return Hn(this,function(T){return this.ctx.save(),c=rY(i,s),l=Q_(i,s),o===2&&(this.path(l),this.ctx.clip()),ua(l[0])?(A=l[0].start.x,u=l[0].start.y):(A=l[0].x,u=l[0].y),ua(l[1])?(d=l[1].end.x,f=l[1].end.y):(d=l[1].x,f=l[1].y),s===0||s===2?h=Math.abs(A-d):h=Math.abs(u-f),this.ctx.beginPath(),o===3?this.formatPath(c):this.formatPath(l.slice(0,2)),p=n<3?n*3:n*2,m=n<3?n*2:n,o===3&&(p=n,m=n),x=!0,h<=p*2?x=!1:h<=p*2+m?(v=h/(2*p+m),p*=v,m*=v):(y=Math.floor((h+m)/(p+m)),b=(h-y*p)/(y-1),_=(h-(y+1)*p)/y,m=_<=0||Math.abs(m-b)<Math.abs(m-_)?b:_),x&&(o===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=pn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ua(l[0])&&(N=l[3],P=l[0],this.ctx.beginPath(),this.formatPath([new Je(N.end.x,N.end.y),new Je(P.start.x,P.start.y)]),this.ctx.stroke()),ua(l[1])&&(N=l[1],P=l[2],this.ctx.beginPath(),this.formatPath([new Je(N.end.x,N.end.y),new Je(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return ts(this,void 0,void 0,function(){var n;return Hn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=ZX(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(IU),uY=function(e){return e instanceof gU||e instanceof pU?!0:e instanceof X5&&e.type!==Xv&&e.type!==Jv},dY=function(e,t){switch(e){case 0:return ex(t);case 2:return GX(t);case 1:default:return tx(t)}},fY=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},hY=["-apple-system","system-ui"],pY=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return hY.indexOf(t)===-1}):e},gY=function(e){li(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return ts(this,void 0,void 0,function(){var n,s;return Hn(this,function(i){switch(i.label){case 0:return n=rN(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,mY(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(IU),mY=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},vY=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,n0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,n0([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,n0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,n0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),xY=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new vY({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new QX(this,t)}return e.instanceCount=1,e}(),Z5=function(e,t){return t===void 0&&(t={}),yY(e,t)};typeof window<"u"&&kU.setContext(window);var yY=function(e,t){return ts(void 0,void 0,void 0,function(){var r,n,s,i,o,c,l,A,u,d,f,h,p,m,x,v,y,b,_,N,T,P,T,j,k,z,E,C,Q,L,D,S,O,R,W,M,q,B,I,H;return Hn(this,function(G){switch(G.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(j=t.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(k=t.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:t.proxy,useCORS:(z=t.useCORS)!==null&&z!==void 0?z:!1},i=Rj({logging:(E=t.logging)!==null&&E!==void 0?E:!0,cache:t.cache},s),o={windowWidth:(C=t.windowWidth)!==null&&C!==void 0?C:n.innerWidth,windowHeight:(Q=t.windowHeight)!==null&&Q!==void 0?Q:n.innerHeight,scrollX:(L=t.scrollX)!==null&&L!==void 0?L:n.pageXOffset,scrollY:(D=t.scrollY)!==null&&D!==void 0?D:n.pageYOffset},c=new Qo(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new xY(i,c),A=(S=t.foreignObjectRendering)!==null&&S!==void 0?S:!1,u={allowTaint:(O=t.allowTaint)!==null&&O!==void 0?O:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},l.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),d=new L_(l,e,u),f=d.clonedReferenceElement,f?[4,d.toIFrame(r,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=G.sent(),p=Y5(f)||wX(f)?YV(f.ownerDocument):Uy(l,f),m=p.width,x=p.height,v=p.left,y=p.top,b=bY(l,f,t.backgroundColor),_={canvas:t.canvas,backgroundColor:b,scale:(W=(R=t.scale)!==null&&R!==void 0?R:n.devicePixelRatio)!==null&&W!==void 0?W:1,x:((M=t.x)!==null&&M!==void 0?M:0)+v,y:((q=t.y)!==null&&q!==void 0?q:0)+y,width:(B=t.width)!==null&&B!==void 0?B:Math.ceil(m),height:(I=t.height)!==null&&I!==void 0?I:Math.ceil(x)},A?(l.logger.debug("Document cloned, using foreign object rendering"),T=new gY(l,_),[4,T.render(f)]):[3,3];case 2:return N=G.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+v+","+y+" with size "+m+"x"+x+" using computed rendering"),l.logger.debug("Starting DOM parsing"),P=xU(l,f),b===P.styles.backgroundColor&&(P.styles.backgroundColor=So.TRANSPARENT),l.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),T=new AY(l,_),[4,T.render(P)];case 4:N=G.sent(),G.label=5;case 5:return(!((H=t.removeContainer)!==null&&H!==void 0)||H)&&(L_.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,N]}})})},bY=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?ap(e,getComputedStyle(n.documentElement).backgroundColor):So.TRANSPARENT,i=n.body?ap(e,getComputedStyle(n.body).backgroundColor):So.TRANSPARENT,o=typeof r=="string"?ap(e,r):r===null?So.TRANSPARENT:4294967295;return t===n.documentElement?Yl(s)?Yl(i)?o:i:s:o};const wY=Object.freeze(Object.defineProperty({__proto__:null,default:Z5},Symbol.toStringTag,{value:"Module"})),jY=({verdeler:e,projectNumber:t,logo:r})=>{const[n,s]=$.useState(!1),i=$.useRef(null),o=async()=>{if(i.current)try{const A=await Z5(i.current,{scale:2,backgroundColor:null,logging:!1,useCORS:!0}),u=window.open("","_blank");if(!u)return;u.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Print Label</title>
            <style>
              @page {
                size: 125mm 95mm;
                margin: 0;
              }
              body {
                margin: 0;
                padding: 0;
              }
              img {
                width: 125mm;
                height: 95mm;
                object-fit: contain;
              }
            </style>
          </head>
          <body>
            <img src="${A.toDataURL("image/png")}" />
            <script>
              setTimeout(() => {
                window.print();
                window.close();
              }, 500);
            <\/script>
          </body>
        </html>
      `),u.document.close()}catch(A){console.error("Error generating label image:",A)}},c=A=>{A.target===A.currentTarget&&s(!1)},l=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:999999},onClick:c,children:a.jsxs("div",{className:"bg-white text-black p-8 rounded-lg shadow-lg w-[800px] relative",onClick:A=>A.stopPropagation(),children:[a.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:a.jsx(gt,{size:24})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Label Voorbeeldweergave"}),a.jsx("p",{className:"text-gray-600",children:"Controleer de gegevens voordat je print"})]}),a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 mb-6",children:a.jsx("div",{ref:i,className:"bg-white",children:a.jsx(XV,{verdeler:e,projectNumber:t,logo:r})})}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Annuleren"}),a.jsxs("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center space-x-2",children:[a.jsx(mj,{size:16}),a.jsx("span",{children:"Print Label"})]})]})]})});return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>s(!0),className:"btn-secondary flex items-center space-x-2",title:"Print label",children:[a.jsx(mj,{size:16}),a.jsx("span",{children:"Print Label"})]}),n&&si.createPortal(a.jsx(l,{}),document.body)]})};let C0;const NY=new Uint8Array(16);function BY(){if(!C0&&(C0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!C0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C0(NY)}const kn=[];for(let e=0;e<256;++e)kn.push((e+256).toString(16).slice(1));function CY(e,t=0){return kn[e[t+0]]+kn[e[t+1]]+kn[e[t+2]]+kn[e[t+3]]+"-"+kn[e[t+4]]+kn[e[t+5]]+"-"+kn[e[t+6]]+kn[e[t+7]]+"-"+kn[e[t+8]]+kn[e[t+9]]+"-"+kn[e[t+10]]+kn[e[t+11]]+kn[e[t+12]]+kn[e[t+13]]+kn[e[t+14]]+kn[e[t+15]]}const kY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),R_={randomUUID:kY};function Dl(e,t,r){if(R_.randomUUID&&!e)return R_.randomUUID();e=e||{};const n=e.random||(e.rng||BY)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,CY(n)}const OU=({projectData:e,onVerdelersChange:t,onNext:r,onBack:n,hideNavigation:s=!1})=>{var V;const[i,o]=$.useState(e.distributors||[]),[c,l]=$.useState(!1),[A,u]=$.useState(!1),[d,f]=$.useState(null),[h,p]=$.useState(null),[m,x]=$.useState(!1),[v,y]=$.useState(!1),[b,_]=$.useState([]),[N,P]=$.useState([]),[T,j]=$.useState({code:"",expiresAt:"",maxUses:"",isActive:!0}),[k,z]=$.useState({distributorId:"",kastNaam:"",toegewezenMonteur:"Vrij",systeem:"",voeding:"",bouwjaar:"",status:"Offerte",fabrikant:"",unInV:"",inInA:"",ikThInKA1s:"",ikDynInKA:"",freqInHz:"",typeNrHs:"",profilePhoto:null});$.useEffect(()=>{e!=null&&e.id&&E()},[e==null?void 0:e.id]);const E=async()=>{if(e!=null&&e.id)try{console.log("🔄 Loading verdelers from database for project:",e.id);const re=await $e.getDistributorsByProject(e.id);console.log("📥 Loaded distributors from database:",re.length);const he=re.map(ue=>({id:ue.id,distributorId:ue.distributor_id,kastNaam:ue.kast_naam,toegewezenMonteur:ue.toegewezen_monteur||"Vrij",systeem:ue.systeem,voeding:ue.voeding,bouwjaar:ue.bouwjaar,status:ue.status,fabrikant:ue.fabrikant,unInV:ue.un_in_v,inInA:ue.in_in_a,ikThInKA1s:ue.ik_th_in_ka1s,ikDynInKA:ue.ik_dyn_in_ka,freqInHz:ue.freq_in_hz,typeNrHs:ue.type_nr_hs,profilePhoto:ue.profile_photo,createdAt:ue.created_at}));console.log("✅ Formatted verdelers:",he),o(he),t(he)}catch(re){console.error("Error loading verdelers from database:",re)}};$.useEffect(()=>{var re;C(),e!=null&&e.id&&Q(),((re=e==null?void 0:e.status)==null?void 0:re.toLowerCase())==="offerte"&&z(he=>({...he,status:"Offerte"}))},[e]),$.useEffect(()=>{c&&!h&&L()},[c,h]);const C=async()=>{try{const re=JSON.parse(localStorage.getItem("users")||"[]");P(re)}catch(re){console.error("Error loading users:",re)}},Q=async()=>{if(e!=null&&e.id)try{const he=(await $e.getAccessCodes()).filter(ue=>ue.project_number===e.project_number);_(he)}catch(re){console.error("Error loading access codes:",re)}},L=()=>{const he=`VD${Math.floor(1e3+Math.random()*9e3)}`;i.some(Ce=>Ce.distributorId===he)?L():z(Ce=>({...Ce,distributorId:he}))},D=()=>{let re="";for(let he=0;he<5;he++)re+=Math.floor(Math.random()*10).toString();return re},S=()=>{const re=new Date;return re.setDate(re.getDate()+1),re.toISOString().slice(0,16)},O=re=>{f(re),u(!0)},R=()=>{u(!1),f(null)},W=re=>{console.log("🔧 EDIT: Starting edit for verdeler:",re),p(re),z({distributorId:re.distributorId,kastNaam:re.kastNaam,toegewezenMonteur:re.toegewezenMonteur||"Vrij",systeem:re.systeem,voeding:re.voeding,bouwjaar:re.bouwjaar,status:re.status,fabrikant:re.fabrikant,unInV:re.unInV,inInA:re.inInA,ikThInKA1s:re.ikThInKA1s,ikDynInKA:re.ikDynInKA,freqInHz:re.freqInHz,typeNrHs:re.typeNrHs,profilePhoto:null}),u(!1),l(!0),console.log("🔧 EDIT: Form data set:",k)},M=re=>{f(re),j({code:D(),expiresAt:S(),maxUses:"",isActive:!0}),x(!0)},q=async()=>{if(!T.code||!T.expiresAt||!d){ge.error("Vul alle verplichte velden in!");return}if(!/^\d{5}$/.test(T.code)){ge.error("Toegangscode moet precies 5 cijfers bevatten!");return}try{y(!0);const re=localStorage.getItem("currentUserId"),ue=JSON.parse(localStorage.getItem("users")||"[]").find(_e=>_e.id===re),Ce={code:T.code.toUpperCase(),createdBy:(ue==null?void 0:ue.username)||"Unknown",expiresAt:T.expiresAt,isActive:T.isActive,maxUses:T.maxUses?parseInt(T.maxUses):null,verdeler_id:d.distributorId,project_number:e.project_number||e.projectNumber};console.log("🔑 ACCESS CODE: Creating with data:",Ce),await $e.createAccessCode(Ce),await Q(),x(!1),f(null),j({code:"",expiresAt:"",maxUses:"",isActive:!0}),ge.success("Toegangscode succesvol aangemaakt!")}catch(re){console.error("Error creating access code:",re),ge.error("Er is een fout opgetreden bij het aanmaken van de toegangscode")}finally{y(!1)}},B=(re,he)=>{z({...k,[re]:he})},I=re=>{re.target.files&&re.target.files[0]&&z({...k,profilePhoto:re.target.files[0]})},H=async()=>{if(!k.distributorId||!k.kastNaam){ge.error("Vul alle verplichte velden in!");return}if(i.some(he=>he.distributorId===k.distributorId&&(!h||he.id!==h.id))){ge.error("Deze verdeler ID bestaat al. Kies een ander ID.");return}try{console.log("🚀 SAVE: Saving verdeler with data:",k),console.log("🚀 SAVE: Monteur being saved:",k.toegewezenMonteur);let he="";if(k.profilePhoto){const ue=new FileReader;he=await new Promise(Ce=>{ue.onload=_e=>{var Fe;return Ce((Fe=_e.target)==null?void 0:Fe.result)},ue.readAsDataURL(k.profilePhoto)})}else h!=null&&h.profilePhoto&&(he=h.profilePhoto);if(console.log("🔍 SAVE: Saving verdeler with data:",k),console.log("🔍 SAVE: distributorId:",k.distributorId),console.log("🔍 SAVE: kastNaam:",k.kastNaam),h){console.log("🔄 SAVE: Updating existing verdeler in database...");const ue={distributorId:k.distributorId,projectId:e.id,kastNaam:k.kastNaam,systeem:k.systeem,voeding:k.voeding,bouwjaar:k.bouwjaar,status:k.status,fabrikant:k.fabrikant,unInV:k.unInV,inInA:k.inInA,ikThInKA1s:k.ikThInKA1s,ikDynInKA:k.ikDynInKA,freqInHz:k.freqInHz,typeNrHs:k.typeNrHs,profilePhoto:he,toegewezenMonteur:k.toegewezenMonteur,gewensteLeverDatum:null};await $e.updateDistributor(h.id,ue),console.log("✅ SAVE: Verdeler updated in database"),ge.success("Verdeler bijgewerkt!")}else if(e.id){console.log("🔄 SAVE: Creating new verdeler in database...");const ue={distributorId:k.distributorId,projectId:e.id,kastNaam:k.kastNaam,toegewezenMonteur:k.toegewezenMonteur,systeem:k.systeem,voeding:k.voeding,bouwjaar:k.bouwjaar,status:k.status,fabrikant:k.fabrikant,unInV:k.unInV,inInA:k.inInA,ikThInKA1s:k.ikThInKA1s,ikDynInKA:k.ikDynInKA,freqInHz:k.freqInHz,typeNrHs:k.typeNrHs,profilePhoto:he};await $e.createDistributor(ue),console.log("✅ SAVE: New verdeler created in database"),ge.success("Verdeler toegevoegd!")}else{const ue={id:Dl(),distributorId:k.distributorId,kastNaam:k.kastNaam,toegewezenMonteur:k.toegewezenMonteur,systeem:k.systeem,voeding:k.voeding,bouwjaar:k.bouwjaar,status:k.status,fabrikant:k.fabrikant,unInV:k.unInV,inInA:k.inInA,ikThInKA1s:k.ikThInKA1s,ikDynInKA:k.ikDynInKA,freqInHz:k.freqInHz,typeNrHs:k.typeNrHs,profilePhoto:he,createdAt:new Date().toISOString()},Ce=[...i,ue];o(Ce),t(Ce),console.log("✅ SAVE: Added to local state for project creation"),ge.success("Verdeler toegevoegd!")}e.id&&(await E(),await Q()),J()}catch(he){console.error("Error saving verdeler:",he),ge.error("Er is een fout opgetreden bij het opslaan van de verdeler")}},G=re=>{if(window.confirm("Weet je zeker dat je deze verdeler wilt verwijderen?")){const he=i.filter(ue=>ue.id!==re);o(he),t(he),ge.success("Verdeler verwijderd!")}},J=()=>{var re;l(!1),p(null),z({distributorId:"",kastNaam:"",toegewezenMonteur:"Vrij",systeem:"",voeding:"",bouwjaar:"",status:((re=e==null?void 0:e.status)==null?void 0:re.toLowerCase())==="offerte"?"Offerte":"In productie",fabrikant:"",unInV:"",inInA:"",ikThInKA1s:"",ikDynInKA:"",freqInHz:"",typeNrHs:"",profilePhoto:null})},ie=(re,he)=>{console.log("Test completed for verdeler:",re.distributorId,"with data:",he)},Ae=re=>{var Re,Qe,Ge,et;const he=localStorage.getItem(`verdeler_test_${re.distributorId}`),ue=localStorage.getItem(`fat_test_${re.distributorId}`),Ce=localStorage.getItem(`hv_test_${re.distributorId}`);let _e="Niet getest",Fe="bg-gray-500/20 text-gray-400";try{if(he){const st=JSON.parse(he);(Re=st.inspectionReport)!=null&&Re.completed?st.inspectionReport.result==="approved"?(_e="Goedgekeurd",Fe="bg-green-500/20 text-green-400"):st.inspectionReport.result==="conditionallyApproved"?(_e="Voorwaardelijk",Fe="bg-yellow-500/20 text-yellow-400"):st.inspectionReport.result==="rejected"&&(_e="Afgekeurd",Fe="bg-red-500/20 text-red-400"):(Qe=st.workshopChecklist)!=null&&Qe.completed&&(_e="Checklist Voltooid",Fe="bg-blue-500/20 text-blue-400")}ue&&(Ge=JSON.parse(ue).factoryTest)!=null&&Ge.completed&&(_e="FAT Voltooid",Fe="bg-yellow-500/20 text-yellow-400"),Ce&&(et=JSON.parse(Ce).highVoltageTest)!=null&&et.completed&&(_e="HV Test Voltooid",Fe="bg-orange-500/20 text-orange-400")}catch(st){console.error("Error parsing test data:",st)}return{status:_e,color:Fe}},se=re=>b.filter(he=>he.verdeler_id===re),we=re=>new Date>new Date(re),be=re=>re.is_active&&!we(re.expires_at),ve=()=>{if(i.length===0){ge.error("Voeg tenminste één verdeler toe voordat je verder gaat!");return}r&&r()},pe=((V=e==null?void 0:e.status)==null?void 0:V.toLowerCase())==="offerte",oe=!pe,de=()=>N.filter(re=>re.role==="montage");return a.jsxs("div",{className:"space-y-6",children:[!s&&a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Verdelers"}),a.jsx("p",{className:"text-gray-400",children:"Voeg verdelers toe aan dit project"})]}),a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Project Verdelers"}),a.jsx("p",{className:"text-gray-400",children:"Beheer alle verdelers voor dit project"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center space-x-2",children:[a.jsx(Ss,{size:20}),a.jsx("span",{children:"Verdeler toevoegen"})]})]})}),i.length>0?a.jsx("div",{className:"card p-6",children:a.jsx("div",{className:"overflow-x-auto max-h-[70vh] overflow-y-auto pr-4",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"table-header text-left",children:"Verdeler ID"}),a.jsx("th",{className:"table-header text-left",children:"Kastnaam"}),a.jsx("th",{className:"table-header text-left",children:"Monteur"}),a.jsx("th",{className:"table-header text-left",children:"Status"}),a.jsx("th",{className:"table-header text-left",children:"Test Status"}),a.jsx("th",{className:"table-header text-left",children:"Toegangscodes"}),a.jsx("th",{className:"table-header text-left",children:"Systeem"}),a.jsx("th",{className:"table-header text-left",children:"Spanning"}),a.jsx("th",{className:"table-header text-right",children:"Acties"})]})}),a.jsx("tbody",{children:i.map(re=>{const he=Ae(re);return a.jsxs("tr",{className:"table-row cursor-pointer",onClick:()=>O(re),children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"font-medium text-green-400",children:re.distributorId})]})}),a.jsx("td",{className:"py-4 text-gray-300",children:re.kastNaam||"Naamloos"}),a.jsx("td",{className:"py-4 text-gray-300",children:re.toegewezenMonteur||"Vrij"}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-blue-500/20 text-blue-400",children:re.status||"In productie"})}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${he.color}`,children:he.status})}),a.jsx("td",{className:"py-4",children:(()=>{const ue=se(re.distributorId);if(ue.length===0)return a.jsx("span",{className:"text-gray-400 text-sm",children:"Geen codes"});const Ce=ue.filter(Fe=>be(Fe)),_e=ue.filter(Fe=>!be(Fe));return a.jsxs("div",{className:"space-y-1",children:[Ce.map(Fe=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ja,{size:12,className:"text-green-400"}),a.jsx("span",{className:"text-green-400 font-mono text-sm",children:Fe.code})]},Fe.id)),_e.map(Fe=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vj,{size:12,className:"text-red-400"}),a.jsx("span",{className:"text-red-400 font-mono text-sm line-through",children:Fe.code})]},Fe.id))]})})()}),a.jsx("td",{className:"py-4 text-gray-300",children:re.systeem||"-"}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:"text-gray-300",children:re.unInV?`${re.unInV}V`:"-"})}),a.jsx("td",{className:"py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:ue=>{ue.stopPropagation(),O(re)},className:"p-2 bg-[#2A303C] hover:bg-blue-500/20 rounded-lg transition-colors group",title:"Details",children:a.jsx(Bo,{size:16,className:"text-gray-400 group-hover:text-blue-400"})}),a.jsx("button",{onClick:ue=>{ue.stopPropagation(),G(re.id)},className:"p-2 bg-[#2A303C] hover:bg-red-500/20 rounded-lg transition-colors group",title:"Verwijderen",children:a.jsx(Zr,{size:16,className:"text-gray-400 group-hover:text-red-400"})})]})})]},re.id)})})]})})}):a.jsx("div",{className:"card p-8 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx(Ss,{size:32,className:"text-gray-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Geen verdelers toegevoegd"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Voeg verdelers toe om dit project te voltooien"}),a.jsx("button",{onClick:()=>l(!0),className:"btn-primary",children:"Eerste verdeler toevoegen"})]})]})}),A&&d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-[#2A303C] flex items-center justify-center flex-shrink-0",children:d.profilePhoto?a.jsx("img",{src:d.profilePhoto,alt:d.kastNaam,className:"w-full h-full object-cover"}):a.jsxs("div",{className:"text-gray-400 text-xs text-center",children:["Geen",a.jsx("br",{}),"foto"]})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-green-400",children:d.distributorId}),a.jsx("p",{className:"text-gray-400",children:d.kastNaam||"Naamloos"})]})]}),a.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Basis Informatie"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Verdeler ID:"}),a.jsx("p",{className:"text-white font-medium",children:d.distributorId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Kastnaam:"}),a.jsx("p",{className:"text-white font-medium",children:d.kastNaam||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Toegewezen monteur:"}),a.jsx("p",{className:"text-white",children:d.toegewezenMonteur||"Vrij"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Status:"}),a.jsx("p",{className:"text-white",children:d.status||"In productie"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Systeem:"}),a.jsx("p",{className:"text-white",children:d.systeem||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Voeding:"}),a.jsx("p",{className:"text-white",children:d.voeding||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Bouwjaar:"}),a.jsx("p",{className:"text-white",children:d.bouwjaar||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Fabrikant:"}),a.jsx("p",{className:"text-white",children:d.fabrikant||"-"})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-4",children:"Technische Specificaties"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Un in V:"}),a.jsx("p",{className:"text-white",children:d.unInV||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"In in A:"}),a.jsx("p",{className:"text-white",children:d.inInA||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Ik Th in KA 1s:"}),a.jsx("p",{className:"text-white",children:d.ikThInKA1s||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Ik Dyn in KA:"}),a.jsx("p",{className:"text-white",children:d.ikDynInKA||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Freq. in Hz:"}),a.jsx("p",{className:"text-white",children:d.freqInHz||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Type nr. HS:"}),a.jsx("p",{className:"text-white",children:d.typeNrHs||"-"})]})]})]}),(()=>{const re=se(d.distributorId);return re.length>0?a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-orange-400 mb-4",children:"Actieve Toegangscodes"}),a.jsx("div",{className:"space-y-3",children:re.map(he=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#1E2530] rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"font-mono text-lg",children:he.code}),a.jsxs("div",{className:"flex items-center space-x-1",children:[be(he)?a.jsx(ja,{size:16,className:"text-green-400"}):a.jsx(vj,{size:16,className:"text-red-400"}),a.jsx("span",{className:be(he)?"text-green-400":"text-red-400",children:be(he)?"Actief":"Verlopen"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[a.jsx(Fn,{size:14}),a.jsx("span",{children:new Date(he.expires_at).toLocaleDateString("nl-NL")})]})]},he.id))})]}):null})()]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-400 mb-4",children:"Acties"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>W(d),className:"btn-secondary w-full flex items-center space-x-2",children:[a.jsx(Ny,{size:16}),a.jsx("span",{children:"Bewerken"})]}),a.jsxs("button",{onClick:()=>M(d),className:"btn-secondary w-full flex items-center space-x-2",children:[a.jsx(_i,{size:16}),a.jsx("span",{children:"Toegangscode"})]}),a.jsxs("button",{onClick:()=>{u(!1),G(d.id)},className:"btn-secondary w-full flex items-center space-x-2 bg-red-500/20 hover:bg-red-500/30 text-red-400",children:[a.jsx(Zr,{size:16}),a.jsx("span",{children:"Verwijderen"})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"Testing"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(_V,{verdeler:d,projectNumber:e.project_number||e.projectNumber,onComplete:re=>ie(d,re),projectId:e.id,distributorId:d.id}),a.jsx(FV,{verdeler:d,projectNumber:e.project_number||"",onComplete:re=>ie(d.id,re),projectId:e.id,distributorId:d.id}),a.jsx(IV,{verdeler:d,projectNumber:e.project_number||"",onComplete:re=>ie(d.id,re),projectId:e.id,distributorId:d.id}),a.jsx(OV,{verdeler:d,projectNumber:e.project_number||e.projectNumber,onComplete:re=>ie(d,re)}),a.jsx(TV,{verdeler:d,projectNumber:e.project_number||e.projectNumber,onComplete:re=>ie(d,re)}),a.jsx(LV,{verdeler:d,projectNumber:e.project_number||e.projectNumber,onComplete:re=>ie(d,re)})]})]}),a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Extra"}),a.jsx("div",{className:"space-y-3",children:a.jsx(jY,{verdeler:d,projectNumber:e.project_number||e.projectNumber,logo:Ly})})]})]})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-800 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-4xl w-full max-h-[60vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:h?"Verdeler bewerken":"Nieuwe verdeler toevoegen"}),a.jsx("button",{onClick:J,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"Basis Informatie"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Verdeler ID ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",className:"input-field",value:k.distributorId,onChange:re=>B("distributorId",re.target.value),placeholder:"VD1234",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Kastnaam ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",className:"input-field",value:k.kastNaam,onChange:re=>B("kastNaam",re.target.value),placeholder:"Hoofdverdeler Hal A",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Toegewezen monteur"}),a.jsxs("select",{className:"input-field",value:k.toegewezenMonteur,onChange:re=>B("toegewezenMonteur",re.target.value),children:[a.jsx("option",{value:"Vrij",children:"Vrij"}),de().map(re=>a.jsx("option",{value:re.username,children:re.username},re.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Systeem"}),a.jsx("input",{type:"text",className:"input-field",value:k.systeem,onChange:re=>B("systeem",re.target.value),placeholder:"400V TN-S"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Voeding"}),a.jsx("input",{type:"text",className:"input-field",value:k.voeding,onChange:re=>B("voeding",re.target.value),placeholder:"3x400V + N + PE"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Bouwjaar"}),a.jsx("input",{type:"text",className:"input-field",value:k.bouwjaar,onChange:re=>B("bouwjaar",re.target.value),placeholder:"2025"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Status"}),a.jsxs("select",{className:"input-field",value:k.status,onChange:re=>B("status",re.target.value),disabled:pe,children:[a.jsx("option",{value:"Offerte",children:"Offerte"}),!pe&&a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"In productie",children:"In productie"}),a.jsx("option",{value:"Testen",children:"Testen"}),a.jsx("option",{value:"Gereed",children:"Gereed"}),a.jsx("option",{value:"Opgeleverd",children:"Opgeleverd"})]})]}),pe&&a.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:'Status is vergrendeld omdat project status "Offerte" is'})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Fabrikant"}),a.jsxs("select",{className:"input-field",value:k.fabrikant,onChange:re=>B("fabrikant",re.target.value),children:[a.jsx("option",{value:"",children:"Selecteer fabrikant"}),a.jsx("option",{value:"Schneider Electric",children:"Schneider Electric"}),a.jsx("option",{value:"ABB",children:"ABB"}),a.jsx("option",{value:"Siemens",children:"Siemens"}),a.jsx("option",{value:"Eaton",children:"Eaton"}),a.jsx("option",{value:"Legrand",children:"Legrand"}),a.jsx("option",{value:"Hager",children:"Hager"}),a.jsx("option",{value:"Rittal",children:"Rittal"}),a.jsx("option",{value:"Phoenix Contact",children:"Phoenix Contact"}),a.jsx("option",{value:"Weidmüller",children:"Weidmüller"}),a.jsx("option",{value:"Anders",children:"Anders"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Profiel foto"}),a.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"input-field"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-4",children:"Technische Specificaties"}),!oe&&a.jsx("div",{className:"mb-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qi,{size:16,className:"text-yellow-400"}),a.jsx("span",{className:"text-yellow-400 text-sm",children:'Technische specificaties kunnen alleen worden ingevuld wanneer project status "Productie" of hoger is'})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Un in V"}),a.jsx("input",{type:"text",className:"input-field",value:k.unInV,onChange:re=>B("unInV",re.target.value),placeholder:"400",disabled:!oe})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"In in A"}),a.jsx("input",{type:"text",className:"input-field",value:k.inInA,onChange:re=>B("inInA",re.target.value),placeholder:"400",disabled:!oe})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Ik Th in KA 1s"}),a.jsx("input",{type:"text",className:"input-field",value:k.ikThInKA1s,onChange:re=>B("ikThInKA1s",re.target.value),placeholder:"25",disabled:!oe})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Ik Dyn in KA"}),a.jsx("input",{type:"text",className:"input-field",value:k.ikDynInKA,onChange:re=>B("ikDynInKA",re.target.value),placeholder:"65",disabled:!oe})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Freq. in Hz"}),a.jsx("input",{type:"text",className:"input-field",value:k.freqInHz,onChange:re=>B("freqInHz",re.target.value),placeholder:"50",disabled:!oe})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Type nr. HS"}),a.jsx("input",{type:"text",className:"input-field",value:k.typeNrHs,onChange:re=>B("typeNrHs",re.target.value),placeholder:"HS-400",disabled:!oe})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-700",children:[a.jsx("button",{onClick:J,className:"btn-secondary",children:"Annuleren"}),a.jsx("button",{onClick:H,className:"btn-primary",children:h?"Verdeler bijwerken":"Verdeler toevoegen"})]})]})}),m&&d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"card p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Toegangscode genereren"}),a.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[#2A303C] p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-400 mb-2",children:"Voor verdeler"}),a.jsxs("p",{className:"text-white",children:[d.distributorId," - ",d.kastNaam||"Naamloos"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Project: ",e.project_number||e.projectNumber]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Toegangscode ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",className:"input-field flex-1",value:T.code,onChange:re=>{const he=re.target.value.replace(/\D/g,"").slice(0,5);j({...T,code:he})},placeholder:"12345",maxLength:5,required:!0}),a.jsxs("button",{type:"button",onClick:()=>j({...T,code:D()}),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(_i,{size:16}),a.jsx("span",{children:"Nieuw"})]}),a.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(T.code),ge.success("Code gekopieerd!")},className:"btn-secondary p-2",disabled:!T.code,children:a.jsx(pA,{size:16})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Precies 5 cijfers (0-9)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Vervaldatum ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"datetime-local",className:"input-field",value:T.expiresAt,onChange:re=>j({...T,expiresAt:re.target.value}),min:new Date().toISOString().slice(0,16),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Maximum aantal keer gebruiken"}),a.jsx("input",{type:"number",className:"input-field",value:T.maxUses,onChange:re=>j({...T,maxUses:re.target.value}),placeholder:"Onbeperkt (laat leeg)",min:"1"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laat leeg voor onbeperkt gebruik"})]}),a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:T.isActive,onChange:re=>j({...T,isActive:re.target.checked}),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"Direct activeren"})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[a.jsx("button",{onClick:()=>x(!1),className:"btn-secondary",disabled:v,children:"Annuleren"}),a.jsx("button",{onClick:q,className:`btn-primary ${v?"opacity-50 cursor-not-allowed":""}`,disabled:v||!T.code||!T.expiresAt||!/^\d{5}$/.test(T.code),children:v?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Aanmaken..."})]}):"Code aanmaken"})]})]})}),!s&&a.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[a.jsx("button",{onClick:n,className:"btn-secondary",children:"Terug"}),a.jsx("button",{onClick:ve,className:"btn-primary",children:"Volgende stap"})]})]})},bu=["Verdeler aanzicht","Test certificaat","Installatie schema"],nx=e=>{const t=e.match(/(.+?)\s+rev\.?(\d+)(\.[^.]+)?$/i);if(t){const[,r,n,s]=t;return{hasRevision:!0,revisionNumber:parseInt(n),baseFilename:r.trim()+(s||"")}}return{hasRevision:!1,revisionNumber:0,baseFilename:e}},$_=(e,t)=>{const{baseFilename:r}=nx(t);console.log("🔍 REVISION: Looking for base document matching:",r),console.log("🔍 REVISION: Available documents:",e.map(s=>s.name));const n=e.find(s=>{if(s.name===r)return console.log("✅ REVISION: Found exact match:",s.name),!0;const{baseFilename:i}=nx(s.name),o=i===r;return console.log("🔍 REVISION: Comparing",i,"with",r,"=",o),o});return n?console.log("✅ REVISION: Found matching document:",n.name):console.log("❌ REVISION: No matching document found"),n},eC=({projectId:e,distributorId:t,folder:r})=>{const[n,s]=$.useState([]),[i,o]=$.useState(!1),[c,l]=$.useState(null),[A,u]=$.useState(!0),[d,f]=$.useState(null),[h,p]=$.useState(null),m=$.useCallback(async()=>{h&&clearTimeout(h);const L=setTimeout(()=>{console.warn("Document loading timeout - stopping loading state"),u(!1),f("Document loading timed out. Please try again.")},1e4);p(L);try{if(u(!0),f(null),console.log("Loading documents for:",{projectId:e,distributorId:t,folder:r}),!e||!t||!r)throw new Error("Missing required parameters for document loading");let D=[];const S=await $e.getDocuments(e,t,r);if(console.log("📁 LOAD: Main folder documents:",(S==null?void 0:S.length)||0),D.push(...S||[]),bu.includes(r)){console.log("📁 LOAD: Loading subfolder documents for revision-managed folder...");try{const O=await $e.getDocuments(e,t,`${r}/Actueel`);console.log("📁 LOAD: Actueel subfolder documents:",(O==null?void 0:O.length)||0),D.push(...O||[])}catch(O){console.log("📁 LOAD: No Actueel subfolder or error loading:",O.message)}try{const O=await $e.getDocuments(e,t,`${r}/Historie`);console.log("📁 LOAD: Historie subfolder documents:",(O==null?void 0:O.length)||0),D.push(...O||[])}catch(O){console.log("📁 LOAD: No Historie subfolder or error loading:",O.message)}}console.log("📁 LOAD: Total documents loaded:",D.length),console.log("📁 LOAD: Document folders:",D.map(O=>O.folder)),s(D),clearTimeout(L)}catch(D){console.error("Error loading documents:",D),f("Er is een fout opgetreden bij het laden van de documenten"),s([]),clearTimeout(L)}finally{u(!1),p(null)}},[e,t,r]);$.useEffect(()=>{const L=setTimeout(()=>{m()},100);return()=>{clearTimeout(L),h&&clearTimeout(h)}},[m]);const x=async(L,D)=>{const{hasRevision:S,baseFilename:O}=nx(L.name);if(!S||!bu.includes(r)){console.log("🔄 REVISION: No revision management needed for:",L.name);return}console.log("🔄 REVISION: Managing revision for document:",L.name),console.log("🔄 REVISION: Base filename:",O),console.log("🔄 REVISION: Target folder:",r),console.log("🔄 REVISION: All existing documents:",D.length);const R=D.filter(B=>B.folder===r),W=D.filter(B=>B.folder===`${r}/Actueel`);console.log("🔄 REVISION: Documents in main folder:",R.length,R.map(B=>B.name)),console.log("🔄 REVISION: Documents in Actueel folder:",W.length,W.map(B=>B.name));let M=$_(R,L.name),q="main";if(M||(M=$_(W,L.name),q="actueel"),M){console.log("🔄 REVISION: Found matching document:",M.name,"in",q,"folder"),console.log("🔄 REVISION: Original document ID:",M.id),console.log("🔄 REVISION: Will move original to Historie:",`${r}/Historie`),console.log("🔄 REVISION: Will place new revision in Actueel:",`${r}/Actueel`);try{console.log("📁 REVISION: Creating document in Historie...");const B=await $e.createDocument({projectId:e,distributorId:t,folder:`${r}/Historie`,name:M.name,type:M.type,size:M.size,content:M.content});console.log("✅ REVISION: Successfully created document in Historie:",B==null?void 0:B.id),console.log(`🗑️ REVISION: Deleting original document from ${q} folder...`),console.log("🗑️ REVISION: Deleting document ID:",M.id),await $e.deleteDocument(M.id),console.log(`✅ REVISION: Successfully deleted original document from ${q} folder`),console.log("📁 REVISION: Setting new revision document folder to Actueel..."),L.folder=`${r}/Actueel`,console.log("✅ REVISION: New revision document will be saved to:",L.folder),ge.success(`Original document moved from ${q==="main"?"Hoofdmap":"Actueel"} to Historie, new revision placed in Actueel`)}catch(B){console.error("❌ REVISION: Error during revision management:",B),ge.error(`Revision management failed: ${B.message}`),console.log("⚠️ REVISION: Revision management failed - saving to main folder instead"),L.folder=r}}else console.log("ℹ️ REVISION: No matching document found in main folder OR Actueel folder"),console.log("📁 REVISION: This appears to be the first revision - placing in Actueel"),L.folder=`${r}/Actueel`};$.useEffect(()=>()=>{h&&clearTimeout(h)},[h]);const v=$.useCallback(async L=>{if(!e||!t||!r){ge.error("Kan documenten niet uploaden: ontbrekende project informatie");return}const D=S=>new Promise((O,R)=>{if(S.size>5*1024*1024){R(`Bestand ${S.name} is te groot. Maximum grootte is 5MB`);return}const W=new FileReader;W.onload=M=>{var q;try{const B={projectId:e,distributorId:t,folder:r,name:S.name,type:S.type,size:S.size,content:(q=M.target)==null?void 0:q.result};O(B)}catch{R(`Fout bij het verwerken van bestand ${S.name}`)}},W.onerror=()=>R(`Fout bij het lezen van bestand ${S.name}`),W.readAsDataURL(S)});try{console.log("🚀 UPLOAD: Starting file upload process with revision management..."),console.log("🚀 UPLOAD: Files to process:",L.map(q=>q.name)),console.log("🚀 UPLOAD: Target folder:",r),console.log("📥 UPLOAD: Loading ALL current documents for revision check...");const S=await $e.getDocuments(e,t,r);console.log("📥 UPLOAD: Current main folder documents:",(S==null?void 0:S.length)||0);let O=[],R=[];if(bu.includes(r)){try{O=await $e.getDocuments(e,t,`${r}/Actueel`)||[],console.log("📥 UPLOAD: Current Actueel documents:",O.length),console.log("📥 UPLOAD: Actueel doc names:",O.map(q=>q.name))}catch(q){console.log("📥 UPLOAD: No Actueel folder or error:",q.message)}try{R=await $e.getDocuments(e,t,`${r}/Historie`)||[],console.log("📥 UPLOAD: Current Historie documents:",R.length)}catch(q){console.log("📥 UPLOAD: No Historie folder or error:",q.message)}}const W=[...S||[],...O,...R];console.log("📥 UPLOAD: Total current documents for revision check:",W.length),console.log("📥 UPLOAD: All current doc names:",W.map(q=>q.name));const M=await Promise.all(L.map(D));console.log("🚀 UPLOAD: Files processed successfully, saving directly...");for(const q of M){console.log("💾 UPLOAD: Processing document:",q.name),bu.includes(r)&&(console.log("🔄 UPLOAD: Applying revision management..."),await x(q,W)),console.log("💾 UPLOAD: Saving document:",q.name,"to folder:",q.folder);try{await $e.createDocument(q),console.log("✅ UPLOAD: Document saved successfully:",q.name)}catch(B){console.error("❌ UPLOAD: Error saving document:",q.name,B),ge.error(`Fout bij opslaan van ${q.name}: ${B.message}`)}}console.log("🔄 UPLOAD: Reloading documents..."),await m(),ge.success(`${M.length} document${M.length>1?"en":""} succesvol geüpload!`)}catch(S){console.error("Error processing files:",S),ge.error(typeof S=="string"?S:"Er is een fout opgetreden bij het uploaden van de bestanden")}},[e,t,r,m,x]),y=()=>{if(bu.includes(r)){const L=n.filter(O=>O.folder===`${r}/Actueel`),D=n.filter(O=>O.folder===`${r}/Historie`),S=n.filter(O=>O.folder===r);return console.log("📁 FOLDER STRUCTURE DEBUG:"),console.log("  Main folder:",r),console.log("  Documents in main:",S.length),console.log("  Documents in Actueel:",L.length),console.log("  Documents in Historie:",D.length),console.log("  All document folders:",n.map(O=>O.folder)),console.log("  Main folder docs:",S.map(O=>O.name)),console.log("  Actueel docs:",L.map(O=>O.name)),console.log("  Historie docs:",D.map(O=>O.name)),a.jsxs("div",{className:"space-y-6",children:[S.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(ti,{size:20,className:"text-blue-400"}),a.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Hoofdmap"}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",S.length," documenten)"]}),a.jsx("span",{className:"text-xs text-gray-500",children:"- Originele documenten"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:S.map(b)})]}),a.jsx("div",{children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Fn,{size:20,className:"text-green-400"}),a.jsx("h3",{className:"text-lg font-semibold text-green-400",children:"Actueel"}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",L.length," documenten)"]}),a.jsx("span",{className:"text-xs text-gray-500",children:"- Nieuwste versies"})]}),L.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:L.map(b)}):a.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Geen actuele documenten"})]})}),a.jsx("div",{children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Z4,{size:20,className:"text-orange-400"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Historie"}),a.jsxs("span",{className:"text-sm text-gray-400",children:["(",D.length," documenten)"]}),a.jsx("span",{className:"text-xs text-gray-500",children:"- Vorige versies"})]}),D.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:D.map(b)}):a.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Geen historische documenten"})]})})]})}return a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map(b)})},b=L=>a.jsxs("div",{className:"bg-[#2A303C] rounded-lg overflow-hidden cursor-pointer transition-all hover:shadow-lg",onClick:D=>{D.preventDefault(),D.stopPropagation(),l(L)},children:[a.jsx("div",{className:"aspect-video bg-[#1E2530] flex items-center justify-center",children:E(L.type)?a.jsx("img",{src:L.content,alt:L.name,className:"h-full w-full object-cover",loading:"lazy",onError:D=>{console.error("Error loading image:",L.name),D.currentTarget.style.display="none"}}):a.jsx(ei,{size:48,className:"text-gray-400"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"font-medium text-white truncate",title:L.name,children:L.name}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("p",{className:"text-sm text-gray-400",children:z(L.size)}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(L.uploaded_at).toLocaleDateString("nl-NL")})]}),(()=>{const{hasRevision:D,revisionNumber:S}=nx(L.name);return D?a.jsx("div",{className:"mt-2",children:a.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full text-xs",children:["Rev. ",S]})}):null})(),a.jsxs("div",{className:"flex justify-end mt-2 space-x-2",children:[a.jsx("button",{onClick:D=>{D.stopPropagation(),D.preventDefault(),k(L)},className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",title:"Download",children:a.jsx(bd,{size:20,className:"text-gray-400 hover:text-white"})}),a.jsx("button",{onClick:D=>{D.stopPropagation(),D.preventDefault(),j(L.id)},className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors",title:"Verwijderen",children:a.jsx(Zr,{size:20,className:"text-gray-400 hover:text-red-400"})})]})]})]},L.id),_=L=>{const D=L.target.files;D&&D.length>0&&v(Array.from(D)),L.target.value=""},N=L=>{L.preventDefault(),L.stopPropagation(),o(!0)},P=L=>{L.preventDefault(),L.stopPropagation(),o(!1)},T=L=>{L.preventDefault(),L.stopPropagation(),o(!1);const D=Array.from(L.dataTransfer.files);D.length>0&&v(D)},j=async L=>{if(window.confirm("Weet je zeker dat je dit document wilt verwijderen?"))try{u(!0),await $e.deleteDocument(L),await m(),ge.success("Document verwijderd!")}catch(D){console.error("Error deleting document:",D),ge.error("Er is een fout opgetreden bij het verwijderen van het document")}finally{u(!1)}},k=L=>{try{const D=document.createElement("a");D.href=L.content,D.download=L.name,document.body.appendChild(D),D.click(),document.body.removeChild(D),ge.success("Document gedownload!")}catch(D){console.error("Error downloading file:",D),ge.error("Er is een fout opgetreden bij het downloaden van het document")}},z=L=>{if(L===0)return"0 Bytes";const D=1024,S=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(L)/Math.log(D));return parseFloat((L/Math.pow(D,O)).toFixed(2))+" "+S[O]},E=L=>L.startsWith("image/"),C=L=>L==="application/pdf",Q=L=>E(L.type)?a.jsx("img",{src:L.content,alt:L.name,className:"max-h-[500px] object-contain mx-auto",loading:"lazy"}):C(L.type)?a.jsx("iframe",{src:L.content,className:"w-full h-[500px]",title:L.name,loading:"lazy"}):a.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[a.jsx(ei,{size:64,className:"text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Preview niet beschikbaar voor dit bestandstype"})]});return A?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Documenten laden..."}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Dit kan even duren..."}),a.jsx("button",{onClick:()=>{u(!1),f("Loading geannuleerd door gebruiker")},className:"mt-2 text-xs text-blue-400 hover:text-blue-300 underline",children:"Annuleren"})]})]}):d?a.jsx("div",{className:"flex flex-col items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(gt,{size:32,className:"text-red-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Fout bij laden"}),a.jsx("p",{className:"text-gray-400 mb-4",children:d}),a.jsx("button",{onClick:()=>{f(null),m()},className:"btn-primary",children:"Opnieuw proberen"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:`border-2 border-dashed ${i?"border-blue-400 bg-blue-400/10":"border-gray-600"} rounded-xl p-8 text-center transition-colors`,onDragOver:N,onDragLeave:P,onDrop:T,children:[a.jsx("input",{type:"file",onChange:_,className:"hidden",id:"file-upload",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx",multiple:!0}),a.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center space-y-4",children:[a.jsx(Co,{size:48,className:"text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold",children:"Sleep bestanden hierheen"}),a.jsx("p",{className:"text-gray-400",children:"of klik om te uploaden"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Maximum bestandsgrootte: 5MB"})]})]})]}),n.length>0&&y(),n.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ti,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Geen documenten gevonden"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload bestanden om ze hier te zien"})]}),bu.includes(r)&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Z4,{size:16,className:"text-blue-400"}),a.jsx("h4",{className:"font-medium text-blue-400",children:"Automatisch Revisie Beheer"})]}),a.jsxs("div",{className:"text-sm text-blue-300 space-y-1",children:[a.jsx("p",{children:"• Upload documenten normaal voor de eerste versie"}),a.jsx("p",{children:'• Documenten met "rev.1", "rev.2", etc. in de naam activeren automatisch revisie beheer'}),a.jsxs("p",{children:["• Oude versies worden automatisch naar ",a.jsx("strong",{children:"Historie"})," verplaatst"]}),a.jsxs("p",{children:["• Nieuwe versies worden in ",a.jsx("strong",{children:"Actueel"})," geplaatst"]})]})]}),c&&si.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:L=>{L.target===L.currentTarget&&l(null)},children:a.jsxs("div",{className:"bg-[#1E2530] rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:L=>L.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:c.name}),a.jsx("button",{onClick:L=>{L.preventDefault(),L.stopPropagation(),l(null)},className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),a.jsx("div",{className:"bg-[#2A303C] rounded-lg p-4",children:Q(c)}),a.jsxs("div",{className:"flex justify-end mt-4 space-x-4",children:[a.jsxs("button",{onClick:L=>{L.preventDefault(),L.stopPropagation(),k(c)},className:"btn-secondary flex items-center space-x-2",children:[a.jsx(bd,{size:20}),a.jsx("span",{children:"Download"})]}),a.jsxs("button",{onClick:L=>{L.preventDefault(),L.stopPropagation(),j(c.id),l(null)},className:"btn-secondary flex items-center space-x-2 bg-red-500/20 hover:bg-red-500/30 text-red-400",children:[a.jsx(Zr,{size:20}),a.jsx("span",{children:"Verwijderen"})]})]})]})}),document.body)]})},H_=["Verdeler aanzicht","Test certificaat","Algemene informatie","Installatie schema","Onderdelen","Handleidingen","Documentatie","Oplever foto's"],SY=({project:e})=>{var u,d,f;const[t,r]=$.useState(null),[n,s]=$.useState(null),[i,o]=$.useState(new Set),c=(h,p)=>{r(h||null),s(p||null)},l=h=>{const p=new Set(i);p.has(h)?p.delete(h):p.add(h),o(p)},A=()=>{var m;const h=(m=e.distributors)==null?void 0:m.find(x=>x.id===t),p=[e.project_number];return h&&p.push(`${h.distributor_id} - ${h.kast_naam||"Naamloos"}`),n&&p.push(n),p.join(" / ")};return a.jsxs("div",{className:"flex gap-6 h-[600px]",children:[a.jsxs("div",{className:"w-80 bg-[#2A303C] rounded-lg p-4 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-4 uppercase tracking-wide",children:"Document Explorer"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-blue-500/20 text-blue-400",children:[a.jsx(xa,{size:16,className:"mr-2 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:e.project_number}),e.client&&a.jsx("div",{className:"text-xs opacity-75 truncate",children:e.client})]}),a.jsxs("div",{className:"text-xs opacity-60 ml-2 flex-shrink-0",children:[((u=e.distributors)==null?void 0:u.length)||0," verdelers"]})]}),e.distributors&&e.distributors.length>0?a.jsx("div",{className:"ml-4 space-y-1",children:e.distributors.map(h=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${t===h.id&&!n?"bg-gradient-to-r from-green-600 to-green-400 text-white":"hover:bg-[#1E2530] text-gray-300 hover:text-white"}`,onClick:()=>{c(h.id),l(h.id)},children:a.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[i.has(h.id)?a.jsx(Cg,{size:14,className:"mr-2 flex-shrink-0"}):a.jsx(Uo,{size:14,className:"mr-2 flex-shrink-0"}),a.jsx(Or,{size:14,className:"mr-2 flex-shrink-0 text-green-400"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:h.distributor_id}),h.kast_naam&&a.jsx("div",{className:"text-xs opacity-75 truncate",children:h.kast_naam})]})]})}),i.has(h.id)&&a.jsx("div",{className:"ml-6 space-y-1",children:H_.map(p=>a.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${t===h.id&&n===p?"bg-gradient-to-r from-purple-600 to-purple-400 text-white":"hover:bg-[#1E2530] text-gray-300 hover:text-white"}`,onClick:()=>c(h.id,p),children:[a.jsx(ti,{size:12,className:"mr-2 flex-shrink-0 text-purple-400"}),a.jsx("span",{className:"text-xs truncate",children:p})]},p))})]},h.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Or,{size:32,className:"mx-auto text-gray-600 mb-2"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Geen verdelers toegevoegd"}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Voeg verdelers toe om documenten te beheren"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:t&&n?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-4",children:[a.jsx("span",{children:"Locatie:"}),a.jsx("div",{className:"flex items-center space-x-2",children:A().split(" / ").map((h,p,m)=>a.jsxs(fe.Fragment,{children:[a.jsx("span",{className:"text-blue-400",children:h}),p<m.length-1&&a.jsx(Uo,{size:14})]},p))})]}),a.jsx(eC,{projectId:e.id,distributorId:t,folder:n})]}):t?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-4",children:[a.jsx("span",{children:"Selecteer een map voor:"}),a.jsx("span",{className:"text-green-400",children:(f=(d=e.distributors)==null?void 0:d.find(h=>h.id===t))==null?void 0:f.distributor_id})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:H_.map(h=>a.jsxs("div",{onClick:()=>c(t,h),className:"bg-[#1E2530] rounded-lg p-6 flex flex-col items-center justify-center space-y-3 hover:bg-[#2A303C] transition-colors cursor-pointer group min-h-[120px]",children:[a.jsx(ti,{size:40,className:"text-gray-400 group-hover:text-purple-400 transition-colors"}),a.jsx("span",{className:"text-sm text-center font-medium group-hover:text-white transition-colors",children:h})]},h))})]}):a.jsx("div",{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Or,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Selecteer een verdeler"}),a.jsx("p",{className:"text-gray-400",children:"Kies een verdeler uit de lijst om documenten te beheren"})]})})})]})};class _Y{generateAccessCode(){return Math.floor(1e5+Math.random()*9e5).toString()}generatePortalUrl(t){return`${window.location.hostname==="localhost"||window.location.hostname.includes("webcontainer")?"https://ewp-management.nl":window.location.origin}/client-portal/${t}`}async createClientPortal(t,r){try{const{data:n,error:s}=await qe.from("client_portals").select("*").eq("project_id",t).eq("is_active",!0);if(s)throw s;if(n&&n.length>0)return console.log("Portal already exists for project:",t),n[0];const i=this.generateAccessCode(),o=this.generatePortalUrl(i),c=new Date;c.setDate(c.getDate()+30);const l={project_id:t,client_id:r,access_code:i,portal_url:o,expires_at:c.toISOString(),is_active:!0,delivery_status:"preparing"},{data:A,error:u}=await qe.from("client_portals").insert([l]).select().single();if(u)throw u;return console.log("New portal created for project:",t),A}catch(n){throw console.error("Error creating client portal:",n),new Error(`Failed to create client portal: ${n.message}`)}}generateEmailTemplate(t,r,n,s){let i="Zoals afgesproken";return s&&(i=new Date(s).toLocaleDateString("nl-NL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),`
Beste ${t.client||"klant"},

Goed nieuws! Uw verdelers voor project ${t.project_number} zijn succesvol getest en gereed voor levering.

LEVERING DETAILS:
- Project: ${t.project_number}
- Locatie: ${t.location||"Zoals afgesproken"}
- Verwachte leverdatum: ${i}
- Aantal verdelers: ${n.length}

DOCUMENTATIE PORTAL:
Voor uw gemak hebben wij alle testdocumenten, certificaten en technische informatie beschikbaar gesteld in een beveiligde online portal.

Portal toegang:
Link: ${r.portal_url}
Toegangscode: ${r.access_code}

In de portal vindt u:
- Alle testcertificaten en keuringsrapporten
- Technische specificaties per verdeler
- Installatie-instructies en handleidingen


TOEGANG:
De portal is 30 dagen toegankelijk vanaf vandaag. Wij adviseren u om alle documenten te downloaden voor uw archief.

VRAGEN?
Heeft u vragen over de levering of documentatie? Neem gerust contact met ons op:


Met vriendelijke groet,

EWP groep B.V.

---
Dit is een automatisch gegenereerd bericht. De portal link is uniek en persoonlijk voor uw project.
    `.trim()}async sendDeliveryNotification(t,r,n,s){try{const{data:i,error:o}=await qe.from("client_portals").select("*").eq("id",t).single();if(o)throw o;const c=this.generateEmailTemplate(r,i,n,s),l=`✅ Verdelers gereed voor levering - Project ${r.project_number}`,{error:A}=await qe.from("delivery_notifications").insert([{portal_id:t,email_template:c,email_subject:l,delivery_date:s||null}]);if(A)throw A;const{error:u}=await qe.from("client_portals").update({email_sent:!0,email_sent_at:new Date().toISOString(),delivery_status:"ready"}).eq("id",t);if(u)throw u;console.log("Delivery notification prepared:",{subject:l,portalUrl:i.portal_url,accessCode:i.access_code})}catch(i){throw console.error("Error sending delivery notification:",i),new Error(`Failed to send delivery notification: ${i.message}`)}}async getPortalByAccessCode(t){try{const{data:r,error:n}=await qe.from("client_portals").select(`
          *,
          projects (
            project_number,
            client,
            location,
            description
          ),
          clients (
            name,
            visit_street,
            visit_city,
            visit_postcode
          )
        `).eq("access_code",t).eq("is_active",!0).single();if(n){if(n.code==="PGRST116")return null;throw n}return new Date>new Date(r.expires_at)?null:r}catch(r){return console.error("Error getting portal by access code:",r),null}}async trackPortalAccess(t){try{const{error:r}=await qe.from("client_portals").update({last_accessed:new Date().toISOString(),access_count:qe.sql`access_count + 1`}).eq("id",t);if(r)throw r}catch(r){console.error("Error tracking portal access:",r)}}async getPortalVerdelers(t){try{const{data:r,error:n}=await qe.from("distributors").select("*").eq("project_id",t).order("created_at",{ascending:!0});if(n)throw n;return r||[]}catch(r){return console.error("Error getting portal verdelers:",r),[]}}async getAllClientPortals(){try{const{data:t,error:r}=await qe.from("client_portals").select(`
          *,
          projects (
            project_number,
            client,
            location
          ),
          clients (
            name
          )
        `).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){return console.error("Error getting client portals:",t),[]}}async updateDeliveryStatus(t,r){try{const{error:n}=await qe.from("client_portals").update({delivery_status:r}).eq("id",t);if(n)throw n}catch(n){throw console.error("Error updating delivery status:",n),n}}async reactivatePortal(t){try{const r=new Date;r.setDate(r.getDate()+30);const{error:n}=await qe.from("client_portals").update({is_active:!0,expires_at:r.toISOString(),delivery_status:"ready"}).eq("id",t);if(n)throw n}catch(r){throw console.error("Error reactivating portal:",r),r}}async deactivateExpiredPortals(){try{const{data:t,error:r}=await qe.from("client_portals").update({is_active:!1}).lt("expires_at",new Date().toISOString()).eq("is_active",!0).select("id");if(r)throw r;return(t==null?void 0:t.length)||0}catch(t){return console.error("Error deactivating expired portals:",t),0}}}const da=new _Y,EY=({project:e,onStatusChange:t})=>{const[r,n]=$.useState(!1),[s,i]=$.useState(!1),[o,c]=$.useState(null),[l,A]=$.useState(""),[u,d]=$.useState(""),[f,h]=$.useState([]),p=async()=>{try{i(!0);const b=(await da.getAllClientPortals()).find(k=>k.project_id===e.id&&k.is_active);if(b){const k=await $e.getDistributorsByProject(e.id);h(k);const z=da.generateEmailTemplate(e,b,k,u);c(b),A(z),n(!0),ge.success("Bestaande portal geladen voor dit project!");return}const _=await $e.getDistributorsByProject(e.id);if(_.length===0){ge.error("Geen verdelers gevonden voor dit project");return}const P=(await $e.getClients()).find(k=>k.name===e.client),T=await da.createClientPortal(e.id,P==null?void 0:P.id),j=da.generateEmailTemplate(e,T,_,u);c(T),h(_),A(j),n(!0),ge.success("Nieuwe portal aangemaakt voor dit project!")}catch(y){console.error("Error generating delivery notification:",y),ge.error("Er is een fout opgetreden bij het genereren van de notificatie")}finally{i(!1)}};fe.useEffect(()=>{if(console.log("DeliveryDate changed:",u),console.log("Portal exists:",!!o),console.log("Verdelers count:",f.length),o&&f.length>0){console.log("Regenerating email template with date:",u);const y=da.generateEmailTemplate(e,o,f,u);console.log("New template generated"),A(y)}},[u,o,f,e]);const m=async()=>{if(o)try{const y=await $e.getDistributorsByProject(e.id);await da.sendDeliveryNotification(o.id,e,y,u),await $e.updateProject(e.id,{...e,status:"Opgeleverd"}),ge.success("Levering notificatie verzonden naar klant!"),n(!1),t&&t()}catch(y){console.error("Error sending notification:",y),ge.error("Er is een fout opgetreden bij het verzenden van de notificatie")}},x=()=>{if(!o)return;const y=`Portal Link: ${o.portal_url}
Toeganscode: ${o.access_code}`;navigator.clipboard.writeText(y),ge.success("Portal informatie gekopieerd naar klembord!")},v=()=>{navigator.clipboard.writeText(l),ge.success("Email template gekopieerd naar klembord!")};return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl",children:a.jsx(Sg,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Levering Notificatie"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Genereer automatisch een klant portal en verstuur levering notificatie"})]})]}),a.jsx("button",{onClick:p,disabled:s,className:`bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white px-6 py-3 rounded-xl shadow-lg transition-all flex items-center space-x-2 ${s?"opacity-50 cursor-not-allowed":"hover:shadow-xl transform hover:scale-105"}`,children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Genereren..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Jl,{size:20}),a.jsx("span",{children:"Genereer Notificatie"})]})})]})}),r&&o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-green-400",children:"Levering Notificatie Preview"}),a.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-xl p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Portal Informatie"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Portal Link"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:o.portal_url,readOnly:!0,className:"flex-1 bg-[#374151] text-white border border-gray-600 rounded-lg p-2 text-sm"}),a.jsx("button",{onClick:x,className:"p-2 bg-blue-500/20 hover:bg-blue-500/30 rounded-lg transition-colors",title:"Kopieer portal informatie",children:a.jsx(pA,{size:16,className:"text-blue-400"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Toegangscode"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("input",{type:"text",value:o.access_code,readOnly:!0,className:"flex-1 bg-[#374151] text-white border border-gray-600 rounded-lg p-2 text-sm font-mono text-center text-lg"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vervaldatum"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qn,{size:16,className:"text-gray-400"}),a.jsx("span",{className:"text-white",children:new Date(o.expires_at).toLocaleDateString("nl-NL")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ja,{size:16,className:"text-green-400"}),a.jsx("span",{className:"text-green-400",children:"Actief"})]})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-xl p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-orange-400 mb-4",children:"Levering Planning"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Verwachte leverdatum"}),a.jsx("input",{type:"date",value:u,onChange:y=>d(y.target.value),className:"input-field",min:new Date().toISOString().split("T")[0]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Laat leeg voor "zoals afgesproken"'})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>d(""),className:"btn-secondary text-sm",children:"Datum wissen"})})]})]}),a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-xl p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-400",children:"Email Preview"}),a.jsxs("button",{onClick:v,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(pA,{size:16}),a.jsx("span",{children:"Kopieer Email"})]})]}),a.jsxs("div",{className:"bg-[#374151] text-white rounded-lg p-6 font-sans border border-gray-600",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Jl,{size:16,className:"text-gray-300"}),a.jsxs("span",{className:"text-sm text-gray-300",children:["Aan: ",e.client]})]}),a.jsxs("h4",{className:"font-semibold text-lg",children:["Verdelers gereed voor levering - Project ",e.project_number]})]}),a.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed text-white",children:l})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>n(!1),className:"btn-secondary",children:"Annuleren"}),a.jsxs("button",{onClick:m,className:"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white px-6 py-3 rounded-xl shadow-lg transition-all flex items-center space-x-2",children:[a.jsx(jT,{size:20}),a.jsx("span",{children:"Verstuur Notificatie"})]})]})]})})]})},FY=({project:e})=>{var D;const[t,r]=$.useState([]),[n,s]=$.useState([]),[i,o]=$.useState(!0),[c,l]=$.useState(!1),[A,u]=$.useState(null),[d,f]=$.useState(""),[h,p]=$.useState(!1),[m,x]=$.useState({distributor_id:"",worker_id:"",date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",hours:0,status:"in_progress",notes:"",materials:[],photos:[]});$.useEffect(()=>{v()},[e.id]);const v=async()=>{try{o(!0);const S=JSON.parse(localStorage.getItem("users")||"[]");if(s(S),e.distributors&&e.distributors.length>0){const O=[];for(const R of e.distributors)try{const M=(await $e.getWorkEntries(R.id)).map(q=>{var B;return{id:q.id,distributor_id:q.distributor_id,worker_id:q.worker_id,worker_name:((B=S.find(I=>I.id===q.worker_id))==null?void 0:B.username)||"Onbekend",date:q.date,hours:parseFloat(q.hours)||0,status:q.status||"in_progress",notes:q.notes||"",materials:[],photos:[],created_at:q.created_at}});O.push(...M)}catch(W){console.error(`Error loading work entries for distributor ${R.id}:`,W)}r(O)}}catch(S){console.error("Error loading production data:",S),ge.error("Er is een fout opgetreden bij het laden van de productiegegevens")}finally{o(!1)}},y=()=>{if(m.start_time&&m.end_time){const S=new Date(`2000-01-01T${m.start_time}`),R=new Date(`2000-01-01T${m.end_time}`).getTime()-S.getTime(),W=Math.max(0,R/(1e3*60*60)),M=Math.round(W*100)/100;console.log("🕐 Calculating hours:",{start:m.start_time,end:m.end_time,hours:M}),x(q=>({...q,hours:M}))}},b=()=>{const S={id:Dl(),description:"",quantity:1,unit:"stuks",price:0};x(O=>({...O,materials:[...O.materials,S]}))},_=S=>{x(O=>({...O,materials:O.materials.filter(R=>R.id!==S)}))},N=(S,O,R)=>{if(console.log("🔧 Material change:",{materialId:S,field:O,value:R}),O==="price"){const W=parseFloat(R)||0;console.log("💰 Price change:",{original:R,parsed:W}),x(M=>({...M,materials:M.materials.map(q=>q.id===S?{...q,[O]:W}:q)}));return}if(O==="quantity"){const W=parseFloat(R)||0;x(M=>({...M,materials:M.materials.map(q=>q.id===S?{...q,[O]:W}:q)}));return}x(W=>({...W,materials:W.materials.map(M=>M.id===S?{...M,[O]:R}:M)}))},P=S=>{if(S.target.files&&S.target.files[0]){const O=S.target.files[0];if(O.size>5*1024*1024){ge.error("Foto is te groot. Maximum grootte is 5MB");return}const R=new FileReader;R.onloadend=()=>{const W=R.result;x(M=>({...M,photos:[...M.photos,W]}))},R.readAsDataURL(O)}},T=S=>{x(O=>({...O,photos:O.photos.filter((R,W)=>W!==S)}))},j=async()=>{if(console.log("🔥 SAVE BUTTON CLICKED - handleSaveWorkEntry called"),console.log("🔥 Form data:",m),h){console.log("⚠️ Already submitting, ignoring duplicate click");return}if(!m.distributor_id||!m.worker_id||!m.date){console.log("❌ Validation failed - missing required fields"),console.log("❌ Missing fields:",{distributor_id:!m.distributor_id,worker_id:!m.worker_id,date:!m.date}),ge.error("Vul alle verplichte velden in!");return}if(m.hours<=0){console.log("❌ Validation failed - invalid hours:",m.hours),ge.error("Voer een geldig aantal uren in (groter dan 0)!");return}try{p(!0),console.log("✅ Validation passed, attempting to save..."),console.log("📝 Saving work entry with data:",m);const S={distributorId:m.distributor_id,workerId:m.worker_id,date:m.date,hours:m.hours,status:m.status,notes:m.notes};if(console.log("📤 Work entry data being sent to database:",S),A)console.log("📝 Updating existing entry:",A.id),await $e.updateWorkEntry(A.id,S),console.log("✅ Work entry updated successfully"),ge.success("Werk registratie bijgewerkt!");else{console.log("📝 Creating new work entry...");const O=await $e.createWorkEntry(S);console.log("✅ New work entry created successfully:",O),ge.success("Werk registratie toegevoegd!")}if(m.materials.length>0||m.photos.length>0){console.log("📦 Saving materials and photos as test data...");const O={distributorId:m.distributor_id,testType:"production_materials",data:{materials:m.materials,photos:m.photos,workDate:m.date,workerId:m.worker_id}};try{await $e.createTestData(O),console.log("✅ Materials and photos saved successfully")}catch(R){console.error("Error saving materials/photos:",R)}}console.log("🔄 Resetting form and reloading data..."),E(),await v(),console.log("✅ Form reset and data reloaded successfully")}catch(S){console.error("Error saving work entry:",S),ge.error(`Er is een fout opgetreden bij het opslaan: ${S.message||"Onbekende fout"}`)}finally{p(!1),console.log("🏁 Save operation completed")}},k=S=>{u(S),x({distributor_id:S.distributor_id,worker_id:S.worker_id,date:S.date,start_time:"",end_time:"",hours:S.hours,status:S.status,notes:S.notes,materials:S.materials,photos:S.photos}),l(!0)},z=async S=>{if(window.confirm("Weet je zeker dat je deze werk registratie wilt verwijderen?"))try{console.log("🗑️ Deleting work entry:",S),await $e.deleteWorkEntry(S),console.log("✅ Work entry deleted successfully"),ge.success("Werk registratie verwijderd!"),await v()}catch(O){console.error("Error deleting work entry:",O),ge.error(`Er is een fout opgetreden bij het verwijderen: ${O.message||"Onbekende fout"}`)}},E=()=>{l(!1),u(null),x({distributor_id:"",worker_id:"",date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",hours:0,status:"in_progress",notes:"",materials:[],photos:[]})},C=()=>t.reduce((S,O)=>S+O.hours,0),Q=()=>{const S={};return t.forEach(O=>{S[O.worker_id]||(S[O.worker_id]={name:O.worker_name,hours:0,entries:0}),S[O.worker_id].hours+=O.hours,S[O.worker_id].entries+=1}),Object.values(S)},L=()=>{var O;const S={};return(O=e.distributors)==null||O.forEach(R=>{const W=t.filter(B=>B.distributor_id===R.id),M=W.reduce((B,I)=>B+I.hours,0),q=W.some(B=>B.status==="completed");S[R.id]={name:`${R.distributor_id} - ${R.kast_naam||"Naamloos"}`,hours:M,status:q?"completed":M>0?"in_progress":"not_started"}}),Object.values(S)};return i?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Productiegegevens laden..."})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl",children:a.jsx(Fn,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Totale Uren"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:C().toFixed(1)})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/20 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl",children:a.jsx(ko,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Actieve Medewerkers"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:Q().length})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/20 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl",children:a.jsx(fj,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Werk Sessies"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]})]})})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Verdeler Voortgang"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L().map((S,O)=>a.jsxs("div",{className:"bg-[#1E2530] rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:S.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${S.status==="completed"?"bg-green-500/20 text-green-400":S.status==="in_progress"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:S.status==="completed"?"Voltooid":S.status==="in_progress"?"Bezig":"Niet gestart"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fn,{size:14,className:"text-gray-400"}),a.jsxs("span",{className:"text-sm text-gray-300",children:[S.hours.toFixed(1)," uur"]})]})]},O))})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"Medewerker Statistieken"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q().map((S,O)=>a.jsx("div",{className:"bg-[#1E2530] rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:S.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white",children:S.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[a.jsxs("span",{children:[S.hours.toFixed(1)," uur"]}),a.jsxs("span",{children:[S.entries," sessies"]})]})]})]})},O))})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Werk Registraties"}),a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center space-x-2",children:[a.jsx(Ss,{size:20}),a.jsx("span",{children:"Werk Registreren"})]})]}),a.jsx("div",{className:"bg-[#2A303C] rounded-xl p-6",children:t.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"table-header text-left",children:"Verdeler"}),a.jsx("th",{className:"table-header text-left",children:"Medewerker"}),a.jsx("th",{className:"table-header text-left",children:"Datum"}),a.jsx("th",{className:"table-header text-left",children:"Uren"}),a.jsx("th",{className:"table-header text-left",children:"Status"}),a.jsx("th",{className:"table-header text-left",children:"Opmerkingen"}),a.jsx("th",{className:"table-header text-right",children:"Acties"})]})}),a.jsx("tbody",{children:t.map(S=>{var R;const O=(R=e.distributors)==null?void 0:R.find(W=>W.id===S.distributor_id);return a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"font-medium text-green-400",children:(O==null?void 0:O.distributor_id)||"Onbekend"})]})}),a.jsx("td",{className:"py-4 text-gray-300",children:S.worker_name}),a.jsx("td",{className:"py-4 text-gray-300",children:new Date(S.date).toLocaleDateString("nl-NL")}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fn,{size:14,className:"text-blue-400"}),a.jsxs("span",{className:"font-medium text-blue-400",children:[S.hours,"h"]})]})}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${S.status==="completed"?"bg-green-500/20 text-green-400":S.status==="paused"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:S.status==="completed"?"Voltooid":S.status==="paused"?"Gepauzeerd":"Bezig"})}),a.jsx("td",{className:"py-4 text-gray-300 max-w-xs truncate",children:S.notes||"-"}),a.jsx("td",{className:"py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>k(S),className:"p-2 bg-[#1E2530] hover:bg-blue-500/20 rounded-lg transition-colors group",title:"Bewerken",children:a.jsx(Ny,{size:16,className:"text-gray-400 group-hover:text-blue-400"})}),a.jsx("button",{onClick:()=>z(S.id),className:"p-2 bg-[#1E2530] hover:bg-red-500/20 rounded-lg transition-colors group",title:"Verwijderen",children:a.jsx(Zr,{size:16,className:"text-gray-400 group-hover:text-red-400"})})]})})]},S.id)})})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Fn,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Nog geen werk geregistreerd"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Klik op "Werk Registreren" om te beginnen'})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:A?"Werk Registratie Bewerken":"Nieuwe Werk Registratie"}),a.jsx("button",{type:"button",onClick:E,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsxs("form",{onSubmit:S=>{S.preventDefault(),j()},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Verdeler ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("select",{className:"input-field",value:m.distributor_id,onChange:S=>x({...m,distributor_id:S.target.value}),required:!0,children:[a.jsx("option",{value:"",children:"Selecteer verdeler"}),(D=e.distributors)==null?void 0:D.map(S=>a.jsxs("option",{value:S.id,children:[S.distributor_id," - ",S.kast_naam||"Naamloos"]},S.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Medewerker ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("select",{className:"input-field",value:m.worker_id,onChange:S=>x({...m,worker_id:S.target.value}),required:!0,children:[a.jsx("option",{value:"",children:"Selecteer medewerker"}),n.map(S=>a.jsx("option",{value:S.id,children:S.username},S.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Datum ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"date",className:"input-field",value:m.date,onChange:S=>{x({...m,date:S.target.value}),setTimeout(()=>{y()},50)},required:!0})]})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-300 mb-4",children:"Tijd Registratie"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Start tijd"}),a.jsx("input",{type:"time",className:"input-field",value:m.start_time,onChange:S=>{x({...m,start_time:S.target.value}),setTimeout(y,100)}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Eind tijd"}),a.jsx("input",{type:"time",className:"input-field",value:m.end_time,onChange:S=>{x({...m,end_time:S.target.value}),setTimeout(y,100)}})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Totale uren ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"number",step:"0.1",min:"0",className:"input-field",value:m.hours,onChange:S=>x({...m,hours:parseFloat(S.target.value)||0}),required:!0})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Status"}),a.jsxs("select",{className:"input-field",value:m.status,onChange:S=>x({...m,status:S.target.value}),children:[a.jsx("option",{value:"in_progress",children:"Bezig"}),a.jsx("option",{value:"completed",children:"Voltooid"}),a.jsx("option",{value:"paused",children:"Gepauzeerd"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Opmerkingen"}),a.jsx("textarea",{className:"input-field h-20",value:m.notes,onChange:S=>x({...m,notes:S.target.value}),placeholder:"Beschrijf de uitgevoerde werkzaamheden..."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-400",children:"Gebruikte Materialen"}),a.jsxs("button",{type:"button",onClick:b,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(Ss,{size:16}),a.jsx("span",{children:"Materiaal toevoegen"})]})]}),m.materials.length>0&&a.jsx("div",{className:"space-y-4",children:m.materials.map((S,O)=>a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"font-medium text-gray-300",children:["Materiaal ",O+1]}),a.jsx("button",{type:"button",onClick:()=>_(S.id),className:"text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Zr,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Beschrijving"}),a.jsx("input",{type:"text",value:S.description,onChange:R=>N(S.id,"description",R.target.value),className:"input-field text-sm",placeholder:"Bijv. Kabel 3x2.5mm²"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Aantal"}),a.jsx("input",{type:"number",value:S.quantity,onChange:R=>N(S.id,"quantity",R.target.value),className:"input-field text-sm",min:"0",step:"0.1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Eenheid"}),a.jsxs("select",{value:S.unit,onChange:R=>N(S.id,"unit",R.target.value),className:"input-field text-sm",children:[a.jsx("option",{value:"stuks",children:"Stuks"}),a.jsx("option",{value:"meter",children:"Meter"}),a.jsx("option",{value:"kg",children:"Kilogram"}),a.jsx("option",{value:"liter",children:"Liter"}),a.jsx("option",{value:"set",children:"Set"})]})]})]})]},S.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Voortgang Foto's"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden",id:"photo-upload"}),a.jsxs("label",{htmlFor:"photo-upload",className:"btn-secondary flex items-center space-x-2 cursor-pointer",children:[a.jsx(_h,{size:20}),a.jsx("span",{children:"Foto toevoegen"})]}),a.jsx("span",{className:"text-sm text-gray-400",children:"(Max. 5MB per foto)"})]}),m.photos.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.photos.map((S,O)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:S,alt:`Foto ${O+1}`,className:"w-full h-24 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>T(O),className:"absolute top-1 right-1 p-1 bg-red-500 rounded-full text-white hover:bg-red-600",children:a.jsx(gt,{size:12})})]},O))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700",children:[a.jsx("button",{type:"button",onClick:E,className:"btn-secondary",children:"Annuleren"}),a.jsxs("button",{type:"submit",onClick:j,className:"btn-primary flex items-center space-x-2",children:[a.jsx(BA,{size:20}),a.jsx("span",{children:A?"Bijwerken":"Registreren"})]})]})]})]})})]})},PY=()=>{var M,q,B;const{projectId:e}=jy(),t=_s(),{hasPermission:r}=ai(),[n,s]=$.useState(null),[i,o]=$.useState("details"),[c,l]=$.useState(!0),[A,u]=$.useState(!1),[d,f]=$.useState(null),[h,p]=$.useState([]),[m,x]=$.useState(null),[v,y]=$.useState(null),[b,_]=$.useState(!1),[N,P]=$.useState({hasApproval:!1,status:null});$.useEffect(()=>{const I=localStorage.getItem("currentUserId");if(I){const G=JSON.parse(localStorage.getItem("users")||"[]").find(J=>J.id===I);x(G)}return e&&(k(),z(),j(),T()),()=>{e&&(m!=null&&m.id)&&Ir.unlockProject(e,m.id)}},[e]);const T=async()=>{if(!(!(n!=null&&n.distributors)||n.distributors.length===0))try{const I=n.distributors[0].id,H=await $e.getTestData(I),G=H==null?void 0:H.find(J=>J.test_type==="pre_testing_approval");if(G&&G.data.approvalData){const J=G.data.approvalData;J.reviewedAt?P({hasApproval:!0,status:J.overallApproval?"approved":"declined",reviewedBy:J.reviewedBy,reviewedAt:J.reviewedAt}):J.status==="submitted"&&P({hasApproval:!0,status:"submitted"})}}catch(I){console.error("Error checking approval status:",I)}};$.useEffect(()=>{n&&T()},[n]),$.useEffect(()=>{const I=()=>{e&&(m!=null&&m.id)&&Ir.unlockProject(e,m.id)};return window.addEventListener("beforeunload",I),()=>{window.removeEventListener("beforeunload",I),e&&(m!=null&&m.id)&&Ir.unlockProject(e,m.id)}},[e,m]);const j=async()=>{var I,H;if(!(!e||!m))try{console.log(`🎯 PROJECT DETAILS: Attempting to lock project ${e} for user ${m.username} (${m.id})`);const G=await Ir.isProjectLocked(e,m.id);if(console.log("🔍 PROJECT DETAILS: Lock check result:",G),G.locked){console.log(`🚫 PROJECT DETAILS: Project ${e} is LOCKED by ${(I=G.lockInfo)==null?void 0:I.username} - BLOCKING ACCESS`),ge.error(`Dit project wordt momenteel bewerkt door ${(H=G.lockInfo)==null?void 0:H.username}`),setTimeout(()=>{console.log("🔄 PROJECT DETAILS: Redirecting to projects due to lock"),t("/projects")},2e3);return}console.log(`✅ PROJECT DETAILS: Project ${e} is available, attempting to lock...`);const J=await Ir.lockProject(e,m.id,m.username);console.log("🔒 PROJECT DETAILS: Lock attempt result:",J),J.success&&J.lockId?(console.log(`✅ PROJECT DETAILS: Successfully locked project ${e} with lock ID ${J.lockId}`),y(J.lockId),console.log("🔄 PROJECT DETAILS: Forcing lock refresh after successful lock creation"),await Ir.forceRefreshLocks()):(console.log(`❌ PROJECT DETAILS: Failed to lock project ${e} - redirecting`),ge.error("Project kon niet worden vergrendeld"),setTimeout(()=>{console.log("🔄 PROJECT DETAILS: Redirecting to projects due to lock failure"),t("/projects")},2e3))}catch(G){console.error("❌ PROJECT DETAILS: CRITICAL ERROR attempting to lock project:",G),ge.error("Kon project niet vergrendelen"),setTimeout(()=>{console.log("🔄 PROJECT DETAILS: Redirecting to projects due to error"),t("/projects")},2e3)}},k=async()=>{try{l(!0);const H=(await $e.getProjects()).find(G=>G.id===e);s(H||null),f(H||null)}catch(I){console.error("Error loading project:",I),ge.error("Er is een fout opgetreden bij het laden van het project")}finally{l(!1)}},z=async()=>{try{const I=JSON.parse(localStorage.getItem("users")||"[]");p(I)}catch(I){console.error("Error loading users:",I)}},E=()=>{if(!r("projects","update")){ge.error("Je hebt geen toestemming om projecten te bewerken");return}u(!0),f({...n})},C=()=>{u(!1),f({...n})},Q=async()=>{if(d){if(!r("projects","update")){ge.error("Je hebt geen toestemming om projecten bij te werken");return}try{const I={projectNumber:d.project_number,date:d.date,location:d.location,client:d.client,contact_person:d.contact_person,status:d.status,description:d.description};await $e.updateProject(d.id,I),s(d),u(!1),ge.success("Project gegevens opgeslagen!")}catch(I){console.error("Error saving project:",I),ge.error("Er is een fout opgetreden bij het opslaan van het project")}}},L=(I,H)=>{if(I==="status"&&H==="Testen"&&(d==null?void 0:d.status)==="Productie"){_(!0);return}f({...d,[I]:H})},D=async()=>{try{const I={...d,status:"Testen"};f(I),_(!1),setPendingStatusChange(null),ge.success("Project goedgekeurd voor testfase!")}catch(I){console.error("Error approving for testing:",I),ge.error("Er is een fout opgetreden bij het goedkeuren voor testfase")}},S=async()=>{try{_(!1),setPendingStatusChange(null),ge.success("Project afgekeurd - blijft in productie voor aanpassingen")}catch(I){console.error("Error declining for testing:",I),ge.error("Er is een fout opgetreden bij het afkeuren voor testfase")}},O=()=>{_(!1)},R=I=>{s(H=>({...H,distributors:I}))},W=I=>{if(!I)return"bg-gray-500/20 text-gray-400";switch(I.toLowerCase()){case"intake":return"bg-blue-500/20 text-blue-400";case"offerte":return"bg-yellow-500/20 text-yellow-400";case"order":return"bg-blue-500/20 text-blue-400";case"testen":return"bg-yellow-500/20 text-yellow-400";case"levering":return"bg-green-500/20 text-green-400";case"gereed voor oplevering":return"bg-green-500/20 text-green-400";case"opgeleverd":return"bg-green-500/20 text-green-400";case"verloren":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}};return c?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Project laden..."})]})})}):n?a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/projects"),className:"btn-secondary p-2",children:a.jsx(bT,{size:20})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Project details"}),a.jsx("p",{className:"text-gray-400",children:n.project_number}),v&&a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs text-blue-400",children:"Je werkt nu in dit project"})]})]})]}),i==="details"&&a.jsx("div",{className:"flex space-x-2",children:A?a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:C,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(gt,{size:20}),a.jsx("span",{children:"Annuleren"})]}),a.jsxs("button",{onClick:Q,className:"btn-primary flex items-center space-x-2",children:[a.jsx(BA,{size:20}),a.jsx("span",{children:"Opslaan"})]})]}):r("projects","update")&&a.jsxs("button",{onClick:E,className:"btn-primary flex items-center space-x-2",children:[a.jsx(Ny,{size:20}),a.jsx("span",{children:"Bewerken"})]})})]})}),((M=n==null?void 0:n.status)==null?void 0:M.toLowerCase())==="productie"&&N.hasApproval&&a.jsx("div",{className:`card p-4 mb-8 border-l-4 ${N.status==="approved"?"border-green-400 bg-green-500/10":N.status==="declined"?"border-red-400 bg-red-500/10":"border-yellow-400 bg-yellow-500/10"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${N.status==="approved"?"bg-green-500/20":N.status==="declined"?"bg-red-500/20":"bg-yellow-500/20"}`,children:N.status==="approved"?"✅":N.status==="declined"?"❌":"⏳"}),a.jsxs("div",{children:[a.jsx("h3",{className:`font-medium ${N.status==="approved"?"text-green-400":N.status==="declined"?"text-red-400":"text-yellow-400"}`,children:N.status==="approved"?"Pre-Testing Goedgekeurd":N.status==="declined"?"Pre-Testing Afgekeurd":"Pre-Testing Wacht op Beoordeling"}),a.jsx("p",{className:"text-sm text-gray-400",children:N.status==="approved"?`Goedgekeurd door ${N.reviewedBy} op ${N.reviewedAt?new Date(N.reviewedAt).toLocaleDateString("nl-NL"):""}`:N.status==="declined"?`Afgekeurd door ${N.reviewedBy} op ${N.reviewedAt?new Date(N.reviewedAt).toLocaleDateString("nl-NL"):""} - Aanpassingen vereist`:"Checklist is ingediend en wacht op beoordeling door tester"})]})]}),a.jsx("button",{onClick:()=>_(!0),className:`btn-primary flex items-center space-x-2 ${N.status==="approved"?"bg-green-600 hover:bg-green-700":N.status==="declined"?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700"}`,children:a.jsx("span",{children:N.status==="approved"?"Bekijk Goedkeuring":N.status==="declined"?"Bekijk Afkeuring":"Bekijk Status"})})]})}),a.jsx("div",{className:"card p-4 mb-8",children:a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>o("details"),className:`px-4 py-2 rounded-lg transition ${i==="details"?"bg-[#4169e1] text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Details"}),a.jsxs("button",{onClick:()=>o("verdelers"),className:`px-4 py-2 rounded-lg transition ${i==="verdelers"?"bg-[#4169e1] text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:["Verdelers (",((q=n.distributors)==null?void 0:q.length)||0,")"]}),a.jsx("button",{onClick:()=>o("documents"),className:`px-4 py-2 rounded-lg transition ${i==="documents"?"bg-[#4169e1] text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Documenten"}),a.jsx("button",{onClick:()=>o("intake"),className:`px-4 py-2 rounded-lg transition ${i==="intake"?"bg-[#4169e1] text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Intake Formulier"}),a.jsx("button",{onClick:()=>o("productie"),className:`px-4 py-2 rounded-lg transition ${i==="productie"?"bg-[#4169e1] text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Productie"})]})}),a.jsxs("div",{className:"card p-6",children:[i==="details"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg text-gradient mb-6",children:"Project gegevens"}),a.jsx("div",{className:"grid grid-cols-2 gap-6",children:[{label:"Projectnummer",field:"project_number",readOnly:!0},{label:"Datum",field:"date",type:"date"},{label:"Locatie",field:"location"},{label:"Klant",field:"client"},{label:"Contactpersoon",field:"contact_person"},{label:"Status",field:"status",type:"select",options:["","Intake","Offerte","Order","Productie","Testen","Levering","Gereed voor oplevering","Opgeleverd","Verloren"]},{label:"Omschrijving",field:"description",type:"textarea",colSpan:2}].map(I=>{var G;const H=A?d==null?void 0:d[I.field]:n==null?void 0:n[I.field];return a.jsxs("div",{className:I.colSpan?`col-span-${I.colSpan}`:"",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:I.label}),A&&!I.readOnly?I.type==="select"?a.jsx("select",{className:"input-field",value:(d==null?void 0:d[I.field])||"",onChange:J=>L(I.field,J.target.value),children:(G=I.options)==null?void 0:G.map(J=>a.jsx("option",{value:J,children:J||"Selecteer status"},J))}):I.type==="textarea"?a.jsx("textarea",{className:"input-field h-32",value:(d==null?void 0:d[I.field])||"",onChange:J=>L(I.field,J.target.value)}):a.jsx("input",{type:I.type||"text",className:"input-field",value:I.type==="date"&&(d!=null&&d[I.field])?d[I.field].split("T")[0]:(d==null?void 0:d[I.field])||"",onChange:J=>L(I.field,J.target.value)}):a.jsx("div",{className:`input-field ${I.type==="textarea"?"h-32 overflow-y-auto":""}`,children:I.type==="date"&&H?new Date(H).toLocaleDateString("nl-NL"):I.field==="status"&&H?a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${W(H)}`,children:H}):H||"-"})]},I.field)})}),((B=n==null?void 0:n.status)==null?void 0:B.toLowerCase())==="levering"&&a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"🚚 Levering Proces"}),a.jsx(EY,{project:n,onStatusChange:k})]})]}),i==="verdelers"&&a.jsx(OU,{projectData:n,onVerdelersChange:R,onNext:()=>{},onBack:()=>{},hideNavigation:!0}),i==="documents"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg text-gradient mb-6",children:"Project documenten"}),a.jsx(SY,{project:n})]}),i==="intake"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg text-gradient mb-6",children:"Intake Formulier"}),n.intake_form?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Kast Specificaties"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Merk"}),a.jsx("p",{className:"input-field",children:n.intake_form.merk||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Uitvoering"}),a.jsx("p",{className:"input-field",children:n.intake_form.uitvoering||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Breedte (cm)"}),a.jsx("p",{className:"input-field",children:n.intake_form.breedte||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Hoogte (cm)"}),a.jsx("p",{className:"input-field",children:n.intake_form.hoogte||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Diepte (cm)"}),a.jsx("p",{className:"input-field",children:n.intake_form.diepte||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"IP Klasse"}),a.jsx("p",{className:"input-field",children:n.intake_form.ipKlasse||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Amperage"}),a.jsx("p",{className:"input-field",children:n.intake_form.amperage||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Hoofdschakelaar"}),a.jsx("p",{className:"input-field",children:n.intake_form.hoofdschakelaar1||"-"})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-4",children:"Kabel Configuratie"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Inkomende kabel"}),a.jsx("p",{className:"input-field",children:n.intake_form.inkomendeKabel||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Afgaande kabels"}),a.jsx("p",{className:"input-field",children:n.intake_form.afgaandeKabels||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Wartels"}),a.jsx("p",{className:"input-field",children:n.intake_form.wartels?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Draai"}),a.jsx("p",{className:"input-field",children:n.intake_form.draai?"Ja":"Nee"})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"Extra Opties"}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Meterbord"}),a.jsx("p",{className:"input-field",children:n.intake_form.meterbord?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"PV Groepen"}),a.jsx("p",{className:"input-field",children:n.intake_form.pvGroepen?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"PV Subsidie"}),a.jsx("p",{className:"input-field",children:n.intake_form.pvSubsidie?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"PV Meettrafo"}),a.jsx("p",{className:"input-field",children:n.intake_form.pvMeettrafo?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Totaal Meting"}),a.jsx("p",{className:"input-field",children:n.intake_form.totaalMeting?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Laadpaal Groepen"}),a.jsx("p",{className:"input-field",children:n.intake_form.laadpaalGroepen?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Laadpaal Afschakeling"}),a.jsx("p",{className:"input-field",children:n.intake_form.laadpaalAfschakeling?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Uitbedraden op klemmen"}),a.jsx("p",{className:"input-field",children:n.intake_form.uitbedradenOpKlemmen?"Ja":"Nee"})]})]})]}),n.intake_form.afgaandeVelden1&&n.intake_form.afgaandeVelden1.some(I=>I.aantal)&&a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-orange-400 mb-4",children:"Afgaande Velden 1"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Aantal"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Type"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Amp"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Aut"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"MA"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Imp"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Mag"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"ALA"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"ALS"})]})}),a.jsx("tbody",{children:n.intake_form.afgaandeVelden1.map((I,H)=>I.aantal?a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"p-2",children:I.aantal}),a.jsx("td",{className:"p-2",children:I.type}),a.jsx("td",{className:"p-2",children:I.amp}),a.jsx("td",{className:"p-2",children:I.aut}),a.jsx("td",{className:"p-2",children:I.ma}),a.jsx("td",{className:"p-2",children:I.imp}),a.jsx("td",{className:"p-2",children:I.mag}),a.jsx("td",{className:"p-2",children:I.ala?"Ja":"Nee"}),a.jsx("td",{className:"p-2",children:I.als?"Ja":"Nee"})]},H):null)})]})})]}),n.intake_form.afgaandeVelden2&&n.intake_form.afgaandeVelden2.some(I=>I.aantal)&&a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-orange-400 mb-4",children:"Afgaande Velden 2"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Aantal"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Type"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Amp"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Aut"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"MA"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Imp"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Mag"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"ALA"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"ALS"})]})}),a.jsx("tbody",{children:n.intake_form.afgaandeVelden2.map((I,H)=>I.aantal?a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"p-2",children:I.aantal}),a.jsx("td",{className:"p-2",children:I.type}),a.jsx("td",{className:"p-2",children:I.amp}),a.jsx("td",{className:"p-2",children:I.aut}),a.jsx("td",{className:"p-2",children:I.ma}),a.jsx("td",{className:"p-2",children:I.imp}),a.jsx("td",{className:"p-2",children:I.mag}),a.jsx("td",{className:"p-2",children:I.ala?"Ja":"Nee"}),a.jsx("td",{className:"p-2",children:I.als?"Ja":"Nee"})]},H):null)})]})})]}),n.intake_form.opmerkingen&&a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-400 mb-4",children:"Opmerkingen"}),a.jsx("p",{className:"input-field h-32 overflow-y-auto whitespace-pre-wrap",children:n.intake_form.opmerkingen})]})]}):a.jsx("div",{className:"bg-[#2A303C] p-8 rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx(ei,{size:32,className:"text-gray-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Geen Intake Formulier"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Er is geen intake formulier beschikbaar voor dit project."}),a.jsx("p",{className:"text-sm text-gray-500",children:"Het intake formulier wordt automatisch opgeslagen wanneer een project wordt aangemaakt via het formulier."})]})]})})]}),i==="productie"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg text-gradient mb-6",children:"Productie Tracking"}),a.jsx(FY,{project:n})]})]}),b&&a.jsx(aL,{project:n,onApprove:D,onDecline:S,onCancel:O,currentUser:m})]}):a.jsx("div",{className:"min-h-screen p-8",children:a.jsxs("div",{className:"card p-6",children:[a.jsx("h1",{className:"text-2xl mb-4",children:"Project niet gevonden"}),a.jsx("button",{onClick:()=>t("/projects"),className:"btn-primary",children:"Terug naar projecten"})]})})},IY=()=>{const e=_s(),{currentUser:t}=ai(),[r,n]=$.useState([]),[s,i]=$.useState(""),[o,c]=$.useState(!0);$.useEffect(()=>{l()},[]);const l=async()=>{try{c(!0);let f=await $e.getDistributors()||[];if(console.log("🌍 VERDELERS: Raw distributors loaded:",f.length),console.log("🌍 VERDELERS: Current user:",t==null?void 0:t.username,"Assigned locations:",t==null?void 0:t.assignedLocations),(t==null?void 0:t.role)==="tester"){const h=f.length;f=f.filter(p=>{var v;const m=(v=p.projects)==null?void 0:v.status,x=(m==null?void 0:m.toLowerCase())==="testen";return console.log(x?`🧪 TESTER FILTER: Showing distributor ${p.distributor_id} (project status: ${m}) to tester ${t.username} - IN TESTING PHASE`:`🧪 TESTER FILTER: Hiding distributor ${p.distributor_id} (project status: ${m}) from tester ${t.username} - NOT IN TESTING PHASE`),x}),console.log(`🧪 TESTER FILTER: Filtered ${h} distributors down to ${f.length} for tester ${t.username}`)}if(t!=null&&t.assignedLocations&&t.assignedLocations.length>0)if(t.assignedLocations.length<ss.length){const h=f.length;f=f.filter(p=>{var v;const m=(v=p.projects)==null?void 0:v.location,x=m?t.assignedLocations.includes(m):!0;return x||console.log(`🌍 VERDELERS FILTER: Hiding distributor ${p.distributor_id} (project location: ${m}) from user ${t.username} - NO ACCESS`),x}),console.log(`🌍 VERDELERS FILTER: Filtered ${h} distributors down to ${f.length} for user ${t.username}`)}else console.log(`🌍 VERDELERS FILTER: User ${t.username} has access to all locations - showing all distributors`);else console.log(`🌍 VERDELERS FILTER: User ${t==null?void 0:t.username} has no location restrictions - showing all distributors`);n(f)}catch(d){console.error("Error loading distributors:",d),ge.error(d.message||"Er is een fout opgetreden bij het laden van de verdelers")}finally{c(!1)}},A=r.filter(d=>{var f,h,p;return d.distributor_id.toLowerCase().includes(s.toLowerCase())||((f=d.kast_naam)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))||((p=(h=d.projects)==null?void 0:h.project_number)==null?void 0:p.includes(s))}),u=async d=>{if(r.find(h=>h.id===d)&&window.confirm("Weet je zeker dat je deze verdeler wilt verwijderen?"))try{await $e.deleteDistributor(d),n(r.filter(h=>h.id!==d)),ge.success("Verdeler succesvol verwijderd!")}catch(h){console.error("Error deleting distributor:",h),ge.error("Er is een fout opgetreden bij het verwijderen van de verdeler")}};return o?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Verdelers laden..."})]})})}):a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Verdelers overzicht"}),a.jsx("p",{className:"text-gray-400",children:"Beheer al je verdelers op één plek"})]}),a.jsxs("button",{onClick:()=>e("/create-distributor"),className:"btn-primary flex items-center space-x-2",children:[a.jsx(Ss,{size:20}),a.jsx("span",{children:"Verdeler toevoegen"})]})]})}),a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Zoeken op verdeler ID, kastnaam of projectnummer...",className:"input-field pl-10",value:s,onChange:d=>i(d.target.value)})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"overflow-x-auto max-h-[70vh] overflow-y-auto pr-4",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"table-header text-left",children:"Verdeler ID"}),a.jsx("th",{className:"table-header text-left",children:"Kastnaam"}),a.jsx("th",{className:"table-header text-left",children:"Projectnummer"}),a.jsx("th",{className:"table-header text-left",children:"Klant"}),a.jsx("th",{className:"table-header text-right",children:"Acties"})]})}),a.jsx("tbody",{children:A.map(d=>{var f,h;return a.jsxs("tr",{className:"table-row cursor-pointer",onClick:()=>e(`/verdelers/${d.id}`),children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"font-medium text-green-400",children:d.distributor_id})]})}),a.jsx("td",{className:"py-4 text-gray-300",children:d.kast_naam||"-"}),a.jsx("td",{className:"py-4 text-gray-300",children:((f=d.projects)==null?void 0:f.project_number)||"-"}),a.jsx("td",{className:"py-4 text-gray-300",children:((h=d.projects)==null?void 0:h.client)||"-"}),a.jsx("td",{className:"py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:p=>{p.stopPropagation(),e(`/verdelers/${d.id}`)},className:"p-2 bg-[#2A303C] hover:bg-green-500/20 rounded-lg transition-colors group",title:"Openen",children:a.jsx(qa,{size:16,className:"text-gray-400 group-hover:text-green-400"})}),a.jsx("button",{onClick:p=>{p.stopPropagation(),u(d.id)},className:"p-2 bg-[#2A303C] hover:bg-red-500/20 rounded-lg transition-colors group",title:"Verwijderen",children:a.jsx(Zr,{size:16,className:"text-gray-400 group-hover:text-red-400"})})]})})]},d.id)})})]}),A.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Or,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Geen verdelers gevonden"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Probeer een andere zoekterm of voeg een nieuwe verdeler toe"})]})]})})]})},OY=({testData:e,verdeler:t,projectNumber:r})=>{if(!e)return a.jsx("div",{className:"p-4 bg-white text-black",children:a.jsx("p",{className:"text-center",children:"Geen testgegevens beschikbaar voor deze verdeler"})});const n=()=>{if(!e.workshopChecklist)return a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600",children:"Geen werkplaats checklist beschikbaar"})});const{workshopChecklist:l}=e;return a.jsxs("div",{className:"space-y-6 p-8 bg-white text-black",children:[a.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Werkplaats Checklist"}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Datum: ",l.date?new Date(l.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Uitgevoerd door: ",l.testedBy||"-"]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:l.items&&l.items.map(A=>a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("td",{className:"p-2",children:A.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:A.passed===!0?"✓":A.passed===!1?"✗":A.passed==="nvt"?"N.v.t.":"?"})}),a.jsx("td",{className:"p-2",children:A.notes||"-"})]},A.id))})]})]})},s=()=>{var A,u,d,f;if(!e.factoryTest)return a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600",children:"Geen factory acceptance test beschikbaar"})});const{factoryTest:l}=e;return a.jsxs("div",{className:"space-y-6 p-8 bg-white text-black",children:[a.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Factory Acceptance Test (FAT)"}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Datum: ",l.date?new Date(l.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Uitgevoerd door: ",l.testedBy||"-"]})]})]}),a.jsxs("div",{className:"bg-white p-4 border border-gray-300 mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Meetwaarden"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Isolatieweerstand (MΩ)"}),a.jsx("p",{children:((A=l.measurements)==null?void 0:A.isolationResistance)||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Doorgangstest (Ω)"}),a.jsx("p",{children:((u=l.measurements)==null?void 0:u.continuityTest)||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Functionele test (V)"}),a.jsx("p",{children:((d=l.measurements)==null?void 0:d.functionalTest)||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Spanningstest (V)"}),a.jsx("p",{children:((f=l.measurements)==null?void 0:f.voltageTest)||"-"})]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Test"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:l.items&&l.items.map(h=>a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("td",{className:"p-2",children:h.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:h.passed===!0?"✓":h.passed===!1?"✗":h.passed==="nvt"?"N.v.t.":"?"})}),a.jsx("td",{className:"p-2",children:h.notes||"-"})]},h.id))})]})]})},i=()=>{if(!e.highVoltageTest)return null;const{highVoltageTest:l}=e;return a.jsxs("div",{className:"space-y-6 p-8 bg-white text-black",children:[a.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Hoogspanning Test"}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Datum: ",l.date?new Date(l.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Uitgevoerd door: ",l.testedBy||"-"]})]})]}),a.jsxs("div",{className:"bg-white p-4 border border-gray-300 mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Test Parameters"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Testspanning (V)"}),a.jsx("p",{children:l.testVoltage||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Test duur (minuten)"}),a.jsx("p",{children:l.testDuration||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Omgevingstemperatuur (°C)"}),a.jsx("p",{children:l.ambientTemperature||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Luchtvochtigheid (%)"}),a.jsx("p",{children:l.humidity||"-"})]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:l.items&&l.items.map(A=>a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("td",{className:"p-2",children:A.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:A.passed===!0?"✓":A.passed===!1?"✗":A.passed==="nvt"?"N.v.t.":"?"})}),a.jsx("td",{className:"p-2",children:A.notes||"-"})]},A.id))})]})]})},o=()=>{if(!e.onSiteTest)return null;const{onSiteTest:l}=e;return a.jsxs("div",{className:"space-y-6 p-8 bg-white text-black",children:[a.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Test op Locatie"}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Datum: ",l.date?new Date(l.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Uitgevoerd door: ",l.testedBy||"-"]})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("p",{children:["Locatie: ",l.location||"-"]})})]}),a.jsxs("div",{className:"bg-white p-4 border border-gray-300 mb-4",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Transport en Herinstallatie"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Transportschade geconstateerd?"}),a.jsx("p",{children:l.transportDamage?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Hermontage vereist?"}),a.jsx("p",{children:l.reassemblyRequired?"Ja":"Nee"})]})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:l.items&&l.items.map(A=>a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("td",{className:"p-2",children:A.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:A.passed===!0?"✓":A.passed===!1?"✗":A.passed==="nvt"?"N.v.t.":"?"})}),a.jsx("td",{className:"p-2",children:A.notes||"-"})]},A.id))})]})]})},c=()=>{if(!e.inspectionReport)return a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600",children:"Geen keuringsrapport beschikbaar"})});const{inspectionReport:l}=e;return a.jsxs("div",{className:"space-y-6 p-8 bg-white text-black",children:[a.jsxs("div",{className:"border-b border-gray-300 pb-4 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Keuringsrapport"}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2",children:[a.jsxs("p",{children:["Datum: ",l.date?new Date(l.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Geïnspecteerd door: ",l.inspectedBy||"-"]})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("p",{children:["Goedgekeurd door: ",l.approvedBy||"-"]})})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:l.items&&l.items.map(A=>a.jsxs("tr",{className:"border-b border-gray-300",children:[a.jsx("td",{className:"p-2",children:A.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:A.passed===!0?"✓":A.passed===!1?"✗":A.passed==="nvt"?"N.v.t.":"?"})}),a.jsx("td",{className:"p-2",children:A.notes||"-"})]},A.id))})]}),a.jsxs("div",{className:"bg-white p-4 border border-gray-300",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Eindresultaat"}),a.jsx("div",{children:l.result==="approved"?"Goedgekeurd":l.result==="conditionallyApproved"?"Voorwaardelijk goedgekeurd":l.result==="rejected"?"Afgekeurd":"Onbekend"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-2",children:"Opmerkingen"}),a.jsx("p",{className:"whitespace-pre-wrap",children:l.notes||"-"})]})]})]})};return a.jsxs("div",{className:"bg-white text-black",children:[a.jsxs("div",{className:"print:block",children:[n(),a.jsx("div",{className:"page-break"}),s(),a.jsx("div",{className:"page-break"}),c(),e.highVoltageTest&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"page-break"}),i()]}),e.onSiteTest&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"page-break"}),o()]})]}),a.jsx("style",{jsx:!0,global:!0,children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:block {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
          .page-break {
            page-break-after: always;
          }
        }
      `})]})},TY=({testData:e,verdeler:t,projectNumber:r})=>{const[n,s]=$.useState("checklist");if(!e)return a.jsx("div",{className:"p-4 bg-[#1E2530] rounded-lg text-center",children:a.jsx("p",{className:"text-gray-400",children:"Geen testgegevens beschikbaar voor deze verdeler"})});const i=()=>{window.print()},o=h=>h===!0?a.jsx(Ti,{className:"text-green-500"}):h===!1?a.jsx(gt,{className:"text-red-500"}):h==="nvt"?a.jsx("span",{className:"text-yellow-500 text-xs font-bold",children:"N.v.t."}):a.jsx(Qi,{className:"text-yellow-500"}),c=h=>h==="approved"?a.jsx("span",{className:"px-3 py-1 bg-green-600 text-white rounded-full",children:"Goedgekeurd"}):h==="conditionallyApproved"?a.jsx("span",{className:"px-3 py-1 bg-yellow-600 text-white rounded-full",children:"Voorwaardelijk goedgekeurd"}):h==="rejected"?a.jsx("span",{className:"px-3 py-1 bg-red-600 text-white rounded-full",children:"Afgekeurd"}):a.jsx("span",{className:"px-3 py-1 bg-gray-600 text-white rounded-full",children:"Onbekend"}),l=()=>{if(!e.workshopChecklist)return a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"Geen werkplaats checklist beschikbaar"})});const{workshopChecklist:h}=e;return a.jsxs("div",{className:"space-y-6 print:p-8",children:[a.jsxs("div",{className:"print:border-b print:border-gray-300 print:pb-4 print:mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400 print:text-black",children:"Werkplaats Checklist"}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Datum: ",h.date?new Date(h.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Uitgevoerd door: ",h.testedBy||"-"]})]})]}),a.jsxs("table",{className:"w-full print:text-black",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:h.items&&h.items.map(p=>a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("td",{className:"p-2",children:p.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:o(p.passed)})}),a.jsx("td",{className:"p-2",children:p.notes||"-"})]},p.id))})]})]})},A=()=>{var p,m,x,v;if(!e.factoryTest)return a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"Geen factory acceptance test beschikbaar"})});const{factoryTest:h}=e;return a.jsxs("div",{className:"space-y-6 print:p-8",children:[a.jsxs("div",{className:"print:border-b print:border-gray-300 print:pb-4 print:mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400 print:text-black",children:"Factory Acceptance Test (FAT)"}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Datum: ",h.date?new Date(h.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Uitgevoerd door: ",h.testedBy||"-"]})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4 print:bg-white print:p-0 print:border print:border-gray-300 print:rounded-none",children:[a.jsx("h3",{className:"font-medium mb-3 print:text-black",children:"Meetwaarden"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 print:text-black",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Isolatieweerstand (MΩ)"}),a.jsx("p",{children:((p=h.measurements)==null?void 0:p.isolationResistance)||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Doorgangstest (Ω)"}),a.jsx("p",{children:((m=h.measurements)==null?void 0:m.continuityTest)||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Functionele test (V)"}),a.jsx("p",{children:((x=h.measurements)==null?void 0:x.functionalTest)||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Spanningstest (V)"}),a.jsx("p",{children:((v=h.measurements)==null?void 0:v.voltageTest)||"-"})]})]})]}),a.jsxs("table",{className:"w-full print:text-black",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Test"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:h.items&&h.items.map(y=>a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("td",{className:"p-2",children:y.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:o(y.passed)})}),a.jsx("td",{className:"p-2",children:y.notes||"-"})]},y.id))})]})]})},u=()=>{if(!e.highVoltageTest)return a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"Geen hoogspanning test beschikbaar"})});const{highVoltageTest:h}=e;return a.jsxs("div",{className:"space-y-6 print:p-8",children:[a.jsxs("div",{className:"print:border-b print:border-gray-300 print:pb-4 print:mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400 print:text-black",children:"Hoogspanning Test"}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Datum: ",h.date?new Date(h.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Uitgevoerd door: ",h.testedBy||"-"]})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4 print:bg-white print:p-0 print:border print:border-gray-300 print:rounded-none",children:[a.jsx("h3",{className:"font-medium mb-3 print:text-black",children:"Test Parameters"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 print:text-black",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Testspanning (V)"}),a.jsx("p",{children:h.testVoltage||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Test duur (minuten)"}),a.jsx("p",{children:h.testDuration||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Omgevingstemperatuur (°C)"}),a.jsx("p",{children:h.ambientTemperature||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Luchtvochtigheid (%)"}),a.jsx("p",{children:h.humidity||"-"})]})]})]}),a.jsxs("table",{className:"w-full print:text-black",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:h.items&&h.items.map(p=>a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("td",{className:"p-2",children:p.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:o(p.passed)})}),a.jsx("td",{className:"p-2",children:p.notes||"-"})]},p.id))})]})]})},d=()=>{if(!e.onSiteTest)return a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"Geen test op locatie beschikbaar"})});const{onSiteTest:h}=e;return a.jsxs("div",{className:"space-y-6 print:p-8",children:[a.jsxs("div",{className:"print:border-b print:border-gray-300 print:pb-4 print:mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400 print:text-black",children:"Test op Locatie"}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Datum: ",h.date?new Date(h.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Uitgevoerd door: ",h.testedBy||"-"]})]}),a.jsx("div",{className:"mt-2 print:text-black",children:a.jsxs("p",{children:["Locatie: ",h.location||"-"]})})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg mb-4 print:bg-white print:p-0 print:border print:border-gray-300 print:rounded-none",children:[a.jsx("h3",{className:"font-medium mb-3 print:text-black",children:"Transport en Herinstallatie"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 print:text-black",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Transportschade geconstateerd?"}),a.jsx("p",{children:h.transportDamage?"Ja":"Nee"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Hermontage vereist?"}),a.jsx("p",{children:h.reassemblyRequired?"Ja":"Nee"})]})]})]}),a.jsxs("table",{className:"w-full print:text-black",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:h.items&&h.items.map(p=>a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("td",{className:"p-2",children:p.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:o(p.passed)})}),a.jsx("td",{className:"p-2",children:p.notes||"-"})]},p.id))})]})]})},f=()=>{if(!e.inspectionReport)return a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"Geen keuringsrapport beschikbaar"})});const{inspectionReport:h}=e;return a.jsxs("div",{className:"space-y-6 print:p-8",children:[a.jsxs("div",{className:"print:border-b print:border-gray-300 print:pb-4 print:mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400 print:text-black",children:"Keuringsrapport"}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Verdeler: ",t.distributorId," - ",t.kastNaam||"Naamloos"]}),a.jsxs("p",{children:["Project: ",r]})]}),a.jsxs("div",{className:"flex justify-between mt-2 print:text-black",children:[a.jsxs("p",{children:["Datum: ",h.date?new Date(h.date).toLocaleDateString("nl-NL"):"-"]}),a.jsxs("p",{children:["Geïnspecteerd door: ",h.inspectedBy||"-"]})]}),a.jsx("div",{className:"mt-2 print:text-black",children:a.jsxs("p",{children:["Goedgekeurd door: ",h.approvedBy||"-"]})})]}),a.jsxs("table",{className:"w-full print:text-black",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("th",{className:"text-left p-2",children:"Controle"}),a.jsx("th",{className:"text-center w-24 p-2",children:"Status"}),a.jsx("th",{className:"text-left p-2",children:"Opmerkingen"})]})}),a.jsx("tbody",{children:h.items&&h.items.map(p=>a.jsxs("tr",{className:"border-b border-gray-700 print:border-gray-300",children:[a.jsx("td",{className:"p-2",children:p.description}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("div",{className:"flex justify-center",children:o(p.passed)})}),a.jsx("td",{className:"p-2",children:p.notes||"-"})]},p.id))})]}),a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg print:bg-white print:p-0 print:border print:border-gray-300 print:rounded-none",children:[a.jsxs("div",{className:"mb-4 print:text-black",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Eindresultaat"}),a.jsx("div",{children:c(h.result)})]}),a.jsxs("div",{className:"print:text-black",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Opmerkingen"}),a.jsx("p",{className:"whitespace-pre-wrap",children:h.notes||"-"})]})]})]})};return a.jsxs("div",{className:"bg-[#1E2530] rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-blue-400",children:["Testrapport: ",t.distributorId]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:i,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(mj,{size:16}),a.jsx("span",{children:"Afdrukken"})]})})]}),a.jsx("div",{className:"mb-6 print:hidden",children:a.jsxs("div",{className:"flex border-b border-gray-700",children:[a.jsx("button",{className:`px-4 py-2 ${n==="checklist"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400"}`,onClick:()=>s("checklist"),children:"Werkplaats Checklist"}),a.jsx("button",{className:`px-4 py-2 ${n==="fat"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400"}`,onClick:()=>s("fat"),children:"Factory Acceptance Test"}),e.highVoltageTest&&a.jsx("button",{className:`px-4 py-2 ${n==="hvt"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400"}`,onClick:()=>s("hvt"),children:"Hoogspanning Test"}),e.onSiteTest&&a.jsx("button",{className:`px-4 py-2 ${n==="onsite"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400"}`,onClick:()=>s("onsite"),children:"Test op Locatie"}),a.jsx("button",{className:`px-4 py-2 ${n==="report"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400"}`,onClick:()=>s("report"),children:"Keuringsrapport"})]})}),a.jsxs("div",{className:"print:hidden",children:[n==="checklist"&&l(),n==="fat"&&A(),n==="hvt"&&u(),n==="onsite"&&d(),n==="report"&&f()]}),a.jsx("div",{className:"hidden",children:a.jsx(OY,{testData:e,verdeler:t,projectNumber:r})}),a.jsx("style",{jsx:!0,global:!0,children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:block {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
          .page-break {
            page-break-after: always;
          }
        }
      `})]})},LY=["Verdeler aanzicht","Test certificaat","Algemene informatie","Installatie schema","Onderdelen","Handleidingen","Documentatie","Oplever foto's"],UY=({distributor:e})=>{const[t,r]=$.useState(null),n=()=>{const s=[`${e.distributor_id} - ${e.kast_naam||"Naamloos"}`];return t&&s.push(t),s.join(" / ")};return a.jsxs("div",{className:"flex gap-6 h-[600px]",children:[a.jsxs("div",{className:"w-80 bg-[#2A303C] rounded-lg p-4 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-4 uppercase tracking-wide",children:"Document Explorer"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-green-500/20 text-green-400",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12l4-4m-4 4l4 4"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:e.distributor_id}),e.kast_naam&&a.jsx("div",{className:"text-xs opacity-75 truncate",children:e.kast_naam})]})]}),a.jsx("div",{className:"ml-4 space-y-1",children:LY.map(s=>a.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${t===s?"bg-gradient-to-r from-purple-600 to-purple-400 text-white":"hover:bg-[#1E2530] text-gray-300 hover:text-white"}`,onClick:()=>r(s),children:[a.jsx("svg",{className:"w-3 h-3 mr-2 flex-shrink-0 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-5l-2-2H5a2 2 0 00-2 2z"})}),a.jsx("span",{className:"text-xs truncate",children:s})]},s))})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:t?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-4",children:[a.jsx("span",{children:"Locatie:"}),a.jsx("div",{className:"flex items-center space-x-2",children:n().split(" / ").map((s,i,o)=>a.jsxs(fe.Fragment,{children:[a.jsx("span",{className:"text-blue-400",children:s}),i<o.length-1&&a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},i))})]}),a.jsx(eC,{projectId:e.project_id,distributorId:e.id,folder:t})]}):a.jsx("div",{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-5l-2-2H5a2 2 0 00-2 2z"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Selecteer een map"}),a.jsx("p",{className:"text-gray-400",children:"Kies een map uit de lijst om documenten te bekijken"})]})})})]})},DY=()=>{var B,I,H;const{id:e}=jy(),t=_s(),r=Vo(),{hasPermission:n}=ai(),[s,i]=$.useState(null),[o,c]=$.useState("details"),[l,A]=$.useState(!0),[u,d]=$.useState(!1),[f,h]=$.useState(null),[p,m]=$.useState(!1),[x,v]=$.useState(!1),[y,b]=$.useState([]),[_,N]=$.useState({code:"",expiresAt:"",maxUses:"",isActive:!0}),[P,T]=$.useState(null);$.useEffect(()=>{e&&(z(),j())},[e]),$.useEffect(()=>{s&&E()},[s]);const j=async()=>{try{const G=JSON.parse(localStorage.getItem("users")||"[]");b(G);try{const J=await $e.getUsers();b(J)}catch(J){console.log("Database sync failed, using localStorage only:",J)}}catch(G){console.error("Error loading users:",G)}},k=G=>{if(console.log("🔍 VERDELER DETAILS: Getting montage users for location:",G),console.log("🔍 VERDELER DETAILS: Total users loaded:",y.length),!y||y.length===0)return console.log("❌ VERDELER DETAILS: No users loaded yet"),{primary:[],other:[]};const J=y.filter(se=>{const we=se.role==="montage";return console.log(`🔍 VERDELER DETAILS: User ${se.username} - role: ${se.role}, isMontage: ${we}`),we});if(console.log("🔍 VERDELER DETAILS: Found montage users:",J.length),!G)return{primary:J,other:[]};const ie=J.filter(se=>{const we=!se.assignedLocations||se.assignedLocations.length===0||se.assignedLocations.length===ss.length||se.assignedLocations.includes(G);return console.log(`🔍 VERDELER DETAILS: User ${se.username} location access for ${G}:`,we),we}),Ae=J.filter(se=>se.assignedLocations&&se.assignedLocations.length>0&&se.assignedLocations.length<ss.length&&!se.assignedLocations.includes(G));return console.log("🔍 VERDELER DETAILS: Primary users:",ie.length,"Other users:",Ae.length),{primary:ie,other:Ae}},z=async()=>{try{A(!0);const J=(await $e.getDistributors()).find(ie=>ie.id===e);i(J||null),h(J||null)}catch(G){console.error("Error loading distributor:",G),ge.error("Er is een fout opgetreden bij het laden van de verdeler")}finally{A(!1)}},E=()=>{if(s!=null&&s.distributor_id)try{const G=localStorage.getItem(`verdeler_test_${s.distributor_id}`),J=localStorage.getItem(`fat_test_${s.distributor_id}`),ie=localStorage.getItem(`hv_test_${s.distributor_id}`),Ae=localStorage.getItem(`onsite_test_${s.distributor_id}`);let se={};if(G){const we=JSON.parse(G);se={...se,...we}}if(J){const we=JSON.parse(J);se={...se,...we}}if(ie){const we=JSON.parse(ie);se={...se,...we}}if(Ae){const we=JSON.parse(Ae);se={...se,...we}}Object.keys(se).length>0&&T(se)}catch(G){console.error("Error loading test data:",G)}},C=()=>{let G="";for(let J=0;J<5;J++)G+=Math.floor(Math.random()*10).toString();return G},Q=()=>{const G=new Date;return G.setDate(G.getDate()+1),G.toISOString().slice(0,16)},L=()=>{if(!n("access_codes","create")){ge.error("Je hebt geen toestemming om toegangscodes aan te maken");return}N({code:C(),expiresAt:Q(),maxUses:"",isActive:!0}),m(!0)},D=async()=>{var G;if(!_.code||!_.expiresAt){ge.error("Vul alle verplichte velden in!");return}if(!/^\d{5}$/.test(_.code)){ge.error("Toegangscode moet precies 5 cijfers bevatten!");return}try{v(!0);const J=localStorage.getItem("currentUserId"),Ae=JSON.parse(localStorage.getItem("users")||"[]").find(we=>we.id===J),se={code:_.code.toUpperCase(),createdBy:(Ae==null?void 0:Ae.username)||"Unknown",expiresAt:_.expiresAt,isActive:_.isActive,maxUses:_.maxUses?parseInt(_.maxUses):null,verdeler_id:s.distributor_id,project_number:((G=s.projects)==null?void 0:G.project_number)||""};await $e.createAccessCode(se),m(!1),N({code:"",expiresAt:"",maxUses:"",isActive:!0}),ge.success("Toegangscode succesvol aangemaakt!")}catch(J){console.error("Error creating access code:",J),ge.error("Er is een fout opgetreden bij het aanmaken van de toegangscode")}finally{v(!1)}},S=G=>{navigator.clipboard.writeText(G),ge.success("Code gekopieerd naar klembord!")},O=()=>{if(!n("verdelers","update")){ge.error("Je hebt geen toestemming om verdelers te bewerken");return}d(!0),h({...s})},R=()=>{d(!1),h({...s})},W=async()=>{if(f){if(!n("verdelers","update")){ge.error("Je hebt geen toestemming om verdelers bij te werken");return}try{console.log("Saving distributor with data:",f);const G={distributorId:f.distributor_id,projectId:f.project_id,kastNaam:f.kast_naam,systeem:f.systeem,voeding:f.voeding,bouwjaar:f.bouwjaar,keuringDatum:f.keuring_datum,getestDoor:f.getest_door,unInV:f.un_in_v,inInA:f.in_in_a,ikThInKA1s:f.ik_th_in_ka1s,ikDynInKA:f.ik_dyn_in_ka,freqInHz:f.freq_in_hz,typeNrHs:f.type_nr_hs,fabrikant:f.fabrikant,profilePhoto:f.profile_photo,status:f.status,...f.toegewezen_monteur!==void 0&&{toegewezenMonteur:f.toegewezen_monteur},...f.gewenste_lever_datum!==void 0&&{gewensteLeverDatum:f.gewenste_lever_datum}};console.log("Update data being sent:",G),await $e.updateDistributor(f.id,G),i(f),d(!1),ge.success("Verdeler gegevens opgeslagen!")}catch(G){console.error("Error saving distributor:",G),ge.error("Er is een fout opgetreden bij het opslaan van de verdeler")}}},M=(G,J)=>{console.log("Input change:",G,J),h({...f,[G]:J})},q=()=>{var J;(r.pathname.includes("/project/")||((J=r.state)==null?void 0:J.fromProject))&&(s!=null&&s.project_id)?t(`/project/${s.project_id}`):t("/verdelers")};return l?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Verdeler laden..."})]})})}):s?a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:q,className:"btn-secondary p-2",children:a.jsx(bT,{size:20})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Verdeler details"}),a.jsxs("p",{className:"text-gray-400",children:[s.distributor_id," - ",s.kast_naam||"Naamloos"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:L,className:"btn-secondary flex items-center space-x-2",title:"Genereer toegangscode voor deze verdeler",children:[a.jsx(_i,{size:20}),a.jsx("span",{children:"Toegangscode"})]}),o==="details"&&a.jsx(a.Fragment,{children:u?a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:R,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(gt,{size:20}),a.jsx("span",{children:"Annuleren"})]}),a.jsxs("button",{onClick:W,className:"btn-primary flex items-center space-x-2",children:[a.jsx(BA,{size:20}),a.jsx("span",{children:"Opslaan"})]})]}):a.jsxs("button",{onClick:O,className:"btn-primary flex items-center space-x-2",children:[a.jsx(Ny,{size:20}),a.jsx("span",{children:"Bewerken"})]})})]})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"card p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Toegangscode genereren"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[#2A303C] p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-400 mb-2",children:"Voor verdeler"}),a.jsxs("p",{className:"text-white",children:[s.distributor_id," - ",s.kast_naam||"Naamloos"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Project: ",((B=s.projects)==null?void 0:B.project_number)||"Onbekend"]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Toegangscode ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",className:"input-field flex-1",value:_.code,onChange:G=>{const J=G.target.value.replace(/\D/g,"").slice(0,5);N({..._,code:J})},placeholder:"12345",maxLength:5,required:!0}),a.jsxs("button",{type:"button",onClick:()=>N({..._,code:C()}),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(_i,{size:16}),a.jsx("span",{children:"Nieuw"})]}),a.jsx("button",{type:"button",onClick:()=>S(_.code),className:"btn-secondary p-2",disabled:!_.code,children:a.jsx(pA,{size:16})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Precies 5 cijfers (0-9)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Vervaldatum ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"datetime-local",className:"input-field",value:_.expiresAt,onChange:G=>N({..._,expiresAt:G.target.value}),min:new Date().toISOString().slice(0,16),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Maximum aantal keer gebruiken"}),a.jsx("input",{type:"number",className:"input-field",value:_.maxUses,onChange:G=>N({..._,maxUses:G.target.value}),placeholder:"Onbeperkt (laat leeg)",min:"1"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laat leeg voor onbeperkt gebruik"})]}),a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:_.isActive,onChange:G=>N({..._,isActive:G.target.checked}),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"Direct activeren"})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[a.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",disabled:x,children:"Annuleren"}),a.jsx("button",{onClick:D,className:`btn-primary ${x?"opacity-50 cursor-not-allowed":""}`,disabled:x||!_.code||!_.expiresAt||!/^\d{5}$/.test(_.code),children:x?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Aanmaken..."})]}):"Code aanmaken"})]})]})}),a.jsx("div",{className:"card p-4 mb-8",children:a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>c("details"),className:`px-4 py-2 rounded-lg transition ${o==="details"?"bg-[#4169e1] text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Details"}),a.jsx("button",{onClick:()=>c("documents"),className:`px-4 py-2 rounded-lg transition ${o==="documents"?"bg-[#4169e1] text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Documenten"}),a.jsx("button",{onClick:()=>c("tests"),className:`px-4 py-2 rounded-lg transition ${o==="tests"?"bg-[#4169e1] text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Testrapporten"})]})}),a.jsxs("div",{className:"card p-6",children:[o==="details"&&a.jsx("div",{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Basis Informatie"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Verdeler ID"}),a.jsx("div",{className:"input-field bg-[#2A303C]/50 cursor-not-allowed",children:s.distributor_id}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Verdeler ID kan niet worden gewijzigd"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Kastnaam"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.kast_naam)||"",onChange:G=>M("kast_naam",G.target.value),placeholder:"Voer kastnaam in"}):a.jsx("div",{className:"input-field",children:s.kast_naam||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Projectnummer"}),a.jsx("div",{className:"input-field bg-[#2A303C]/50 cursor-not-allowed",children:((I=s.projects)==null?void 0:I.project_number)||"-"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Gekoppeld aan project"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Status"}),u?a.jsxs("select",{className:"input-field",value:(f==null?void 0:f.status)||"",onChange:G=>M("status",G.target.value),children:[a.jsx("option",{value:"",children:"Selecteer status"}),a.jsx("option",{value:"In productie",children:"In productie"}),a.jsx("option",{value:"Testen",children:"Testen"}),a.jsx("option",{value:"Gereed",children:"Gereed"}),a.jsx("option",{value:"Gereed voor oplevering",children:"Gereed voor oplevering"}),a.jsx("option",{value:"Opgeleverd",children:"Opgeleverd"})]}):a.jsx("div",{className:"input-field",children:s.status||"-"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"Technische Specificaties"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Systeem"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.systeem)||"",onChange:G=>M("systeem",G.target.value),placeholder:"Bijv. 400V TN-S"}):a.jsx("div",{className:"input-field",children:s.systeem||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Voeding"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.voeding)||"",onChange:G=>M("voeding",G.target.value),placeholder:"Bijv. 3x400V + N + PE"}):a.jsx("div",{className:"input-field",children:s.voeding||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Bouwjaar"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.bouwjaar)||"",onChange:G=>M("bouwjaar",G.target.value),placeholder:"Bijv. 2025"}):a.jsx("div",{className:"input-field",children:s.bouwjaar||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Un in V"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.un_in_v)||"",onChange:G=>M("un_in_v",G.target.value),placeholder:"Bijv. 400"}):a.jsx("div",{className:"input-field",children:s.un_in_v||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"In in A"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.in_in_a)||"",onChange:G=>M("in_in_a",G.target.value),placeholder:"Bijv. 400"}):a.jsx("div",{className:"input-field",children:s.in_in_a||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Ik Th in KA 1s"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.ik_th_in_ka1s)||"",onChange:G=>M("ik_th_in_ka1s",G.target.value),placeholder:"Bijv. 25"}):a.jsx("div",{className:"input-field",children:s.ik_th_in_ka1s||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Ik Dyn in KA"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.ik_dyn_in_ka)||"",onChange:G=>M("ik_dyn_in_ka",G.target.value),placeholder:"Bijv. 65"}):a.jsx("div",{className:"input-field",children:s.ik_dyn_in_ka||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Freq. in Hz"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.freq_in_hz)||"",onChange:G=>M("freq_in_hz",G.target.value),placeholder:"Bijv. 50"}):a.jsx("div",{className:"input-field",children:s.freq_in_hz||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Type nr. HS"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.type_nr_hs)||"",onChange:G=>M("type_nr_hs",G.target.value),placeholder:"Bijv. HS-400"}):a.jsx("div",{className:"input-field",children:s.type_nr_hs||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Fabrikant"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.fabrikant)||"",onChange:G=>M("fabrikant",G.target.value),placeholder:"Bijv. Schneider Electric"}):a.jsx("div",{className:"input-field",children:s.fabrikant||"-"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-orange-400 mb-4",children:"Planning en Toewijzing"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Keuring datum"}),u?a.jsx("input",{type:"date",className:"input-field",value:f!=null&&f.keuring_datum?f.keuring_datum.split("T")[0]:"",onChange:G=>M("keuring_datum",G.target.value)}):a.jsx("div",{className:"input-field",children:s.keuring_datum?new Date(s.keuring_datum).toLocaleDateString("nl-NL"):"Niet ingesteld"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Getest door"}),u?a.jsx("input",{type:"text",className:"input-field",value:(f==null?void 0:f.getest_door)||"",onChange:G=>M("getest_door",G.target.value),placeholder:"Naam van tester"}):a.jsx("div",{className:"input-field",children:s.getest_door||"Niet ingesteld"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Toegewezen monteur"}),u?a.jsxs("select",{className:"input-field",value:(f==null?void 0:f.toegewezen_monteur)||"",onChange:G=>M("toegewezen_monteur",G.target.value),children:[a.jsx("option",{value:"",children:"Nader te bepalen"}),(()=>{var ie,Ae;const{primary:G,other:J}=k((ie=s.projects)==null?void 0:ie.location);return a.jsxs(a.Fragment,{children:[G.length>0&&a.jsx(a.Fragment,{children:a.jsx("optgroup",{label:`Primair - ${((Ae=s.projects)==null?void 0:Ae.location)||"Onbekend"}`,children:G.map(se=>a.jsx("option",{value:se.username,children:se.username},se.id))})}),J.length>0&&a.jsx("optgroup",{label:"Andere locaties",children:J.map(se=>{var we;return a.jsxs("option",{value:se.username,children:[se.username," (",((we=se.assignedLocations)==null?void 0:we.join(", "))||"Alle locaties",")"]},se.id)})}),G.length===0&&J.length===0&&a.jsx("option",{disabled:!0,children:"Geen montage medewerkers beschikbaar"})]})})()]}):a.jsx("div",{className:"input-field",children:s.toegewezen_monteur||"Nader te bepalen"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Gewenste lever datum"}),u?a.jsx("input",{type:"date",className:"input-field",value:f!=null&&f.gewenste_lever_datum?f.gewenste_lever_datum.split("T")[0]:"",onChange:G=>M("gewenste_lever_datum",G.target.value),min:new Date().toISOString().split("T")[0]}):a.jsx("div",{className:"input-field",children:s.gewenste_lever_datum?new Date(s.gewenste_lever_datum).toLocaleDateString("nl-NL"):"Niet ingesteld"})]})]})]})]})}),o==="documents"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg text-gradient mb-6",children:"Documenten"}),a.jsx(UY,{distributor:s})]}),o==="tests"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg text-gradient mb-6",children:"Testrapporten"}),P?a.jsx(TY,{testData:P,verdeler:s,projectNumber:((H=s.projects)==null?void 0:H.project_number)||""}):a.jsxs("div",{className:"bg-[#2A303C] p-6 rounded-lg text-center",children:[a.jsx("p",{className:"text-gray-400",children:"Geen testgegevens beschikbaar voor deze verdeler"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Voer eerst tests uit via de verdeler testen functionaliteit"})]})]})]})]}):a.jsx("div",{className:"min-h-screen p-8",children:a.jsxs("div",{className:"card p-6",children:[a.jsx("h1",{className:"text-2xl mb-4",children:"Verdeler niet gevonden"}),a.jsx("button",{onClick:()=>t("/verdelers"),className:"btn-primary",children:"Terug naar verdelers"})]})})},z_=["Verdeler aanzicht","Test certificaat","Algemene informatie","Installatie schema","Onderdelen","Handleidingen","Documentatie","Oplever foto's"],QY=()=>{var T,j;const[e]=yT(),{currentUser:t}=ai(),[r,n]=$.useState([]),[s,i]=$.useState(null),[o,c]=$.useState(null),[l,A]=$.useState(null),[u,d]=$.useState(""),[f,h]=$.useState(!0),[p,m]=$.useState(new Set),[x,v]=$.useState(null);$.useEffect(()=>{y();const k=e.get("projectId"),z=e.get("distributorId");k&&(i(k),m(E=>new Set([...E,k])),z&&(c(z),A("Algemene informatie")))},[]);const y=async()=>{try{h(!0),v(null);const k=new AbortController,z=setTimeout(()=>{k.abort(),v("Project loading timed out"),h(!1)},1e4),E=await $e.getProjects();clearTimeout(z);let C=E||[];if((t==null?void 0:t.role)==="tester"){const Q=C.length;C=C.filter(L=>{var S;const D=((S=L.status)==null?void 0:S.toLowerCase())==="testen";return console.log(D?`🧪 UPLOADS TESTER FILTER: Showing project ${L.project_number} (status: ${L.status}) to tester ${t.username} - IN TESTING PHASE`:`🧪 UPLOADS TESTER FILTER: Hiding project ${L.project_number} (status: ${L.status}) from tester ${t.username} - NOT IN TESTING PHASE`),D}),console.log(`🧪 UPLOADS TESTER FILTER: Filtered ${Q} projects down to ${C.length} for tester ${t.username}`)}if((t==null?void 0:t.role)==="tester"){const Q=C.length;C=C.filter(L=>{var S;const D=((S=L.status)==null?void 0:S.toLowerCase())==="testen";return console.log(D?`🧪 UPLOADS TESTER FILTER: Showing project ${L.project_number} (status: ${L.status}) to tester ${t.username} - IN TESTING PHASE`:`🧪 UPLOADS TESTER FILTER: Hiding project ${L.project_number} (status: ${L.status}) from tester ${t.username} - NOT IN TESTING PHASE`),D}),console.log(`🧪 UPLOADS TESTER FILTER: Filtered ${Q} projects down to ${C.length} for tester ${t.username}`)}n(C)}catch(k){console.error("Error loading projects:",k),v("Er is een fout opgetreden bij het laden van de projecten")}finally{h(!1)}},b=(k,z,E)=>{console.log("Selecting folder:",{projectId:k,distributorId:z,folder:E}),v(null),i(k),c(z||null),A(E||null)},_=k=>{const z=new Set(p);z.has(k)?z.delete(k):z.add(k),m(z)},N=r.filter(k=>{var z;return k.project_number.toLowerCase().includes(u.toLowerCase())||((z=k.client)==null?void 0:z.toLowerCase().includes(u.toLowerCase()))}),P=()=>{var C;const k=r.find(Q=>Q.id===s),z=(C=k==null?void 0:k.distributors)==null?void 0:C.find(Q=>Q.id===o),E=[];return k&&E.push(k.project_number),z&&E.push(`${z.distributor_id} - ${z.kast_naam||"Naamloos"}`),l&&E.push(l),E.join(" / ")};return f?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Projecten laden..."}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("p",{className:"text-sm text-gray-400",children:"Grote projecten kunnen langer duren..."})})]})})}):x?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(X,{size:32,className:"text-red-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Fout bij laden"}),a.jsx("p",{className:"text-gray-400 mb-4",children:x}),a.jsx("button",{onClick:()=>{v(null),y()},className:"btn-primary",children:"Opnieuw proberen"})]})})}):a.jsxs("div",{className:"flex min-h-screen",children:[a.jsxs("div",{className:"w-80 card m-4 p-0 h-[calc(100vh-2rem)] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Document Explorer"}),a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:"Zoek projecten...",className:"input-field pl-10 text-sm",value:u,onChange:k=>d(k.target.value)})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",style:{contain:"layout style paint"},children:[a.jsx("div",{className:"space-y-1",children:N.map(k=>{var z;return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${s===k.id&&!o?"bg-gradient-to-r from-blue-600 to-blue-400 text-white":"hover:bg-[#2A303C] text-gray-300 hover:text-white"}`,onClick:()=>{b(k.id),k.distributors&&k.distributors.length>0&&_(k.id)},children:[a.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[k.distributors&&k.distributors.length>0?p.has(k.id)?a.jsx(Cg,{size:16,className:"mr-2 flex-shrink-0"}):a.jsx(Uo,{size:16,className:"mr-2 flex-shrink-0"}):a.jsx("div",{className:"w-4 mr-2 flex-shrink-0"}),a.jsx(xa,{size:16,className:"mr-2 flex-shrink-0 text-blue-400"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:k.project_number}),k.client&&a.jsx("div",{className:"text-xs opacity-75 truncate",children:k.client})]})]}),a.jsxs("div",{className:"text-xs opacity-60 ml-2 flex-shrink-0",children:[((z=k.distributors)==null?void 0:z.length)||0," verdelers"]})]}),p.has(k.id)&&k.distributors&&k.distributors.length>0&&a.jsx("div",{className:"ml-6 space-y-1",children:k.distributors.map(E=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${s===k.id&&o===E.id&&!l?"bg-gradient-to-r from-green-600 to-green-400 text-white":"hover:bg-[#2A303C] text-gray-300 hover:text-white"}`,onClick:()=>b(k.id,E.id),children:a.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[a.jsx(Or,{size:14,className:"mr-2 flex-shrink-0 text-green-400"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:E.distributor_id}),E.kast_naam&&a.jsx("div",{className:"text-xs opacity-75 truncate",children:E.kast_naam})]})]})}),s===k.id&&o===E.id&&a.jsx("div",{className:"ml-6 space-y-1",children:z_.map(C=>a.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${l===C?"bg-gradient-to-r from-purple-600 to-purple-400 text-white":"hover:bg-[#2A303C] text-gray-300 hover:text-white"}`,onClick:()=>b(k.id,E.id,C),children:[a.jsx(ti,{size:14,className:"mr-2 flex-shrink-0 text-purple-400"}),a.jsx("span",{className:"text-sm truncate",children:C})]},C))})]},E.id))})]},k.id)})}),N.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(xa,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Geen projecten gevonden"})]})]})]}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsx("div",{className:"card p-6 mb-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-xl font-semibold text-white mb-2",children:s&&o&&l?"Document Viewer":s&&o?"Map Selectie":s?"Verdeler Selectie":"Project Selectie"}),P()&&a.jsxs("div",{className:"flex items-center text-sm text-gray-400 space-x-2",children:[a.jsx("span",{children:"Locatie:"}),a.jsx("div",{className:"flex items-center space-x-2",children:P().split(" / ").map((k,z,E)=>a.jsxs(fe.Fragment,{children:[a.jsx("span",{className:"text-blue-400",children:k}),z<E.length-1&&a.jsx(Uo,{size:14})]},z))})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:[r.length," projecten"]}),a.jsxs("div",{className:"text-sm text-gray-400",children:[r.reduce((k,z)=>{var E;return k+(((E=z.distributors)==null?void 0:E.length)||0)},0)," verdelers"]})]})]})}),s&&o&&l?a.jsxs("div",{className:"card p-6",children:[x&&a.jsx("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(X,{size:16,className:"text-red-400"}),a.jsx("span",{className:"text-red-400",children:x})]})}),a.jsx(eC,{projectId:s,distributorId:o,folder:l})]}):s&&o?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:z_.map(k=>a.jsxs("div",{onClick:()=>b(s,o,k),className:"card p-6 flex flex-col items-center justify-center space-y-3 hover:bg-[#2A303C] transition-colors cursor-pointer group min-h-[120px]",children:[a.jsx(ti,{size:40,className:"text-gray-400 group-hover:text-purple-400 transition-colors"}),a.jsx("span",{className:"text-sm text-center font-medium group-hover:text-white transition-colors",children:k})]},k))}):s?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:((j=(T=r.find(k=>k.id===s))==null?void 0:T.distributors)==null?void 0:j.map(k=>a.jsx("div",{onClick:()=>b(s,k.id),className:"card p-6 hover:bg-[#2A303C] transition-colors cursor-pointer group",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx(Or,{size:32,className:"text-gray-400 group-hover:text-green-400 transition-colors flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-white group-hover:text-green-400 transition-colors",children:k.distributor_id}),k.kast_naam&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:k.kast_naam}),k.systeem&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k.systeem})]})]})},k.id)))||a.jsxs("div",{className:"col-span-full card p-8 text-center",children:[a.jsx(Or,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Geen verdelers gevonden voor dit project"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(k=>{var z;return a.jsx("div",{onClick:()=>{b(k.id),k.distributors&&k.distributors.length>0&&m(E=>new Set([...E,k.id]))},className:"card p-6 hover:bg-[#2A303C] transition-colors cursor-pointer group",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx(xa,{size:32,className:"text-gray-400 group-hover:text-blue-400 transition-colors flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-white group-hover:text-blue-400 transition-colors",children:k.project_number}),k.client&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:k.client}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[((z=k.distributors)==null?void 0:z.length)||0," verdelers"]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${k.status==="Opgeleverd"?"bg-green-500/20 text-green-400":k.status==="In uitvoering"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:k.status||"Onbekend"})]})]})]})},k.id)})})]})]})},MY=({projectData:e,onProjectChange:t,onNext:r})=>{const[n,s]=$.useState([]),[i,o]=$.useState([]),[c,l]=$.useState(""),[A,u]=$.useState(!1),[d,f]=$.useState(""),[h,p]=$.useState(!1),[m,x]=$.useState({name:"",visit_street:"",visit_postcode:"",visit_city:"",delivery_street:"",delivery_postcode:"",delivery_city:"",vat_number:"",kvk_number:"",contacts:[{first_name:"",last_name:"",email:"",phone:"",department:"",function:""}]}),[v,y]=$.useState(!1),[b,_]=$.useState({merk:"",uitvoering:"",breedte:"",hoogte:"",diepte:"",ipKlasse:"",amperage:"",hoofdschakelaar1:"",inkomendeKabel:"",afgaandeKabels:"",wartels:!1,draai:!1,meterbord:!1,pvGroepen:!1,pvSubsidie:!1,pvMeettrafo:!1,totaalMeting:!1,laadpaalGroepen:!1,laadpaalAfschakeling:!1,uitbedradenOpKlemmen:!1,afgaandeVelden1:Array(10).fill(null).map(()=>({aantal:"",type:"",amp:"",aut:"",ma:"",imp:"",mag:"",ala:!1,als:!1})),afgaandeVelden2:Array(10).fill(null).map(()=>({aantal:"",type:"",amp:"",aut:"",ma:"",imp:"",mag:"",ala:!1,als:!1})),opmerkingen:""});$.useEffect(()=>{if(N(),P(),e.projectNumber){const M=e.projectNumber.match(/^P[MDR]\d{2}-(\d{3})$/);M&&l(M[1])}},[]);const N=async()=>{try{const M=await $e.getClients();s(M||[])}catch(M){console.error("Error loading clients:",M);const q=JSON.parse(localStorage.getItem("clients")||"[]");s(q)}},P=async()=>{try{const M=await $e.getProjects();o(M||[])}catch(M){console.error("Error loading existing projects:",M);const q=JSON.parse(localStorage.getItem("projects")||"[]");o(q)}},T=(M,q)=>{const B=new Date().getFullYear().toString().slice(-2);let I="";switch(M){case"Leerdam":I="PM";break;case"Naaldwijk":I="PD";break;case"Rotterdam":I="PR";break;default:I="PM"}return`${I}${B}-${q}`},j=M=>i.some(q=>q.project_number===M||q.projectNumber===M),k=async(M,q)=>{if(!M||!q){f("");return}if(!/^\d{3}$/.test(M)){f("Projectnummer moet precies 3 cijfers bevatten (001-999)");return}u(!0);const B=T(q,M);if(j(B))f(`Projectnummer ${B} bestaat al. Kies een ander nummer.`);else{f("");const H={...e,projectNumber:B};t(H)}u(!1)},z=M=>{const q=M.replace(/\D/g,"").slice(0,3);l(q),q.length===3&&e.location?k(q,e.location):f("")},E=M=>{if(c.length===3)k(c,M);else{const B={...e,location:M,projectNumber:""};t(B)}const q={...e,location:M};t(q)},C=(M,q)=>{const B={...e,[M]:q};t(B)},Q=()=>{x(M=>({...M,contacts:[...M.contacts,{first_name:"",last_name:"",email:"",phone:"",department:"",function:""}]}))},L=M=>{x(q=>({...q,contacts:q.contacts.filter((B,I)=>I!==M)}))},D=(M,q,B)=>{x(I=>({...I,contacts:I.contacts.map((H,G)=>G===M?{...H,[q]:B}:H)}))},S=async()=>{if(!m.name.trim()){ge.error("Vul tenminste de organisatienaam in!");return}try{const M=await $e.createClient(m);s(B=>[M,...B]);const q={...e,client:M.name};t(q),x({name:"",visit_street:"",visit_postcode:"",visit_city:"",delivery_street:"",delivery_postcode:"",delivery_city:"",vat_number:"",kvk_number:"",contacts:[{first_name:"",last_name:"",email:"",phone:"",department:"",function:""}]}),p(!1),ge.success("Nieuwe klant succesvol toegevoegd!")}catch(M){console.error("Error saving client:",M),ge.error("Er is een fout opgetreden bij het opslaan van de klant")}},O=(M,q)=>{_(B=>({...B,[M]:q}))},R=(M,q,B,I)=>{_(H=>({...H,[M]:H[M].map((G,J)=>J===q?{...G,[B]:I}:G)}))},W=()=>{if(!e.projectNumber||!e.date||!e.location||!c){ge.error("Vul alle verplichte velden in!");return}if(d){ge.error("Los eerst de projectnummer fout op voordat je verder gaat");return}const M={...e,contactPerson:e.contact_person,intakeForm:v?b:null};t(M),r()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Project Details"}),a.jsx("p",{className:"text-gray-400",children:"Voer de basisgegevens van het project in"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Projectnummer ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Locatie selecteren voor prefix"}),a.jsxs("div",{className:"relative",children:[a.jsx(U5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsxs("select",{className:"input-field pl-10",value:e.location,onChange:M=>E(M.target.value),children:[a.jsx("option",{value:"",children:"Selecteer locatie"}),a.jsx("option",{value:"Leerdam",children:"Leerdam (PM)"}),a.jsx("option",{value:"Naaldwijk",children:"Naaldwijk (PD)"}),a.jsx("option",{value:"Rotterdam",children:"Rotterdam (PR)"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"3-cijferig projectnummer"}),a.jsxs("div",{className:"relative",children:[a.jsx(eS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",className:`input-field pl-10 ${d?"border-red-500":""}`,value:c,onChange:M=>z(M.target.value),placeholder:"001-999",maxLength:3,pattern:"\\d{3}"}),A&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500"})})]}),d&&a.jsx("p",{className:"text-red-400 text-xs mt-1",children:d})]})]}),e.location&&c.length===3&&!d&&a.jsx("div",{className:"mt-3 p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(eS,{size:16,className:"text-green-400"}),a.jsxs("span",{className:"text-sm text-green-400",children:["Projectnummer: ",a.jsx("strong",{children:e.projectNumber})]})]})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Format: [Locatie Prefix][Jaar]-[3 cijfers] (bijv. PM25-001, PD25-123, PR25-456)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Datum ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"date",className:"input-field pl-10",value:e.date,onChange:M=>C("date",M.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Klant"}),a.jsxs("div",{className:"relative",children:[a.jsx(sA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsxs("select",{className:"input-field pl-10",value:e.client,onChange:M=>C("client",M.target.value),children:[a.jsx("option",{value:"",children:"Selecteer een klant"}),n.map(M=>a.jsx("option",{value:M.name,children:M.name},M.id))]})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("button",{type:"button",onClick:()=>p(!0),className:"btn-secondary flex items-center space-x-2 text-sm",children:[a.jsx(Ss,{size:16}),a.jsx("span",{children:"Nieuwe klant aanmaken"})]})})]}),e.client&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Contactpersoon"}),a.jsxs("div",{className:"relative",children:[a.jsx(sA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsxs("select",{className:"input-field pl-10",value:e.contact_person||"",onChange:M=>C("contact_person",M.target.value),children:[a.jsx("option",{value:"",children:"Selecteer een contactpersoon"}),(()=>{var q;const M=n.find(B=>B.name===e.client);return((q=M==null?void 0:M.contacts)==null?void 0:q.map(B=>a.jsxs("option",{value:`${B.first_name} ${B.last_name}`,children:[B.first_name," ",B.last_name,B.department&&` (${B.department})`,B.email&&` - ${B.email}`]},B.id)))||[]})()]})]}),(()=>{var B;const M=n.find(I=>I.name===e.client),q=((B=M==null?void 0:M.contacts)==null?void 0:B.length)||0;return q===0?a.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"⚠️ Deze klant heeft nog geen contactpersonen"}):a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[q," contactpersoon",q!==1?"en":""," beschikbaar"]})})()]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Status"}),a.jsxs("select",{className:"input-field",value:e.status,onChange:M=>C("status",M.target.value),children:[a.jsx("option",{value:"",children:"Selecteer status"}),a.jsx("option",{value:"Intake",children:"Intake"}),a.jsx("option",{value:"Offerte",children:"Offerte"}),a.jsx("option",{value:"Order",children:"Order"}),a.jsx("option",{value:"Productie",children:"Productie"}),a.jsx("option",{value:"Testen",children:"Testen"}),a.jsx("option",{value:"Levering",children:"Levering"}),a.jsx("option",{value:"Gereed voor oplevering",children:"Gereed voor oplevering"}),a.jsx("option",{value:"Opgeleverd",children:"Opgeleverd"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Omschrijving"}),a.jsxs("div",{className:"relative",children:[a.jsx(ei,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("textarea",{className:"input-field pl-10 h-24",value:e.description,onChange:M=>C("description",M.target.value),placeholder:"Beschrijf het project..."})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Intake Formulier"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Optioneel: Vul gedetailleerde project specificaties in"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:M=>y(M.target.checked),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"Intake formulier invullen"})]})]}),v&&a.jsxs("div",{className:"space-y-8 mt-6",children:[a.jsxs("div",{className:"bg-[#1E2530] p-6 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-4",children:"Kast Specificaties"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Merk"}),a.jsx("input",{type:"text",className:"input-field",value:b.merk,onChange:M=>O("merk",M.target.value),placeholder:"Bijv. Schneider"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Uitvoering"}),a.jsx("input",{type:"text",className:"input-field",value:b.uitvoering,onChange:M=>O("uitvoering",M.target.value),placeholder:"Bijv. Wandmontage"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Breedte (cm)"}),a.jsx("input",{type:"number",className:"input-field",value:b.breedte,onChange:M=>O("breedte",M.target.value),placeholder:"80"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Hoogte (cm)"}),a.jsx("input",{type:"number",className:"input-field",value:b.hoogte,onChange:M=>O("hoogte",M.target.value),placeholder:"120"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Diepte (cm)"}),a.jsx("input",{type:"number",className:"input-field",value:b.diepte,onChange:M=>O("diepte",M.target.value),placeholder:"25"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"IP Klasse"}),a.jsxs("select",{className:"input-field",value:b.ipKlasse,onChange:M=>O("ipKlasse",M.target.value),children:[a.jsx("option",{value:"",children:"Selecteer IP klasse"}),a.jsx("option",{value:"IP20",children:"IP20"}),a.jsx("option",{value:"IP30",children:"IP30"}),a.jsx("option",{value:"IP40",children:"IP40"}),a.jsx("option",{value:"IP54",children:"IP54"}),a.jsx("option",{value:"IP65",children:"IP65"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Amperage"}),a.jsx("input",{type:"number",className:"input-field",value:b.amperage,onChange:M=>O("amperage",M.target.value),placeholder:"400"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Hoofdschakelaar"}),a.jsx("input",{type:"text",className:"input-field",value:b.hoofdschakelaar1,onChange:M=>O("hoofdschakelaar1",M.target.value),placeholder:"400A"})]})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-6 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-4",children:"Kabel Configuratie"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Inkomende kabel"}),a.jsx("input",{type:"text",className:"input-field",value:b.inkomendeKabel,onChange:M=>O("inkomendeKabel",M.target.value),placeholder:"Bijv. 4x95mm²"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Afgaande kabels"}),a.jsx("input",{type:"text",className:"input-field",value:b.afgaandeKabels,onChange:M=>O("afgaandeKabels",M.target.value),placeholder:"Bijv. 12x 5x2.5mm²"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:b.wartels,onChange:M=>O("wartels",M.target.checked),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"Wartels"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:b.draai,onChange:M=>O("draai",M.target.checked),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"Draai"})]})]})]}),a.jsxs("div",{className:"bg-[#1E2530] p-6 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-orange-400 mb-4",children:"Extra Opties"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"meterbord",label:"Meterbord"},{key:"pvGroepen",label:"PV Groepen"},{key:"pvSubsidie",label:"PV Subsidie"},{key:"pvMeettrafo",label:"PV Meettrafo"},{key:"totaalMeting",label:"Totaal Meting"},{key:"laadpaalGroepen",label:"Laadpaal Groepen"},{key:"laadpaalAfschakeling",label:"Laadpaal Afschakeling"},{key:"uitbedradenOpKlemmen",label:"Uitbedraden op klemmen"}].map(M=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:b[M.key],onChange:q=>O(M.key,q.target.checked),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400 text-sm",children:M.label})]},M.key))})]}),a.jsxs("div",{className:"bg-[#1E2530] p-6 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Afgaande Velden 1"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Aantal"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Type"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Amp"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Aut"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"MA"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Imp"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Mag"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"ALA"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"ALS"})]})}),a.jsx("tbody",{children:b.afgaandeVelden1.map((M,q)=>a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"number",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.aantal,onChange:B=>R("afgaandeVelden1",q,"aantal",B.target.value),placeholder:"0"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.type,onChange:B=>R("afgaandeVelden1",q,"type",B.target.value),placeholder:"Type"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.amp,onChange:B=>R("afgaandeVelden1",q,"amp",B.target.value),placeholder:"A"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.aut,onChange:B=>R("afgaandeVelden1",q,"aut",B.target.value),placeholder:"Aut"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.ma,onChange:B=>R("afgaandeVelden1",q,"ma",B.target.value),placeholder:"MA"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.imp,onChange:B=>R("afgaandeVelden1",q,"imp",B.target.value),placeholder:"Imp"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.mag,onChange:B=>R("afgaandeVelden1",q,"mag",B.target.value),placeholder:"Mag"})}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("input",{type:"checkbox",checked:M.ala,onChange:B=>R("afgaandeVelden1",q,"ala",B.target.checked),className:"form-checkbox"})}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("input",{type:"checkbox",checked:M.als,onChange:B=>R("afgaandeVelden1",q,"als",B.target.checked),className:"form-checkbox"})})]},q))})]})})]}),a.jsxs("div",{className:"bg-[#1E2530] p-6 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Afgaande Velden 2"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Aantal"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Type"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Amp"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Aut"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"MA"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Imp"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"Mag"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"ALA"}),a.jsx("th",{className:"text-left p-2 text-gray-400",children:"ALS"})]})}),a.jsx("tbody",{children:b.afgaandeVelden2.map((M,q)=>a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"number",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.aantal,onChange:B=>R("afgaandeVelden2",q,"aantal",B.target.value),placeholder:"0"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.type,onChange:B=>R("afgaandeVelden2",q,"type",B.target.value),placeholder:"Type"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.amp,onChange:B=>R("afgaandeVelden2",q,"amp",B.target.value),placeholder:"A"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.aut,onChange:B=>R("afgaandeVelden2",q,"aut",B.target.value),placeholder:"Aut"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.ma,onChange:B=>R("afgaandeVelden2",q,"ma",B.target.value),placeholder:"MA"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.imp,onChange:B=>R("afgaandeVelden2",q,"imp",B.target.value),placeholder:"Imp"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded p-1 text-sm",value:M.mag,onChange:B=>R("afgaandeVelden2",q,"mag",B.target.value),placeholder:"Mag"})}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("input",{type:"checkbox",checked:M.ala,onChange:B=>R("afgaandeVelden2",q,"ala",B.target.checked),className:"form-checkbox"})}),a.jsx("td",{className:"p-2 text-center",children:a.jsx("input",{type:"checkbox",checked:M.als,onChange:B=>R("afgaandeVelden2",q,"als",B.target.checked),className:"form-checkbox"})})]},q))})]})})]}),a.jsxs("div",{className:"bg-[#1E2530] p-6 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-400 mb-4",children:"Opmerkingen"}),a.jsx("textarea",{className:"input-field h-32",value:b.opmerkingen,onChange:M=>O("opmerkingen",M.target.value),placeholder:"Aanvullende opmerkingen of speciale eisen..."})]})]})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:"Nieuwe klant aanmaken"}),a.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Organisatienaam ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",className:"input-field",value:m.name,onChange:M=>x({...m,name:M.target.value}),placeholder:"Bedrijfsnaam"})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"Bezoekadres"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Straat"}),a.jsx("input",{type:"text",className:"input-field",value:m.visit_street,onChange:M=>x({...m,visit_street:M.target.value}),placeholder:"Straatnaam + huisnummer"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Postcode"}),a.jsx("input",{type:"text",className:"input-field",value:m.visit_postcode,onChange:M=>x({...m,visit_postcode:M.target.value}),placeholder:"1234AB"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Plaats"}),a.jsx("input",{type:"text",className:"input-field",value:m.visit_city,onChange:M=>x({...m,visit_city:M.target.value}),placeholder:"Plaatsnaam"})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-4",children:"Afleveradres"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Straat"}),a.jsx("input",{type:"text",className:"input-field",value:m.delivery_street,onChange:M=>x({...m,delivery_street:M.target.value}),placeholder:"Straatnaam + huisnummer"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Postcode"}),a.jsx("input",{type:"text",className:"input-field",value:m.delivery_postcode,onChange:M=>x({...m,delivery_postcode:M.target.value}),placeholder:"1234AB"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Plaats"}),a.jsx("input",{type:"text",className:"input-field",value:m.delivery_city,onChange:M=>x({...m,delivery_city:M.target.value}),placeholder:"Plaatsnaam"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"BTW-nummer"}),a.jsx("input",{type:"text",className:"input-field",value:m.vat_number,onChange:M=>x({...m,vat_number:M.target.value}),placeholder:"NL123456789B01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"KvK-nummer"}),a.jsx("input",{type:"text",className:"input-field",value:m.kvk_number,onChange:M=>x({...m,kvk_number:M.target.value}),placeholder:"12345678"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Contactpersonen"}),a.jsxs("button",{type:"button",onClick:Q,className:"btn-secondary flex items-center space-x-2 text-sm",children:[a.jsx(Ss,{size:16}),a.jsx("span",{children:"Contact toevoegen"})]})]}),a.jsx("div",{className:"space-y-4",children:m.contacts.map((M,q)=>a.jsxs("div",{className:"bg-[#2A303C] p-4 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-400",children:["Contactpersoon ",q+1]}),m.contacts.length>1&&a.jsx("button",{type:"button",onClick:()=>L(q),className:"text-red-400 hover:text-red-300 transition-colors",children:a.jsx(gt,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Voornaam"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:M.first_name,onChange:B=>D(q,"first_name",B.target.value),placeholder:"Voornaam"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Achternaam"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:M.last_name,onChange:B=>D(q,"last_name",B.target.value),placeholder:"Achternaam"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"E-mail"}),a.jsx("input",{type:"email",className:"input-field text-sm",value:M.email,onChange:B=>D(q,"email",B.target.value),placeholder:"email@bedrijf.nl"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Telefoon"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:M.phone,onChange:B=>D(q,"phone",B.target.value),placeholder:"0612345678"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Afdeling"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:M.department,onChange:B=>D(q,"department",B.target.value),placeholder:"IT / Inkoop"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Functie"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:M.function,onChange:B=>D(q,"function",B.target.value),placeholder:"Manager / Technicus"})]})]})]},q))})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary",children:"Annuleren"}),a.jsxs("button",{type:"button",onClick:S,className:"btn-primary flex items-center space-x-2",children:[a.jsx(BA,{size:20}),a.jsx("span",{children:"Klant opslaan"})]})]})]})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:W,className:"btn-primary",children:"Volgende stap"})})]})},K_=["Verdeler aanzicht","Test certificaat","Algemene informatie","Installatie schema","Onderdelen","Handleidingen","Documentatie","Oplever foto's"],RY=({onBack:e,onSave:t,verdelers:r,saving:n=!1,onDocumentsChange:s,tempDocuments:i={}})=>{var D;const[o,c]=$.useState(null),[l,A]=$.useState(null),[u,d]=$.useState(new Set),[f,h]=$.useState(!1),[p,m]=$.useState(null),x=(S,O)=>{c(S||null),A(O||null)},v=S=>{const O=new Set(u);O.has(S)?O.delete(S):O.add(S),d(O)},y=()=>{const S=r.find(R=>R.distributorId===o),O=["Nieuw Project"];return S&&O.push(`${S.distributorId} - ${S.kastNaam||"Naamloos"}`),l&&O.push(l),O.join(" / ")},b=(S,O)=>`${S}-${O}`,_=()=>{if(!o||!l)return[];const S=b(o,l);return i[S]||[]},N=async S=>{if(!o||!l){ge.error("Selecteer eerst een verdeler en map!");return}const O=R=>new Promise((W,M)=>{if(R.size>5*1024*1024){M(`Bestand ${R.name} is te groot. Maximum grootte is 5MB`);return}const q=new FileReader;q.onload=B=>{var I;try{const H={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:R.name,type:R.type,size:R.size,content:(I=B.target)==null?void 0:I.result,folder:l,distributorId:o,uploadedAt:new Date().toISOString()};W(H)}catch{M(`Fout bij het verwerken van bestand ${R.name}`)}},q.onerror=()=>M(`Fout bij het lezen van bestand ${R.name}`),q.readAsDataURL(R)});try{const R=await Promise.all(S.map(O)),W=b(o,l),M={...i,[W]:[...i[W]||[],...R]};s&&s(M),ge.success(`${R.length} document${R.length>1?"en":""} succesvol geüpload!`)}catch(R){console.error("Error processing files:",R),ge.error(typeof R=="string"?R:"Er is een fout opgetreden bij het uploaden van de bestanden")}},P=S=>{const O=S.target.files;O&&O.length>0&&N(Array.from(O))},T=S=>{S.preventDefault(),S.stopPropagation(),h(!0)},j=S=>{S.preventDefault(),S.stopPropagation(),h(!1)},k=S=>{S.preventDefault(),S.stopPropagation(),h(!1);const O=Array.from(S.dataTransfer.files);O.length>0&&N(O)},z=S=>{if(!(!o||!l)&&window.confirm("Weet je zeker dat je dit document wilt verwijderen?")){const O=b(o,l),R={...i,[O]:(i[O]||[]).filter(W=>W.id!==S)};s&&s(R),ge.success("Document verwijderd!")}},E=S=>{try{const O=document.createElement("a");O.href=S.content,O.download=S.name,document.body.appendChild(O),O.click(),document.body.removeChild(O)}catch(O){console.error("Error downloading file:",O),ge.error("Er is een fout opgetreden bij het downloaden van het document")}},C=S=>{if(S===0)return"0 Bytes";const O=1024,R=["Bytes","KB","MB","GB"],W=Math.floor(Math.log(S)/Math.log(O));return parseFloat((S/Math.pow(O,W)).toFixed(2))+" "+R[W]},Q=S=>S.startsWith("image/"),L=S=>Q(S.type)?a.jsx("img",{src:S.content,alt:S.name,className:"max-h-[500px] object-contain mx-auto"}):a.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[a.jsx(ei,{size:64,className:"text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Preview niet beschikbaar voor dit bestandstype"})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Project Documenten"}),a.jsx("p",{className:"text-gray-400",children:"Upload documenten per verdeler en organiseer ze in mappen"})]}),r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Or,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Geen verdelers toegevoegd"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Ga terug naar de vorige stap om verdelers toe te voegen"})]}):a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"w-80 bg-[#2A303C] rounded-lg p-4 h-[500px] overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-4 uppercase tracking-wide",children:"Document Explorer"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"flex items-center p-2 rounded-lg bg-blue-500/20 text-blue-400",children:a.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[a.jsx("div",{className:"w-4 mr-2 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:"Nieuw Project"}),a.jsxs("div",{className:"text-xs opacity-75 truncate",children:[r.length," verdelers"]})]})]})}),a.jsx("div",{className:"ml-4 space-y-1",children:r.map(S=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${o===S.distributorId&&!l?"bg-gradient-to-r from-green-600 to-green-400 text-white":"hover:bg-[#1E2530] text-gray-300 hover:text-white"}`,onClick:()=>{x(S.distributorId),v(S.distributorId)},children:a.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[u.has(S.distributorId)?a.jsx(Cg,{size:14,className:"mr-2 flex-shrink-0"}):a.jsx(Uo,{size:14,className:"mr-2 flex-shrink-0"}),a.jsx(Or,{size:14,className:"mr-2 flex-shrink-0 text-green-400"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:S.distributorId}),S.kastNaam&&a.jsx("div",{className:"text-xs opacity-75 truncate",children:S.kastNaam})]})]})}),u.has(S.distributorId)&&a.jsx("div",{className:"ml-6 space-y-1",children:K_.map(O=>a.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${o===S.distributorId&&l===O?"bg-gradient-to-r from-purple-600 to-purple-400 text-white":"hover:bg-[#1E2530] text-gray-300 hover:text-white"}`,onClick:()=>x(S.distributorId,O),children:[a.jsx(ti,{size:12,className:"mr-2 flex-shrink-0 text-purple-400"}),a.jsx("span",{className:"text-xs truncate",children:O}),(()=>{var M;const R=b(S.distributorId,O),W=((M=i[R])==null?void 0:M.length)||0;return W>0?a.jsx("span",{className:"ml-auto text-xs bg-purple-500/30 text-purple-300 px-2 py-0.5 rounded-full",children:W}):null})()]},O))})]},S.distributorId))})]})]}),a.jsx("div",{className:"flex-1",children:o&&l?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-4",children:[a.jsx("span",{children:"Locatie:"}),a.jsx("div",{className:"flex items-center space-x-2",children:y().split(" / ").map((S,O,R)=>a.jsxs(fe.Fragment,{children:[a.jsx("span",{className:"text-blue-400",children:S}),O<R.length-1&&a.jsx(Uo,{size:14})]},O))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:`border-2 border-dashed ${f?"border-blue-400 bg-blue-400/10":"border-gray-600"} rounded-xl p-8 text-center transition-colors`,onDragOver:T,onDragLeave:j,onDrop:k,children:[a.jsx("input",{type:"file",onChange:P,className:"hidden",id:"file-upload",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx",multiple:!0}),a.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center space-y-4",children:[a.jsx(Co,{size:48,className:"text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold",children:"Sleep bestanden hierheen"}),a.jsx("p",{className:"text-gray-400",children:"of klik om te uploaden"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Maximum bestandsgrootte: 5MB"})]})]})]}),_().length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:_().map(S=>a.jsxs("div",{className:"bg-[#1E2530] rounded-lg overflow-hidden cursor-pointer transition-all hover:shadow-lg",onClick:()=>m(S),children:[a.jsx("div",{className:"aspect-video bg-[#2A303C] flex items-center justify-center",children:Q(S.type)?a.jsx("img",{src:S.content,alt:S.name,className:"h-full w-full object-cover"}):a.jsx(ei,{size:48,className:"text-gray-400"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"font-medium text-white truncate",children:S.name}),a.jsxs("p",{className:"text-sm text-gray-400",children:[C(S.size)," • ",new Date(S.uploadedAt).toLocaleString("nl-NL")]}),a.jsxs("div",{className:"flex justify-end mt-2 space-x-2",children:[a.jsx("button",{onClick:O=>{O.stopPropagation(),E(S)},className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",title:"Download",children:a.jsx(bd,{size:16,className:"text-gray-400 hover:text-white"})}),a.jsx("button",{onClick:O=>{O.stopPropagation(),z(S.id)},className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors",title:"Verwijderen",children:a.jsx(Zr,{size:16,className:"text-gray-400 hover:text-red-400"})})]})]})]},S.id))}),_().length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"Geen documenten in deze map"})})]})]}):o?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-4",children:[a.jsx("span",{children:"Selecteer een map voor:"}),a.jsx("span",{className:"text-green-400",children:(D=r.find(S=>S.distributorId===o))==null?void 0:D.distributorId})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:K_.map(S=>{var W;const O=b(o,S),R=((W=i[O])==null?void 0:W.length)||0;return a.jsxs("div",{onClick:()=>x(o,S),className:"bg-[#1E2530] rounded-lg p-6 flex flex-col items-center justify-center space-y-3 hover:bg-[#2A303C] transition-colors cursor-pointer group min-h-[120px] relative",children:[a.jsx(ti,{size:40,className:"text-gray-400 group-hover:text-purple-400 transition-colors"}),a.jsx("span",{className:"text-sm text-center font-medium group-hover:text-white transition-colors",children:S}),R>0&&a.jsx("span",{className:"absolute top-2 right-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full",children:R})]},S)})})]}):a.jsx("div",{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Or,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Selecteer een verdeler"}),a.jsx("p",{className:"text-gray-400",children:"Kies een verdeler uit de lijst links om documenten te uploaden"})]})})})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:S=>{S.target===S.currentTarget&&m(null)},children:a.jsxs("div",{className:"bg-[#1E2530] rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:p.name}),a.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-white",children:a.jsx(gt,{size:24})})]}),a.jsx("div",{className:"bg-[#2A303C] rounded-lg p-4",children:L(p)}),a.jsxs("div",{className:"flex justify-end mt-4 space-x-4",children:[a.jsxs("button",{onClick:()=>E(p),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(bd,{size:20}),a.jsx("span",{children:"Download"})]}),a.jsxs("button",{onClick:()=>{z(p.id),m(null)},className:"btn-secondary flex items-center space-x-2 bg-red-500/20 hover:bg-red-500/30 text-red-400",children:[a.jsx(Zr,{size:20}),a.jsx("span",{children:"Verwijderen"})]})]})]})}),a.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[a.jsx("button",{onClick:e,className:"btn-secondary",disabled:n,children:"Terug"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[Object.values(i).flat().length>0&&a.jsxs("span",{className:"text-sm text-gray-400",children:[Object.values(i).flat().length," document",Object.values(i).flat().length!==1?"en":""," geüpload"]}),a.jsx("button",{onClick:t,className:`btn-primary flex items-center space-x-2 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Project opslaan..."})]}):a.jsx("span",{children:"Project opslaan"})})]})]})]})},$Y=({steps:e,activeStep:t})=>a.jsx("div",{className:"flex items-center justify-center mb-8",children:e.map((r,n)=>a.jsxs(fe.Fragment,{children:[a.jsxs("div",{className:`flex items-center ${n<=t?"text-[#4169e1]":"text-gray-500"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n<=t?"bg-[#4169e1] text-white":"bg-gray-700 text-gray-400"}`,children:n+1}),a.jsx("span",{className:"mx-2",children:r})]}),n<e.length-1&&a.jsx("div",{className:`h-[2px] w-16 mx-2 ${n<t?"bg-[#4169e1]":"bg-gray-700"}`})]},r))}),HY=new Date,zY=()=>{const e=_s(),[t,r]=$.useState(0),[n,s]=$.useState(!1),[i,o]=$.useState({}),[c,l]=$.useState(()=>({projectNumber:"",date:HY.toISOString().split("T")[0],location:"",client:"",status:"",description:"",verdelers:[],intakeForm:null})),A=["Project Details","Verdelers","Uploads"],u=m=>{l(m)},d=()=>{r(t+1)},f=()=>{r(t-1)},h=async()=>{try{s(!0),console.log("Saving project with data:",c),console.log("Intake form data being saved:",c.intakeForm);const m=await $e.createProject(c);if(c.verdelers&&c.verdelers.length>0){console.log("🚀 SAVE: Starting to save verdelers..."),console.log("🚀 SAVE: Number of verdelers to save:",c.verdelers.length);for(const x of c.verdelers){console.log("🔍 SAVE: Processing verdeler:",x),console.log("🔍 SAVE: Verdeler distributorId:",x.distributorId),console.log("🔍 SAVE: Verdeler kastNaam:",x.kastNaam),console.log("🔍 SAVE: Full verdeler object:",JSON.stringify(x,null,2));const v={distributorId:x.distributorId,projectId:m.id,kastNaam:x.kastNaam,systeem:x.systeem,voeding:x.voeding,bouwjaar:x.bouwjaar,keuringDatum:x.keuringDatum,getestDoor:x.getestDoor,unInV:x.unInV,inInA:x.inInA,ikThInKA1s:x.ikThInKA1s,ikDynInKA:x.ikDynInKA,freqInHz:x.freqInHz,typeNrHs:x.typeNrHs,fabrikant:x.fabrikant,profilePhoto:x.profilePhoto,status:x.status};if(console.log("🔍 SAVE: Mapped distributor data:",v),console.log("🔍 SAVE: Critical field check:"),console.log("  - distributorId (mapped):",v.distributorId),console.log("  - kastNaam (mapped):",v.kastNaam),console.log("  - projectId (mapped):",v.projectId),!v.distributorId){console.error("❌ CRITICAL: Missing distributorId for verdeler:",x),console.error("❌ Original verdeler data:",JSON.stringify(x,null,2)),console.error("❌ Mapped distributorData:",JSON.stringify(v,null,2)),ge.error(`Verdeler ID ontbreekt voor verdeler ${x.kastNaam||"onbekend"}`);continue}if(!v.kastNaam){console.error("❌ CRITICAL: Missing kastNaam for verdeler:",x),console.error("❌ Original verdeler data:",JSON.stringify(x,null,2)),console.error("❌ Mapped distributorData:",JSON.stringify(v,null,2)),ge.error(`Kastnaam ontbreekt voor verdeler ${x.distributorId}`);continue}console.log("✅ SAVE: Validation passed, calling createDistributor..."),await $e.createDistributor(v),console.log("✅ SAVE: Distributor saved successfully")}console.log("🎉 SAVE: All verdelers processed")}if(Object.keys(i).length>0){console.log("Saving temporary documents to database...");const x=await $e.getDistributorsByProject(m.id);for(const[v,y]of Object.entries(i)){const[b,_]=v.split("-"),N=x.find(P=>P.distributor_id===b);if(N&&y.length>0)for(const P of y)try{await $e.createDocument({projectId:m.id,distributorId:N.id,folder:_,name:P.name,type:P.type,size:P.size,content:P.content})}catch(T){console.error(`Error saving document ${P.name}:`,T)}}console.log("All temporary documents saved to database")}ge.success("Project succesvol aangemaakt!"),e("/projects")}catch(m){console.error("Error saving project:",m),ge.error("Er is een fout opgetreden bij het opslaan van het project")}finally{s(!1)}},p=()=>{switch(t){case 0:return a.jsx(MY,{projectData:c,onProjectChange:u,onNext:d});case 1:return a.jsx(OU,{projectData:c,onVerdelersChange:m=>l({...c,verdelers:m}),onNext:d,onBack:f});case 2:return a.jsx(RY,{onBack:f,onSave:h,verdelers:c.verdelers,saving:n,onDocumentsChange:o,tempDocuments:i});default:return null}};return a.jsx("div",{className:"min-h-screen p-8",children:a.jsxs("div",{className:"card p-6",children:[a.jsx($Y,{steps:A,activeStep:t}),p()]})})},KY=()=>{const e=_s(),[t,r]=$.useState({distributorId:"",distributorName:"",system:"",powerSupply:"",buildYear:"",inspectionDate:new Date().toISOString().split("T")[0],testedBy:"",unInV:"",inInA:"",ikThInKA1s:"",ikDynInKA:"",freqInHz:"",typeNrHs:"",projectNumber:"",manufacturer:"",profilePhoto:null}),n=()=>{if(!t.distributorId||!t.distributorName){ge.error("Vul alle verplichte velden in!");return}const s=JSON.parse(localStorage.getItem("distributors")||"[]"),i={id:Date.now(),createdAt:new Date().toLocaleString(),...t};localStorage.setItem("distributors",JSON.stringify([...s,i])),ge.success("Verdeler succesvol opgeslagen!"),e("/verdelers")};return a.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-white p-6",children:[a.jsx("h1",{className:"text-2xl mb-6",children:"Nieuwe Verdeler Toevoegen"}),a.jsxs("div",{className:"bg-[#1E2530] p-6 rounded-xl space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-sm",children:"Profiel foto:"}),a.jsx("input",{type:"file",accept:"image/*",onChange:s=>{s.target.files&&s.target.files[0]&&r({...t,profilePhoto:s.target.files[0]})},className:"w-full bg-[#2A303C] text-white p-2 rounded"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"ID Verdeler",name:"distributorId"},{label:"Verdeler naam",name:"distributorName"},{label:"Systeem",name:"system"},{label:"Voeding",name:"powerSupply"},{label:"Bouwjaar",name:"buildYear"},{label:"Keuring datum",name:"inspectionDate",type:"date"},{label:"Getest door",name:"testedBy"},{label:"Un in V",name:"unInV"},{label:"In in A",name:"inInA"},{label:"Ik Th in KA 1s",name:"ikThInKA1s"},{label:"Ik Dyn in KA",name:"ikDynInKA"},{label:"Frequentie in Hz",name:"freqInHz"},{label:"Type nr. Hs",name:"typeNrHs"},{label:"Projectnummer",name:"projectNumber"},{label:"Fabrikant",name:"manufacturer"}].map(s=>a.jsxs("div",{children:[a.jsxs("label",{className:"block mb-1 text-sm",children:[s.label,":"]}),a.jsx("input",{type:s.type||"text",value:t[s.name],onChange:i=>r({...t,[s.name]:i.target.value}),className:"w-full bg-[#2A303C] text-white p-2 rounded"})]},s.name))}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[a.jsx("button",{onClick:()=>e("/verdelers"),className:"px-6 py-2 bg-red-500 hover:bg-red-600 transition rounded",children:"Annuleren"}),a.jsx("button",{onClick:n,className:"px-6 py-2 bg-green-600 hover:bg-green-700 transition rounded",children:"Opslaan"})]})]})]})};function VY(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var TU={exports:{}};const GY={},WY=Object.freeze(Object.defineProperty({__proto__:null,default:GY},Symbol.toStringTag,{value:"Module"})),qY=JP(WY);/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e){(function(t,r){typeof VY=="function"&&e&&e.exports?e.exports=r():(t.dcodeIO=t.dcodeIO||{}).bcrypt=r()})(bn,function(){var t={},r=null;function n(E){if(e&&e.exports)try{return qY.randomBytes(E)}catch{}try{var C;return(self.crypto||self.msCrypto).getRandomValues(C=new Uint32Array(E)),Array.prototype.slice.call(C)}catch{}if(!r)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return r(E)}var s=!1;try{n(1),s=!0}catch{}r=null,t.setRandomFallback=function(E){r=E},t.genSaltSync=function(E,C){if(E=E||m,typeof E!="number")throw Error("Illegal arguments: "+typeof E+", "+typeof C);E<4?E=4:E>31&&(E=31);var Q=[];return Q.push("$2a$"),E<10&&Q.push("0"),Q.push(E.toString()),Q.push("$"),Q.push(d(n(p),p)),Q.join("")},t.genSalt=function(E,C,Q){if(typeof C=="function"&&(Q=C,C=void 0),typeof E=="function"&&(Q=E,E=void 0),typeof E>"u")E=m;else if(typeof E!="number")throw Error("illegal arguments: "+typeof E);function L(D){o(function(){try{D(null,t.genSaltSync(E))}catch(S){D(S)}})}if(Q){if(typeof Q!="function")throw Error("Illegal callback: "+typeof Q);L(Q)}else return new Promise(function(D,S){L(function(O,R){if(O){S(O);return}D(R)})})},t.hashSync=function(E,C){if(typeof C>"u"&&(C=m),typeof C=="number"&&(C=t.genSaltSync(C)),typeof E!="string"||typeof C!="string")throw Error("Illegal arguments: "+typeof E+", "+typeof C);return z(E,C)},t.hash=function(E,C,Q,L){function D(S){typeof E=="string"&&typeof C=="number"?t.genSalt(C,function(O,R){z(E,R,S,L)}):typeof E=="string"&&typeof C=="string"?z(E,C,S,L):o(S.bind(this,Error("Illegal arguments: "+typeof E+", "+typeof C)))}if(Q){if(typeof Q!="function")throw Error("Illegal callback: "+typeof Q);D(Q)}else return new Promise(function(S,O){D(function(R,W){if(R){O(R);return}S(W)})})};function i(E,C){for(var Q=0,L=0,D=0,S=E.length;D<S;++D)E.charCodeAt(D)===C.charCodeAt(D)?++Q:++L;return Q<0?!1:L===0}t.compareSync=function(E,C){if(typeof E!="string"||typeof C!="string")throw Error("Illegal arguments: "+typeof E+", "+typeof C);return C.length!==60?!1:i(t.hashSync(E,C.substr(0,C.length-31)),C)},t.compare=function(E,C,Q,L){function D(S){if(typeof E!="string"||typeof C!="string"){o(S.bind(this,Error("Illegal arguments: "+typeof E+", "+typeof C)));return}if(C.length!==60){o(S.bind(this,null,!1));return}t.hash(E,C.substr(0,29),function(O,R){O?S(O):S(null,i(R,C))},L)}if(Q){if(typeof Q!="function")throw Error("Illegal callback: "+typeof Q);D(Q)}else return new Promise(function(S,O){D(function(R,W){if(R){O(R);return}S(W)})})},t.getRounds=function(E){if(typeof E!="string")throw Error("Illegal arguments: "+typeof E);return parseInt(E.split("$")[2],10)},t.getSalt=function(E){if(typeof E!="string")throw Error("Illegal arguments: "+typeof E);if(E.length!==60)throw Error("Illegal hash length: "+E.length+" != 60");return E.substring(0,29)};var o=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function c(E){var C=[],Q=0;return h.encodeUTF16toUTF8(function(){return Q>=E.length?null:E.charCodeAt(Q++)},function(L){C.push(L)}),C}var l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),A=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],u=String.fromCharCode;function d(E,C){var Q=0,L=[],D,S;if(C<=0||C>E.length)throw Error("Illegal len: "+C);for(;Q<C;){if(D=E[Q++]&255,L.push(l[D>>2&63]),D=(D&3)<<4,Q>=C){L.push(l[D&63]);break}if(S=E[Q++]&255,D|=S>>4&15,L.push(l[D&63]),D=(S&15)<<2,Q>=C){L.push(l[D&63]);break}S=E[Q++]&255,D|=S>>6&3,L.push(l[D&63]),L.push(l[S&63])}return L.join("")}function f(E,C){var Q=0,L=E.length,D=0,S=[],O,R,W,M,q,B;if(C<=0)throw Error("Illegal len: "+C);for(;Q<L-1&&D<C&&(B=E.charCodeAt(Q++),O=B<A.length?A[B]:-1,B=E.charCodeAt(Q++),R=B<A.length?A[B]:-1,!(O==-1||R==-1||(q=O<<2>>>0,q|=(R&48)>>4,S.push(u(q)),++D>=C||Q>=L)||(B=E.charCodeAt(Q++),W=B<A.length?A[B]:-1,W==-1)||(q=(R&15)<<4>>>0,q|=(W&60)>>2,S.push(u(q)),++D>=C||Q>=L)));)B=E.charCodeAt(Q++),M=B<A.length?A[B]:-1,q=(W&3)<<6>>>0,q|=M,S.push(u(q)),++D;var I=[];for(Q=0;Q<D;Q++)I.push(S[Q].charCodeAt(0));return I}var h=function(){var E={};return E.MAX_CODEPOINT=1114111,E.encodeUTF8=function(C,Q){var L=null;for(typeof C=="number"&&(L=C,C=function(){return null});L!==null||(L=C())!==null;)L<128?Q(L&127):L<2048?(Q(L>>6&31|192),Q(L&63|128)):L<65536?(Q(L>>12&15|224),Q(L>>6&63|128),Q(L&63|128)):(Q(L>>18&7|240),Q(L>>12&63|128),Q(L>>6&63|128),Q(L&63|128)),L=null},E.decodeUTF8=function(C,Q){for(var L,D,S,O,R=function(W){W=W.slice(0,W.indexOf(null));var M=Error(W.toString());throw M.name="TruncatedError",M.bytes=W,M};(L=C())!==null;)if(!(L&128))Q(L);else if((L&224)===192)(D=C())===null&&R([L,D]),Q((L&31)<<6|D&63);else if((L&240)===224)((D=C())===null||(S=C())===null)&&R([L,D,S]),Q((L&15)<<12|(D&63)<<6|S&63);else if((L&248)===240)((D=C())===null||(S=C())===null||(O=C())===null)&&R([L,D,S,O]),Q((L&7)<<18|(D&63)<<12|(S&63)<<6|O&63);else throw RangeError("Illegal starting byte: "+L)},E.UTF16toUTF8=function(C,Q){for(var L,D=null;(L=D!==null?D:C())!==null;){if(L>=55296&&L<=57343&&(D=C())!==null&&D>=56320&&D<=57343){Q((L-55296)*1024+D-56320+65536),D=null;continue}Q(L)}D!==null&&Q(D)},E.UTF8toUTF16=function(C,Q){var L=null;for(typeof C=="number"&&(L=C,C=function(){return null});L!==null||(L=C())!==null;)L<=65535?Q(L):(L-=65536,Q((L>>10)+55296),Q(L%1024+56320)),L=null},E.encodeUTF16toUTF8=function(C,Q){E.UTF16toUTF8(C,function(L){E.encodeUTF8(L,Q)})},E.decodeUTF8toUTF16=function(C,Q){E.decodeUTF8(C,function(L){E.UTF8toUTF16(L,Q)})},E.calculateCodePoint=function(C){return C<128?1:C<2048?2:C<65536?3:4},E.calculateUTF8=function(C){for(var Q,L=0;(Q=C())!==null;)L+=E.calculateCodePoint(Q);return L},E.calculateUTF16asUTF8=function(C){var Q=0,L=0;return E.UTF16toUTF8(C,function(D){++Q,L+=E.calculateCodePoint(D)}),[Q,L]},E}();Date.now=Date.now||function(){return+new Date};var p=16,m=10,x=16,v=100,y=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],b=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],_=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function N(E,C,Q,L){var D,S=E[C],O=E[C+1];return S^=Q[0],D=L[S>>>24],D+=L[256|S>>16&255],D^=L[512|S>>8&255],D+=L[768|S&255],O^=D^Q[1],D=L[O>>>24],D+=L[256|O>>16&255],D^=L[512|O>>8&255],D+=L[768|O&255],S^=D^Q[2],D=L[S>>>24],D+=L[256|S>>16&255],D^=L[512|S>>8&255],D+=L[768|S&255],O^=D^Q[3],D=L[O>>>24],D+=L[256|O>>16&255],D^=L[512|O>>8&255],D+=L[768|O&255],S^=D^Q[4],D=L[S>>>24],D+=L[256|S>>16&255],D^=L[512|S>>8&255],D+=L[768|S&255],O^=D^Q[5],D=L[O>>>24],D+=L[256|O>>16&255],D^=L[512|O>>8&255],D+=L[768|O&255],S^=D^Q[6],D=L[S>>>24],D+=L[256|S>>16&255],D^=L[512|S>>8&255],D+=L[768|S&255],O^=D^Q[7],D=L[O>>>24],D+=L[256|O>>16&255],D^=L[512|O>>8&255],D+=L[768|O&255],S^=D^Q[8],D=L[S>>>24],D+=L[256|S>>16&255],D^=L[512|S>>8&255],D+=L[768|S&255],O^=D^Q[9],D=L[O>>>24],D+=L[256|O>>16&255],D^=L[512|O>>8&255],D+=L[768|O&255],S^=D^Q[10],D=L[S>>>24],D+=L[256|S>>16&255],D^=L[512|S>>8&255],D+=L[768|S&255],O^=D^Q[11],D=L[O>>>24],D+=L[256|O>>16&255],D^=L[512|O>>8&255],D+=L[768|O&255],S^=D^Q[12],D=L[S>>>24],D+=L[256|S>>16&255],D^=L[512|S>>8&255],D+=L[768|S&255],O^=D^Q[13],D=L[O>>>24],D+=L[256|O>>16&255],D^=L[512|O>>8&255],D+=L[768|O&255],S^=D^Q[14],D=L[S>>>24],D+=L[256|S>>16&255],D^=L[512|S>>8&255],D+=L[768|S&255],O^=D^Q[15],D=L[O>>>24],D+=L[256|O>>16&255],D^=L[512|O>>8&255],D+=L[768|O&255],S^=D^Q[16],E[C]=O^Q[x+1],E[C+1]=S,E}function P(E,C){for(var Q=0,L=0;Q<4;++Q)L=L<<8|E[C]&255,C=(C+1)%E.length;return{key:L,offp:C}}function T(E,C,Q){for(var L=0,D=[0,0],S=C.length,O=Q.length,R,W=0;W<S;W++)R=P(E,L),L=R.offp,C[W]=C[W]^R.key;for(W=0;W<S;W+=2)D=N(D,0,C,Q),C[W]=D[0],C[W+1]=D[1];for(W=0;W<O;W+=2)D=N(D,0,C,Q),Q[W]=D[0],Q[W+1]=D[1]}function j(E,C,Q,L){for(var D=0,S=[0,0],O=Q.length,R=L.length,W,M=0;M<O;M++)W=P(C,D),D=W.offp,Q[M]=Q[M]^W.key;for(D=0,M=0;M<O;M+=2)W=P(E,D),D=W.offp,S[0]^=W.key,W=P(E,D),D=W.offp,S[1]^=W.key,S=N(S,0,Q,L),Q[M]=S[0],Q[M+1]=S[1];for(M=0;M<R;M+=2)W=P(E,D),D=W.offp,S[0]^=W.key,W=P(E,D),D=W.offp,S[1]^=W.key,S=N(S,0,Q,L),L[M]=S[0],L[M+1]=S[1]}function k(E,C,Q,L,D){var S=_.slice(),O=S.length,R;if(Q<4||Q>31)if(R=Error("Illegal number of rounds (4-31): "+Q),L){o(L.bind(this,R));return}else throw R;if(C.length!==p)if(R=Error("Illegal salt length: "+C.length+" != "+p),L){o(L.bind(this,R));return}else throw R;Q=1<<Q>>>0;var W,M,q=0,B;Int32Array?(W=new Int32Array(y),M=new Int32Array(b)):(W=y.slice(),M=b.slice()),j(C,E,W,M);function I(){if(D&&D(q/Q),q<Q)for(var G=Date.now();q<Q&&(q=q+1,T(E,W,M),T(C,W,M),!(Date.now()-G>v)););else{for(q=0;q<64;q++)for(B=0;B<O>>1;B++)N(S,B<<1,W,M);var J=[];for(q=0;q<O;q++)J.push((S[q]>>24&255)>>>0),J.push((S[q]>>16&255)>>>0),J.push((S[q]>>8&255)>>>0),J.push((S[q]&255)>>>0);if(L){L(null,J);return}else return J}L&&o(I)}if(typeof L<"u")I();else for(var H;;)if(typeof(H=I())<"u")return H||[]}function z(E,C,Q,L){var D;if(typeof E!="string"||typeof C!="string")if(D=Error("Invalid string / salt: Not a string"),Q){o(Q.bind(this,D));return}else throw D;var S,O;if(C.charAt(0)!=="$"||C.charAt(1)!=="2")if(D=Error("Invalid salt version: "+C.substring(0,2)),Q){o(Q.bind(this,D));return}else throw D;if(C.charAt(2)==="$")S="\0",O=3;else{if(S=C.charAt(2),S!=="a"&&S!=="b"&&S!=="y"||C.charAt(3)!=="$")if(D=Error("Invalid salt revision: "+C.substring(2,4)),Q){o(Q.bind(this,D));return}else throw D;O=4}if(C.charAt(O+2)>"$")if(D=Error("Missing salt rounds"),Q){o(Q.bind(this,D));return}else throw D;var R=parseInt(C.substring(O,O+1),10)*10,W=parseInt(C.substring(O+1,O+2),10),M=R+W,q=C.substring(O+3,O+25);E+=S>="a"?"\0":"";var B=c(E),I=f(q,p);function H(G){var J=[];return J.push("$2"),S>="a"&&J.push(S),J.push("$"),M<10&&J.push("0"),J.push(M.toString()),J.push("$"),J.push(d(I,I.length)),J.push(d(G,_.length*4-1)),J.join("")}if(typeof Q>"u")return H(k(B,I,M));k(B,I,M,function(G,J){G?Q(G,null):Q(null,H(J))},L)}return t.encodeBase64=d,t.decodeBase64=f,t})})(TU);var JY=TU.exports;const Ja=Mt(JY),XY=async()=>{try{const e=JSON.parse(localStorage.getItem("clients")||"[]"),t=JSON.parse(localStorage.getItem("projects")||"[]"),r=JSON.parse(localStorage.getItem("distributors")||"[]");let n=0;for(const o of e)try{await $e.createClient(o),n++}catch(c){console.error(`Error migrating client ${o.name}:`,c)}for(const o of t)try{await $e.createProject({projectNumber:o.projectNumber,date:o.date,location:o.location,client:o.client,status:o.status,description:o.description}),n++}catch(c){console.error(`Error migrating project ${o.projectNumber}:`,c)}const s=await $e.getProjects(),i=new Map;s.forEach(o=>{const c=t.find(l=>l.projectNumber===o.project_number);c&&i.set(c.id,o.id)});for(const o of r)try{const c=t.find(A=>A.projectNumber===o.projectnummer),l=c?i.get(c.id):null;await $e.createDistributor({distributorId:o.distributorId,projectId:l,kastNaam:o.kastNaam,systeem:o.systeem,voeding:o.voeding,bouwjaar:o.bouwjaar,keuringDatum:o.keuringDatum,getestDoor:o.getestDoor,unInV:o.unInV,inInA:o.inInA,ikThInKA1s:o.ikThInKA1s,ikDynInKA:o.ikDynInKA,freqInHz:o.freqInHz,typeNrHs:o.typeNrHs,fabrikant:o.fabrikant,profilePhoto:o.profilePhoto,status:o.status}),n++}catch(c){console.error(`Error migrating distributor ${o.distributorId}:`,c)}return localStorage.removeItem("projects"),localStorage.removeItem("distributors"),localStorage.removeItem("fileStructure"),ge.success(`${n} items succesvol gemigreerd naar de database!`),!0}catch(e){return console.error("Error during migration:",e),ge.error("Er is een fout opgetreden tijdens de migratie"),!1}},V_=e=>!e.id||typeof e.id!="string"||e.id.length<10?{...e,id:Dl()}:e,YY=()=>{const e=_s(),[t,r]=$.useState(""),[n,s]=$.useState(""),[i,o]=$.useState(!1),[c,l]=$.useState(!1),[A,u]=$.useState(""),[d,f]=$.useState(!1);fe.useEffect(()=>{h()},[]);const h=()=>{const m=JSON.parse(localStorage.getItem("users")||"[]"),x=m.map(V_);if((x.length!==m.length||x.some((v,y)=>{var b;return v.id!==((b=m[y])==null?void 0:b.id)}))&&localStorage.setItem("users",JSON.stringify(x)),m.length===0){const v=[{id:Dl(),username:"admin",email:"admin@ewp.nl",password:Ja.hashSync("admin123",10),role:"admin",createdAt:new Date().toISOString(),profilePicture:""},{id:Dl(),username:"Patrick Herman",email:"patrick@ewpmidden.nl",password:Ja.hashSync("Welkom123",10),role:"admin",createdAt:new Date().toISOString(),profilePicture:""},{id:Dl(),username:"Stefano de Weger",email:"stefano.deweger@ewp-paneelbouw.nl",password:Ja.hashSync("Welkom123",10),role:"admin",createdAt:new Date().toISOString(),profilePicture:""},{id:Dl(),username:"Lysander koenraadt",email:"lysander.koenraadt@ewp-paneelbouw.nl",password:Ja.hashSync("Welkom123",10),role:"admin",createdAt:new Date().toISOString(),profilePicture:""}];localStorage.setItem("users",JSON.stringify(v))}},p=async m=>{if(m.preventDefault(),l(!1),u(""),!t||!n){l(!0),u("Vul je gebruikersnaam en wachtwoord in!");return}try{console.log("Attempting database authentication for:",t);let x=null,v=[];try{const T=await $e.getUsers();console.log("Database users found:",T.length),x=T.find(j=>j.username===t),v=T,x&&(console.log("User found in database:",x.username),localStorage.setItem("users",JSON.stringify(T)))}catch(T){console.log("Database authentication failed, trying localStorage:",T)}const y=JSON.parse(localStorage.getItem("users")||"[]");if(x||(x=y.find(T=>T.username===t),v=y,x&&console.log("User found in localStorage:",x.username)),!x){l(!0),u("Gebruiker niet gevonden. Controleer je gebruikersnaam.");return}if(x.isActive===!1){l(!0),u("Je account is geblokkeerd. Neem contact op met de beheerder.");return}if(!Ja.compareSync(n,x.password)){l(!0),u("Verkeerd wachtwoord. Probeer het opnieuw.");return}console.log("Authentication successful for:",x.username);const _={...V_(x),lastLogin:new Date().toISOString()};try{await $e.updateUser(_.id,_),console.log("Last login updated in database")}catch(T){console.log("Failed to update last login in database:",T)}const N=v.map(T=>T.username===t?_:T);if(localStorage.setItem("users",JSON.stringify(N)),localStorage.setItem("currentUserId",_.id),localStorage.setItem("loggedIn","true"),console.log("🔄 LOGIN: Forcing permission refresh for user:",_.username),localStorage.getItem("projects")||localStorage.getItem("distributors")){f(!0);const T=await XY();f(!1)}ge.success("Succesvol ingelogd!"),setTimeout(()=>{e("/dashboard")},100)}catch(x){console.error("Login error:",x),l(!0),u("Er is een fout opgetreden bij het inloggen. Probeer het opnieuw.")}};return a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-900 via-[#1a1a1a] to-[#111] p-4",children:[a.jsx("div",{className:"mb-8",children:a.jsx("img",{src:Ly,alt:"EWP Paneelbouw",className:"h-32 w-auto"})}),a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"card p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Welkom terug"}),a.jsx("p",{className:"text-gray-400",children:"Log in op je account"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Gebruikersnaam"}),a.jsx("input",{type:"text",value:t,onChange:m=>r(m.target.value),className:`input-field ${c?"border-red-500":""}`,placeholder:"Voer je gebruikersnaam in",disabled:d})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Wachtwoord"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:i?"text":"password",value:n,onChange:m=>s(m.target.value),className:`input-field pr-10 ${c?"border-red-500":""}`,placeholder:"••••••••",disabled:d}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition",children:i?a.jsx(wT,{size:20}):a.jsx(Bo,{size:20})})]})]}),c&&a.jsx("p",{className:"text-red-500 text-sm",children:A})]}),a.jsx("button",{type:"submit",className:"btn-primary w-full flex items-center justify-center space-x-2",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Gegevens migreren..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(a$,{size:20}),a.jsx("span",{children:"Inloggen"})]})})]})]}),a.jsx("p",{className:"text-center text-gray-500 text-sm mt-8",children:"© 2025 Process Improvement B.V. Alle rechten voorbehouden."})]})]})},ZY=()=>{const e=_s();return a.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] flex flex-col items-center justify-center text-white space-y-6",children:[a.jsx("h1",{className:"text-4xl font-bold",children:"404 - Pagina niet gevonden"}),a.jsx("p",{className:"text-gray-400",children:"Oeps! Deze pagina bestaat niet."}),a.jsx("button",{onClick:()=>e("/dashboard"),className:"bg-[#4169e1] hover:bg-blue-600 transition text-white px-6 py-2 rounded-xl",children:"Ga naar dashboard"})]})},eZ=()=>{var q;const[e,t]=$.useState([]),[r,n]=$.useState(!0),[s,i]=$.useState(!1),[o,c]=$.useState(null),[l,A]=$.useState(""),[u,d]=$.useState("all"),[f,h]=$.useState(!1),[p,m]=$.useState(!1),[x,v]=$.useState({username:"",email:"",password:"",confirmPassword:"",role:"standard_user",assignedLocations:[],profilePicture:"",notes:"",customPermissions:!1}),[y,b]=$.useState({});$.useEffect(()=>{_()},[]);const _=async()=>{try{n(!0);const B=JSON.parse(localStorage.getItem("users")||"[]");console.log("Loaded users from localStorage:",B.length);const I=B.map(H=>({...H,permissions:H.permissions||N(H.role||"standard_user"),isActive:H.isActive!==!1,assignedLocations:H.assignedLocations||[]}));t(I);try{const H=await $e.getUsers();console.log("Database users loaded:",H.length);const G=I.map(J=>{const ie=H.find(Ae=>Ae.id===J.id);return ie?{...ie,...J}:J});t(G)}catch(H){console.log("Database sync failed, using localStorage only:",H)}}catch(B){console.error("Error loading users:",B),ge.error("Er is een fout opgetreden bij het laden van de gebruikers")}finally{n(!1)}},N=B=>{var I;return((I=lo[B])==null?void 0:I.permissions)||lo.standard_user.permissions},P=B=>{console.log("Role changing to:",B);const I=N(B);if(v(H=>({...H,role:B})),b(I),o){const H={...o,role:B,permissions:I};console.log("Updated editing user with new role:",H),c(H)}},T=B=>{console.log("Editing user:",B),c(B),v({username:B.username,email:B.email,password:"",confirmPassword:"",role:B.role,assignedLocations:B.assignedLocations||[],profilePicture:B.profilePicture||"",notes:B.notes||"",customPermissions:!1}),b(B.permissions),i(!0)},j=async()=>{if(!x.username.trim()||!x.email.trim()){ge.error("Vul alle verplichte velden in!");return}if(o){if(x.password&&x.password!==x.confirmPassword){ge.error("Wachtwoorden komen niet overeen!");return}if(e.find(I=>I.id!==o.id&&(I.username===x.username||I.email===x.email))){ge.error("Gebruikersnaam of e-mail is al in gebruik!");return}try{let I;x.customPermissions?(console.log("🔐 SAVE: Using CUSTOM permissions"),console.log("🔐 SAVE: Custom permissions state:",y),I={...y}):(console.log("🔐 SAVE: Using ROLE-BASED permissions for role:",x.role),I=N(x.role)),console.log("🔐 SAVE: Final permissions being saved:",I),console.log("🔐 SAVE: Custom permissions enabled:",x.customPermissions);const H={...o,username:x.username,email:x.email,password:x.password?Ja.hashSync(x.password,10):o.password,role:x.role,permissions:I,assignedLocations:x.assignedLocations,assignedLocations:x.assignedLocations,profilePicture:x.profilePicture,notes:x.notes,isActive:o.isActive,lastModifiedAt:new Date().toISOString(),lastModifiedBy:S()};console.log("🔐 SAVE: Complete updated user object:",H),console.log("🔐 SAVE: User role changed from",o.role,"to",H.role),console.log("🔐 SAVE: User permissions:",H.permissions),console.log("🌍 SAVE: User assigned locations:",H.assignedLocations),console.log("🌍 SAVE: Form data locations:",x.assignedLocations);try{await $e.updateUser(H.id,H),console.log("✅ SAVE: User updated in database successfully")}catch(se){console.log("⚠️ SAVE: Database update failed, updating localStorage only:",se)}const G=e.map(se=>se.id===o.id?H:se);localStorage.setItem("users",JSON.stringify(G)),console.log("✅ SAVE: Updated localStorage with new user data"),console.log("✅ SAVE: Saved assigned locations to localStorage:",H.assignedLocations);const ie=JSON.parse(localStorage.getItem("users")||"[]").find(se=>se.id===o.id);console.log("🔍 VERIFY: User after localStorage save:",ie==null?void 0:ie.assignedLocations),t(G),localStorage.getItem("currentUserId")===o.id&&(console.log("🔄 SAVE: Updated current user - forcing permission refresh"),setTimeout(()=>{console.log("🔄 SAVE: Reloading page to refresh all permissions..."),window.location.reload()},500)),ge.success("Gebruiker succesvol bijgewerkt!"),C()}catch(I){console.error("Error updating user:",I),ge.error("Er is een fout opgetreden bij het bijwerken van de gebruiker")}}else{if(!x.password||x.password!==x.confirmPassword){ge.error("Wachtwoorden zijn verplicht en moeten overeenkomen!");return}if(e.find(I=>I.username===x.username||I.email===x.email)){ge.error("Gebruikersnaam of e-mail is al in gebruik!");return}try{const I=x.customPermissions?y:N(x.role),H={id:Dl(),username:x.username,email:x.email,password:Ja.hashSync(x.password,10),role:x.role,permissions:I,assignedLocations:x.assignedLocations,assignedLocations:x.assignedLocations,profilePicture:x.profilePicture,notes:x.notes,createdAt:new Date().toISOString(),createdBy:S(),isActive:!0};console.log("Creating new user:",H),console.log("🌍 NEW USER: Assigned locations:",H.assignedLocations);try{await $e.createUser(H),console.log("User created in database successfully")}catch(J){console.log("Database creation failed, saving to localStorage only:",J)}const G=[H,...e];localStorage.setItem("users",JSON.stringify(G)),t(G),ge.success("Gebruiker succesvol aangemaakt!"),C()}catch(I){console.error("Error creating user:",I),ge.error("Er is een fout opgetreden bij het aanmaken van de gebruiker")}}},k=async B=>{const I=e.find(H=>H.id===B);if(I&&window.confirm(`Weet je zeker dat je gebruiker "${I.username}" wilt verwijderen?`))try{try{await $e.deleteUser(B),console.log("User deleted from database")}catch(G){console.log("Database deletion failed, removing from localStorage only:",G)}const H=e.filter(G=>G.id!==B);localStorage.setItem("users",JSON.stringify(H)),t(H),ge.success("Gebruiker verwijderd!")}catch(H){console.error("Error deleting user:",H),ge.error("Er is een fout opgetreden bij het verwijderen van de gebruiker")}},z=async B=>{const I=e.find(H=>H.id===B);if(I&&window.confirm(`Weet je zeker dat je gebruiker "${I.username}" wilt blokkeren? Deze gebruiker kan dan niet meer inloggen.`))try{const H={...I,isActive:!1};try{await $e.updateUser(B,H),console.log("User blocked in database")}catch(J){console.log("Database update failed, updating localStorage only:",J)}const G=e.map(J=>J.id===B?H:J);localStorage.setItem("users",JSON.stringify(G)),t(G),ge.success(`Gebruiker "${I.username}" is geblokkeerd!`)}catch(H){console.error("Error blocking user:",H),ge.error("Er is een fout opgetreden bij het blokkeren van de gebruiker")}},E=async B=>{const I=e.find(H=>H.id===B);if(I&&window.confirm(`Weet je zeker dat je gebruiker "${I.username}" wilt deblokkeren? Deze gebruiker kan dan weer inloggen.`))try{const H={...I,isActive:!0};try{await $e.updateUser(B,H),console.log("User unblocked in database")}catch(J){console.log("Database update failed, updating localStorage only:",J)}const G=e.map(J=>J.id===B?H:J);localStorage.setItem("users",JSON.stringify(G)),t(G),ge.success(`Gebruiker "${I.username}" is gedeblokkeerd!`)}catch(H){console.error("Error unblocking user:",H),ge.error("Er is een fout opgetreden bij het deblokkeren van de gebruiker")}},C=()=>{i(!1),c(null),v({username:"",email:"",password:"",confirmPassword:"",role:"standard_user",assignedLocations:[],profilePicture:"",notes:"",customPermissions:!1}),b(N("standard_user")),m(!1)},Q=(B,I,H)=>{b(G=>({...G,[B]:{...G[B],[I]:H}}))},L=(B,I)=>{v(H=>({...H,assignedLocations:I?[...H.assignedLocations,B]:H.assignedLocations.filter(G=>G!==B)}))},D=B=>{v(I=>({...I,assignedLocations:B?[...ss]:[]}))},S=()=>localStorage.getItem("currentUserId")||"unknown",O=B=>({admin:Eh,standard_user:ko,tester:ns,servicedesk:r$,planner:qn,projectleider:Z9,magazijn:Sg,logistiek:NT,montage:CT,finance:t$})[B]||ko,R=B=>{var I;return((I=lo[B])==null?void 0:I.color)||"bg-gray-500"},W=e.filter(B=>{const I=B.username.toLowerCase().includes(l.toLowerCase())||B.email.toLowerCase().includes(l.toLowerCase())||B.role.toLowerCase().includes(l.toLowerCase()),H=u==="all"||B.role===u;return I&&H}),M=()=>{let B=0;return l&&B++,u!=="all"&&B++,B};return r?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Gebruikers laden..."})]})})}):a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Gebruikersbeheer"}),a.jsx("p",{className:"text-gray-400",children:"Beheer gebruikers, rollen en toegangsrechten"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>h(!f),className:`btn-secondary flex items-center space-x-2 ${M()>0?"bg-blue-500/20 text-blue-400":""}`,children:[a.jsx(kg,{size:16}),a.jsx("span",{children:"Filters"}),M()>0&&a.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:M()})]}),a.jsxs("button",{onClick:()=>i(!0),className:"btn-primary flex items-center space-x-2",children:[a.jsx(BT,{size:20}),a.jsx("span",{children:"Gebruiker toevoegen"})]})]})]})}),f&&a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Zoeken op naam, email of rol...",className:"input-field pl-10",value:l,onChange:B=>A(B.target.value)})]}),a.jsx("div",{children:a.jsxs("select",{className:"input-field",value:u,onChange:B=>d(B.target.value),children:[a.jsx("option",{value:"all",children:"Alle rollen"}),Object.entries(lo).map(([B,I])=>a.jsx("option",{value:B,children:I.name},B))]})})]})}),a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"table-header text-left",children:"Gebruiker"}),a.jsx("th",{className:"table-header text-left",children:"Rol"}),a.jsx("th",{className:"table-header text-left",children:"E-mail"}),a.jsx("th",{className:"table-header text-left",children:"Status"}),a.jsx("th",{className:"table-header text-left",children:"Aangemaakt"}),a.jsx("th",{className:"table-header text-right",children:"Acties"})]})}),a.jsx("tbody",{children:W.map(B=>{var H,G;const I=O(B.role);return a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[B.profilePicture?a.jsx("img",{src:B.profilePicture,alt:B.username,className:"w-10 h-10 rounded-full object-cover"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold",children:B.username.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:B.username}),a.jsx("div",{className:"flex items-center space-x-2 mt-1",children:B.assignedLocations&&B.assignedLocations.length>0?B.assignedLocations.length===ss.length?a.jsx("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full",children:"Alle locaties"}):a.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded-full",children:B.assignedLocations.join(", ")}):a.jsx("span",{className:"text-xs bg-gray-500/20 text-gray-400 px-2 py-1 rounded-full",children:"Geen locaties"})}),B.notes&&a.jsx("p",{className:"text-sm text-gray-400 truncate max-w-xs",children:B.notes})]})]})}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`p-2 rounded-lg ${R(B.role)}/20`,children:a.jsx(I,{size:16,className:`${R(B.role).replace("bg-","text-")}`})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-white",children:((H=lo[B.role])==null?void 0:H.name)||B.role}),a.jsx("p",{className:"text-xs text-gray-400",children:(G=lo[B.role])==null?void 0:G.description})]})]})}),a.jsx("td",{className:"py-4 text-gray-300",children:B.email}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${B.isActive?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:B.isActive?"Actief":"Inactief"})}),a.jsx("td",{className:"py-4 text-gray-300",children:new Date(B.createdAt).toLocaleDateString("nl-NL")}),a.jsx("td",{className:"py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[B.isActive?a.jsx("button",{onClick:()=>z(B.id),className:"p-2 bg-[#2A303C] hover:bg-red-500/20 rounded-lg transition-colors group",title:"Gebruiker blokkeren",children:a.jsx(gt,{size:16,className:"text-gray-400 group-hover:text-red-400"})}):a.jsx("button",{onClick:()=>E(B.id),className:"p-2 bg-[#2A303C] hover:bg-green-500/20 rounded-lg transition-colors group",title:"Gebruiker deblokkeren",children:a.jsx(ja,{size:16,className:"text-gray-400 group-hover:text-green-400"})}),a.jsx("button",{onClick:()=>T(B),className:"p-2 bg-[#2A303C] hover:bg-blue-500/20 rounded-lg transition-colors group",title:"Bewerken",children:a.jsx(Op,{size:16,className:"text-gray-400 group-hover:text-blue-400"})}),a.jsx("button",{onClick:()=>k(B.id),className:"p-2 bg-[#2A303C] hover:bg-red-500/20 rounded-lg transition-colors group",title:"Verwijderen",children:a.jsx(Zr,{size:16,className:"text-gray-400 group-hover:text-red-400"})})]})})]},B.id)})})]}),W.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ko,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Geen gebruikers gevonden"})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-blue-400",children:o?"Gebruiker bewerken":"Nieuwe gebruiker aanmaken"}),a.jsx("button",{onClick:C,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-4",children:"Basis Informatie"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Gebruikersnaam ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",className:"input-field",value:x.username,onChange:B=>v({...x,username:B.target.value}),placeholder:"Voer gebruikersnaam in",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["E-mail ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"email",className:"input-field",value:x.email,onChange:B=>v({...x,email:B.target.value}),placeholder:"gebruiker@bedrijf.nl",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:[o?"Nieuw wachtwoord (optioneel)":"Wachtwoord",!o&&a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:p?"text":"password",className:"input-field pr-10",value:x.password,onChange:B=>v({...x,password:B.target.value}),placeholder:o?"Laat leeg om ongewijzigd te laten":"Voer wachtwoord in",required:!o}),a.jsx("button",{type:"button",onClick:()=>m(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:p?a.jsx(wT,{size:20}):a.jsx(Bo,{size:20})})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:[o?"Bevestig nieuw wachtwoord":"Bevestig wachtwoord",!o&&a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:p?"text":"password",className:"input-field",value:x.confirmPassword,onChange:B=>v({...x,confirmPassword:B.target.value}),placeholder:o?"Bevestig nieuw wachtwoord":"Bevestig wachtwoord",required:!o||!!x.password})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Opmerkingen"}),a.jsx("textarea",{className:"input-field h-24",value:x.notes,onChange:B=>v({...x,notes:B.target.value}),placeholder:"Optionele opmerkingen over deze gebruiker..."})]}),o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Account Status"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"userStatus",checked:o.isActive===!0,onChange:()=>c({...o,isActive:!0}),className:"form-radio text-green-500"}),a.jsx("span",{className:"text-green-400",children:"Actief"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",name:"userStatus",checked:o.isActive===!1,onChange:()=>c({...o,isActive:!1}),className:"form-radio text-red-500"}),a.jsx("span",{className:"text-red-400",children:"Geblokkeerd"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Geblokkeerde gebruikers kunnen niet inloggen"})]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-4",children:"Rol & Toegangsrechten"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Gebruikersrol ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("select",{className:"input-field",value:x.role,onChange:B=>{console.log("Role dropdown changed to:",B.target.value),P(B.target.value)},children:Object.entries(lo).map(([B,I])=>a.jsx("option",{value:B,children:I.name},B))}),a.jsxs("div",{className:"mt-2 p-3 bg-[#2A303C]/50 rounded-lg",children:[a.jsx("div",{className:"flex items-center space-x-2",children:(()=>{var H;const B=x.role,I=O(B);return a.jsxs(a.Fragment,{children:[a.jsx(I,{size:16,className:"text-blue-400"}),a.jsxs("span",{className:"text-sm text-blue-400",children:["Geselecteerde rol: ",(H=lo[B])==null?void 0:H.name]})]})})()}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(q=lo[x.role])==null?void 0:q.description})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("input",{type:"checkbox",checked:x.customPermissions,onChange:B=>v({...x,customPermissions:B.target.checked}),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"Aangepaste permissies"})]}),x.customPermissions&&a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-lg p-4 max-h-96 overflow-y-auto",children:[a.jsx("h4",{className:"font-medium text-gray-300 mb-4",children:"Module Toegangsrechten"}),a.jsx("div",{className:"space-y-4",children:Object.entries(y).map(([B,I])=>a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-blue-400 mb-3 capitalize",children:B}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:Object.entries(I).map(([H,G])=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:G,onChange:J=>Q(B,H,J.target.checked),className:"form-checkbox"}),a.jsx("span",{className:"text-xs text-gray-400 capitalize",children:H})]},H))})]},B))})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-300 mb-4",children:"Locatie Toegang"}),a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-lg p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:x.assignedLocations.length===ss.length,onChange:B=>D(B.target.checked),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400 font-medium",children:"Alle locaties"})]})}),a.jsx("div",{className:"space-y-2",children:ss.map(B=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:x.assignedLocations.includes(B),onChange:I=>L(B,I.target.checked),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:B})]},B))}),a.jsx("div",{className:"mt-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:a.jsx("p",{className:"text-xs text-blue-300",children:'💡 Gebruikers zien alleen projecten van hun toegewezen locaties. Selecteer "Alle locaties" voor volledige toegang.'})})]})]})]})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-700",children:[a.jsx("button",{onClick:C,className:"btn-secondary",children:"Annuleren"}),a.jsxs("button",{onClick:j,className:"btn-primary flex items-center space-x-2",children:[a.jsx(BA,{size:20}),a.jsx("span",{children:o?"Gebruiker bijwerken":"Gebruiker aanmaken"})]})]})]})})]})},tZ=()=>a.jsx(eZ,{}),rZ=()=>{const[e,t]=$.useState(null),[r,n]=$.useState(!1),[s,i]=$.useState({email:"",currentPassword:"",newPassword:"",confirmPassword:"",profilePicture:""});$.useEffect(()=>{const u=localStorage.getItem("currentUserId");u&&o(u)},[]);const o=async u=>{try{const f=JSON.parse(localStorage.getItem("users")||"[]").find(h=>h.id===u);if(f){t(f),i(h=>({...h,email:f.email,profilePicture:f.profilePicture||f.profile_picture||""}));return}try{const p=(await $e.getUsers()).find(m=>m.id===u);p&&(t(p),i(m=>({...m,email:p.email,profilePicture:p.profilePicture||p.profile_picture||""})))}catch(h){console.error("Database fallback failed:",h)}}catch(d){console.error("Error loading current user:",d)}},c=u=>{if(u.target.files&&u.target.files[0]){const d=u.target.files[0],f=new FileReader;f.onloadend=()=>{i(h=>({...h,profilePicture:f.result}))},f.readAsDataURL(d)}},l=()=>{n(!1),i(u=>({...u,currentPassword:"",newPassword:"",confirmPassword:"",email:(e==null?void 0:e.email)||"",profilePicture:(e==null?void 0:e.profilePicture)||(e==null?void 0:e.profile_picture)||""}))},A=async()=>{if(e)try{let u={...e};if(s.newPassword){if(!s.currentPassword){ge.error("Vul je huidige wachtwoord in!");return}if(!Ja.compareSync(s.currentPassword,e.password)){ge.error("Huidig wachtwoord is onjuist!");return}if(s.newPassword!==s.confirmPassword){ge.error("Nieuwe wachtwoorden komen niet overeen!");return}u.password=Ja.hashSync(s.newPassword,10)}if(s.email!==e.email||s.profilePicture!==(e.profilePicture||e.profile_picture)){if(s.email!==e.email&&(await $e.getUsers()).some(f=>f.id!==e.id&&f.email===s.email)){ge.error("Dit e-mailadres is al in gebruik!");return}u.email=s.email,u.profilePicture=s.profilePicture}await $e.updateUser(e.id,u),t(u),n(!1),i(d=>({...d,currentPassword:"",newPassword:"",confirmPassword:""})),ge.success("Account gegevens bijgewerkt!")}catch(u){console.error("Error updating user:",u);const d=JSON.parse(localStorage.getItem("users")||"[]"),f=d.findIndex(h=>h.id===e.id);if(f!==-1){let h={...e};s.newPassword&&Ja.compareSync(s.currentPassword,e.password)&&(h.password=Ja.hashSync(s.newPassword,10)),h.email=s.email,h.profilePicture=s.profilePicture,d[f]=h,localStorage.setItem("users",JSON.stringify(d)),t(h),n(!1),i(p=>({...p,currentPassword:"",newPassword:"",confirmPassword:""})),ge.success("Account gegevens bijgewerkt (lokaal)!")}}};return e?a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),a.jsxs("div",{className:"relative flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-6 lg:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[s.profilePicture?a.jsx("img",{src:s.profilePicture,alt:e.username,className:"w-24 h-24 rounded-full object-cover ring-4 ring-blue-500/30 shadow-lg"}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center ring-4 ring-blue-500/30 shadow-lg",children:a.jsx("span",{className:"text-3xl font-bold text-white",children:e.username.charAt(0).toUpperCase()})}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-green-500 rounded-full border-4 border-[#1E2530] flex items-center justify-center",children:a.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-blue-300 to-blue-500 bg-clip-text text-transparent",children:e.username}),e.role==="admin"&&a.jsxs("div",{className:"flex items-center space-x-1 px-3 py-1 bg-gradient-to-r from-purple-500/20 to-purple-600/20 border border-purple-500/30 rounded-full",children:[a.jsx(Eh,{size:16,className:"text-purple-400"}),a.jsx("span",{className:"text-sm font-medium text-purple-400",children:"Administrator"})]})]}),a.jsx("p",{className:"text-gray-400 text-lg mb-1",children:e.email}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(qn,{size:14}),a.jsxs("span",{children:["Lid sinds ",new Date(e.createdAt).toLocaleDateString("nl-NL")]})]}),e.lastLogin&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Fn,{size:14}),a.jsxs("span",{children:["Laatst actief ",new Date(e.lastLogin).toLocaleDateString("nl-NL")]})]})]})]})]}),a.jsx("div",{className:"flex flex-wrap items-center gap-4",children:r?a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:l,className:"bg-[#2A303C] hover:bg-[#374151] text-white px-4 py-3 rounded-xl shadow-lg transition-all duration-300 flex items-center space-x-2 transform hover:scale-105",children:[a.jsx(gt,{size:20}),a.jsx("span",{children:"Annuleren"})]}),a.jsxs("button",{onClick:A,className:"bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center space-x-2 transform hover:scale-105",children:[a.jsx(BA,{size:20}),a.jsx("span",{className:"font-semibold",children:"Wijzigingen opslaan"})]})]}):a.jsxs("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center space-x-2 transform hover:scale-105",children:[a.jsx(Op,{size:20}),a.jsx("span",{className:"font-semibold",children:"Profiel bewerken"})]})})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"card p-6 bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg",children:a.jsx(sA,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Account Type"}),a.jsx("p",{className:"text-lg font-semibold text-white",children:e.role==="admin"?"Administrator":"Gebruiker"})]})]})}),a.jsx("div",{className:"card p-6 bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/20",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg",children:a.jsx(qn,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Account leeftijd"}),a.jsxs("p",{className:"text-lg font-semibold text-white",children:[Math.floor((new Date().getTime()-new Date(e.createdAt).getTime())/(1e3*60*60*24))," dagen"]})]})]})}),a.jsx("div",{className:"card p-6 bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/20",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg",children:a.jsx(Fn,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Laatste login"}),a.jsx("p",{className:"text-lg font-semibold text-white",children:e.lastLogin?new Date(e.lastLogin).toLocaleDateString("nl-NL"):"Nooit"})]})]})})]}),a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(sA,{size:20,className:"text-blue-400"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Account Informatie"})]}),a.jsxs("div",{className:"space-y-6",children:[r&&a.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Profielfoto"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden",id:"profile-picture"}),a.jsxs("label",{htmlFor:"profile-picture",className:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white px-4 py-2 rounded-lg shadow-lg transition-all duration-300 flex items-center space-x-2 cursor-pointer transform hover:scale-105",children:[a.jsx(Co,{size:20}),a.jsx("span",{children:"Nieuwe foto uploaden"})]}),s.profilePicture&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:s.profilePicture,alt:"Preview",className:"w-12 h-12 rounded-full object-cover border-2 border-blue-400"}),a.jsx("span",{className:"text-sm text-green-400",children:"✓ Nieuwe foto geselecteerd"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Gebruikersnaam"}),a.jsxs("div",{className:"relative",children:[a.jsx(sA,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",className:"input-field pl-10 bg-[#2A303C]/50 cursor-not-allowed",value:e.username,disabled:!0})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Gebruikersnaam kan niet worden gewijzigd"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"E-mailadres"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jl,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"email",className:`input-field pl-10 ${r?"focus:ring-2 focus:ring-blue-500":"bg-[#2A303C]/50 cursor-not-allowed"}`,value:s.email,onChange:u=>i({...s,email:u.target.value}),disabled:!r})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Account rol"}),a.jsxs("div",{className:"relative",children:[a.jsx(Eh,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("div",{className:"input-field pl-10 bg-[#2A303C]/50 flex items-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-gray-500/20 text-gray-400"}`,children:e.role==="admin"?"Administrator":"Gebruiker"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Account aangemaakt"}),a.jsxs("div",{className:"relative",children:[a.jsx(qn,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("div",{className:"input-field pl-10 bg-[#2A303C]/50",children:new Date(e.createdAt).toLocaleDateString("nl-NL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]})]})]})]}),r&&a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:a.jsx(_i,{size:20,className:"text-orange-400"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Wachtwoord wijzigen"}),a.jsx("span",{className:"text-sm text-gray-400",children:"(Optioneel)"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Huidig wachtwoord"}),a.jsxs("div",{className:"relative",children:[a.jsx(_i,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"password",className:"input-field pl-10 focus:ring-2 focus:ring-orange-500",value:s.currentPassword,onChange:u=>i({...s,currentPassword:u.target.value}),placeholder:"Voer huidig wachtwoord in"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Nieuw wachtwoord"}),a.jsxs("div",{className:"relative",children:[a.jsx(_i,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"password",className:"input-field pl-10 focus:ring-2 focus:ring-green-500",value:s.newPassword,onChange:u=>i({...s,newPassword:u.target.value}),placeholder:"Voer nieuw wachtwoord in"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Bevestig nieuw wachtwoord"}),a.jsxs("div",{className:"relative",children:[a.jsx(_i,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"password",className:"input-field pl-10 focus:ring-2 focus:ring-green-500",value:s.confirmPassword,onChange:u=>i({...s,confirmPassword:u.target.value}),placeholder:"Bevestig nieuw wachtwoord"})]})]})]}),a.jsx("div",{className:"mt-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("span",{className:"text-xs text-black font-bold",children:"!"})}),a.jsxs("div",{className:"text-sm text-yellow-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"Wachtwoord vereisten:"}),a.jsxs("ul",{className:"text-xs space-y-1 text-yellow-200",children:[a.jsx("li",{children:"• Minimaal 8 karakters lang"}),a.jsx("li",{children:"• Combinatie van letters en cijfers aanbevolen"}),a.jsx("li",{children:"• Laat velden leeg om wachtwoord ongewijzigd te laten"})]})]})]})})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(Eh,{size:20,className:"text-green-400"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Account Beveiliging & Activiteit"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-4",children:"Beveiligingsstatus"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#2A303C] rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-gray-300",children:"Wachtwoord beveiliging"})]}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Actief"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#2A303C] rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-gray-300",children:"Account verificatie"})]}),a.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Geverifieerd"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#2A303C] rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),a.jsx("span",{className:"text-gray-300",children:"Sessie beveiliging"})]}),a.jsx("span",{className:"text-blue-400 text-sm font-medium",children:"Beveiligd"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-4",children:"Account Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"p-4 bg-[#2A303C] rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Account ID"}),a.jsxs("span",{className:"text-xs font-mono text-gray-300",children:[e.id.slice(0,8),"..."]})]})}),a.jsx("div",{className:"p-4 bg-[#2A303C] rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Account aangemaakt"}),a.jsx("span",{className:"text-sm text-gray-300",children:new Date(e.createdAt).toLocaleString("nl-NL")})]})}),e.lastLogin&&a.jsx("div",{className:"p-4 bg-[#2A303C] rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Laatste login"}),a.jsx("span",{className:"text-sm text-gray-300",children:new Date(e.lastLogin).toLocaleString("nl-NL")})]})})]})]})]})]}),e.role!=="admin"&&e.permissions&&a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(Eh,{size:20,className:"text-purple-400"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Toegangsrechten"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e.permissions).map(([u,d])=>a.jsx("div",{className:"p-4 bg-[#2A303C] rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-gray-300 capitalize",children:u}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d.read?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:d.read?"Lezen":"Geen toegang"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d.update?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:d.update?"Schrijven":"Alleen lezen"})]})]})},u))})]})]}):a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx(Rv,{size:32,className:"text-gray-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Gebruiker niet gevonden"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Er is een probleem opgetreden bij het laden van je accountgegevens."}),a.jsx("button",{onClick:()=>{localStorage.removeItem("loggedIn"),localStorage.removeItem("currentUserId"),window.location.href="/login"},className:"btn-primary",children:"Opnieuw inloggen"})]})]})})})};function LU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=LU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ct(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=LU(e))&&(n&&(n+=" "),n+=t);return n}var nZ=Array.isArray,Fs=nZ,sZ=typeof bn=="object"&&bn&&bn.Object===Object&&bn,UU=sZ,aZ=UU,iZ=typeof self=="object"&&self&&self.Object===Object&&self,oZ=aZ||iZ||Function("return this")(),Wi=oZ,lZ=Wi,cZ=lZ.Symbol,Og=cZ,G_=Og,DU=Object.prototype,AZ=DU.hasOwnProperty,uZ=DU.toString,hh=G_?G_.toStringTag:void 0;function dZ(e){var t=AZ.call(e,hh),r=e[hh];try{e[hh]=void 0;var n=!0}catch{}var s=uZ.call(e);return n&&(t?e[hh]=r:delete e[hh]),s}var fZ=dZ,hZ=Object.prototype,pZ=hZ.toString;function gZ(e){return pZ.call(e)}var mZ=gZ,W_=Og,vZ=fZ,xZ=mZ,yZ="[object Null]",bZ="[object Undefined]",q_=W_?W_.toStringTag:void 0;function wZ(e){return e==null?e===void 0?bZ:yZ:q_&&q_ in Object(e)?vZ(e):xZ(e)}var Go=wZ;function jZ(e){return e!=null&&typeof e=="object"}var Wo=jZ,NZ=Go,BZ=Wo,CZ="[object Symbol]";function kZ(e){return typeof e=="symbol"||BZ(e)&&NZ(e)==CZ}var lf=kZ,SZ=Fs,_Z=lf,EZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FZ=/^\w*$/;function PZ(e,t){if(SZ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||_Z(e)?!0:FZ.test(e)||!EZ.test(e)||t!=null&&e in Object(t)}var tC=PZ;function IZ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dc=IZ;const cf=Mt(dc);var OZ=Go,TZ=dc,LZ="[object AsyncFunction]",UZ="[object Function]",DZ="[object GeneratorFunction]",QZ="[object Proxy]";function MZ(e){if(!TZ(e))return!1;var t=OZ(e);return t==UZ||t==DZ||t==LZ||t==QZ}var rC=MZ;const ft=Mt(rC);var RZ=Wi,$Z=RZ["__core-js_shared__"],HZ=$Z,Rw=HZ,J_=function(){var e=/[^.]+$/.exec(Rw&&Rw.keys&&Rw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zZ(e){return!!J_&&J_ in e}var KZ=zZ,VZ=Function.prototype,GZ=VZ.toString;function WZ(e){if(e!=null){try{return GZ.call(e)}catch{}try{return e+""}catch{}}return""}var QU=WZ,qZ=rC,JZ=KZ,XZ=dc,YZ=QU,ZZ=/[\\^$.*+?()[\]{}|]/g,eee=/^\[object .+?Constructor\]$/,tee=Function.prototype,ree=Object.prototype,nee=tee.toString,see=ree.hasOwnProperty,aee=RegExp("^"+nee.call(see).replace(ZZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iee(e){if(!XZ(e)||JZ(e))return!1;var t=qZ(e)?aee:eee;return t.test(YZ(e))}var oee=iee;function lee(e,t){return e==null?void 0:e[t]}var cee=lee,Aee=oee,uee=cee;function dee(e,t){var r=uee(e,t);return Aee(r)?r:void 0}var _A=dee,fee=_A,hee=fee(Object,"create"),Gy=hee,X_=Gy;function pee(){this.__data__=X_?X_(null):{},this.size=0}var gee=pee;function mee(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vee=mee,xee=Gy,yee="__lodash_hash_undefined__",bee=Object.prototype,wee=bee.hasOwnProperty;function jee(e){var t=this.__data__;if(xee){var r=t[e];return r===yee?void 0:r}return wee.call(t,e)?t[e]:void 0}var Nee=jee,Bee=Gy,Cee=Object.prototype,kee=Cee.hasOwnProperty;function See(e){var t=this.__data__;return Bee?t[e]!==void 0:kee.call(t,e)}var _ee=See,Eee=Gy,Fee="__lodash_hash_undefined__";function Pee(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Eee&&t===void 0?Fee:t,this}var Iee=Pee,Oee=gee,Tee=vee,Lee=Nee,Uee=_ee,Dee=Iee;function Af(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Af.prototype.clear=Oee;Af.prototype.delete=Tee;Af.prototype.get=Lee;Af.prototype.has=Uee;Af.prototype.set=Dee;var Qee=Af;function Mee(){this.__data__=[],this.size=0}var Ree=Mee;function $ee(e,t){return e===t||e!==e&&t!==t}var nC=$ee,Hee=nC;function zee(e,t){for(var r=e.length;r--;)if(Hee(e[r][0],t))return r;return-1}var Wy=zee,Kee=Wy,Vee=Array.prototype,Gee=Vee.splice;function Wee(e){var t=this.__data__,r=Kee(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Gee.call(t,r,1),--this.size,!0}var qee=Wee,Jee=Wy;function Xee(e){var t=this.__data__,r=Jee(t,e);return r<0?void 0:t[r][1]}var Yee=Xee,Zee=Wy;function ete(e){return Zee(this.__data__,e)>-1}var tte=ete,rte=Wy;function nte(e,t){var r=this.__data__,n=rte(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ste=nte,ate=Ree,ite=qee,ote=Yee,lte=tte,cte=ste;function uf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}uf.prototype.clear=ate;uf.prototype.delete=ite;uf.prototype.get=ote;uf.prototype.has=lte;uf.prototype.set=cte;var qy=uf,Ate=_A,ute=Wi,dte=Ate(ute,"Map"),sC=dte,Y_=Qee,fte=qy,hte=sC;function pte(){this.size=0,this.__data__={hash:new Y_,map:new(hte||fte),string:new Y_}}var gte=pte;function mte(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var vte=mte,xte=vte;function yte(e,t){var r=e.__data__;return xte(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Jy=yte,bte=Jy;function wte(e){var t=bte(this,e).delete(e);return this.size-=t?1:0,t}var jte=wte,Nte=Jy;function Bte(e){return Nte(this,e).get(e)}var Cte=Bte,kte=Jy;function Ste(e){return kte(this,e).has(e)}var _te=Ste,Ete=Jy;function Fte(e,t){var r=Ete(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Pte=Fte,Ite=gte,Ote=jte,Tte=Cte,Lte=_te,Ute=Pte;function df(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}df.prototype.clear=Ite;df.prototype.delete=Ote;df.prototype.get=Tte;df.prototype.has=Lte;df.prototype.set=Ute;var aC=df,MU=aC,Dte="Expected a function";function iC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Dte);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(iC.Cache||MU),r}iC.Cache=MU;var RU=iC;const Qte=Mt(RU);var Mte=RU,Rte=500;function $te(e){var t=Mte(e,function(n){return r.size===Rte&&r.clear(),n}),r=t.cache;return t}var Hte=$te,zte=Hte,Kte=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vte=/\\(\\)?/g,Gte=zte(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Kte,function(r,n,s,i){t.push(s?i.replace(Vte,"$1"):n||r)}),t}),Wte=Gte;function qte(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var oC=qte,Z_=Og,Jte=oC,Xte=Fs,Yte=lf,eE=Z_?Z_.prototype:void 0,tE=eE?eE.toString:void 0;function $U(e){if(typeof e=="string")return e;if(Xte(e))return Jte(e,$U)+"";if(Yte(e))return tE?tE.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Zte=$U,ere=Zte;function tre(e){return e==null?"":ere(e)}var HU=tre,rre=Fs,nre=tC,sre=Wte,are=HU;function ire(e,t){return rre(e)?e:nre(e,t)?[e]:sre(are(e))}var zU=ire,ore=lf;function lre(e){if(typeof e=="string"||ore(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Xy=lre,cre=zU,Are=Xy;function ure(e,t){t=cre(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Are(t[r++])];return r&&r==n?e:void 0}var lC=ure,dre=lC;function fre(e,t,r){var n=e==null?void 0:dre(e,t);return n===void 0?r:n}var KU=fre;const Vs=Mt(KU);function hre(e){return e==null}var pre=hre;const wt=Mt(pre);var gre=Go,mre=Fs,vre=Wo,xre="[object String]";function yre(e){return typeof e=="string"||!mre(e)&&vre(e)&&gre(e)==xre}var bre=yre;const mA=Mt(bre);var VU={exports:{}},qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC=Symbol.for("react.element"),AC=Symbol.for("react.portal"),Yy=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),eb=Symbol.for("react.profiler"),tb=Symbol.for("react.provider"),rb=Symbol.for("react.context"),wre=Symbol.for("react.server_context"),nb=Symbol.for("react.forward_ref"),sb=Symbol.for("react.suspense"),ab=Symbol.for("react.suspense_list"),ib=Symbol.for("react.memo"),ob=Symbol.for("react.lazy"),jre=Symbol.for("react.offscreen"),GU;GU=Symbol.for("react.module.reference");function Ba(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cC:switch(e=e.type,e){case Yy:case eb:case Zy:case sb:case ab:return e;default:switch(e=e&&e.$$typeof,e){case wre:case rb:case nb:case ob:case ib:case tb:return e;default:return t}}case AC:return t}}}qt.ContextConsumer=rb;qt.ContextProvider=tb;qt.Element=cC;qt.ForwardRef=nb;qt.Fragment=Yy;qt.Lazy=ob;qt.Memo=ib;qt.Portal=AC;qt.Profiler=eb;qt.StrictMode=Zy;qt.Suspense=sb;qt.SuspenseList=ab;qt.isAsyncMode=function(){return!1};qt.isConcurrentMode=function(){return!1};qt.isContextConsumer=function(e){return Ba(e)===rb};qt.isContextProvider=function(e){return Ba(e)===tb};qt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cC};qt.isForwardRef=function(e){return Ba(e)===nb};qt.isFragment=function(e){return Ba(e)===Yy};qt.isLazy=function(e){return Ba(e)===ob};qt.isMemo=function(e){return Ba(e)===ib};qt.isPortal=function(e){return Ba(e)===AC};qt.isProfiler=function(e){return Ba(e)===eb};qt.isStrictMode=function(e){return Ba(e)===Zy};qt.isSuspense=function(e){return Ba(e)===sb};qt.isSuspenseList=function(e){return Ba(e)===ab};qt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yy||e===eb||e===Zy||e===sb||e===ab||e===jre||typeof e=="object"&&e!==null&&(e.$$typeof===ob||e.$$typeof===ib||e.$$typeof===tb||e.$$typeof===rb||e.$$typeof===nb||e.$$typeof===GU||e.getModuleId!==void 0)};qt.typeOf=Ba;VU.exports=qt;var Nre=VU.exports,Bre=Go,Cre=Wo,kre="[object Number]";function Sre(e){return typeof e=="number"||Cre(e)&&Bre(e)==kre}var WU=Sre;const _re=Mt(WU);var Ere=WU;function Fre(e){return Ere(e)&&e!=+e}var Pre=Fre;const ff=Mt(Pre);var as=function(t){return t===0?0:t>0?1:-1},Xc=function(t){return mA(t)&&t.indexOf("%")===t.length-1},He=function(t){return _re(t)&&!ff(t)},cn=function(t){return He(t)||mA(t)},Ire=0,hf=function(t){var r=++Ire;return"".concat(t||"").concat(r)},is=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&!mA(t))return n;var i;if(Xc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ff(i)&&(i=n),s&&i>r&&(i=r),i},El=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Ore=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},ws=function(t,r){return He(t)&&He(r)?function(n){return t+n*(r-t)}:function(){return r}};function sx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Vs(n,t))===r})}var Tre=function(t,r){return He(t)&&He(r)?t-r:mA(t)&&mA(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function cd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function cN(e){"@babel/helpers - typeof";return cN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cN(e)}var Lre=["viewBox","children"],Ure=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rE=["points","pathLength"],$w={svg:Lre,polygon:rE,polyline:rE},uC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ax=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if($.isValidElement(t)&&(n=t.props),!cf(n))return null;var s={};return Object.keys(n).forEach(function(i){uC.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Dre=function(t,r,n){return function(s){return t(r,n,s),null}},vA=function(t,r,n){if(!cf(t)||cN(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];uC.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Dre(o,r,n))}),s},Qre=["children"],Mre=["children"];function nE(e,t){if(e==null)return{};var r=Rre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AN(e){"@babel/helpers - typeof";return AN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AN(e)}var sE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_o=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},aE=null,Hw=null,dC=function e(t){if(t===aE&&Array.isArray(Hw))return Hw;var r=[];return $.Children.forEach(t,function(n){wt(n)||(Nre.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Hw=r,aE=t,r};function ya(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return _o(s)}):n=[_o(t)],dC(e).forEach(function(s){var i=Vs(s,"type.displayName")||Vs(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Rs(e,t){var r=ya(e,t);return r&&r[0]}var iE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!He(n)||n<=0||!He(s)||s<=0)},$re=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Hre=function(t){return t&&t.type&&mA(t.type)&&$re.indexOf(t.type)>=0},zre=function(t){return t&&AN(t)==="object"&&"clipDot"in t},Kre=function(t,r,n,s){var i,o=(i=$w==null?void 0:$w[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ft(t)&&(s&&o.includes(r)||Ure.includes(r))||n&&uC.includes(r)},ot=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if($.isValidElement(t)&&(s=t.props),!cf(s))return null;var i={};return Object.keys(s).forEach(function(o){var c;Kre((c=s)===null||c===void 0?void 0:c[o],o,r,n)&&(i[o]=s[o])}),i},uN=function e(t,r){if(t===r)return!0;var n=$.Children.count(t);if(n!==$.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!oE(i,o))return!1}return!0},oE=function(t,r){if(wt(t)&&wt(r))return!0;if(!wt(t)&&!wt(r)){var n=t.props||{},s=n.children,i=nE(n,Qre),o=r.props||{},c=o.children,l=nE(o,Mre);return s&&c?cd(i,l)&&uN(s,c):!s&&!c?cd(i,l):!1}return!1},lE=function(t,r){var n=[],s={};return dC(t).forEach(function(i,o){if(Hre(i))n.push(i);else if(i){var c=_o(i.type),l=r[c]||{},A=l.handler,u=l.once;if(A&&(!u||!s[c])){var d=A(i,c,o);n.push(d),s[c]=!0}}}),n},Vre=function(t){var r=t&&t.type;return r&&sE[r]?sE[r]:null},Gre=function(t,r){return dC(r).indexOf(t)},Wre=["children","width","height","viewBox","className","style","title","desc"];function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(this,arguments)}function qre(e,t){if(e==null)return{};var r=Jre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fN(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,c=e.title,l=e.desc,A=qre(e,Wre),u=s||{width:r,height:n,x:0,y:0},d=Ct("recharts-surface",i);return fe.createElement("svg",dN({},ot(A,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),fe.createElement("title",null,c),fe.createElement("desc",null,l),t)}var Xre=["children","className"];function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(this,arguments)}function Yre(e,t){if(e==null)return{};var r=Zre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ot=fe.forwardRef(function(e,t){var r=e.children,n=e.className,s=Yre(e,Xre),i=Ct("recharts-layer",n);return fe.createElement("g",hN({className:i},ot(s,!0),{ref:t}),r)}),ri=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function ene(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var tne=ene,rne=tne;function nne(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:rne(e,t,r)}var sne=nne,ane="\\ud800-\\udfff",ine="\\u0300-\\u036f",one="\\ufe20-\\ufe2f",lne="\\u20d0-\\u20ff",cne=ine+one+lne,Ane="\\ufe0e\\ufe0f",une="\\u200d",dne=RegExp("["+une+ane+cne+Ane+"]");function fne(e){return dne.test(e)}var qU=fne;function hne(e){return e.split("")}var pne=hne,JU="\\ud800-\\udfff",gne="\\u0300-\\u036f",mne="\\ufe20-\\ufe2f",vne="\\u20d0-\\u20ff",xne=gne+mne+vne,yne="\\ufe0e\\ufe0f",bne="["+JU+"]",pN="["+xne+"]",gN="\\ud83c[\\udffb-\\udfff]",wne="(?:"+pN+"|"+gN+")",XU="[^"+JU+"]",YU="(?:\\ud83c[\\udde6-\\uddff]){2}",ZU="[\\ud800-\\udbff][\\udc00-\\udfff]",jne="\\u200d",e8=wne+"?",t8="["+yne+"]?",Nne="(?:"+jne+"(?:"+[XU,YU,ZU].join("|")+")"+t8+e8+")*",Bne=t8+e8+Nne,Cne="(?:"+[XU+pN+"?",pN,YU,ZU,bne].join("|")+")",kne=RegExp(gN+"(?="+gN+")|"+Cne+Bne,"g");function Sne(e){return e.match(kne)||[]}var _ne=Sne,Ene=pne,Fne=qU,Pne=_ne;function Ine(e){return Fne(e)?Pne(e):Ene(e)}var One=Ine,Tne=sne,Lne=qU,Une=One,Dne=HU;function Qne(e){return function(t){t=Dne(t);var r=Lne(t)?Une(t):void 0,n=r?r[0]:t.charAt(0),s=r?Tne(r,1).join(""):t.slice(1);return n[e]()+s}}var Mne=Qne,Rne=Mne,$ne=Rne("toUpperCase"),Hne=$ne;const lb=Mt(Hne);function lr(e){return function(){return e}}const r8=Math.cos,ix=Math.sin,ci=Math.sqrt,ox=Math.PI,cb=2*ox,mN=Math.PI,vN=2*mN,Dc=1e-6,zne=vN-Dc;function n8(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Kne(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return n8;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Vne{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?n8:Kne(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,l=n-t,A=s-r,u=o-t,d=c-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Dc)if(!(Math.abs(d*l-A*u)>Dc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,p=s-c,m=l*l+A*A,x=h*h+p*p,v=Math.sqrt(m),y=Math.sqrt(f),b=i*Math.tan((mN-Math.acos((m+f-x)/(2*v*y)))/2),_=b/y,N=b/v;Math.abs(_-1)>Dc&&this._append`L${t+_*u},${r+_*d}`,this._append`A${i},${i},0,0,${+(d*h>u*p)},${this._x1=t+N*l},${this._y1=r+N*A}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(s),l=n*Math.sin(s),A=t+c,u=r+l,d=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${A},${u}`:(Math.abs(this._x1-A)>Dc||Math.abs(this._y1-u)>Dc)&&this._append`L${A},${u}`,n&&(f<0&&(f=f%vN+vN),f>zne?this._append`A${n},${n},0,1,${d},${t-c},${r-l}A${n},${n},0,1,${d},${this._x1=A},${this._y1=u}`:f>Dc&&this._append`A${n},${n},0,${+(f>=mN)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function fC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Vne(t)}function hC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function s8(e){this._context=e}s8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ab(e){return new s8(e)}function a8(e){return e[0]}function i8(e){return e[1]}function o8(e,t){var r=lr(!0),n=null,s=Ab,i=null,o=fC(c);e=typeof e=="function"?e:e===void 0?a8:lr(e),t=typeof t=="function"?t:t===void 0?i8:lr(t);function c(l){var A,u=(l=hC(l)).length,d,f=!1,h;for(n==null&&(i=s(h=o())),A=0;A<=u;++A)!(A<u&&r(d=l[A],A,l))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(d,A,l),+t(d,A,l));if(h)return i=null,h+""||null}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:lr(+l),c):e},c.y=function(l){return arguments.length?(t=typeof l=="function"?l:lr(+l),c):t},c.defined=function(l){return arguments.length?(r=typeof l=="function"?l:lr(!!l),c):r},c.curve=function(l){return arguments.length?(s=l,n!=null&&(i=s(n)),c):s},c.context=function(l){return arguments.length?(l==null?n=i=null:i=s(n=l),c):n},c}function k0(e,t,r){var n=null,s=lr(!0),i=null,o=Ab,c=null,l=fC(A);e=typeof e=="function"?e:e===void 0?a8:lr(+e),t=typeof t=="function"?t:lr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?i8:lr(+r);function A(d){var f,h,p,m=(d=hC(d)).length,x,v=!1,y,b=new Array(m),_=new Array(m);for(i==null&&(c=o(y=l())),f=0;f<=m;++f){if(!(f<m&&s(x=d[f],f,d))===v)if(v=!v)h=f,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),p=f-1;p>=h;--p)c.point(b[p],_[p]);c.lineEnd(),c.areaEnd()}v&&(b[f]=+e(x,f,d),_[f]=+t(x,f,d),c.point(n?+n(x,f,d):b[f],r?+r(x,f,d):_[f]))}if(y)return c=null,y+""||null}function u(){return o8().defined(s).curve(o).context(i)}return A.x=function(d){return arguments.length?(e=typeof d=="function"?d:lr(+d),n=null,A):e},A.x0=function(d){return arguments.length?(e=typeof d=="function"?d:lr(+d),A):e},A.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:lr(+d),A):n},A.y=function(d){return arguments.length?(t=typeof d=="function"?d:lr(+d),r=null,A):t},A.y0=function(d){return arguments.length?(t=typeof d=="function"?d:lr(+d),A):t},A.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:lr(+d),A):r},A.lineX0=A.lineY0=function(){return u().x(e).y(t)},A.lineY1=function(){return u().x(e).y(r)},A.lineX1=function(){return u().x(n).y(t)},A.defined=function(d){return arguments.length?(s=typeof d=="function"?d:lr(!!d),A):s},A.curve=function(d){return arguments.length?(o=d,i!=null&&(c=o(i)),A):o},A.context=function(d){return arguments.length?(d==null?i=c=null:c=o(i=d),A):i},A}class l8{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Gne(e){return new l8(e,!0)}function Wne(e){return new l8(e,!1)}const pC={draw(e,t){const r=ci(t/ox);e.moveTo(r,0),e.arc(0,0,r,0,cb)}},qne={draw(e,t){const r=ci(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},c8=ci(1/3),Jne=c8*2,Xne={draw(e,t){const r=ci(t/Jne),n=r*c8;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Yne={draw(e,t){const r=ci(t),n=-r/2;e.rect(n,n,r,r)}},Zne=.8908130915292852,A8=ix(ox/10)/ix(7*ox/10),ese=ix(cb/10)*A8,tse=-r8(cb/10)*A8,rse={draw(e,t){const r=ci(t*Zne),n=ese*r,s=tse*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=cb*i/5,c=r8(o),l=ix(o);e.lineTo(l*r,-c*r),e.lineTo(c*n-l*s,l*n+c*s)}e.closePath()}},zw=ci(3),nse={draw(e,t){const r=-ci(t/(zw*3));e.moveTo(0,r*2),e.lineTo(-zw*r,-r),e.lineTo(zw*r,-r),e.closePath()}},aa=-.5,ia=ci(3)/2,xN=1/ci(12),sse=(xN/2+1)*3,ase={draw(e,t){const r=ci(t/sse),n=r/2,s=r*xN,i=n,o=r*xN+r,c=-i,l=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(c,l),e.lineTo(aa*n-ia*s,ia*n+aa*s),e.lineTo(aa*i-ia*o,ia*i+aa*o),e.lineTo(aa*c-ia*l,ia*c+aa*l),e.lineTo(aa*n+ia*s,aa*s-ia*n),e.lineTo(aa*i+ia*o,aa*o-ia*i),e.lineTo(aa*c+ia*l,aa*l-ia*c),e.closePath()}};function ise(e,t){let r=null,n=fC(s);e=typeof e=="function"?e:lr(e||pC),t=typeof t=="function"?t:lr(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:lr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:lr(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function lx(){}function cx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function u8(e){this._context=e}u8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ose(e){return new u8(e)}function d8(e){this._context=e}d8.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lse(e){return new d8(e)}function f8(e){this._context=e}f8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cse(e){return new f8(e)}function h8(e){this._context=e}h8.prototype={areaStart:lx,areaEnd:lx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ase(e){return new h8(e)}function cE(e){return e<0?-1:1}function AE(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),c=(i*s+o*n)/(n+s);return(cE(i)+cE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function uE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,s+c*t,i-c,o-c*r,i,o)}function Ax(e){this._context=e}Ax.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kw(this,this._t0,uE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kw(this,uE(this,r=AE(this,e,t)),r);break;default:Kw(this,this._t0,r=AE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function p8(e){this._context=new g8(e)}(p8.prototype=Object.create(Ax.prototype)).point=function(e,t){Ax.prototype.point.call(this,t,e)};function g8(e){this._context=e}g8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function use(e){return new Ax(e)}function dse(e){return new p8(e)}function m8(e){this._context=e}m8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=dE(e),s=dE(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dE(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function fse(e){return new m8(e)}function ub(e,t){this._context=e,this._t=t}ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hse(e){return new ub(e,.5)}function pse(e){return new ub(e,0)}function gse(e){return new ub(e,1)}function Bd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,c=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function yN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mse(e,t){return e[t]}function vse(e){const t=[];return t.key=e,t}function xse(){var e=lr([]),t=yN,r=Bd,n=mse;function s(i){var o=Array.from(e.apply(this,arguments),vse),c,l=o.length,A=-1,u;for(const d of i)for(c=0,++A;c<l;++c)(o[c][A]=[0,+n(d,o[c].key,A,i)]).data=d;for(c=0,u=hC(t(o));c<l;++c)o[u[c]].index=c;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:lr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:lr(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?yN:typeof i=="function"?i:lr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Bd,s):r},s}function yse(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Bd(e,t)}}function bse(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,c=0;o<s;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Bd(e,t)}}function wse(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var c=0,l=0,A=0;c<o;++c){for(var u=e[t[c]],d=u[n][1]||0,f=u[n-1][1]||0,h=(d-f)/2,p=0;p<c;++p){var m=e[t[p]],x=m[n][1]||0,v=m[n-1][1]||0;h+=x-v}l+=d,A+=h*d}s[n-1][1]+=s[n-1][0]=r,l&&(r-=A/l)}s[n-1][1]+=s[n-1][0]=r,Bd(e,t)}}function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}var jse=["type","size","sizeType"];function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){Nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nse(e,t,r){return t=Bse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bse(e){var t=Cse(e,"string");return Mp(t)=="symbol"?t:t+""}function Cse(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kse(e,t){if(e==null)return{};var r=Sse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var v8={symbolCircle:pC,symbolCross:qne,symbolDiamond:Xne,symbolSquare:Yne,symbolStar:rse,symbolTriangle:nse,symbolWye:ase},_se=Math.PI/180,Ese=function(t){var r="symbol".concat(lb(t));return v8[r]||pC},Fse=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*_se;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Pse=function(t,r){v8["symbol".concat(lb(t))]=r},gC=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,c=o===void 0?"area":o,l=kse(t,jse),A=hE(hE({},l),{},{type:n,size:i,sizeType:c}),u=function(){var x=Ese(n),v=ise().type(x).size(Fse(i,c,n));return v()},d=A.className,f=A.cx,h=A.cy,p=ot(A,!0);return f===+f&&h===+h&&i===+i?fe.createElement("path",bN({},p,{className:Ct("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};gC.registerSymbol=Pse;function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wN.apply(this,arguments)}function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ise(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){Rp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ose(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y8(n.key),n)}}function Lse(e,t,r){return t&&Tse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Use(e,t,r){return t=ux(t),Dse(e,x8()?Reflect.construct(t,r||[],ux(e).constructor):t.apply(e,r))}function Dse(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qse(e)}function Qse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x8=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ux(e)}function Mse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jN(e,t)}function jN(e,t){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jN(e,t)}function Rp(e,t,r){return t=y8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8(e){var t=Rse(e,"string");return Cd(t)=="symbol"?t:t+""}function Rse(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ma=32,mC=function(e){function t(){return Ose(this,t),Use(this,t,arguments)}return Mse(t,e),Lse(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Ma/2,o=Ma/6,c=Ma/3,l=n.inactive?s:n.color;if(n.type==="plainline")return fe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ma,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return fe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Ma,"M").concat(2*c,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return fe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ma/8,"h").concat(Ma,"v").concat(Ma*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(fe.isValidElement(n.legendIcon)){var A=Ise({},n);return delete A.legendIcon,fe.cloneElement(n.legendIcon,A)}return fe.createElement(gC,{fill:l,cx:i,cy:i,size:Ma,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,c=s.layout,l=s.formatter,A=s.inactiveColor,u={x:0,y:0,width:Ma,height:Ma},d={display:c==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,p){var m=h.formatter||l,x=Ct(Rp(Rp({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=ft(h.value)?null:h.value;ri(!ft(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?A:h.color;return fe.createElement("li",wN({className:x,style:d,key:"legend-item-".concat(p)},vA(n.props,h,p)),fe.createElement(fN,{width:o,height:o,viewBox:u,style:f},n.renderIcon(h)),fe.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(v,h,p):v))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return fe.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}($.PureComponent);Rp(mC,"displayName","Legend");Rp(mC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $se=qy;function Hse(){this.__data__=new $se,this.size=0}var zse=Hse;function Kse(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Vse=Kse;function Gse(e){return this.__data__.get(e)}var Wse=Gse;function qse(e){return this.__data__.has(e)}var Jse=qse,Xse=qy,Yse=sC,Zse=aC,eae=200;function tae(e,t){var r=this.__data__;if(r instanceof Xse){var n=r.__data__;if(!Yse||n.length<eae-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Zse(n)}return r.set(e,t),this.size=r.size,this}var rae=tae,nae=qy,sae=zse,aae=Vse,iae=Wse,oae=Jse,lae=rae;function pf(e){var t=this.__data__=new nae(e);this.size=t.size}pf.prototype.clear=sae;pf.prototype.delete=aae;pf.prototype.get=iae;pf.prototype.has=oae;pf.prototype.set=lae;var b8=pf,cae="__lodash_hash_undefined__";function Aae(e){return this.__data__.set(e,cae),this}var uae=Aae;function dae(e){return this.__data__.has(e)}var fae=dae,hae=aC,pae=uae,gae=fae;function dx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new hae;++t<r;)this.add(e[t])}dx.prototype.add=dx.prototype.push=pae;dx.prototype.has=gae;var w8=dx;function mae(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var j8=mae;function vae(e,t){return e.has(t)}var N8=vae,xae=w8,yae=j8,bae=N8,wae=1,jae=2;function Nae(e,t,r,n,s,i){var o=r&wae,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var A=i.get(e),u=i.get(t);if(A&&u)return A==t&&u==e;var d=-1,f=!0,h=r&jae?new xae:void 0;for(i.set(e,t),i.set(t,e);++d<c;){var p=e[d],m=t[d];if(n)var x=o?n(m,p,d,t,e,i):n(p,m,d,e,t,i);if(x!==void 0){if(x)continue;f=!1;break}if(h){if(!yae(t,function(v,y){if(!bae(h,y)&&(p===v||s(p,v,r,n,i)))return h.push(y)})){f=!1;break}}else if(!(p===m||s(p,m,r,n,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var B8=Nae,Bae=Wi,Cae=Bae.Uint8Array,kae=Cae;function Sae(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var _ae=Sae;function Eae(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var vC=Eae,gE=Og,mE=kae,Fae=nC,Pae=B8,Iae=_ae,Oae=vC,Tae=1,Lae=2,Uae="[object Boolean]",Dae="[object Date]",Qae="[object Error]",Mae="[object Map]",Rae="[object Number]",$ae="[object RegExp]",Hae="[object Set]",zae="[object String]",Kae="[object Symbol]",Vae="[object ArrayBuffer]",Gae="[object DataView]",vE=gE?gE.prototype:void 0,Vw=vE?vE.valueOf:void 0;function Wae(e,t,r,n,s,i,o){switch(r){case Gae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Vae:return!(e.byteLength!=t.byteLength||!i(new mE(e),new mE(t)));case Uae:case Dae:case Rae:return Fae(+e,+t);case Qae:return e.name==t.name&&e.message==t.message;case $ae:case zae:return e==t+"";case Mae:var c=Iae;case Hae:var l=n&Tae;if(c||(c=Oae),e.size!=t.size&&!l)return!1;var A=o.get(e);if(A)return A==t;n|=Lae,o.set(e,t);var u=Pae(c(e),c(t),n,s,i,o);return o.delete(e),u;case Kae:if(Vw)return Vw.call(e)==Vw.call(t)}return!1}var qae=Wae;function Jae(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var C8=Jae,Xae=C8,Yae=Fs;function Zae(e,t,r){var n=t(e);return Yae(e)?n:Xae(n,r(e))}var eie=Zae;function tie(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var rie=tie;function nie(){return[]}var sie=nie,aie=rie,iie=sie,oie=Object.prototype,lie=oie.propertyIsEnumerable,xE=Object.getOwnPropertySymbols,cie=xE?function(e){return e==null?[]:(e=Object(e),aie(xE(e),function(t){return lie.call(e,t)}))}:iie,Aie=cie;function uie(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var die=uie,fie=Go,hie=Wo,pie="[object Arguments]";function gie(e){return hie(e)&&fie(e)==pie}var mie=gie,yE=mie,vie=Wo,k8=Object.prototype,xie=k8.hasOwnProperty,yie=k8.propertyIsEnumerable,bie=yE(function(){return arguments}())?yE:function(e){return vie(e)&&xie.call(e,"callee")&&!yie.call(e,"callee")},xC=bie,fx={exports:{}};function wie(){return!1}var jie=wie;fx.exports;(function(e,t){var r=Wi,n=jie,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,A=l||n;e.exports=A})(fx,fx.exports);var S8=fx.exports,Nie=9007199254740991,Bie=/^(?:0|[1-9]\d*)$/;function Cie(e,t){var r=typeof e;return t=t??Nie,!!t&&(r=="number"||r!="symbol"&&Bie.test(e))&&e>-1&&e%1==0&&e<t}var yC=Cie,kie=9007199254740991;function Sie(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kie}var bC=Sie,_ie=Go,Eie=bC,Fie=Wo,Pie="[object Arguments]",Iie="[object Array]",Oie="[object Boolean]",Tie="[object Date]",Lie="[object Error]",Uie="[object Function]",Die="[object Map]",Qie="[object Number]",Mie="[object Object]",Rie="[object RegExp]",$ie="[object Set]",Hie="[object String]",zie="[object WeakMap]",Kie="[object ArrayBuffer]",Vie="[object DataView]",Gie="[object Float32Array]",Wie="[object Float64Array]",qie="[object Int8Array]",Jie="[object Int16Array]",Xie="[object Int32Array]",Yie="[object Uint8Array]",Zie="[object Uint8ClampedArray]",eoe="[object Uint16Array]",toe="[object Uint32Array]",fr={};fr[Gie]=fr[Wie]=fr[qie]=fr[Jie]=fr[Xie]=fr[Yie]=fr[Zie]=fr[eoe]=fr[toe]=!0;fr[Pie]=fr[Iie]=fr[Kie]=fr[Oie]=fr[Vie]=fr[Tie]=fr[Lie]=fr[Uie]=fr[Die]=fr[Qie]=fr[Mie]=fr[Rie]=fr[$ie]=fr[Hie]=fr[zie]=!1;function roe(e){return Fie(e)&&Eie(e.length)&&!!fr[_ie(e)]}var noe=roe;function soe(e){return function(t){return e(t)}}var _8=soe,hx={exports:{}};hx.exports;(function(e,t){var r=UU,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(hx,hx.exports);var aoe=hx.exports,ioe=noe,ooe=_8,bE=aoe,wE=bE&&bE.isTypedArray,loe=wE?ooe(wE):ioe,E8=loe,coe=die,Aoe=xC,uoe=Fs,doe=S8,foe=yC,hoe=E8,poe=Object.prototype,goe=poe.hasOwnProperty;function moe(e,t){var r=uoe(e),n=!r&&Aoe(e),s=!r&&!n&&doe(e),i=!r&&!n&&!s&&hoe(e),o=r||n||s||i,c=o?coe(e.length,String):[],l=c.length;for(var A in e)(t||goe.call(e,A))&&!(o&&(A=="length"||s&&(A=="offset"||A=="parent")||i&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||foe(A,l)))&&c.push(A);return c}var voe=moe,xoe=Object.prototype;function yoe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||xoe;return e===r}var boe=yoe;function woe(e,t){return function(r){return e(t(r))}}var F8=woe,joe=F8,Noe=joe(Object.keys,Object),Boe=Noe,Coe=boe,koe=Boe,Soe=Object.prototype,_oe=Soe.hasOwnProperty;function Eoe(e){if(!Coe(e))return koe(e);var t=[];for(var r in Object(e))_oe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Foe=Eoe,Poe=rC,Ioe=bC;function Ooe(e){return e!=null&&Ioe(e.length)&&!Poe(e)}var Tg=Ooe,Toe=voe,Loe=Foe,Uoe=Tg;function Doe(e){return Uoe(e)?Toe(e):Loe(e)}var db=Doe,Qoe=eie,Moe=Aie,Roe=db;function $oe(e){return Qoe(e,Roe,Moe)}var Hoe=$oe,jE=Hoe,zoe=1,Koe=Object.prototype,Voe=Koe.hasOwnProperty;function Goe(e,t,r,n,s,i){var o=r&zoe,c=jE(e),l=c.length,A=jE(t),u=A.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=c[d];if(!(o?f in t:Voe.call(t,f)))return!1}var h=i.get(e),p=i.get(t);if(h&&p)return h==t&&p==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++d<l;){f=c[d];var v=e[f],y=t[f];if(n)var b=o?n(y,v,f,t,e,i):n(v,y,f,e,t,i);if(!(b===void 0?v===y||s(v,y,r,n,i):b)){m=!1;break}x||(x=f=="constructor")}if(m&&!x){var _=e.constructor,N=t.constructor;_!=N&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof N=="function"&&N instanceof N)&&(m=!1)}return i.delete(e),i.delete(t),m}var Woe=Goe,qoe=_A,Joe=Wi,Xoe=qoe(Joe,"DataView"),Yoe=Xoe,Zoe=_A,ele=Wi,tle=Zoe(ele,"Promise"),rle=tle,nle=_A,sle=Wi,ale=nle(sle,"Set"),P8=ale,ile=_A,ole=Wi,lle=ile(ole,"WeakMap"),cle=lle,NN=Yoe,BN=sC,CN=rle,kN=P8,SN=cle,I8=Go,gf=QU,NE="[object Map]",Ale="[object Object]",BE="[object Promise]",CE="[object Set]",kE="[object WeakMap]",SE="[object DataView]",ule=gf(NN),dle=gf(BN),fle=gf(CN),hle=gf(kN),ple=gf(SN),Qc=I8;(NN&&Qc(new NN(new ArrayBuffer(1)))!=SE||BN&&Qc(new BN)!=NE||CN&&Qc(CN.resolve())!=BE||kN&&Qc(new kN)!=CE||SN&&Qc(new SN)!=kE)&&(Qc=function(e){var t=I8(e),r=t==Ale?e.constructor:void 0,n=r?gf(r):"";if(n)switch(n){case ule:return SE;case dle:return NE;case fle:return BE;case hle:return CE;case ple:return kE}return t});var gle=Qc,Gw=b8,mle=B8,vle=qae,xle=Woe,_E=gle,EE=Fs,FE=S8,yle=E8,ble=1,PE="[object Arguments]",IE="[object Array]",S0="[object Object]",wle=Object.prototype,OE=wle.hasOwnProperty;function jle(e,t,r,n,s,i){var o=EE(e),c=EE(t),l=o?IE:_E(e),A=c?IE:_E(t);l=l==PE?S0:l,A=A==PE?S0:A;var u=l==S0,d=A==S0,f=l==A;if(f&&FE(e)){if(!FE(t))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new Gw),o||yle(e)?mle(e,t,r,n,s,i):vle(e,t,l,r,n,s,i);if(!(r&ble)){var h=u&&OE.call(e,"__wrapped__"),p=d&&OE.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,x=p?t.value():t;return i||(i=new Gw),s(m,x,r,n,i)}}return f?(i||(i=new Gw),xle(e,t,r,n,s,i)):!1}var Nle=jle,Ble=Nle,TE=Wo;function O8(e,t,r,n,s){return e===t?!0:e==null||t==null||!TE(e)&&!TE(t)?e!==e&&t!==t:Ble(e,t,r,n,O8,s)}var wC=O8,Cle=b8,kle=wC,Sle=1,_le=2;function Ele(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var c=r[s];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<i;){c=r[s];var l=c[0],A=e[l],u=c[1];if(o&&c[2]){if(A===void 0&&!(l in e))return!1}else{var d=new Cle;if(n)var f=n(A,u,l,e,t,d);if(!(f===void 0?kle(u,A,Sle|_le,n,d):f))return!1}}return!0}var Fle=Ele,Ple=dc;function Ile(e){return e===e&&!Ple(e)}var T8=Ile,Ole=T8,Tle=db;function Lle(e){for(var t=Tle(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Ole(s)]}return t}var Ule=Lle;function Dle(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var L8=Dle,Qle=Fle,Mle=Ule,Rle=L8;function $le(e){var t=Mle(e);return t.length==1&&t[0][2]?Rle(t[0][0],t[0][1]):function(r){return r===e||Qle(r,e,t)}}var Hle=$le;function zle(e,t){return e!=null&&t in Object(e)}var Kle=zle,Vle=zU,Gle=xC,Wle=Fs,qle=yC,Jle=bC,Xle=Xy;function Yle(e,t,r){t=Vle(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=Xle(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&Jle(s)&&qle(o,s)&&(Wle(e)||Gle(e)))}var Zle=Yle,ece=Kle,tce=Zle;function rce(e,t){return e!=null&&tce(e,t,ece)}var nce=rce,sce=wC,ace=KU,ice=nce,oce=tC,lce=T8,cce=L8,Ace=Xy,uce=1,dce=2;function fce(e,t){return oce(e)&&lce(t)?cce(Ace(e),t):function(r){var n=ace(r,e);return n===void 0&&n===t?ice(r,e):sce(t,n,uce|dce)}}var hce=fce;function pce(e){return e}var mf=pce;function gce(e){return function(t){return t==null?void 0:t[e]}}var mce=gce,vce=lC;function xce(e){return function(t){return vce(t,e)}}var yce=xce,bce=mce,wce=yce,jce=tC,Nce=Xy;function Bce(e){return jce(e)?bce(Nce(e)):wce(e)}var Cce=Bce,kce=Hle,Sce=hce,_ce=mf,Ece=Fs,Fce=Cce;function Pce(e){return typeof e=="function"?e:e==null?_ce:typeof e=="object"?Ece(e)?Sce(e[0],e[1]):kce(e):Fce(e)}var qi=Pce;function Ice(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var U8=Ice;function Oce(e){return e!==e}var Tce=Oce;function Lce(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Uce=Lce,Dce=U8,Qce=Tce,Mce=Uce;function Rce(e,t,r){return t===t?Mce(e,t,r):Dce(e,Qce,r)}var $ce=Rce,Hce=$ce;function zce(e,t){var r=e==null?0:e.length;return!!r&&Hce(e,t,0)>-1}var Kce=zce;function Vce(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var Gce=Vce;function Wce(){}var qce=Wce,Ww=P8,Jce=qce,Xce=vC,Yce=1/0,Zce=Ww&&1/Xce(new Ww([,-0]))[1]==Yce?function(e){return new Ww(e)}:Jce,eAe=Zce,tAe=w8,rAe=Kce,nAe=Gce,sAe=N8,aAe=eAe,iAe=vC,oAe=200;function lAe(e,t,r){var n=-1,s=rAe,i=e.length,o=!0,c=[],l=c;if(r)o=!1,s=nAe;else if(i>=oAe){var A=t?null:aAe(e);if(A)return iAe(A);o=!1,s=sAe,l=new tAe}else l=t?[]:c;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),c.push(u)}else s(l,d,r)||(l!==c&&l.push(d),c.push(u))}return c}var cAe=lAe,AAe=qi,uAe=cAe;function dAe(e,t){return e&&e.length?uAe(e,AAe(t)):[]}var fAe=dAe;const LE=Mt(fAe);function D8(e,t,r){return t===!0?LE(e,r):ft(t)?LE(e,t):e}function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}var hAe=["ref"];function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){fb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M8(n.key),n)}}function gAe(e,t,r){return t&&DE(e.prototype,t),r&&DE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mAe(e,t,r){return t=px(t),vAe(e,Q8()?Reflect.construct(t,r||[],px(e).constructor):t.apply(e,r))}function vAe(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xAe(e)}function xAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q8=function(){return!!e})()}function px(e){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},px(e)}function yAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_N(e,t)}function fb(e,t,r){return t=M8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M8(e){var t=bAe(e,"string");return kd(t)=="symbol"?t:t+""}function bAe(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wAe(e,t){if(e==null)return{};var r=jAe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NAe(e){return e.value}function BAe(e,t){if(fe.isValidElement(e))return fe.cloneElement(e,t);if(typeof e=="function")return fe.createElement(e,t);t.ref;var r=wAe(t,hAe);return fe.createElement(mC,r)}var QE=1,Zl=function(e){function t(){var r;pAe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=mAe(this,t,[].concat(s)),fb(r,"lastBoundingBox",{width:-1,height:-1}),r}return yAe(t,e),gAe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>QE||Math.abs(s.height-this.lastBoundingBox.height)>QE)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,c=s.verticalAlign,l=s.margin,A=s.chartWidth,u=s.chartHeight,d,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();d={left:((A||0)-h.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var p=this.getBBoxSnapshot();f={top:((u||0)-p.height)/2}}else f=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return fo(fo({},d),f)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,c=s.height,l=s.wrapperStyle,A=s.payloadUniqBy,u=s.payload,d=fo(fo({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return fe.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){n.wrapperNode=h}},BAe(i,fo(fo({},this.props),{},{payload:D8(u,A,NAe)})))}}],[{key:"getWithHeight",value:function(n,s){var i=fo(fo({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&He(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}($.PureComponent);fb(Zl,"displayName","Legend");fb(Zl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ME=Og,CAe=xC,kAe=Fs,RE=ME?ME.isConcatSpreadable:void 0;function SAe(e){return kAe(e)||CAe(e)||!!(RE&&e&&e[RE])}var _Ae=SAe,EAe=C8,FAe=_Ae;function R8(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=FAe),s||(s=[]);++i<o;){var c=e[i];t>0&&r(c)?t>1?R8(c,t-1,r,n,s):EAe(s,c):n||(s[s.length]=c)}return s}var $8=R8;function PAe(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),c=o.length;c--;){var l=o[e?c:++s];if(r(i[l],l,i)===!1)break}return t}}var IAe=PAe,OAe=IAe,TAe=OAe(),LAe=TAe,UAe=LAe,DAe=db;function QAe(e,t){return e&&UAe(e,t,DAe)}var H8=QAe,MAe=Tg;function RAe(e,t){return function(r,n){if(r==null)return r;if(!MAe(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var $Ae=RAe,HAe=H8,zAe=$Ae,KAe=zAe(HAe),jC=KAe,VAe=jC,GAe=Tg;function WAe(e,t){var r=-1,n=GAe(e)?Array(e.length):[];return VAe(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var z8=WAe;function qAe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var JAe=qAe,$E=lf;function XAe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=$E(e),o=t!==void 0,c=t===null,l=t===t,A=$E(t);if(!c&&!A&&!i&&e>t||i&&o&&l&&!c&&!A||n&&o&&l||!r&&l||!s)return 1;if(!n&&!i&&!A&&e<t||A&&r&&s&&!n&&!i||c&&r&&s||!o&&s||!l)return-1}return 0}var YAe=XAe,ZAe=YAe;function eue(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,c=r.length;++n<o;){var l=ZAe(s[n],i[n]);if(l){if(n>=c)return l;var A=r[n];return l*(A=="desc"?-1:1)}}return e.index-t.index}var tue=eue,qw=oC,rue=lC,nue=qi,sue=z8,aue=JAe,iue=_8,oue=tue,lue=mf,cue=Fs;function Aue(e,t,r){t.length?t=qw(t,function(i){return cue(i)?function(o){return rue(o,i.length===1?i[0]:i)}:i}):t=[lue];var n=-1;t=qw(t,iue(nue));var s=sue(e,function(i,o,c){var l=qw(t,function(A){return A(i)});return{criteria:l,index:++n,value:i}});return aue(s,function(i,o){return oue(i,o,r)})}var uue=Aue;function due(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var fue=due,hue=fue,HE=Math.max;function pue(e,t,r){return t=HE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=HE(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=n[s];return c[t]=r(o),hue(e,this,c)}}var gue=pue;function mue(e){return function(){return e}}var vue=mue,xue=_A,yue=function(){try{var e=xue(Object,"defineProperty");return e({},"",{}),e}catch{}}(),K8=yue,bue=vue,zE=K8,wue=mf,jue=zE?function(e,t){return zE(e,"toString",{configurable:!0,enumerable:!1,value:bue(t),writable:!0})}:wue,Nue=jue,Bue=800,Cue=16,kue=Date.now;function Sue(e){var t=0,r=0;return function(){var n=kue(),s=Cue-(n-r);if(r=n,s>0){if(++t>=Bue)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _ue=Sue,Eue=Nue,Fue=_ue,Pue=Fue(Eue),Iue=Pue,Oue=mf,Tue=gue,Lue=Iue;function Uue(e,t){return Lue(Tue(e,t,Oue),e+"")}var Due=Uue,Que=nC,Mue=Tg,Rue=yC,$ue=dc;function Hue(e,t,r){if(!$ue(r))return!1;var n=typeof t;return(n=="number"?Mue(r)&&Rue(t,r.length):n=="string"&&t in r)?Que(r[t],e):!1}var hb=Hue,zue=$8,Kue=uue,Vue=Due,KE=hb,Gue=Vue(function(e,t){if(e==null)return[];var r=t.length;return r>1&&KE(e,t[0],t[1])?t=[]:r>2&&KE(t[0],t[1],t[2])&&(t=[t[0]]),Kue(e,zue(t,1),[])}),Wue=Gue;const NC=Mt(Wue);function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EN.apply(this,arguments)}function que(e,t){return Zue(e)||Yue(e,t)||Xue(e,t)||Jue()}function Jue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(e,t){if(e){if(typeof e=="string")return VE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VE(e,t)}}function VE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function Zue(e){if(Array.isArray(e))return e}function GE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(r),!0).forEach(function(n){ede(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ede(e,t,r){return t=tde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tde(e){var t=rde(e,"string");return $p(t)=="symbol"?t:t+""}function rde(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nde(e){return Array.isArray(e)&&cn(e[0])&&cn(e[1])?e.join(" ~ "):e}var sde=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,c=o===void 0?{}:o,l=t.labelStyle,A=l===void 0?{}:l,u=t.payload,d=t.formatter,f=t.itemSorter,h=t.wrapperClassName,p=t.labelClassName,m=t.label,x=t.labelFormatter,v=t.accessibilityLayer,y=v===void 0?!1:v,b=function(){if(u&&u.length){var C={padding:0,margin:0},Q=(f?NC(u,f):u).map(function(L,D){if(L.type==="none")return null;var S=Jw({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},c),O=L.formatter||d||nde,R=L.value,W=L.name,M=R,q=W;if(O&&M!=null&&q!=null){var B=O(R,W,L,D,u);if(Array.isArray(B)){var I=que(B,2);M=I[0],q=I[1]}else M=B}return fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:S},cn(q)?fe.createElement("span",{className:"recharts-tooltip-item-name"},q):null,cn(q)?fe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,fe.createElement("span",{className:"recharts-tooltip-item-value"},M),fe.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return fe.createElement("ul",{className:"recharts-tooltip-item-list",style:C},Q)}return null},_=Jw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=Jw({margin:0},A),P=!wt(m),T=P?m:"",j=Ct("recharts-default-tooltip",h),k=Ct("recharts-tooltip-label",p);P&&x&&u!==void 0&&u!==null&&(T=x(m,u));var z=y?{role:"status","aria-live":"assertive"}:{};return fe.createElement("div",EN({className:j,style:_},z),fe.createElement("p",{className:k,style:N},fe.isValidElement(T)?T:"".concat(T)),b())};function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function _0(e,t,r){return t=ade(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ade(e){var t=ide(e,"string");return Hp(t)=="symbol"?t:t+""}function ide(e,t){if(Hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ph="recharts-tooltip-wrapper",ode={visibility:"hidden"};function lde(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ct(ph,_0(_0(_0(_0({},"".concat(ph,"-right"),He(r)&&t&&He(t.x)&&r>=t.x),"".concat(ph,"-left"),He(r)&&t&&He(t.x)&&r<t.x),"".concat(ph,"-bottom"),He(n)&&t&&He(t.y)&&n>=t.y),"".concat(ph,"-top"),He(n)&&t&&He(t.y)&&n<t.y))}function WE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipDimension,l=e.viewBox,A=e.viewBoxDimension;if(i&&He(i[n]))return i[n];var u=r[n]-c-s,d=r[n]+s;if(t[n])return o[n]?u:d;if(o[n]){var f=u,h=l[n];return f<h?Math.max(d,l[n]):Math.max(u,l[n])}var p=d+c,m=l[n]+A;return p>m?Math.max(u,l[n]):Math.max(d,l[n])}function cde(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ade(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,l=e.viewBox,A,u,d;return o.height>0&&o.width>0&&r?(u=WE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=WE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),A=cde({translateX:u,translateY:d,useTranslate3d:c})):A=ode,{cssProperties:A,cssClasses:lde({translateX:u,translateY:d,coordinate:r})}}function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(n){PN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ude(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G8(n.key),n)}}function fde(e,t,r){return t&&dde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hde(e,t,r){return t=gx(t),pde(e,V8()?Reflect.construct(t,r||[],gx(e).constructor):t.apply(e,r))}function pde(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gde(e)}function gde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V8=function(){return!!e})()}function gx(e){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(e)}function mde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},FN(e,t)}function PN(e,t,r){return t=G8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8(e){var t=vde(e,"string");return Sd(t)=="symbol"?t:t+""}function vde(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XE=1,xde=function(e){function t(){var r;ude(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=hde(this,t,[].concat(s)),PN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,l,A,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(A=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&A!==void 0?A:0}})}}),r}return mde(t,e),fde(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>XE||Math.abs(n.height-this.state.lastBoundingBox.height)>XE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,A=s.children,u=s.coordinate,d=s.hasPayload,f=s.isAnimationActive,h=s.offset,p=s.position,m=s.reverseDirection,x=s.useTranslate3d,v=s.viewBox,y=s.wrapperStyle,b=Ade({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),_=b.cssClasses,N=b.cssProperties,P=JE(JE({transition:f&&i?"transform ".concat(c,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return fe.createElement("div",{tabIndex:-1,className:_,style:P,ref:function(j){n.wrapperNode=j}},A)}}])}($.PureComponent),yde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},EA={isSsr:yde()};function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){BC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q8(n.key),n)}}function jde(e,t,r){return t&&wde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nde(e,t,r){return t=mx(t),Bde(e,W8()?Reflect.construct(t,r||[],mx(e).constructor):t.apply(e,r))}function Bde(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cde(e)}function Cde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W8=function(){return!!e})()}function mx(e){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(e)}function kde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IN(e,t)}function BC(e,t,r){return t=q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8(e){var t=Sde(e,"string");return _d(t)=="symbol"?t:t+""}function Sde(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _de(e){return e.dataKey}function Ede(e,t){return fe.isValidElement(e)?fe.cloneElement(e,t):typeof e=="function"?fe.createElement(e,t):fe.createElement(sde,t)}var la=function(e){function t(){return bde(this,t),Nde(this,t,arguments)}return kde(t,e),jde(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,A=s.content,u=s.coordinate,d=s.filterNull,f=s.isAnimationActive,h=s.offset,p=s.payload,m=s.payloadUniqBy,x=s.position,v=s.reverseDirection,y=s.useTranslate3d,b=s.viewBox,_=s.wrapperStyle,N=p??[];d&&N.length&&(N=D8(p.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,_de));var P=N.length>0;return fe.createElement(xde,{allowEscapeViewBox:o,animationDuration:c,animationEasing:l,isAnimationActive:f,active:i,coordinate:u,hasPayload:P,offset:h,position:x,reverseDirection:v,useTranslate3d:y,viewBox:b,wrapperStyle:_},Ede(A,ZE(ZE({},this.props),{},{payload:N})))}}])}($.PureComponent);BC(la,"displayName","Tooltip");BC(la,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!EA.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Fde=Wi,Pde=function(){return Fde.Date.now()},Ide=Pde,Ode=/\s/;function Tde(e){for(var t=e.length;t--&&Ode.test(e.charAt(t)););return t}var Lde=Tde,Ude=Lde,Dde=/^\s+/;function Qde(e){return e&&e.slice(0,Ude(e)+1).replace(Dde,"")}var Mde=Qde,Rde=Mde,e6=dc,$de=lf,t6=NaN,Hde=/^[-+]0x[0-9a-f]+$/i,zde=/^0b[01]+$/i,Kde=/^0o[0-7]+$/i,Vde=parseInt;function Gde(e){if(typeof e=="number")return e;if($de(e))return t6;if(e6(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=e6(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Rde(e);var r=zde.test(e);return r||Kde.test(e)?Vde(e.slice(2),r?2:8):Hde.test(e)?t6:+e}var J8=Gde,Wde=dc,Xw=Ide,r6=J8,qde="Expected a function",Jde=Math.max,Xde=Math.min;function Yde(e,t,r){var n,s,i,o,c,l,A=0,u=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(qde);t=r6(t)||0,Wde(r)&&(u=!!r.leading,d="maxWait"in r,i=d?Jde(r6(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function h(P){var T=n,j=s;return n=s=void 0,A=P,o=e.apply(j,T),o}function p(P){return A=P,c=setTimeout(v,t),u?h(P):o}function m(P){var T=P-l,j=P-A,k=t-T;return d?Xde(k,i-j):k}function x(P){var T=P-l,j=P-A;return l===void 0||T>=t||T<0||d&&j>=i}function v(){var P=Xw();if(x(P))return y(P);c=setTimeout(v,m(P))}function y(P){return c=void 0,f&&n?h(P):(n=s=void 0,o)}function b(){c!==void 0&&clearTimeout(c),A=0,n=l=s=c=void 0}function _(){return c===void 0?o:y(Xw())}function N(){var P=Xw(),T=x(P);if(n=arguments,s=this,l=P,T){if(c===void 0)return p(l);if(d)return clearTimeout(c),c=setTimeout(v,t),h(l)}return c===void 0&&(c=setTimeout(v,t)),o}return N.cancel=b,N.flush=_,N}var Zde=Yde,efe=Zde,tfe=dc,rfe="Expected a function";function nfe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(rfe);return tfe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),efe(e,t,{leading:n,maxWait:t,trailing:s})}var sfe=nfe;const X8=Mt(sfe);function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function E0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(n){afe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function afe(e,t,r){return t=ife(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ife(e){var t=ofe(e,"string");return zp(t)=="symbol"?t:t+""}function ofe(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lfe(e,t){return dfe(e)||ufe(e,t)||Afe(e,t)||cfe()}function cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Afe(e,t){if(e){if(typeof e=="string")return s6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s6(e,t)}}function s6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ufe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function dfe(e){if(Array.isArray(e))return e}var Yw=$.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,c=e.height,l=c===void 0?"100%":c,A=e.minWidth,u=A===void 0?0:A,d=e.minHeight,f=e.maxHeight,h=e.children,p=e.debounce,m=p===void 0?0:p,x=e.id,v=e.className,y=e.onResize,b=e.style,_=b===void 0?{}:b,N=$.useRef(null),P=$.useRef();P.current=y,$.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=$.useState({containerWidth:s.width,containerHeight:s.height}),j=lfe(T,2),k=j[0],z=j[1],E=$.useCallback(function(Q,L){z(function(D){var S=Math.round(Q),O=Math.round(L);return D.containerWidth===S&&D.containerHeight===O?D:{containerWidth:S,containerHeight:O}})},[]);$.useEffect(function(){var Q=function(W){var M,q=W[0].contentRect,B=q.width,I=q.height;E(B,I),(M=P.current)===null||M===void 0||M.call(P,B,I)};m>0&&(Q=X8(Q,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(Q),D=N.current.getBoundingClientRect(),S=D.width,O=D.height;return E(S,O),L.observe(N.current),function(){L.disconnect()}},[E,m]);var C=$.useMemo(function(){var Q=k.containerWidth,L=k.containerHeight;if(Q<0||L<0)return null;ri(Xc(o)||Xc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ri(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Xc(o)?Q:o,S=Xc(l)?L:l;r&&r>0&&(D?S=D/r:S&&(D=S*r),f&&S>f&&(S=f)),ri(D>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,S,o,l,u,d,r);var O=!Array.isArray(h)&&_o(h.type).endsWith("Chart");return fe.Children.map(h,function(R){return fe.isValidElement(R)?$.cloneElement(R,E0({width:D,height:S},O?{style:E0({height:"100%",width:"100%",maxHeight:S,maxWidth:D},R.props.style)}:{})):R})},[r,h,l,f,d,u,k,o]);return fe.createElement("div",{id:x?"".concat(x):void 0,className:Ct("recharts-responsive-container",v),style:E0(E0({},_),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:N},C)}),pb=function(t){return null};pb.displayName="Cell";function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function a6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(r),!0).forEach(function(n){ffe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ffe(e,t,r){return t=hfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hfe(e){var t=pfe(e,"string");return Kp(t)=="symbol"?t:t+""}function pfe(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wu={widthCache:{},cacheCount:0},gfe=2e3,mfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i6="recharts_measurement_span";function vfe(e){var t=ON({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var cp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||EA.isSsr)return{width:0,height:0};var n=vfe(r),s=JSON.stringify({text:t,copyStyle:n});if(wu.widthCache[s])return wu.widthCache[s];try{var i=document.getElementById(i6);i||(i=document.createElement("span"),i.setAttribute("id",i6),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ON(ON({},mfe),n);Object.assign(i.style,o),i.textContent="".concat(t);var c=i.getBoundingClientRect(),l={width:c.width,height:c.height};return wu.widthCache[s]=l,++wu.cacheCount>gfe&&(wu.cacheCount=0,wu.widthCache={}),l}catch{return{width:0,height:0}}},xfe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function vx(e,t){return jfe(e)||wfe(e,t)||bfe(e,t)||yfe()}function yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bfe(e,t){if(e){if(typeof e=="string")return o6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o6(e,t)}}function o6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function jfe(e){if(Array.isArray(e))return e}function Nfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cfe(n.key),n)}}function Bfe(e,t,r){return t&&l6(e.prototype,t),r&&l6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cfe(e){var t=kfe(e,"string");return Vp(t)=="symbol"?t:t+""}function kfe(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,A6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_fe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Y8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Efe=Object.keys(Y8),Vu="NaN";function Ffe(e,t){return e*Y8[t]}var F0=function(){function e(t,r){Nfe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Sfe.test(r)&&(this.num=NaN,this.unit=""),Efe.includes(r)&&(this.num=Ffe(t,r),this.unit="px")}return Bfe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=_fe.exec(r))!==null&&n!==void 0?n:[],i=vx(s,3),o=i[1],c=i[2];return new e(parseFloat(o),c??"")}}])}();function Z8(e){if(e.includes(Vu))return Vu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=c6.exec(t))!==null&&r!==void 0?r:[],s=vx(n,4),i=s[1],o=s[2],c=s[3],l=F0.parse(i??""),A=F0.parse(c??""),u=o==="*"?l.multiply(A):l.divide(A);if(u.isNaN())return Vu;t=t.replace(c6,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,f=(d=A6.exec(t))!==null&&d!==void 0?d:[],h=vx(f,4),p=h[1],m=h[2],x=h[3],v=F0.parse(p??""),y=F0.parse(x??""),b=m==="+"?v.add(y):v.subtract(y);if(b.isNaN())return Vu;t=t.replace(A6,b.toString())}return t}var u6=/\(([^()]*)\)/;function Pfe(e){for(var t=e;t.includes("(");){var r=u6.exec(t),n=vx(r,2),s=n[1];t=t.replace(u6,Z8(s))}return t}function Ife(e){var t=e.replace(/\s+/g,"");return t=Pfe(t),t=Z8(t),t}function Ofe(e){try{return Ife(e)}catch{return Vu}}function Zw(e){var t=Ofe(e.slice(5,-1));return t===Vu?"":t}var Tfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lfe=["dx","dy","angle","className","breakAll"];function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TN.apply(this,arguments)}function d6(e,t){if(e==null)return{};var r=Ufe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ufe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f6(e,t){return Rfe(e)||Mfe(e,t)||Qfe(e,t)||Dfe()}function Dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qfe(e,t){if(e){if(typeof e=="string")return h6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h6(e,t)}}function h6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function Rfe(e){if(Array.isArray(e))return e}var eD=/[ \f\n\r\t\v\u2028\u2029]+/,tD=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];wt(r)||(n?i=r.toString().split(""):i=r.toString().split(eD));var o=i.map(function(l){return{word:l,width:cp(l,s).width}}),c=n?0:cp(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},$fe=function(t,r,n,s,i){var o=t.maxLines,c=t.children,l=t.style,A=t.breakAll,u=He(o),d=c,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(S,O){var R=O.word,W=O.width,M=S[S.length-1];if(M&&(s==null||i||M.width+W+n<Number(s)))M.words.push(R),M.width+=W+n;else{var q={words:[R],width:W};S.push(q)}return S},[])},h=f(r),p=function(D){return D.reduce(function(S,O){return S.width>O.width?S:O})};if(!u)return h;for(var m="…",x=function(D){var S=d.slice(0,D),O=tD({breakAll:A,style:l,children:S+m}).wordsWithComputedWidth,R=f(O),W=R.length>o||p(R).width>Number(s);return[W,R]},v=0,y=d.length-1,b=0,_;v<=y&&b<=d.length-1;){var N=Math.floor((v+y)/2),P=N-1,T=x(P),j=f6(T,2),k=j[0],z=j[1],E=x(N),C=f6(E,1),Q=C[0];if(!k&&!Q&&(v=N+1),k&&Q&&(y=N-1),!k&&Q){_=z;break}b++}return _||h},p6=function(t){var r=wt(t)?[]:t.toString().split(eD);return[{words:r}]},Hfe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,c=t.maxLines;if((r||n)&&!EA.isSsr){var l,A,u=tD({breakAll:o,children:s,style:i});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,A=f}else return p6(s);return $fe({breakAll:o,children:s,maxLines:c,style:i},l,A,r,n)}return p6(s)},g6="#808080",xA=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,c=o===void 0?"1em":o,l=t.capHeight,A=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,f=t.textAnchor,h=f===void 0?"start":f,p=t.verticalAnchor,m=p===void 0?"end":p,x=t.fill,v=x===void 0?g6:x,y=d6(t,Tfe),b=$.useMemo(function(){return Hfe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),_=y.dx,N=y.dy,P=y.angle,T=y.className,j=y.breakAll,k=d6(y,Lfe);if(!cn(n)||!cn(i))return null;var z=n+(He(_)?_:0),E=i+(He(N)?N:0),C;switch(m){case"start":C=Zw("calc(".concat(A,")"));break;case"middle":C=Zw("calc(".concat((b.length-1)/2," * -").concat(c," + (").concat(A," / 2))"));break;default:C=Zw("calc(".concat(b.length-1," * -").concat(c,")"));break}var Q=[];if(d){var L=b[0].width,D=y.width;Q.push("scale(".concat((He(D)?D/L:1)/L,")"))}return P&&Q.push("rotate(".concat(P,", ").concat(z,", ").concat(E,")")),Q.length&&(k.transform=Q.join(" ")),fe.createElement("text",TN({},ot(k,!0),{x:z,y:E,className:Ct("recharts-text",T),textAnchor:h,fill:v.includes("url")?g6:v}),b.map(function(S,O){var R=S.words.join(j?"":" ");return fe.createElement("tspan",{x:z,dy:O===0?C:c,key:"".concat(R,"-").concat(O)},R)}))};function ec(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CC(e){let t,r,n;e.length!==2?(t=ec,r=(c,l)=>ec(e(c),l),n=(c,l)=>e(c)-l):(t=e===ec||e===zfe?e:Kfe,r=e,n=e);function s(c,l,A=0,u=c.length){if(A<u){if(t(l,l)!==0)return u;do{const d=A+u>>>1;r(c[d],l)<0?A=d+1:u=d}while(A<u)}return A}function i(c,l,A=0,u=c.length){if(A<u){if(t(l,l)!==0)return u;do{const d=A+u>>>1;r(c[d],l)<=0?A=d+1:u=d}while(A<u)}return A}function o(c,l,A=0,u=c.length){const d=s(c,l,A,u-1);return d>A&&n(c[d-1],l)>-n(c[d],l)?d-1:d}return{left:s,center:o,right:i}}function Kfe(){return 0}function rD(e){return e===null?NaN:+e}function*Vfe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Gfe=CC(ec),Lg=Gfe.right;CC(rD).center;class m6 extends Map{constructor(t,r=Jfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(v6(this,t))}has(t){return super.has(v6(this,t))}set(t,r){return super.set(Wfe(this,t),r)}delete(t){return super.delete(qfe(this,t))}}function v6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Wfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qfe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Jfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xfe(e=ec){if(e===ec)return nD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function nD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Yfe=Math.sqrt(50),Zfe=Math.sqrt(10),ehe=Math.sqrt(2);function xx(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Yfe?10:i>=Zfe?5:i>=ehe?2:1;let c,l,A;return s<0?(A=Math.pow(10,-s)/o,c=Math.round(e*A),l=Math.round(t*A),c/A<e&&++c,l/A>t&&--l,A=-A):(A=Math.pow(10,s)*o,c=Math.round(e/A),l=Math.round(t/A),c*A<e&&++c,l*A>t&&--l),l<c&&.5<=r&&r<2?xx(e,t,r*2):[c,l,A]}function LN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?xx(t,e,r):xx(e,t,r);if(!(i>=s))return[];const c=i-s+1,l=new Array(c);if(n)if(o<0)for(let A=0;A<c;++A)l[A]=(i-A)/-o;else for(let A=0;A<c;++A)l[A]=(i-A)*o;else if(o<0)for(let A=0;A<c;++A)l[A]=(s+A)/-o;else for(let A=0;A<c;++A)l[A]=(s+A)*o;return l}function UN(e,t,r){return t=+t,e=+e,r=+r,xx(e,t,r)[2]}function DN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?UN(t,e,r):UN(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function x6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function y6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sD(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?nD:Xfe(s);n>r;){if(n-r>600){const l=n-r+1,A=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(A-l/2<0?-1:1),h=Math.max(r,Math.floor(t-A*d/l+f)),p=Math.min(n,Math.floor(t+(l-A)*d/l+f));sD(e,t,h,p,s)}const i=e[t];let o=r,c=n;for(gh(e,r,t),s(e[n],i)>0&&gh(e,r,n);o<c;){for(gh(e,o,c),++o,--c;s(e[o],i)<0;)++o;for(;s(e[c],i)>0;)--c}s(e[r],i)===0?gh(e,r,c):(++c,gh(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function gh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function the(e,t,r){if(e=Float64Array.from(Vfe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return y6(e);if(t>=1)return x6(e);var n,s=(n-1)*t,i=Math.floor(s),o=x6(sD(e,i).subarray(0,i+1)),c=y6(e.subarray(i+1));return o+(c-o)*(s-i)}}function rhe(e,t,r=rD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(s-i)}}function nhe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ca(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const QN=Symbol("implicit");function kC(){var e=new m6,t=[],r=[],n=QN;function s(i){let o=e.get(i);if(o===void 0){if(n!==QN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new m6;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return kC(t,r).unknown(n)},Ca.apply(s,arguments),s}function Gp(){var e=kC().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,c=!1,l=0,A=0,u=.5;delete e.unknown;function d(){var f=t().length,h=s<n,p=h?s:n,m=h?n:s;i=(m-p)/Math.max(1,f-l+A*2),c&&(i=Math.floor(i)),p+=(m-p-i*(f-l))*u,o=i*(1-l),c&&(p=Math.round(p),o=Math.round(o));var x=nhe(f).map(function(v){return p+i*v});return r(h?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,d()):[n,s]},e.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,c=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(c=!!f,d()):c},e.padding=function(f){return arguments.length?(l=Math.min(1,A=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(A=+f,d()):A},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return Gp(t(),[n,s]).round(c).paddingInner(l).paddingOuter(A).align(u)},Ca.apply(d(),arguments)}function aD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aD(t())},e}function Ap(){return aD(Gp.apply(null,arguments).paddingInner(1))}function SC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ug(){}var Wp=.7,yx=1/Wp,Ad="\\s*([+-]?\\d+)\\s*",qp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",she=/^#([0-9a-f]{3,8})$/,ahe=new RegExp(`^rgb\\(${Ad},${Ad},${Ad}\\)$`),ihe=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),ohe=new RegExp(`^rgba\\(${Ad},${Ad},${Ad},${qp}\\)$`),lhe=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${qp}\\)$`),che=new RegExp(`^hsl\\(${qp},${Ui},${Ui}\\)$`),Ahe=new RegExp(`^hsla\\(${qp},${Ui},${Ui},${qp}\\)$`),b6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SC(Ug,Jp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w6,formatHex:w6,formatHex8:uhe,formatHsl:dhe,formatRgb:j6,toString:j6});function w6(){return this.rgb().formatHex()}function uhe(){return this.rgb().formatHex8()}function dhe(){return oD(this).formatHsl()}function j6(){return this.rgb().formatRgb()}function Jp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=she.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?N6(t):r===3?new Ns(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?P0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?P0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ahe.exec(e))?new Ns(t[1],t[2],t[3],1):(t=ihe.exec(e))?new Ns(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ohe.exec(e))?P0(t[1],t[2],t[3],t[4]):(t=lhe.exec(e))?P0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=che.exec(e))?k6(t[1],t[2]/100,t[3]/100,1):(t=Ahe.exec(e))?k6(t[1],t[2]/100,t[3]/100,t[4]):b6.hasOwnProperty(e)?N6(b6[e]):e==="transparent"?new Ns(NaN,NaN,NaN,0):null}function N6(e){return new Ns(e>>16&255,e>>8&255,e&255,1)}function P0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ns(e,t,r,n)}function fhe(e){return e instanceof Ug||(e=Jp(e)),e?(e=e.rgb(),new Ns(e.r,e.g,e.b,e.opacity)):new Ns}function MN(e,t,r,n){return arguments.length===1?fhe(e):new Ns(e,t,r,n??1)}function Ns(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}SC(Ns,MN,iD(Ug,{brighter(e){return e=e==null?yx:Math.pow(yx,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wp:Math.pow(Wp,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ns(lA(this.r),lA(this.g),lA(this.b),bx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B6,formatHex:B6,formatHex8:hhe,formatRgb:C6,toString:C6}));function B6(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}`}function hhe(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}${Yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function C6(){const e=bx(this.opacity);return`${e===1?"rgb(":"rgba("}${lA(this.r)}, ${lA(this.g)}, ${lA(this.b)}${e===1?")":`, ${e})`}`}function bx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lA(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yc(e){return e=lA(e),(e<16?"0":"")+e.toString(16)}function k6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xa(e,t,r,n)}function oD(e){if(e instanceof Xa)return new Xa(e.h,e.s,e.l,e.opacity);if(e instanceof Ug||(e=Jp(e)),!e)return new Xa;if(e instanceof Xa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,c=i-s,l=(i+s)/2;return c?(t===i?o=(r-n)/c+(r<n)*6:r===i?o=(n-t)/c+2:o=(t-r)/c+4,c/=l<.5?i+s:2-i-s,o*=60):c=l>0&&l<1?0:o,new Xa(o,c,l,e.opacity)}function phe(e,t,r,n){return arguments.length===1?oD(e):new Xa(e,t,r,n??1)}function Xa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}SC(Xa,phe,iD(Ug,{brighter(e){return e=e==null?yx:Math.pow(yx,e),new Xa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wp:Math.pow(Wp,e),new Xa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Ns(e2(e>=240?e-240:e+120,s,n),e2(e,s,n),e2(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Xa(S6(this.h),I0(this.s),I0(this.l),bx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bx(this.opacity);return`${e===1?"hsl(":"hsla("}${S6(this.h)}, ${I0(this.s)*100}%, ${I0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function S6(e){return e=(e||0)%360,e<0?e+360:e}function I0(e){return Math.max(0,Math.min(1,e||0))}function e2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _C=e=>()=>e;function ghe(e,t){return function(r){return e+r*t}}function mhe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vhe(e){return(e=+e)==1?lD:function(t,r){return r-t?mhe(t,r,e):_C(isNaN(t)?r:t)}}function lD(e,t){var r=t-e;return r?ghe(e,r):_C(isNaN(e)?t:e)}const _6=function e(t){var r=vhe(t);function n(s,i){var o=r((s=MN(s)).r,(i=MN(i)).r),c=r(s.g,i.g),l=r(s.b,i.b),A=lD(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=c(u),s.b=l(u),s.opacity=A(u),s+""}}return n.gamma=e,n}(1);function xhe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function yhe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bhe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=vf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<n;++o)i[o]=s[o](c);return i}}function whe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jhe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=vf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var RN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t2=new RegExp(RN.source,"g");function Nhe(e){return function(){return e}}function Bhe(e){return function(t){return e(t)+""}}function Che(e,t){var r=RN.lastIndex=t2.lastIndex=0,n,s,i,o=-1,c=[],l=[];for(e=e+"",t=t+"";(n=RN.exec(e))&&(s=t2.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(n=n[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,l.push({i:o,x:wx(n,s)})),r=t2.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?l[0]?Bhe(l[0].x):Nhe(t):(t=l.length,function(A){for(var u=0,d;u<t;++u)c[(d=l[u]).i]=d.x(A);return c.join("")})}function vf(e,t){var r=typeof t,n;return t==null||r==="boolean"?_C(t):(r==="number"?wx:r==="string"?(n=Jp(t))?(t=n,_6):Che:t instanceof Jp?_6:t instanceof Date?whe:yhe(t)?xhe:Array.isArray(t)?bhe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jhe:wx)(e,t)}function EC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function khe(e,t){t===void 0&&(t=e,e=vf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[c](o-c)}}function She(e){return function(){return e}}function jx(e){return+e}var E6=[0,1];function os(e){return e}function $N(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:She(isNaN(t)?NaN:.5)}function _he(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ehe(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=$N(s,n),i=r(o,i)):(n=$N(n,s),i=r(i,o)),function(c){return i(n(c))}}function Fhe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=$N(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var l=Lg(e,c,1,n)-1;return i[l](s[l](c))}}function Dg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gb(){var e=E6,t=E6,r=vf,n,s,i,o=os,c,l,A;function u(){var f=Math.min(e.length,t.length);return o!==os&&(o=_he(e[0],e[f-1])),c=f>2?Fhe:Ehe,l=A=null,d}function d(f){return f==null||isNaN(f=+f)?i:(l||(l=c(e.map(n),t,r)))(n(o(f)))}return d.invert=function(f){return o(s((A||(A=c(t,e.map(n),wx)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,jx),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=EC,u()},d.clamp=function(f){return arguments.length?(o=f?!0:os,u()):o!==os},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(i=f,d):i},function(f,h){return n=f,s=h,u()}}function FC(){return gb()(os,os)}function Phe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ed(e){return e=Nx(Math.abs(e)),e?e[1]:NaN}function Ihe(e,t){return function(r,n){for(var s=r.length,i=[],o=0,c=e[0],l=0;s>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),i.push(r.substring(s-=c,s+c)),!((l+=c+1)>n));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Ohe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var The=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xp(e){if(!(t=The.exec(e)))throw new Error("invalid format: "+e);var t;return new PC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xp.prototype=PC.prototype;function PC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}PC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lhe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var cD;function Uhe(e,t){var r=Nx(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(cD=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Nx(e,Math.max(0,t+i-1))[0]}function F6(e,t){var r=Nx(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const P6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Phe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F6(e*100,t),r:F6,s:Uhe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function I6(e){return e}var O6=Array.prototype.map,T6=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Dhe(e){var t=e.grouping===void 0||e.thousands===void 0?I6:Ihe(O6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?I6:Ohe(O6.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function A(d){d=Xp(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,x=d.zero,v=d.width,y=d.comma,b=d.precision,_=d.trim,N=d.type;N==="n"?(y=!0,N="g"):P6[N]||(b===void 0&&(b=12),_=!0,N="g"),(x||f==="0"&&h==="=")&&(x=!0,f="0",h="=");var P=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=m==="$"?n:/[%p]/.test(N)?o:"",j=P6[N],k=/[defgprs%]/.test(N);b=b===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function z(E){var C=P,Q=T,L,D,S;if(N==="c")Q=j(E)+Q,E="";else{E=+E;var O=E<0||1/E<0;if(E=isNaN(E)?l:j(Math.abs(E),b),_&&(E=Lhe(E)),O&&+E==0&&p!=="+"&&(O=!1),C=(O?p==="("?p:c:p==="-"||p==="("?"":p)+C,Q=(N==="s"?T6[8+cD/3]:"")+Q+(O&&p==="("?")":""),k){for(L=-1,D=E.length;++L<D;)if(S=E.charCodeAt(L),48>S||S>57){Q=(S===46?s+E.slice(L+1):E.slice(L))+Q,E=E.slice(0,L);break}}}y&&!x&&(E=t(E,1/0));var R=C.length+E.length+Q.length,W=R<v?new Array(v-R+1).join(f):"";switch(y&&x&&(E=t(W+E,W.length?v-Q.length:1/0),W=""),h){case"<":E=C+E+Q+W;break;case"=":E=C+W+E+Q;break;case"^":E=W.slice(0,R=W.length>>1)+C+E+Q+W.slice(R);break;default:E=W+C+E+Q;break}return i(E)}return z.toString=function(){return d+""},z}function u(d,f){var h=A((d=Xp(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Ed(f)/3)))*3,m=Math.pow(10,-p),x=T6[8+p/3];return function(v){return h(m*v)+x}}return{format:A,formatPrefix:u}}var O0,IC,AD;Qhe({thousands:",",grouping:[3],currency:["$",""]});function Qhe(e){return O0=Dhe(e),IC=O0.format,AD=O0.formatPrefix,O0}function Mhe(e){return Math.max(0,-Ed(Math.abs(e)))}function Rhe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ed(t)/3)))*3-Ed(Math.abs(e)))}function $he(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ed(t)-Ed(e))+1}function uD(e,t,r,n){var s=DN(e,t,r),i;switch(n=Xp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Rhe(s,o))&&(n.precision=i),AD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=$he(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Mhe(s))&&(n.precision=i-(n.type==="%")*2);break}}return IC(n)}function fc(e){var t=e.domain;return e.ticks=function(r){var n=t();return LN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return uD(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],c=n[i],l,A,u=10;for(c<o&&(A=o,o=c,c=A,A=s,s=i,i=A);u-- >0;){if(A=UN(o,c,r),A===l)return n[s]=o,n[i]=c,t(n);if(A>0)o=Math.floor(o/A)*A,c=Math.ceil(c/A)*A;else if(A<0)o=Math.ceil(o*A)/A,c=Math.floor(c*A)/A;else break;l=A}return e},e}function Bx(){var e=FC();return e.copy=function(){return Dg(e,Bx())},Ca.apply(e,arguments),fc(e)}function dD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dD(e).unknown(t)},e=arguments.length?Array.from(e,jx):[0,1],fc(r)}function fD(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function L6(e){return Math.log(e)}function U6(e){return Math.exp(e)}function Hhe(e){return-Math.log(-e)}function zhe(e){return-Math.exp(-e)}function Khe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vhe(e){return e===10?Khe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ghe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function D6(e){return(t,r)=>-e(-t,r)}function OC(e){const t=e(L6,U6),r=t.domain;let n=10,s,i;function o(){return s=Ghe(n),i=Vhe(n),r()[0]<0?(s=D6(s),i=D6(i),e(Hhe,zhe)):e(L6,U6),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const l=r();let A=l[0],u=l[l.length-1];const d=u<A;d&&([A,u]=[u,A]);let f=s(A),h=s(u),p,m;const x=c==null?10:+c;let v=[];if(!(n%1)&&h-f<x){if(f=Math.floor(f),h=Math.ceil(h),A>0){for(;f<=h;++f)for(p=1;p<n;++p)if(m=f<0?p/i(-f):p*i(f),!(m<A)){if(m>u)break;v.push(m)}}else for(;f<=h;++f)for(p=n-1;p>=1;--p)if(m=f>0?p/i(-f):p*i(f),!(m<A)){if(m>u)break;v.push(m)}v.length*2<x&&(v=LN(A,u,x))}else v=LN(f,h,Math.min(h-f,x)).map(i);return d?v.reverse():v},t.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Xp(l)).precision==null&&(l.trim=!0),l=IC(l)),c===1/0)return l;const A=Math.max(1,n*c/t.ticks().length);return u=>{let d=u/i(Math.round(s(u)));return d*n<n-.5&&(d*=n),d<=A?l(u):""}},t.nice=()=>r(fD(r(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),t}function hD(){const e=OC(gb()).domain([1,10]);return e.copy=()=>Dg(e,hD()).base(e.base()),Ca.apply(e,arguments),e}function Q6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function M6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function TC(e){var t=1,r=e(Q6(t),M6(t));return r.constant=function(n){return arguments.length?e(Q6(t=+n),M6(t)):t},fc(r)}function pD(){var e=TC(gb());return e.copy=function(){return Dg(e,pD()).constant(e.constant())},Ca.apply(e,arguments)}function R6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Whe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qhe(e){return e<0?-e*e:e*e}function LC(e){var t=e(os,os),r=1;function n(){return r===1?e(os,os):r===.5?e(Whe,qhe):e(R6(r),R6(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},fc(t)}function UC(){var e=LC(gb());return e.copy=function(){return Dg(e,UC()).exponent(e.exponent())},Ca.apply(e,arguments),e}function Jhe(){return UC.apply(null,arguments).exponent(.5)}function $6(e){return Math.sign(e)*e*e}function Xhe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gD(){var e=FC(),t=[0,1],r=!1,n;function s(i){var o=Xhe(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert($6(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,jx)).map($6)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return gD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ca.apply(s,arguments),fc(s)}function mD(){var e=[],t=[],r=[],n;function s(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=rhe(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Lg(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(ec),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return mD().domain(e).range(t).unknown(n)},Ca.apply(i,arguments)}function vD(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(l){return l!=null&&l<=l?s[Lg(n,l,0,r)]:i}function c(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,c()):[e,t]},o.range=function(l){return arguments.length?(r=(s=Array.from(l)).length-1,c()):s.slice()},o.invertExtent=function(l){var A=s.indexOf(l);return A<0?[NaN,NaN]:A<1?[e,n[0]]:A>=r?[n[r-1],t]:[n[A-1],n[A]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return vD().domain([e,t]).range(s).unknown(i)},Ca.apply(fc(o),arguments)}function xD(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Lg(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return xD().domain(e).range(t).unknown(r)},Ca.apply(s,arguments)}const r2=new Date,n2=new Date;function An(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const l=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return l;let A;do l.push(A=new Date(+i)),t(i,c),e(i);while(A<i&&i<o);return l},s.filter=i=>An(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(r2.setTime(+i),n2.setTime(+o),e(r2),e(n2),Math.floor(r(r2,n2))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Cx=An(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?An(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Cx);Cx.range;const bo=1e3,ma=bo*60,wo=ma*60,Mo=wo*24,DC=Mo*7,H6=Mo*30,s2=Mo*365,Zc=An(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bo)},(e,t)=>(t-e)/bo,e=>e.getUTCSeconds());Zc.range;const QC=An(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bo)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getMinutes());QC.range;const MC=An(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getUTCMinutes());MC.range;const RC=An(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bo-e.getMinutes()*ma)},(e,t)=>{e.setTime(+e+t*wo)},(e,t)=>(t-e)/wo,e=>e.getHours());RC.range;const $C=An(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wo)},(e,t)=>(t-e)/wo,e=>e.getUTCHours());$C.range;const Qg=An(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ma)/Mo,e=>e.getDate()-1);Qg.range;const mb=An(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mo,e=>e.getUTCDate()-1);mb.range;const yD=An(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mo,e=>Math.floor(e/Mo));yD.range;function FA(e){return An(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ma)/DC)}const vb=FA(0),kx=FA(1),Yhe=FA(2),Zhe=FA(3),Fd=FA(4),epe=FA(5),tpe=FA(6);vb.range;kx.range;Yhe.range;Zhe.range;Fd.range;epe.range;tpe.range;function PA(e){return An(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/DC)}const xb=PA(0),Sx=PA(1),rpe=PA(2),npe=PA(3),Pd=PA(4),spe=PA(5),ape=PA(6);xb.range;Sx.range;rpe.range;npe.range;Pd.range;spe.range;ape.range;const HC=An(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());HC.range;const zC=An(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zC.range;const Ro=An(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:An(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ro.range;const $o=An(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:An(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});$o.range;function bD(e,t,r,n,s,i){const o=[[Zc,1,bo],[Zc,5,5*bo],[Zc,15,15*bo],[Zc,30,30*bo],[i,1,ma],[i,5,5*ma],[i,15,15*ma],[i,30,30*ma],[s,1,wo],[s,3,3*wo],[s,6,6*wo],[s,12,12*wo],[n,1,Mo],[n,2,2*Mo],[r,1,DC],[t,1,H6],[t,3,3*H6],[e,1,s2]];function c(A,u,d){const f=u<A;f&&([A,u]=[u,A]);const h=d&&typeof d.range=="function"?d:l(A,u,d),p=h?h.range(A,+u+1):[];return f?p.reverse():p}function l(A,u,d){const f=Math.abs(u-A)/d,h=CC(([,,x])=>x).right(o,f);if(h===o.length)return e.every(DN(A/s2,u/s2,d));if(h===0)return Cx.every(Math.max(DN(A,u,d),1));const[p,m]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(m)}return[c,l]}const[ipe,ope]=bD($o,zC,xb,yD,$C,MC),[lpe,cpe]=bD(Ro,HC,vb,Qg,RC,QC);function a2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ape(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,c=e.months,l=e.shortMonths,A=vh(s),u=xh(s),d=vh(i),f=xh(i),h=vh(o),p=xh(o),m=vh(c),x=xh(c),v=vh(l),y=xh(l),b={a:O,A:R,b:W,B:M,c:null,d:q6,e:q6,f:Ipe,g:Hpe,G:Kpe,H:Epe,I:Fpe,j:Ppe,L:wD,m:Ope,M:Tpe,p:q,q:B,Q:Y6,s:Z6,S:Lpe,u:Upe,U:Dpe,V:Qpe,w:Mpe,W:Rpe,x:null,X:null,y:$pe,Y:zpe,Z:Vpe,"%":X6},_={a:I,A:H,b:G,B:J,c:null,d:J6,e:J6,f:Jpe,g:ige,G:lge,H:Gpe,I:Wpe,j:qpe,L:ND,m:Xpe,M:Ype,p:ie,q:Ae,Q:Y6,s:Z6,S:Zpe,u:ege,U:tge,V:rge,w:nge,W:sge,x:null,X:null,y:age,Y:oge,Z:cge,"%":X6},N={a:z,A:E,b:C,B:Q,c:L,d:G6,e:G6,f:Cpe,g:V6,G:K6,H:W6,I:W6,j:wpe,L:Bpe,m:bpe,M:jpe,p:k,q:ype,Q:Spe,s:_pe,S:Npe,u:ppe,U:gpe,V:mpe,w:hpe,W:vpe,x:D,X:S,y:V6,Y:K6,Z:xpe,"%":kpe};b.x=P(r,b),b.X=P(n,b),b.c=P(t,b),_.x=P(r,_),_.X=P(n,_),_.c=P(t,_);function P(se,we){return function(be){var ve=[],pe=-1,oe=0,de=se.length,V,re,he;for(be instanceof Date||(be=new Date(+be));++pe<de;)se.charCodeAt(pe)===37&&(ve.push(se.slice(oe,pe)),(re=z6[V=se.charAt(++pe)])!=null?V=se.charAt(++pe):re=V==="e"?" ":"0",(he=we[V])&&(V=he(be,re)),ve.push(V),oe=pe+1);return ve.push(se.slice(oe,pe)),ve.join("")}}function T(se,we){return function(be){var ve=mh(1900,void 0,1),pe=j(ve,se,be+="",0),oe,de;if(pe!=be.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(we&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(oe=i2(mh(ve.y,0,1)),de=oe.getUTCDay(),oe=de>4||de===0?Sx.ceil(oe):Sx(oe),oe=mb.offset(oe,(ve.V-1)*7),ve.y=oe.getUTCFullYear(),ve.m=oe.getUTCMonth(),ve.d=oe.getUTCDate()+(ve.w+6)%7):(oe=a2(mh(ve.y,0,1)),de=oe.getDay(),oe=de>4||de===0?kx.ceil(oe):kx(oe),oe=Qg.offset(oe,(ve.V-1)*7),ve.y=oe.getFullYear(),ve.m=oe.getMonth(),ve.d=oe.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),de="Z"in ve?i2(mh(ve.y,0,1)).getUTCDay():a2(mh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(de+5)%7:ve.w+ve.U*7-(de+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,i2(ve)):a2(ve)}}function j(se,we,be,ve){for(var pe=0,oe=we.length,de=be.length,V,re;pe<oe;){if(ve>=de)return-1;if(V=we.charCodeAt(pe++),V===37){if(V=we.charAt(pe++),re=N[V in z6?we.charAt(pe++):V],!re||(ve=re(se,be,ve))<0)return-1}else if(V!=be.charCodeAt(ve++))return-1}return ve}function k(se,we,be){var ve=A.exec(we.slice(be));return ve?(se.p=u.get(ve[0].toLowerCase()),be+ve[0].length):-1}function z(se,we,be){var ve=h.exec(we.slice(be));return ve?(se.w=p.get(ve[0].toLowerCase()),be+ve[0].length):-1}function E(se,we,be){var ve=d.exec(we.slice(be));return ve?(se.w=f.get(ve[0].toLowerCase()),be+ve[0].length):-1}function C(se,we,be){var ve=v.exec(we.slice(be));return ve?(se.m=y.get(ve[0].toLowerCase()),be+ve[0].length):-1}function Q(se,we,be){var ve=m.exec(we.slice(be));return ve?(se.m=x.get(ve[0].toLowerCase()),be+ve[0].length):-1}function L(se,we,be){return j(se,t,we,be)}function D(se,we,be){return j(se,r,we,be)}function S(se,we,be){return j(se,n,we,be)}function O(se){return o[se.getDay()]}function R(se){return i[se.getDay()]}function W(se){return l[se.getMonth()]}function M(se){return c[se.getMonth()]}function q(se){return s[+(se.getHours()>=12)]}function B(se){return 1+~~(se.getMonth()/3)}function I(se){return o[se.getUTCDay()]}function H(se){return i[se.getUTCDay()]}function G(se){return l[se.getUTCMonth()]}function J(se){return c[se.getUTCMonth()]}function ie(se){return s[+(se.getUTCHours()>=12)]}function Ae(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var we=P(se+="",b);return we.toString=function(){return se},we},parse:function(se){var we=T(se+="",!1);return we.toString=function(){return se},we},utcFormat:function(se){var we=P(se+="",_);return we.toString=function(){return se},we},utcParse:function(se){var we=T(se+="",!0);return we.toString=function(){return se},we}}}var z6={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,upe=/^%/,dpe=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function fpe(e){return e.replace(dpe,"\\$&")}function vh(e){return new RegExp("^(?:"+e.map(fpe).join("|")+")","i")}function xh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function hpe(e,t,r){var n=jn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ppe(e,t,r){var n=jn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function gpe(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function mpe(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function vpe(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function K6(e,t,r){var n=jn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function V6(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xpe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ype(e,t,r){var n=jn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function bpe(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function G6(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function wpe(e,t,r){var n=jn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function W6(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function jpe(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Npe(e,t,r){var n=jn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Bpe(e,t,r){var n=jn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Cpe(e,t,r){var n=jn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function kpe(e,t,r){var n=upe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Spe(e,t,r){var n=jn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _pe(e,t,r){var n=jn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function q6(e,t){return Ut(e.getDate(),t,2)}function Epe(e,t){return Ut(e.getHours(),t,2)}function Fpe(e,t){return Ut(e.getHours()%12||12,t,2)}function Ppe(e,t){return Ut(1+Qg.count(Ro(e),e),t,3)}function wD(e,t){return Ut(e.getMilliseconds(),t,3)}function Ipe(e,t){return wD(e,t)+"000"}function Ope(e,t){return Ut(e.getMonth()+1,t,2)}function Tpe(e,t){return Ut(e.getMinutes(),t,2)}function Lpe(e,t){return Ut(e.getSeconds(),t,2)}function Upe(e){var t=e.getDay();return t===0?7:t}function Dpe(e,t){return Ut(vb.count(Ro(e)-1,e),t,2)}function jD(e){var t=e.getDay();return t>=4||t===0?Fd(e):Fd.ceil(e)}function Qpe(e,t){return e=jD(e),Ut(Fd.count(Ro(e),e)+(Ro(e).getDay()===4),t,2)}function Mpe(e){return e.getDay()}function Rpe(e,t){return Ut(kx.count(Ro(e)-1,e),t,2)}function $pe(e,t){return Ut(e.getFullYear()%100,t,2)}function Hpe(e,t){return e=jD(e),Ut(e.getFullYear()%100,t,2)}function zpe(e,t){return Ut(e.getFullYear()%1e4,t,4)}function Kpe(e,t){var r=e.getDay();return e=r>=4||r===0?Fd(e):Fd.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function Vpe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function J6(e,t){return Ut(e.getUTCDate(),t,2)}function Gpe(e,t){return Ut(e.getUTCHours(),t,2)}function Wpe(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function qpe(e,t){return Ut(1+mb.count($o(e),e),t,3)}function ND(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function Jpe(e,t){return ND(e,t)+"000"}function Xpe(e,t){return Ut(e.getUTCMonth()+1,t,2)}function Ype(e,t){return Ut(e.getUTCMinutes(),t,2)}function Zpe(e,t){return Ut(e.getUTCSeconds(),t,2)}function ege(e){var t=e.getUTCDay();return t===0?7:t}function tge(e,t){return Ut(xb.count($o(e)-1,e),t,2)}function BD(e){var t=e.getUTCDay();return t>=4||t===0?Pd(e):Pd.ceil(e)}function rge(e,t){return e=BD(e),Ut(Pd.count($o(e),e)+($o(e).getUTCDay()===4),t,2)}function nge(e){return e.getUTCDay()}function sge(e,t){return Ut(Sx.count($o(e)-1,e),t,2)}function age(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function ige(e,t){return e=BD(e),Ut(e.getUTCFullYear()%100,t,2)}function oge(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function lge(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pd(e):Pd.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function cge(){return"+0000"}function X6(){return"%"}function Y6(e){return+e}function Z6(e){return Math.floor(+e/1e3)}var ju,CD,kD;Age({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Age(e){return ju=Ape(e),CD=ju.format,ju.parse,kD=ju.utcFormat,ju.utcParse,ju}function uge(e){return new Date(e)}function dge(e){return e instanceof Date?+e:+new Date(+e)}function KC(e,t,r,n,s,i,o,c,l,A){var u=FC(),d=u.invert,f=u.domain,h=A(".%L"),p=A(":%S"),m=A("%I:%M"),x=A("%I %p"),v=A("%a %d"),y=A("%b %d"),b=A("%B"),_=A("%Y");function N(P){return(l(P)<P?h:c(P)<P?p:o(P)<P?m:i(P)<P?x:n(P)<P?s(P)<P?v:y:r(P)<P?b:_)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?f(Array.from(P,dge)):f().map(uge)},u.ticks=function(P){var T=f();return e(T[0],T[T.length-1],P??10)},u.tickFormat=function(P,T){return T==null?N:A(T)},u.nice=function(P){var T=f();return(!P||typeof P.range!="function")&&(P=t(T[0],T[T.length-1],P??10)),P?f(fD(T,P)):u},u.copy=function(){return Dg(u,KC(e,t,r,n,s,i,o,c,l,A))},u}function fge(){return Ca.apply(KC(lpe,cpe,Ro,HC,vb,Qg,RC,QC,Zc,CD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hge(){return Ca.apply(KC(ipe,ope,$o,zC,xb,mb,$C,MC,Zc,kD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yb(){var e=0,t=1,r,n,s,i,o=os,c=!1,l;function A(d){return d==null||isNaN(d=+d)?l:o(s===0?.5:(d=(i(d)-r)*s,c?Math.max(0,Math.min(1,d)):d))}A.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),A):[e,t]},A.clamp=function(d){return arguments.length?(c=!!d,A):c},A.interpolator=function(d){return arguments.length?(o=d,A):o};function u(d){return function(f){var h,p;return arguments.length?([h,p]=f,o=d(h,p),A):[o(0),o(1)]}}return A.range=u(vf),A.rangeRound=u(EC),A.unknown=function(d){return arguments.length?(l=d,A):l},function(d){return i=d,r=d(e),n=d(t),s=r===n?0:1/(n-r),A}}function hc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SD(){var e=fc(yb()(os));return e.copy=function(){return hc(e,SD())},qo.apply(e,arguments)}function _D(){var e=OC(yb()).domain([1,10]);return e.copy=function(){return hc(e,_D()).base(e.base())},qo.apply(e,arguments)}function ED(){var e=TC(yb());return e.copy=function(){return hc(e,ED()).constant(e.constant())},qo.apply(e,arguments)}function VC(){var e=LC(yb());return e.copy=function(){return hc(e,VC()).exponent(e.exponent())},qo.apply(e,arguments)}function pge(){return VC.apply(null,arguments).exponent(.5)}function FD(){var e=[],t=os;function r(n){if(n!=null&&!isNaN(n=+n))return t((Lg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ec),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>the(e,i/n))},r.copy=function(){return FD(t).domain(e)},qo.apply(r,arguments)}function bb(){var e=0,t=.5,r=1,n=1,s,i,o,c,l,A=os,u,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-i)*(n*m<n*i?c:l),A(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,r]=m,s=u(e=+e),i=u(t=+t),o=u(r=+r),c=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,h):[e,t,r]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(A=m,h):A};function p(m){return function(x){var v,y,b;return arguments.length?([v,y,b]=x,A=khe(m,[v,y,b]),h):[A(0),A(.5),A(1)]}}return h.range=p(vf),h.rangeRound=p(EC),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return u=m,s=m(e),i=m(t),o=m(r),c=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,h}}function PD(){var e=fc(bb()(os));return e.copy=function(){return hc(e,PD())},qo.apply(e,arguments)}function ID(){var e=OC(bb()).domain([.1,1,10]);return e.copy=function(){return hc(e,ID()).base(e.base())},qo.apply(e,arguments)}function OD(){var e=TC(bb());return e.copy=function(){return hc(e,OD()).constant(e.constant())},qo.apply(e,arguments)}function GC(){var e=LC(bb());return e.copy=function(){return hc(e,GC()).exponent(e.exponent())},qo.apply(e,arguments)}function gge(){return GC.apply(null,arguments).exponent(.5)}const eF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gp,scaleDiverging:PD,scaleDivergingLog:ID,scaleDivergingPow:GC,scaleDivergingSqrt:gge,scaleDivergingSymlog:OD,scaleIdentity:dD,scaleImplicit:QN,scaleLinear:Bx,scaleLog:hD,scaleOrdinal:kC,scalePoint:Ap,scalePow:UC,scaleQuantile:mD,scaleQuantize:vD,scaleRadial:gD,scaleSequential:SD,scaleSequentialLog:_D,scaleSequentialPow:VC,scaleSequentialQuantile:FD,scaleSequentialSqrt:pge,scaleSequentialSymlog:ED,scaleSqrt:Jhe,scaleSymlog:pD,scaleThreshold:xD,scaleTime:fge,scaleUtc:hge,tickFormat:uD},Symbol.toStringTag,{value:"Module"}));var mge=lf;function vge(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(c===void 0?o===o&&!mge(o):r(o,c)))var c=o,l=i}return l}var wb=vge;function xge(e,t){return e>t}var TD=xge,yge=wb,bge=TD,wge=mf;function jge(e){return e&&e.length?yge(e,wge,bge):void 0}var Nge=jge;const Ql=Mt(Nge);function Bge(e,t){return e<t}var LD=Bge,Cge=wb,kge=LD,Sge=mf;function _ge(e){return e&&e.length?Cge(e,Sge,kge):void 0}var Ege=_ge;const jb=Mt(Ege);var Fge=oC,Pge=qi,Ige=z8,Oge=Fs;function Tge(e,t){var r=Oge(e)?Fge:Ige;return r(e,Pge(t))}var Lge=Tge,Uge=$8,Dge=Lge;function Qge(e,t){return Uge(Dge(e,t),1)}var Mge=Qge;const Rge=Mt(Mge);var $ge=wC;function Hge(e,t){return $ge(e,t)}var zge=Hge;const Id=Mt(zge);var xf=1e9,Kge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qC,br=!0,Na="[DecimalError] ",cA=Na+"Invalid argument: ",WC=Na+"Exponent out of range: ",yf=Math.floor,Mc=Math.pow,Vge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$s,mn=1e7,hr=7,UD=9007199254740991,_x=yf(UD/hr),rt={};rt.absoluteValue=rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rt.comparedTo=rt.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*hr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};rt.dividedBy=rt.div=function(e){return Eo(this,new this.constructor(e))};rt.dividedToIntegerBy=rt.idiv=function(e){var t=this,r=t.constructor;return nr(Eo(t,new r(e),0,1),r.precision)};rt.equals=rt.eq=function(e){return!this.cmp(e)};rt.exponent=function(){return Yr(this)};rt.greaterThan=rt.gt=function(e){return this.cmp(e)>0};rt.greaterThanOrEqualTo=rt.gte=function(e){return this.cmp(e)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(e){return this.cmp(e)<0};rt.lessThanOrEqualTo=rt.lte=function(e){return this.cmp(e)<1};rt.logarithm=rt.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($s))throw Error(Na+"NaN");if(r.s<1)throw Error(Na+(r.s?"NaN":"-Infinity"));return r.eq($s)?new n(0):(br=!1,t=Eo(Yp(r,i),Yp(e,i),i),br=!0,nr(t,s))};rt.minus=rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MD(t,e):DD(t,(e.s=-e.s,e))};rt.modulo=rt.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Na+"NaN");return r.s?(br=!1,t=Eo(r,e,0,1).times(e),br=!0,r.minus(t)):nr(new n(r),s)};rt.naturalExponential=rt.exp=function(){return QD(this)};rt.naturalLogarithm=rt.ln=function(){return Yp(this)};rt.negated=rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rt.plus=rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DD(t,e):MD(t,(e.s=-e.s,e))};rt.precision=rt.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cA+e);if(t=Yr(s)+1,n=s.d.length-1,r=n*hr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};rt.squareRoot=rt.sqrt=function(){var e,t,r,n,s,i,o,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(Na+"NaN")}for(e=Yr(c),br=!1,s=Math.sqrt(+c),s==0||s==1/0?(t=Fi(c.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=yf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(s.toString()),r=l.precision,s=o=r+3;;)if(i=n,n=i.plus(Eo(c,i,o+2)).times(.5),Fi(i.d).slice(0,o)===(t=Fi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(nr(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;o+=4}return br=!0,nr(n,r)};rt.times=rt.mul=function(e){var t,r,n,s,i,o,c,l,A,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=f.length,A=h.length,l<A&&(i=f,f=h,h=i,o=l,l=A,A=o),i=[],o=l+A,n=o;n--;)i.push(0);for(n=A;--n>=0;){for(t=0,s=l+n;s>n;)c=i[s]+h[n]*f[s-n-1]+t,i[s--]=c%mn|0,t=c/mn|0;i[s]=(i[s]+t)%mn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,br?nr(e,d.precision):e};rt.toDecimalPlaces=rt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ri(e,0,xf),t===void 0?t=n.rounding:Ri(t,0,8),nr(r,e+Yr(r)+1,t))};rt.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=yA(n,!0):(Ri(e,0,xf),t===void 0?t=s.rounding:Ri(t,0,8),n=nr(new s(n),e+1,t),r=yA(n,!0,e+1)),r};rt.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?yA(s):(Ri(e,0,xf),t===void 0?t=i.rounding:Ri(t,0,8),n=nr(new i(s),e+Yr(s)+1,t),r=yA(n.abs(),!1,e+Yr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};rt.toInteger=rt.toint=function(){var e=this,t=e.constructor;return nr(new t(e),Yr(e)+1,t.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(e){var t,r,n,s,i,o,c=this,l=c.constructor,A=12,u=+(e=new l(e));if(!e.s)return new l($s);if(c=new l(c),!c.s){if(e.s<1)throw Error(Na+"Infinity");return c}if(c.eq($s))return c;if(n=l.precision,e.eq($s))return nr(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=u<0?-u:u)<=UD){for(s=new l($s),t=Math.ceil(n/hr+4),br=!1;r%2&&(s=s.times(c),rF(s.d,t)),r=yf(r/2),r!==0;)c=c.times(c),rF(c.d,t);return br=!0,e.s<0?new l($s).div(s):nr(s,n)}}else if(i<0)throw Error(Na+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,br=!1,s=e.times(Yp(c,n+A)),br=!0,s=QD(s),s.s=i,s};rt.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Yr(s),n=yA(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ri(e,1,xf),t===void 0?t=i.rounding:Ri(t,0,8),s=nr(new i(s),e,t),r=Yr(s),n=yA(s,e<=r||r<=i.toExpNeg,e)),n};rt.toSignificantDigits=rt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ri(e,1,xf),t===void 0?t=n.rounding:Ri(t,0,8)),nr(new n(r),e,t)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Yr(e),r=e.constructor;return yA(e,t<=r.toExpNeg||t>=r.toExpPos)};function DD(e,t){var r,n,s,i,o,c,l,A,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),br?nr(t,d):t;if(l=e.d,A=t.d,o=e.e,s=t.e,l=l.slice(),i=o-s,i){for(i<0?(n=l,i=-i,c=A.length):(n=A,s=o,c=l.length),o=Math.ceil(d/hr),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=l.length,i=A.length,c-i<0&&(i=c,n=A,A=l,l=n),r=0;i;)r=(l[--i]=l[i]+A[i]+r)/mn|0,l[i]%=mn;for(r&&(l.unshift(r),++s),c=l.length;l[--c]==0;)l.pop();return t.d=l,t.e=s,br?nr(t,d):t}function Ri(e,t,r){if(e!==~~e||e<t||e>r)throw Error(cA+e)}function Fi(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=hr-n.length,r&&(i+=Nl(r)),i+=n;o=e[t],n=o+"",r=hr-n.length,r&&(i+=Nl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Eo=function(){function e(n,s){var i,o=0,c=n.length;for(n=n.slice();c--;)i=n[c]*s+o,n[c]=i%mn|0,o=i/mn|0;return o&&n.unshift(o),n}function t(n,s,i,o){var c,l;if(i!=o)l=i>o?1:-1;else for(c=l=0;c<i;c++)if(n[c]!=s[c]){l=n[c]>s[c]?1:-1;break}return l}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*mn+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var c,l,A,u,d,f,h,p,m,x,v,y,b,_,N,P,T,j,k=n.constructor,z=n.s==s.s?1:-1,E=n.d,C=s.d;if(!n.s)return new k(n);if(!s.s)throw Error(Na+"Division by zero");for(l=n.e-s.e,T=C.length,N=E.length,h=new k(z),p=h.d=[],A=0;C[A]==(E[A]||0);)++A;if(C[A]>(E[A]||0)&&--l,i==null?y=i=k.precision:o?y=i+(Yr(n)-Yr(s))+1:y=i,y<0)return new k(0);if(y=y/hr+2|0,A=0,T==1)for(u=0,C=C[0],y++;(A<N||u)&&y--;A++)b=u*mn+(E[A]||0),p[A]=b/C|0,u=b%C|0;else{for(u=mn/(C[0]+1)|0,u>1&&(C=e(C,u),E=e(E,u),T=C.length,N=E.length),_=T,m=E.slice(0,T),x=m.length;x<T;)m[x++]=0;j=C.slice(),j.unshift(0),P=C[0],C[1]>=mn/2&&++P;do u=0,c=t(C,m,T,x),c<0?(v=m[0],T!=x&&(v=v*mn+(m[1]||0)),u=v/P|0,u>1?(u>=mn&&(u=mn-1),d=e(C,u),f=d.length,x=m.length,c=t(d,m,f,x),c==1&&(u--,r(d,T<f?j:C,f))):(u==0&&(c=u=1),d=C.slice()),f=d.length,f<x&&d.unshift(0),r(m,d,x),c==-1&&(x=m.length,c=t(C,m,T,x),c<1&&(u++,r(m,T<x?j:C,x))),x=m.length):c===0&&(u++,m=[0]),p[A++]=u,c&&m[0]?m[x++]=E[_]||0:(m=[E[_]],x=1);while((_++<N||m[0]!==void 0)&&y--)}return p[0]||p.shift(),h.e=l,nr(h,o?i+Yr(h)+1:i)}}();function QD(e,t){var r,n,s,i,o,c,l=0,A=0,u=e.constructor,d=u.precision;if(Yr(e)>16)throw Error(WC+Yr(e));if(!e.s)return new u($s);for(br=!1,c=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),A+=5;for(n=Math.log(Mc(2,A))/Math.LN10*2+5|0,c+=n,r=s=i=new u($s),u.precision=c;;){if(s=nr(s.times(e),c),r=r.times(++l),o=i.plus(Eo(s,r,c)),Fi(o.d).slice(0,c)===Fi(i.d).slice(0,c)){for(;A--;)i=nr(i.times(i),c);return u.precision=d,t==null?(br=!0,nr(i,d)):i}i=o}}function Yr(e){for(var t=e.e*hr,r=e.d[0];r>=10;r/=10)t++;return t}function o2(e,t,r){if(t>e.LN10.sd())throw br=!0,r&&(e.precision=r),Error(Na+"LN10 precision limit exceeded");return nr(new e(e.LN10),t)}function Nl(e){for(var t="";e--;)t+="0";return t}function Yp(e,t){var r,n,s,i,o,c,l,A,u,d=1,f=10,h=e,p=h.d,m=h.constructor,x=m.precision;if(h.s<1)throw Error(Na+(h.s?"NaN":"-Infinity"));if(h.eq($s))return new m(0);if(t==null?(br=!1,A=x):A=t,h.eq(10))return t==null&&(br=!0),o2(m,A);if(A+=f,m.precision=A,r=Fi(p),n=r.charAt(0),i=Yr(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Fi(h.d),n=r.charAt(0),d++;i=Yr(h),n>1?(h=new m("0."+r),i++):h=new m(n+"."+r.slice(1))}else return l=o2(m,A+2,x).times(i+""),h=Yp(new m(n+"."+r.slice(1)),A-f).plus(l),m.precision=x,t==null?(br=!0,nr(h,x)):h;for(c=o=h=Eo(h.minus($s),h.plus($s),A),u=nr(h.times(h),A),s=3;;){if(o=nr(o.times(u),A),l=c.plus(Eo(o,new m(s),A)),Fi(l.d).slice(0,A)===Fi(c.d).slice(0,A))return c=c.times(2),i!==0&&(c=c.plus(o2(m,A+2,x).times(i+""))),c=Eo(c,new m(d),A),m.precision=x,t==null?(br=!0,nr(c,x)):c;c=l,s+=2}}function tF(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=yf(r/hr),e.d=[],n=(r+1)%hr,r<0&&(n+=hr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=hr;n<s;)e.d.push(+t.slice(n,n+=hr));t=t.slice(n),n=hr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),br&&(e.e>_x||e.e<-_x))throw Error(WC+r)}else e.s=0,e.e=0,e.d=[0];return e}function nr(e,t,r){var n,s,i,o,c,l,A,u,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=hr,s=t,A=d[u=0];else{if(u=Math.ceil((n+1)/hr),i=d.length,u>=i)return e;for(A=i=d[u],o=1;i>=10;i/=10)o++;n%=hr,s=n-hr+o}if(r!==void 0&&(i=Mc(10,o-s-1),c=A/i%10|0,l=t<0||d[u+1]!==void 0||A%i,l=r<4?(c||l)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||l||r==6&&(n>0?s>0?A/Mc(10,o-s):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=Yr(e),d.length=1,t=t-i-1,d[0]=Mc(10,(hr-t%hr)%hr),e.e=yf(-t/hr)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,i=1,u--):(d.length=u+1,i=Mc(10,hr-n),d[u]=s>0?(A/Mc(10,o-s)%Mc(10,s)|0)*i:0),l)for(;;)if(u==0){(d[0]+=i)==mn&&(d[0]=1,++e.e);break}else{if(d[u]+=i,d[u]!=mn)break;d[u--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(br&&(e.e>_x||e.e<-_x))throw Error(WC+Yr(e));return e}function MD(e,t){var r,n,s,i,o,c,l,A,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),br?nr(t,h):t;if(l=e.d,d=t.d,n=t.e,A=e.e,l=l.slice(),o=A-n,o){for(u=o<0,u?(r=l,o=-o,c=d.length):(r=d,n=A,c=l.length),s=Math.max(Math.ceil(h/hr),c)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=l.length,c=d.length,u=s<c,u&&(c=s),s=0;s<c;s++)if(l[s]!=d[s]){u=l[s]<d[s];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),c=l.length,s=d.length-c;s>0;--s)l[c++]=0;for(s=d.length;s>o;){if(l[--s]<d[s]){for(i=s;i&&l[--i]===0;)l[i]=mn-1;--l[i],l[s]+=mn}l[s]-=d[s]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,br?nr(t,h):t):new f(0)}function yA(e,t,r){var n,s=Yr(e),i=Fi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Nl(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Nl(-s-1)+i,r&&(n=r-o)>0&&(i+=Nl(n))):s>=o?(i+=Nl(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Nl(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Nl(n))),e.s<0?"-"+i:i}function rF(e,t){if(e.length>t)return e.length=t,!0}function RD(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(cA+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return tF(o,i.toString())}else if(typeof i!="string")throw Error(cA+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Vge.test(i))tF(o,i);else throw Error(cA+i)}if(s.prototype=rt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=RD,s.config=s.set=Gge,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Gge(e){if(!e||typeof e!="object")throw Error(Na+"Object expected");var t,r,n,s=["precision",1,xf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(yf(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(cA+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(cA+r+": "+n);return this}var qC=RD(Kge);$s=new qC(1);const Xt=qC;function Wge(e){return Yge(e)||Xge(e)||Jge(e)||qge()}function qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jge(e,t){if(e){if(typeof e=="string")return HN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(e,t)}}function Xge(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Yge(e){if(Array.isArray(e))return HN(e)}function HN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zge=function(t){return t},$D={},HD=function(t){return t===$D},nF=function(t){return function r(){return arguments.length===0||arguments.length===1&&HD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},eme=function e(t,r){return t===1?r:nF(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(c){return c!==$D}).length;return o>=t?r.apply(void 0,s):e(t-o,nF(function(){for(var c=arguments.length,l=new Array(c),A=0;A<c;A++)l[A]=arguments[A];var u=s.map(function(d){return HD(d)?l.shift():d});return r.apply(void 0,Wge(u).concat(l))}))})},Nb=function(t){return eme(t.length,t)},zN=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},tme=Nb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),rme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Zge;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(c,l){return l(c)},i.apply(void 0,arguments))}},KN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},zD=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(c,l){return c===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function nme(e){var t;return e===0?t=1:t=Math.floor(new Xt(e).abs().log(10).toNumber())+1,t}function sme(e,t,r){for(var n=new Xt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var ame=Nb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),ime=Nb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),ome=Nb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Bb={rangeStep:sme,getDigitCount:nme,interpolateNumber:ame,uninterpolateNumber:ime,uninterpolateTruncation:ome};function VN(e){return Ame(e)||cme(e)||KD(e)||lme()}function lme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cme(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ame(e){if(Array.isArray(e))return GN(e)}function Zp(e,t){return fme(e)||dme(e,t)||KD(e,t)||ume()}function ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(e,t){if(e){if(typeof e=="string")return GN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GN(e,t)}}function GN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dme(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(l){s=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function fme(e){if(Array.isArray(e))return e}function VD(e){var t=Zp(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function GD(e,t,r){if(e.lte(0))return new Xt(0);var n=Bb.getDigitCount(e.toNumber()),s=new Xt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,c=new Xt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=c.mul(s);return t?l:new Xt(Math.ceil(l))}function hme(e,t,r){var n=1,s=new Xt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Xt(10).pow(Bb.getDigitCount(e)-1),s=new Xt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Xt(Math.floor(e)))}else e===0?s=new Xt(Math.floor((t-1)/2)):r||(s=new Xt(Math.floor(e)));var o=Math.floor((t-1)/2),c=rme(tme(function(l){return s.add(new Xt(l-o).mul(n)).toNumber()}),zN);return c(0,t)}function WD(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Xt(0),tickMin:new Xt(0),tickMax:new Xt(0)};var i=GD(new Xt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Xt(0):(o=new Xt(e).add(t).div(2),o=o.sub(new Xt(o).mod(i)));var c=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Xt(t).sub(o).div(i).toNumber()),A=c+l+1;return A>r?WD(e,t,r,n,s+1):(A<r&&(l=t>0?l+(r-A):l,c=t>0?c:c+(r-A)),{step:i,tickMin:o.sub(new Xt(c).mul(i)),tickMax:o.add(new Xt(l).mul(i))})}function pme(e){var t=Zp(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),c=VD([r,n]),l=Zp(c,2),A=l[0],u=l[1];if(A===-1/0||u===1/0){var d=u===1/0?[A].concat(VN(zN(0,s-1).map(function(){return 1/0}))):[].concat(VN(zN(0,s-1).map(function(){return-1/0})),[u]);return r>n?KN(d):d}if(A===u)return hme(A,s,i);var f=WD(A,u,o,i),h=f.step,p=f.tickMin,m=f.tickMax,x=Bb.rangeStep(p,m.add(new Xt(.1).mul(h)),h);return r>n?KN(x):x}function gme(e,t){var r=Zp(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=VD([n,s]),c=Zp(o,2),l=c[0],A=c[1];if(l===-1/0||A===1/0)return[n,s];if(l===A)return[l];var u=Math.max(t,2),d=GD(new Xt(A).sub(l).div(u-1),i,0),f=[].concat(VN(Bb.rangeStep(new Xt(l),new Xt(A).sub(new Xt(.99).mul(d)),d)),[A]);return n>s?KN(f):f}var mme=zD(pme),vme=zD(gme),xme="Invariant failed";function bA(e,t){throw new Error(xme)}var yme=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(this,arguments)}function bme(e,t){return Bme(e)||Nme(e,t)||jme(e,t)||wme()}function wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jme(e,t){if(e){if(typeof e=="string")return sF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sF(e,t)}}function sF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function Bme(e){if(Array.isArray(e))return e}function Cme(e,t){if(e==null)return{};var r=kme(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XD(n.key),n)}}function Eme(e,t,r){return t&&_me(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fme(e,t,r){return t=Fx(t),Pme(e,qD()?Reflect.construct(t,r||[],Fx(e).constructor):t.apply(e,r))}function Pme(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ime(e)}function Ime(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qD=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fx(e)}function Ome(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}function WN(e,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WN(e,t)}function JD(e,t,r){return t=XD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XD(e){var t=Tme(e,"string");return Od(t)=="symbol"?t:t+""}function Tme(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cb=function(e){function t(){return Sme(this,t),Fme(this,t,arguments)}return Ome(t,e),Eme(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,c=n.dataKey,l=n.data,A=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,f=Cme(n,yme),h=ot(f,!1);this.props.direction==="x"&&u.type!=="number"&&bA();var p=l.map(function(m){var x=A(m,c),v=x.x,y=x.y,b=x.value,_=x.errorVal;if(!_)return null;var N=[],P,T;if(Array.isArray(_)){var j=bme(_,2);P=j[0],T=j[1]}else P=T=_;if(i==="vertical"){var k=u.scale,z=y+s,E=z+o,C=z-o,Q=k(b-P),L=k(b+T);N.push({x1:L,y1:E,x2:L,y2:C}),N.push({x1:Q,y1:z,x2:L,y2:z}),N.push({x1:Q,y1:E,x2:Q,y2:C})}else if(i==="horizontal"){var D=d.scale,S=v+s,O=S-o,R=S+o,W=D(b-P),M=D(b+T);N.push({x1:O,y1:M,x2:R,y2:M}),N.push({x1:S,y1:W,x2:S,y2:M}),N.push({x1:O,y1:W,x2:R,y2:W})}return fe.createElement(Ot,Ex({className:"recharts-errorBar",key:"bar-".concat(N.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},h),N.map(function(q){return fe.createElement("line",Ex({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return fe.createElement(Ot,{className:"recharts-errorBars"},p)}}])}(fe.Component);JD(Cb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});JD(Cb,"displayName","ErrorBar");function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(n){Lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lme(e,t,r){return t=Ume(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ume(e){var t=Dme(e,"string");return eg(t)=="symbol"?t:t+""}function Dme(e,t){if(eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YD=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Rs(r,Zl);if(!o)return null;var c=Zl.defaultProps,l=c!==void 0?Fc(Fc({},c),o.props):{},A;return o.props&&o.props.payload?A=o.props&&o.props.payload:i==="children"?A=(n||[]).reduce(function(u,d){var f=d.item,h=d.props,p=h.sectors||h.data||[];return u.concat(p.map(function(m){return{type:o.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):A=(n||[]).map(function(u){var d=u.item,f=d.type.defaultProps,h=f!==void 0?Fc(Fc({},f),d.props):{},p=h.dataKey,m=h.name,x=h.legendType,v=h.hide;return{inactive:v,dataKey:p,type:l.iconType||x||"square",color:JC(d),value:m||p,payload:h}}),Fc(Fc(Fc({},l),Zl.getWithHeight(o,s)),{},{payload:A,item:o})};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function iF(e){return $me(e)||Rme(e)||Mme(e)||Qme()}function Qme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mme(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function Rme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $me(e){if(Array.isArray(e))return qN(e)}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(n){ud(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ud(e,t,r){return t=Hme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hme(e){var t=zme(e,"string");return tg(t)=="symbol"?t:t+""}function zme(e,t){if(tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(e,t,r){return wt(e)||wt(t)?r:cn(t)?Vs(e,t,r):ft(t)?t(e):r}function up(e,t,r,n){var s=Rge(e,function(c){return on(c,t)});if(r==="number"){var i=s.filter(function(c){return He(c)||parseFloat(c)});return i.length?[jb(i),Ql(i)]:[1/0,-1/0]}var o=n?s.filter(function(c){return!wt(c)}):s;return o.map(function(c){return cn(c)||c instanceof Date?c:""})}var Kme=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,A=0;A<c;A++){var u=A>0?s[A-1].coordinate:s[c-1].coordinate,d=s[A].coordinate,f=A>=c-1?s[0].coordinate:s[A+1].coordinate,h=void 0;if(as(d-u)!==as(f-d)){var p=[];if(as(f-d)===as(l[1]-l[0])){h=f;var m=d+l[1]-l[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{h=u;var x=f+l[1]-l[0];p[0]=Math.min(d,(x+d)/2),p[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(t>v[0]&&t<=v[1]||t>=p[0]&&t<=p[1]){o=s[A].index;break}}else{var y=Math.min(u,f),b=Math.max(u,f);if(t>(y+d)/2&&t<=(b+d)/2){o=s[A].index;break}}}else for(var _=0;_<c;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<c-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===c-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},JC=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Pr(Pr({},t.type.defaultProps),t.props):t.props,o=i.stroke,c=i.fill,l;switch(s){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:c;break;default:l=c;break}return l},Vme=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},c=Object.keys(i),l=0,A=c.length;l<A;l++)for(var u=i[c[l]].stackGroups,d=Object.keys(u),f=0,h=d.length;f<h;f++){var p=u[d[f]],m=p.items,x=p.cateAxisId,v=m.filter(function(T){return _o(T.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,b=y!==void 0?Pr(Pr({},y),v[0].props):v[0].props,_=b.barSize,N=b[x];o[N]||(o[N]=[]);var P=wt(_)?r:_;o[N].push({item:v[0],stackList:v.slice(1),barSize:wt(P)?void 0:is(P,n,0)})}}return o},Gme=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,c=t.maxBarSize,l=o.length;if(l<1)return null;var A=is(r,s,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,h=s/l,p=o.reduce(function(_,N){return _+N.barSize||0},0);p+=(l-1)*A,p>=s&&(p-=(l-1)*A,A=0),p>=s&&h>0&&(f=!0,h*=.9,p=l*h);var m=(s-p)/2>>0,x={offset:m-A,size:0};u=o.reduce(function(_,N){var P={item:N.item,position:{offset:x.offset+x.size+A,size:f?h:N.barSize}},T=[].concat(iF(_),[P]);return x=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(j){T.push({item:j,position:x})}),T},d)}else{var v=is(n,s,0,!0);s-2*v-(l-1)*A<=0&&(A=0);var y=(s-2*v-(l-1)*A)/l;y>1&&(y>>=0);var b=c===+c?Math.min(y,c):y;u=o.reduce(function(_,N,P){var T=[].concat(iF(_),[{item:N.item,position:{offset:v+(y+A)*P+(y-b)/2,size:b}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(j){T.push({item:j,position:T[T.length-1].position})}),T},d)}return u},Wme=function(t,r,n,s){var i=n.children,o=n.width,c=n.margin,l=o-(c.left||0)-(c.right||0),A=YD({children:i,legendWidth:l});if(A){var u=s||{},d=u.width,f=u.height,h=A.align,p=A.verticalAlign,m=A.layout;if((m==="vertical"||m==="horizontal"&&p==="middle")&&h!=="center"&&He(t[h]))return Pr(Pr({},t),{},ud({},h,t[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&p!=="middle"&&He(t[p]))return Pr(Pr({},t),{},ud({},p,t[p]+(f||0)))}return t},qme=function(t,r,n){return wt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ZD=function(t,r,n,s,i){var o=r.props.children,c=ya(o,Cb).filter(function(A){return qme(s,i,A.props.direction)});if(c&&c.length){var l=c.map(function(A){return A.props.dataKey});return t.reduce(function(A,u){var d=on(u,n);if(wt(d))return A;var f=Array.isArray(d)?[jb(d),Ql(d)]:[d,d],h=l.reduce(function(p,m){var x=on(u,m,0),v=f[0]-Math.abs(Array.isArray(x)?x[0]:x),y=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(h[0],A[0]),Math.max(h[1],A[1])]},[1/0,-1/0])}return null},Jme=function(t,r,n,s,i){var o=r.map(function(c){return ZD(t,c,n,i,s)}).filter(function(c){return!wt(c)});return o&&o.length?o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},e7=function(t,r,n,s,i){var o=r.map(function(l){var A=l.props.dataKey;return n==="number"&&A&&ZD(t,l,A,s)||up(t,A,n,i)});if(n==="number")return o.reduce(function(l,A){return[Math.min(l[0],A[0]),Math.max(l[1],A[1])]},[1/0,-1/0]);var c={};return o.reduce(function(l,A){for(var u=0,d=A.length;u<d;u++)c[A[u]]||(c[A[u]]=!0,l.push(A[u]));return l},[])},t7=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},r7=function(t,r,n,s){if(s)return t.map(function(l){return l.coordinate});var i,o,c=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||c.push(r),o||c.push(n),c},jo=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,c=t.range,l=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,A=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/l:0;if(A=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?as(c[0]-c[1])*2*A:A,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var f=i?i.indexOf(d):d;return{coordinate:s(f)+A,value:d,offset:A}});return u.filter(function(d){return!ff(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,f){return{coordinate:s(d)+A,value:d,index:f,offset:A}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(d){return{coordinate:s(d)+A,value:d,offset:A}}):s.domain().map(function(d,f){return{coordinate:s(d)+A,value:i?i[d]:d,index:f,offset:A}})},l2=new WeakMap,T0=function(t,r){if(typeof r!="function")return t;l2.has(t)||l2.set(t,new WeakMap);var n=l2.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},n7=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,c=t.axisType;if(s==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Gp(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Bx(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ap(),realScaleType:"point"}:i==="category"?{scale:Gp(),realScaleType:"band"}:{scale:Bx(),realScaleType:"linear"};if(mA(s)){var l="scale".concat(lb(s));return{scale:(eF[l]||Ap)(),realScaleType:eF[l]?l:"point"}}return ft(s)?{scale:s}:{scale:Ap(),realScaleType:"point"}},lF=1e-4,s7=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-lF,o=Math.max(s[0],s[1])+lF,c=t(r[0]),l=t(r[n-1]);(c<i||c>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},Xme=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},Yme=function(t,r){if(!r||r.length!==2||!He(r[0])||!He(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!He(t[0])||t[0]<n)&&(i[0]=n),(!He(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},Zme=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,c=0;c<r;++c){var l=ff(t[c][n][1])?t[c][n][0]:t[c][n][1];l>=0?(t[c][n][0]=i,t[c][n][1]=i+l,i=t[c][n][1]):(t[c][n][0]=o,t[c][n][1]=o+l,o=t[c][n][1])}},e0e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var c=ff(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},t0e={sign:Zme,expand:yse,none:Bd,silhouette:bse,wiggle:wse,positive:e0e},r0e=function(t,r,n){var s=r.map(function(c){return c.props.dataKey}),i=t0e[n],o=xse().keys(s).value(function(c,l){return+on(c,l,0)}).order(yN).offset(i);return o(t)},n0e=function(t,r,n,s,i,o){if(!t)return null;var c=o?r.reverse():r,l={},A=c.reduce(function(d,f){var h,p=(h=f.type)!==null&&h!==void 0&&h.defaultProps?Pr(Pr({},f.type.defaultProps),f.props):f.props,m=p.stackId,x=p.hide;if(x)return d;var v=p[n],y=d[v]||{hasStack:!1,stackGroups:{}};if(cn(m)){var b=y.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};b.items.push(f),y.hasStack=!0,y.stackGroups[m]=b}else y.stackGroups[hf("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[f]};return Pr(Pr({},d),{},ud({},v,y))},l),u={};return Object.keys(A).reduce(function(d,f){var h=A[f];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,x){var v=h.stackGroups[x];return Pr(Pr({},m),{},ud({},x,{numericAxisId:n,cateAxisId:s,items:v.items,stackedData:r0e(t,v.items,i)}))},p)}return Pr(Pr({},d),{},ud({},f,h))},u)},a7=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,c=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var A=t.domain();if(!A.length)return null;var u=mme(A,i,c);return t.domain([jb(u),Ql(u)]),{niceTicks:u}}if(i&&s==="number"){var d=t.domain(),f=vme(d,i,c);return{niceTicks:f}}return null};function cF(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!wt(s[t.dataKey])){var c=sx(r,"value",s[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=on(s,wt(o)?t.dataKey:o);return wt(l)?null:t.scale(l)}var AF=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+s:null;var l=on(o,r.dataKey,r.domain[c]);return wt(l)?null:r.scale(l)-i/2+s},s0e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},a0e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Pr(Pr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(cn(i)){var o=r[i];if(o){var c=o.items.indexOf(t);return c>=0?o.stackedData[c]:null}}return null},i0e=function(t){return t.reduce(function(r,n){return[jb(n.concat([r[0]]).filter(He)),Ql(n.concat([r[1]]).filter(He))]},[1/0,-1/0])},i7=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],c=o.stackedData,l=c.reduce(function(A,u){var d=i0e(u.slice(r,n+1));return[Math.min(A[0],d[0]),Math.max(A[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},uF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JN=function(t,r,n){if(ft(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(He(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(uF.test(t[0])){var i=+uF.exec(t[0])[1];s[0]=r[0]-i}else ft(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(He(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(dF.test(t[1])){var o=+dF.exec(t[1])[1];s[1]=r[1]+o}else ft(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Px=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=NC(r,function(d){return d.coordinate}),o=1/0,c=1,l=i.length;c<l;c++){var A=i[c],u=i[c-1];o=Math.min((A.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},fF=function(t,r,n){return!t||!t.length||Id(t,Vs(n,"type.defaultProps.domain"))?r:t},o7=function(t,r){var n=t.type.defaultProps?Pr(Pr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,c=n.formatter,l=n.tooltipType,A=n.chartType,u=n.hide;return Pr(Pr({},ot(t,!1)),{},{dataKey:s,unit:o,formatter:c,name:i||s,color:JC(t),value:on(r,s),type:l,payload:r,chartType:A,hide:u})};function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function hF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hF(Object(r),!0).forEach(function(n){l7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l7(e,t,r){return t=o0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o0e(e){var t=l0e(e,"string");return rg(t)=="symbol"?t:t+""}function l0e(e,t){if(rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c0e(e,t){return f0e(e)||d0e(e,t)||u0e(e,t)||A0e()}function A0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u0e(e,t){if(e){if(typeof e=="string")return pF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pF(e,t)}}function pF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function f0e(e){if(Array.isArray(e))return e}var Ix=Math.PI/180,h0e=function(t){return t*180/Math.PI},ur=function(t,r,n,s){return{x:t+Math.cos(-Ix*s)*n,y:r+Math.sin(-Ix*s)*n}},c7=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},p0e=function(t,r,n,s,i){var o=t.width,c=t.height,l=t.startAngle,A=t.endAngle,u=is(t.cx,o,o/2),d=is(t.cy,c,c/2),f=c7(o,c,n),h=is(t.innerRadius,f,0),p=is(t.outerRadius,f,f*.8),m=Object.keys(r);return m.reduce(function(x,v){var y=r[v],b=y.domain,_=y.reversed,N;if(wt(y.range))s==="angleAxis"?N=[l,A]:s==="radiusAxis"&&(N=[h,p]),_&&(N=[N[1],N[0]]);else{N=y.range;var P=N,T=c0e(P,2);l=T[0],A=T[1]}var j=n7(y,i),k=j.realScaleType,z=j.scale;z.domain(b).range(N),s7(z);var E=a7(z,mo(mo({},y),{},{realScaleType:k})),C=mo(mo(mo({},y),E),{},{range:N,radius:p,realScaleType:k,scale:z,cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:l,endAngle:A});return mo(mo({},x),{},l7({},v,C))},{})},g0e=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},m0e=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,c=g0e({x:n,y:s},{x:i,y:o});if(c<=0)return{radius:c};var l=(n-i)/c,A=Math.acos(l);return s>o&&(A=2*Math.PI-A),{radius:c,angle:h0e(A),angleInRadian:A}},v0e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},x0e=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),c=Math.min(i,o);return t+c*360},gF=function(t,r){var n=t.x,s=t.y,i=m0e({x:n,y:s},r),o=i.radius,c=i.angle,l=r.innerRadius,A=r.outerRadius;if(o<l||o>A)return!1;if(o===0)return!0;var u=v0e(r),d=u.startAngle,f=u.endAngle,h=c,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?mo(mo({},r),{},{radius:o,angle:x0e(h,r)}):null},A7=function(t){return!$.isValidElement(t)&&!ft(t)&&typeof t!="boolean"?t.className:""};function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}var y0e=["offset"];function b0e(e){return B0e(e)||N0e(e)||j0e(e)||w0e()}function w0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0e(e,t){if(e){if(typeof e=="string")return XN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XN(e,t)}}function N0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B0e(e){if(Array.isArray(e))return XN(e)}function XN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C0e(e,t){if(e==null)return{};var r=k0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mF(Object(r),!0).forEach(function(n){S0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S0e(e,t,r){return t=_0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _0e(e){var t=E0e(e,"string");return ng(t)=="symbol"?t:t+""}function E0e(e,t){if(ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(this,arguments)}var F0e=function(t){var r=t.value,n=t.formatter,s=wt(t.children)?r:t.children;return ft(n)?n(s):s},P0e=function(t,r){var n=as(r-t),s=Math.min(Math.abs(r-t),360);return n*s},I0e=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,c=t.className,l=i,A=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,h=l.startAngle,p=l.endAngle,m=l.clockWise,x=(d+f)/2,v=P0e(h,p),y=v>=0?1:-1,b,_;s==="insideStart"?(b=h+y*o,_=m):s==="insideEnd"?(b=p-y*o,_=!m):s==="end"&&(b=p+y*o,_=m),_=v<=0?_:!_;var N=ur(A,u,x,b),P=ur(A,u,x,b+(_?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),j=wt(t.id)?hf("recharts-radial-line-"):t.id;return fe.createElement("text",sg({},n,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",c)}),fe.createElement("defs",null,fe.createElement("path",{id:j,d:T})),fe.createElement("textPath",{xlinkHref:"#".concat(j)},r))},O0e=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,c=i.cy,l=i.innerRadius,A=i.outerRadius,u=i.startAngle,d=i.endAngle,f=(u+d)/2;if(s==="outside"){var h=ur(o,c,A+n,f),p=h.x,m=h.y;return{x:p,y:m,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(l+A)/2,v=ur(o,c,x,f),y=v.x,b=v.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},T0e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,c=o.x,l=o.y,A=o.width,u=o.height,d=u>=0?1:-1,f=d*s,h=d>0?"end":"start",p=d>0?"start":"end",m=A>=0?1:-1,x=m*s,v=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var b={x:c+A/2,y:l-d*s,textAnchor:"middle",verticalAnchor:h};return nn(nn({},b),n?{height:Math.max(l-n.y,0),width:A}:{})}if(i==="bottom"){var _={x:c+A/2,y:l+u+f,textAnchor:"middle",verticalAnchor:p};return nn(nn({},_),n?{height:Math.max(n.y+n.height-(l+u),0),width:A}:{})}if(i==="left"){var N={x:c-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return nn(nn({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(i==="right"){var P={x:c+A+x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return nn(nn({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:u}:{})}var T=n?{width:A,height:u}:{};return i==="insideLeft"?nn({x:c+x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideRight"?nn({x:c+A-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},T):i==="insideTop"?nn({x:c+A/2,y:l+f,textAnchor:"middle",verticalAnchor:p},T):i==="insideBottom"?nn({x:c+A/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},T):i==="insideTopLeft"?nn({x:c+x,y:l+f,textAnchor:y,verticalAnchor:p},T):i==="insideTopRight"?nn({x:c+A-x,y:l+f,textAnchor:v,verticalAnchor:p},T):i==="insideBottomLeft"?nn({x:c+x,y:l+u-f,textAnchor:y,verticalAnchor:h},T):i==="insideBottomRight"?nn({x:c+A-x,y:l+u-f,textAnchor:v,verticalAnchor:h},T):cf(i)&&(He(i.x)||Xc(i.x))&&(He(i.y)||Xc(i.y))?nn({x:c+is(i.x,A),y:l+is(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):nn({x:c+A/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},L0e=function(t){return"cx"in t&&He(t.cx)};function yn(e){var t=e.offset,r=t===void 0?5:t,n=C0e(e,y0e),s=nn({offset:r},n),i=s.viewBox,o=s.position,c=s.value,l=s.children,A=s.content,u=s.className,d=u===void 0?"":u,f=s.textBreakAll;if(!i||wt(c)&&wt(l)&&!$.isValidElement(A)&&!ft(A))return null;if($.isValidElement(A))return $.cloneElement(A,s);var h;if(ft(A)){if(h=$.createElement(A,s),$.isValidElement(h))return h}else h=F0e(s);var p=L0e(i),m=ot(s,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return I0e(s,h,m);var x=p?O0e(s):T0e(s);return fe.createElement(xA,sg({className:Ct("recharts-label",d)},m,x,{breakAll:f}),h)}yn.displayName="Label";var u7=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,c=t.r,l=t.radius,A=t.innerRadius,u=t.outerRadius,d=t.x,f=t.y,h=t.top,p=t.left,m=t.width,x=t.height,v=t.clockWise,y=t.labelViewBox;if(y)return y;if(He(m)&&He(x)){if(He(d)&&He(f))return{x:d,y:f,width:m,height:x};if(He(h)&&He(p))return{x:h,y:p,width:m,height:x}}return He(d)&&He(f)?{x:d,y:f,width:0,height:0}:He(r)&&He(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:A||0,outerRadius:u||l||c||0,clockWise:v}:t.viewBox?t.viewBox:{}},U0e=function(t,r){return t?t===!0?fe.createElement(yn,{key:"label-implicit",viewBox:r}):cn(t)?fe.createElement(yn,{key:"label-implicit",viewBox:r,value:t}):$.isValidElement(t)?t.type===yn?$.cloneElement(t,{key:"label-implicit",viewBox:r}):fe.createElement(yn,{key:"label-implicit",content:t,viewBox:r}):ft(t)?fe.createElement(yn,{key:"label-implicit",content:t,viewBox:r}):cf(t)?fe.createElement(yn,sg({viewBox:r},t,{key:"label-implicit"})):null:null},D0e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=u7(t),o=ya(s,yn).map(function(l,A){return $.cloneElement(l,{viewBox:r||i,key:"label-".concat(A)})});if(!n)return o;var c=U0e(t.label,r||i);return[c].concat(b0e(o))};yn.parseViewBox=u7;yn.renderCallByParent=D0e;function Q0e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var M0e=Q0e;const R0e=Mt(M0e);function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}var $0e=["valueAccessor"],H0e=["data","dataKey","clockWise","id","textBreakAll"];function z0e(e){return W0e(e)||G0e(e)||V0e(e)||K0e()}function K0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function G0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W0e(e){if(Array.isArray(e))return YN(e)}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(this,arguments)}function vF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vF(Object(r),!0).forEach(function(n){q0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q0e(e,t,r){return t=J0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J0e(e){var t=X0e(e,"string");return ag(t)=="symbol"?t:t+""}function X0e(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yF(e,t){if(e==null)return{};var r=Y0e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Z0e=function(t){return Array.isArray(t.value)?R0e(t.value):t.value};function Fo(e){var t=e.valueAccessor,r=t===void 0?Z0e:t,n=yF(e,$0e),s=n.data,i=n.dataKey,o=n.clockWise,c=n.id,l=n.textBreakAll,A=yF(n,H0e);return!s||!s.length?null:fe.createElement(Ot,{className:"recharts-label-list"},s.map(function(u,d){var f=wt(i)?r(u,d):on(u&&u.payload,i),h=wt(c)?{}:{id:"".concat(c,"-").concat(d)};return fe.createElement(yn,Ox({},ot(u,!0),A,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:yn.parseViewBox(wt(o)?u:xF(xF({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Fo.displayName="LabelList";function eve(e,t){return e?e===!0?fe.createElement(Fo,{key:"labelList-implicit",data:t}):fe.isValidElement(e)||ft(e)?fe.createElement(Fo,{key:"labelList-implicit",data:t,content:e}):cf(e)?fe.createElement(Fo,Ox({data:t},e,{key:"labelList-implicit"})):null:null}function tve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=ya(n,Fo).map(function(o,c){return $.cloneElement(o,{data:t,key:"labelList-".concat(c)})});if(!r)return s;var i=eve(e.label,t);return[i].concat(z0e(s))}Fo.renderCallByParent=tve;function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZN.apply(this,arguments)}function bF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bF(Object(r),!0).forEach(function(n){rve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rve(e,t,r){return t=nve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nve(e){var t=sve(e,"string");return ig(t)=="symbol"?t:t+""}function sve(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ave=function(t,r){var n=as(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},L0=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,c=t.isExternal,l=t.cornerRadius,A=t.cornerIsExternal,u=l*(c?1:-1)+s,d=Math.asin(l/u)/Ix,f=A?i:i+o*d,h=ur(r,n,u,f),p=ur(r,n,s,f),m=A?i-o*d:i,x=ur(r,n,u*Math.cos(d*Ix),m);return{center:h,circleTangency:p,lineTangency:x,theta:d}},d7=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,c=t.endAngle,l=ave(o,c),A=o+l,u=ur(r,n,i,o),d=ur(r,n,i,A),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>A),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var h=ur(r,n,s,o),p=ur(r,n,s,A);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=A),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},ive=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,A=t.startAngle,u=t.endAngle,d=as(u-A),f=L0({cx:r,cy:n,radius:i,angle:A,sign:d,cornerRadius:o,cornerIsExternal:l}),h=f.circleTangency,p=f.lineTangency,m=f.theta,x=L0({cx:r,cy:n,radius:i,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),v=x.circleTangency,y=x.lineTangency,b=x.theta,_=l?Math.abs(A-u):Math.abs(A-u)-m-b;if(_<0)return c?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):d7({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:A,endAngle:u});var N="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var P=L0({cx:r,cy:n,radius:s,angle:A,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=P.circleTangency,j=P.lineTangency,k=P.theta,z=L0({cx:r,cy:n,radius:s,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=z.circleTangency,C=z.lineTangency,Q=z.theta,L=l?Math.abs(A-u):Math.abs(A-u)-k-Q;if(L<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},ove={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f7=function(t){var r=wF(wF({},ove),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,l=r.forceCornerRadius,A=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,f=r.className;if(o<i||u===d)return null;var h=Ct("recharts-sector",f),p=o-i,m=is(c,p,0,!0),x;return m>0&&Math.abs(u-d)<360?x=ive({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:A,startAngle:u,endAngle:d}):x=d7({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),fe.createElement("path",ZN({},ot(r,!0),{className:h,d:x,role:"img"}))};function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function eB(){return eB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eB.apply(this,arguments)}function jF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jF(Object(r),!0).forEach(function(n){lve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lve(e,t,r){return t=cve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cve(e){var t=Ave(e,"string");return og(t)=="symbol"?t:t+""}function Ave(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BF={curveBasisClosed:lse,curveBasisOpen:cse,curveBasis:ose,curveBumpX:Gne,curveBumpY:Wne,curveLinearClosed:Ase,curveLinear:Ab,curveMonotoneX:use,curveMonotoneY:dse,curveNatural:fse,curveStep:hse,curveStepAfter:gse,curveStepBefore:pse},U0=function(t){return t.x===+t.x&&t.y===+t.y},yh=function(t){return t.x},bh=function(t){return t.y},uve=function(t,r){if(ft(t))return t;var n="curve".concat(lb(t));return(n==="curveMonotone"||n==="curveBump")&&r?BF["".concat(n).concat(r==="vertical"?"Y":"X")]:BF[n]||Ab},dve=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,c=t.layout,l=t.connectNulls,A=l===void 0?!1:l,u=uve(n,c),d=A?i.filter(function(m){return U0(m)}):i,f;if(Array.isArray(o)){var h=A?o.filter(function(m){return U0(m)}):o,p=d.map(function(m,x){return NF(NF({},m),{},{base:h[x]})});return c==="vertical"?f=k0().y(bh).x1(yh).x0(function(m){return m.base.x}):f=k0().x(yh).y1(bh).y0(function(m){return m.base.y}),f.defined(U0).curve(u),f(p)}return c==="vertical"&&He(o)?f=k0().y(bh).x1(yh).x0(o):He(o)?f=k0().x(yh).y1(bh).y0(o):f=o8().x(yh).y(bh),f.defined(U0).curve(u),f(d)},dd=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?dve(t):s;return fe.createElement("path",eB({},ot(t,!1),ax(t),{className:Ct("recharts-curve",r),d:o,ref:i}))},h7={exports:{}},fve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hve=fve,pve=hve;function p7(){}function g7(){}g7.resetWarningCache=p7;var gve=function(){function e(n,s,i,o,c,l){if(l!==pve){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:g7,resetWarningCache:p7};return r.PropTypes=r,r};h7.exports=gve();var mve=h7.exports;const Ht=Mt(mve);var vve=Object.getOwnPropertyNames,xve=Object.getOwnPropertySymbols,yve=Object.prototype.hasOwnProperty;function CF(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function D0(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),c=i.get(n);if(o&&c)return o===n&&c===r;i.set(r,n),i.set(n,r);var l=e(r,n,s);return i.delete(r),i.delete(n),l}}function kF(e){return vve(e).concat(xve(e))}var bve=Object.hasOwn||function(e,t){return yve.call(e,t)};function IA(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var wve="__v",jve="__o",Nve="_owner",SF=Object.getOwnPropertyDescriptor,_F=Object.keys;function Bve(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Cve(e,t){return IA(e.getTime(),t.getTime())}function kve(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Sve(e,t){return e===t}function EF(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,c,l=0;(o=i.next())&&!o.done;){for(var A=t.entries(),u=!1,d=0;(c=A.next())&&!c.done;){if(s[d]){d++;continue}var f=o.value,h=c.value;if(r.equals(f[0],h[0],l,d,e,t,r)&&r.equals(f[1],h[1],f[0],h[0],e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1;l++}return!0}var _ve=IA;function Eve(e,t,r){var n=_F(e),s=n.length;if(_F(t).length!==s)return!1;for(;s-- >0;)if(!m7(e,t,r,n[s]))return!1;return!0}function wh(e,t,r){var n=kF(e),s=n.length;if(kF(t).length!==s)return!1;for(var i,o,c;s-- >0;)if(i=n[s],!m7(e,t,r,i)||(o=SF(e,i),c=SF(t,i),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function Fve(e,t){return IA(e.valueOf(),t.valueOf())}function Pve(e,t){return e.source===t.source&&e.flags===t.flags}function FF(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,c;(o=i.next())&&!o.done;){for(var l=t.values(),A=!1,u=0;(c=l.next())&&!c.done;){if(!s[u]&&r.equals(o.value,c.value,o.value,c.value,e,t,r)){A=s[u]=!0;break}u++}if(!A)return!1}return!0}function Ive(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Ove(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function m7(e,t,r,n){return(n===Nve||n===jve||n===wve)&&(e.$$typeof||t.$$typeof)?!0:bve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Tve="[object Arguments]",Lve="[object Boolean]",Uve="[object Date]",Dve="[object Error]",Qve="[object Map]",Mve="[object Number]",Rve="[object Object]",$ve="[object RegExp]",Hve="[object Set]",zve="[object String]",Kve="[object URL]",Vve=Array.isArray,PF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,IF=Object.assign,Gve=Object.prototype.toString.call.bind(Object.prototype.toString);function Wve(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,A=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(p,m,x){if(p===m)return!0;if(p==null||m==null)return!1;var v=typeof p;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?o(p,m,x):v==="function"?s(p,m,x):!1;var y=p.constructor;if(y!==m.constructor)return!1;if(y===Object)return c(p,m,x);if(Vve(p))return t(p,m,x);if(PF!=null&&PF(p))return d(p,m,x);if(y===Date)return r(p,m,x);if(y===RegExp)return A(p,m,x);if(y===Map)return i(p,m,x);if(y===Set)return u(p,m,x);var b=Gve(p);return b===Uve?r(p,m,x):b===$ve?A(p,m,x):b===Qve?i(p,m,x):b===Hve?u(p,m,x):b===Rve?typeof p.then!="function"&&typeof m.then!="function"&&c(p,m,x):b===Kve?f(p,m,x):b===Dve?n(p,m,x):b===Tve?c(p,m,x):b===Lve||b===Mve||b===zve?l(p,m,x):!1}}function qve(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?wh:Bve,areDatesEqual:Cve,areErrorsEqual:kve,areFunctionsEqual:Sve,areMapsEqual:n?CF(EF,wh):EF,areNumbersEqual:_ve,areObjectsEqual:n?wh:Eve,arePrimitiveWrappersEqual:Fve,areRegExpsEqual:Pve,areSetsEqual:n?CF(FF,wh):FF,areTypedArraysEqual:n?wh:Ive,areUrlsEqual:Ove};if(r&&(s=IF({},s,r(s))),t){var i=D0(s.areArraysEqual),o=D0(s.areMapsEqual),c=D0(s.areObjectsEqual),l=D0(s.areSetsEqual);s=IF({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:l})}return s}function Jve(e){return function(t,r,n,s,i,o,c){return e(t,r,c)}}function Xve(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(l,A){var u=n(),d=u.cache,f=d===void 0?t?new WeakMap:void 0:d,h=u.meta;return r(l,A,{cache:f,equals:s,meta:h,strict:i})};if(t)return function(l,A){return r(l,A,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(l,A){return r(l,A,o)}}var Yve=pc();pc({strict:!0});pc({circular:!0});pc({circular:!0,strict:!0});pc({createInternalComparator:function(){return IA}});pc({strict:!0,createInternalComparator:function(){return IA}});pc({circular:!0,createInternalComparator:function(){return IA}});pc({circular:!0,createInternalComparator:function(){return IA},strict:!0});function pc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,c=qve(e),l=Wve(c),A=n?n(l):Jve(l);return Xve({circular:r,comparator:l,createState:s,equals:A,strict:o})}function Zve(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function OF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Zve(s)};requestAnimationFrame(n)}function tB(e){"@babel/helpers - typeof";return tB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tB(e)}function exe(e){return sxe(e)||nxe(e)||rxe(e)||txe()}function txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rxe(e,t){if(e){if(typeof e=="string")return TF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TF(e,t)}}function TF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sxe(e){if(Array.isArray(e))return e}function axe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,c=exe(o),l=c[0],A=c.slice(1);if(typeof l=="number"){OF(s.bind(null,A),l);return}s(l),OF(s.bind(null,A));return}tB(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function LF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function UF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(r),!0).forEach(function(n){v7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v7(e,t,r){return t=ixe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ixe(e){var t=oxe(e,"string");return lg(t)==="symbol"?t:String(t)}function oxe(e,t){if(lg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lxe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},cxe=function(t){return t},Axe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},dp=function(t,r){return Object.keys(r).reduce(function(n,s){return UF(UF({},n),{},v7({},s,t(s,r[s])))},{})},DF=function(t,r,n){return t.map(function(s){return"".concat(Axe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function uxe(e,t){return hxe(e)||fxe(e,t)||x7(e,t)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function hxe(e){if(Array.isArray(e))return e}function pxe(e){return vxe(e)||mxe(e)||x7(e)||gxe()}function gxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x7(e,t){if(e){if(typeof e=="string")return rB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rB(e,t)}}function mxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vxe(e){if(Array.isArray(e))return rB(e)}function rB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tx=1e-4,y7=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},b7=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},QF=function(t,r){return function(n){var s=y7(t,r);return b7(s,n)}},xxe=function(t,r){return function(n){var s=y7(t,r),i=[].concat(pxe(s.map(function(o,c){return o*c}).slice(1)),[0]);return b7(i,n)}},MF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,c=1;break;case"ease":s=.25,i=.1,o=.25,c=1;break;case"ease-in":s=.42,i=0,o=1,c=1;break;case"ease-out":s=.42,i=0,o=.58,c=1;break;case"ease-in-out":s=0,i=0,o=.58,c=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var A=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=uxe(A,4);s=u[0],i=u[1],o=u[2],c=u[3]}}}var d=QF(s,o),f=QF(i,c),h=xxe(s,o),p=function(v){return v>1?1:v<0?0:v},m=function(v){for(var y=v>1?1:v,b=y,_=0;_<8;++_){var N=d(b)-y,P=h(b);if(Math.abs(N-y)<Tx||P<Tx)return f(b);b=p(b-N/P)}return f(b)};return m.isStepper=!1,m},yxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,c=o===void 0?17:o,l=function(u,d,f){var h=-(u-d)*n,p=f*i,m=f+(h-p)*c/1e3,x=f*c/1e3+u;return Math.abs(x-d)<Tx&&Math.abs(m)<Tx?[d,0]:[x,m]};return l.isStepper=!0,l.dt=c,l},bxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MF(s);case"spring":return yxe();default:if(s.split("(")[0]==="cubic-bezier")return MF(s)}return typeof s=="function"?s:null};function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function RF(e){return Nxe(e)||jxe(e)||w7(e)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nxe(e){if(Array.isArray(e))return sB(e)}function $F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$F(Object(r),!0).forEach(function(n){nB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nB(e,t,r){return t=Bxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bxe(e){var t=Cxe(e,"string");return cg(t)==="symbol"?t:String(t)}function Cxe(e,t){if(cg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kxe(e,t){return Exe(e)||_xe(e,t)||w7(e,t)||Sxe()}function Sxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w7(e,t){if(e){if(typeof e=="string")return sB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sB(e,t)}}function sB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _xe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function Exe(e){if(Array.isArray(e))return e}var Lx=function(t,r,n){return t+(r-t)*n},aB=function(t){var r=t.from,n=t.to;return r!==n},Fxe=function e(t,r,n){var s=dp(function(i,o){if(aB(o)){var c=t(o.from,o.to,o.velocity),l=kxe(c,2),A=l[0],u=l[1];return Sn(Sn({},o),{},{from:A,velocity:u})}return o},r);return n<1?dp(function(i,o){return aB(o)?Sn(Sn({},o),{},{velocity:Lx(o.velocity,s[i].velocity,n),from:Lx(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const Pxe=function(e,t,r,n,s){var i=lxe(e,t),o=i.reduce(function(x,v){return Sn(Sn({},x),{},nB({},v,[e[v],t[v]]))},{}),c=i.reduce(function(x,v){return Sn(Sn({},x),{},nB({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,A,u,d=function(){return null},f=function(){return dp(function(v,y){return y.from},c)},h=function(){return!Object.values(c).filter(aB).length},p=function(v){A||(A=v);var y=v-A,b=y/r.dt;c=Fxe(r,c,b),s(Sn(Sn(Sn({},e),t),f())),A=v,h()||(l=requestAnimationFrame(d))},m=function(v){u||(u=v);var y=(v-u)/n,b=dp(function(N,P){return Lx.apply(void 0,RF(P).concat([r(y)]))},o);if(s(Sn(Sn(Sn({},e),t),b)),y<1)l=requestAnimationFrame(d);else{var _=dp(function(N,P){return Lx.apply(void 0,RF(P).concat([r(1)]))},o);s(Sn(Sn(Sn({},e),t),_))}};return d=r.isStepper?p:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}var Ixe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Oxe(e,t){if(e==null)return{};var r=Txe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Txe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function c2(e){return Qxe(e)||Dxe(e)||Uxe(e)||Lxe()}function Lxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uxe(e,t){if(e){if(typeof e=="string")return iB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iB(e,t)}}function Dxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qxe(e){if(Array.isArray(e))return iB(e)}function iB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(r),!0).forEach(function(n){Mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mh(e,t,r){return t=j7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j7(n.key),n)}}function $xe(e,t,r){return t&&Rxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j7(e){var t=Hxe(e,"string");return Td(t)==="symbol"?t:String(t)}function Hxe(e,t){if(Td(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oB(e,t)}function oB(e,t){return oB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},oB(e,t)}function Kxe(e){var t=Vxe();return function(){var n=Ux(e),s;if(t){var i=Ux(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return lB(this,s)}}function lB(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cB(e)}function cB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ux(e)}var $i=function(e){zxe(r,e);var t=Kxe(r);function r(n,s){var i;Mxe(this,r),i=t.call(this,n,s);var o=i.props,c=o.isActive,l=o.attributeName,A=o.from,u=o.to,d=o.steps,f=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(cB(i)),i.changeStyle=i.changeStyle.bind(cB(i)),!c||h<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),lB(i);if(d&&d.length)i.state={style:d[0].style};else if(A){if(typeof f=="function")return i.state={style:A},lB(i);i.state={style:l?Mh({},l,A):A}}else i.state={style:{}};return i}return $xe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,c=i.canBegin,l=i.attributeName,A=i.shouldReAnimate,u=i.to,d=i.from,f=this.state.style;if(c){if(!o){var h={style:l?Mh({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(h);return}if(!(Yve(s.to,u)&&s.canBegin&&s.isActive)){var p=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||A?d:s.to;if(this.state&&f){var x={style:l?Mh({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(x)}this.runAnimation(Ra(Ra({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,c=s.to,l=s.duration,A=s.easing,u=s.begin,d=s.onAnimationEnd,f=s.onAnimationStart,h=Pxe(o,c,bxe(A),l,this.changeStyle),p=function(){i.stopJSAnimation=h()};this.manager.start([f,u,p,l,d])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,c=s.begin,l=s.onAnimationStart,A=o[0],u=A.style,d=A.duration,f=d===void 0?0:d,h=function(m,x,v){if(v===0)return m;var y=x.duration,b=x.easing,_=b===void 0?"ease":b,N=x.style,P=x.properties,T=x.onAnimationEnd,j=v>0?o[v-1]:x,k=P||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(c2(m),[i.runJSAnimation.bind(i,{from:j.style,to:N,duration:y,easing:_}),y]);var z=DF(k,y,_),E=Ra(Ra(Ra({},j.style),N),{},{transition:z});return[].concat(c2(m),[E,y,T]).filter(cxe)};return this.manager.start([l].concat(c2(o.reduce(h,[u,Math.max(f,c)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=axe());var i=s.begin,o=s.duration,c=s.attributeName,l=s.to,A=s.easing,u=s.onAnimationStart,d=s.onAnimationEnd,f=s.steps,h=s.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof A=="function"||typeof h=="function"||A==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var m=c?Mh({},c,l):l,x=DF(Object.keys(m),o,A);p.start([u,i,Ra(Ra({},m),{},{transition:x}),o,d])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var c=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var l=Oxe(s,Ixe),A=$.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!c||A===0||o<=0)return i;var d=function(h){var p=h.props,m=p.style,x=m===void 0?{}:m,v=p.className,y=$.cloneElement(h,Ra(Ra({},l),{},{style:Ra(Ra({},x),u),className:v}));return y};return A===1?d($.Children.only(i)):fe.createElement("div",null,$.Children.map(i,function(f){return d(f)}))}}]),r}($.PureComponent);$i.displayName="Animate";$i.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$i.propTypes={from:Ht.oneOfType([Ht.object,Ht.string]),to:Ht.oneOfType([Ht.object,Ht.string]),attributeName:Ht.string,duration:Ht.number,begin:Ht.number,easing:Ht.oneOfType([Ht.string,Ht.func]),steps:Ht.arrayOf(Ht.shape({duration:Ht.number.isRequired,style:Ht.object.isRequired,easing:Ht.oneOfType([Ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ht.func]),properties:Ht.arrayOf("string"),onAnimationEnd:Ht.func})),children:Ht.oneOfType([Ht.node,Ht.func]),isActive:Ht.bool,canBegin:Ht.bool,onAnimationEnd:Ht.func,shouldReAnimate:Ht.bool,onAnimationStart:Ht.func,onAnimationReStart:Ht.func};function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(this,arguments)}function Gxe(e,t){return Xxe(e)||Jxe(e,t)||qxe(e,t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(e,t){if(e){if(typeof e=="string")return zF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zF(e,t)}}function zF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function Xxe(e){if(Array.isArray(e))return e}function KF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KF(Object(r),!0).forEach(function(n){Yxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yxe(e,t,r){return t=Zxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zxe(e){var t=eye(e,"string");return Ag(t)=="symbol"?t:t+""}function eye(e,t){if(Ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GF=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),c=s>=0?1:-1,l=n>=0?1:-1,A=s>=0&&n>=0||s<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>o?o:i[f];u="M".concat(t,",").concat(r+c*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(A,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(A,`,
        `).concat(t+n,",").concat(r+c*d[1])),u+="L ".concat(t+n,",").concat(r+s-c*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(A,`,
        `).concat(t+n-l*d[2],",").concat(r+s)),u+="L ".concat(t+l*d[3],",").concat(r+s),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(r+s-c*d[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(r+c*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(A,",").concat(t+l*p,",").concat(r,`
            L `).concat(t+n-l*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(A,",").concat(t+n,",").concat(r+c*p,`
            L `).concat(t+n,",").concat(r+s-c*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(A,",").concat(t+n-l*p,",").concat(r+s,`
            L `).concat(t+l*p,",").concat(r+s,`
            A `).concat(p,",").concat(p,",0,0,").concat(A,",").concat(t,",").concat(r+s-c*p," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return u},tye=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,c=r.width,l=r.height;if(Math.abs(c)>0&&Math.abs(l)>0){var A=Math.min(i,i+c),u=Math.max(i,i+c),d=Math.min(o,o+l),f=Math.max(o,o+l);return n>=A&&n<=u&&s>=d&&s<=f}return!1},rye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XC=function(t){var r=VF(VF({},rye),t),n=$.useRef(),s=$.useState(-1),i=Gxe(s,2),o=i[0],c=i[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&c(_)}catch{}},[]);var l=r.x,A=r.y,u=r.width,d=r.height,f=r.radius,h=r.className,p=r.animationEasing,m=r.animationDuration,x=r.animationBegin,v=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||A!==+A||u!==+u||d!==+d||u===0||d===0)return null;var b=Ct("recharts-rectangle",h);return y?fe.createElement($i,{canBegin:o>0,from:{width:u,height:d,x:l,y:A},to:{width:u,height:d,x:l,y:A},duration:m,animationEasing:p,isActive:y},function(_){var N=_.width,P=_.height,T=_.x,j=_.y;return fe.createElement($i,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:v,easing:p},fe.createElement("path",Dx({},ot(r,!0),{className:b,d:GF(T,j,N,P,f),ref:n})))}):fe.createElement("path",Dx({},ot(r,!0),{className:b,d:GF(l,A,u,d,f)}))},nye=["points","className","baseLinePoints","connectNulls"];function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gu.apply(this,arguments)}function sye(e,t){if(e==null)return{};var r=aye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WF(e){return cye(e)||lye(e)||oye(e)||iye()}function iye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oye(e,t){if(e){if(typeof e=="string")return AB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AB(e,t)}}function lye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cye(e){if(Array.isArray(e))return AB(e)}function AB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qF=function(t){return t&&t.x===+t.x&&t.y===+t.y},Aye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){qF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),qF(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},fp=function(t,r){var n=Aye(t);r&&(n=[n.reduce(function(i,o){return[].concat(WF(i),WF(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,c,l){return"".concat(o).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},uye=function(t,r,n){var s=fp(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(fp(r.reverse(),n).slice(1))},dye=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=sye(t,nye);if(!r||!r.length)return null;var c=Ct("recharts-polygon",n);if(s&&s.length){var l=o.stroke&&o.stroke!=="none",A=uye(r,s,i);return fe.createElement("g",{className:c},fe.createElement("path",Gu({},ot(o,!0),{fill:A.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:A})),l?fe.createElement("path",Gu({},ot(o,!0),{fill:"none",d:fp(r,i)})):null,l?fe.createElement("path",Gu({},ot(o,!0),{fill:"none",d:fp(s,i)})):null)}var u=fp(r,i);return fe.createElement("path",Gu({},ot(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:c,d:u}))};function uB(){return uB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uB.apply(this,arguments)}var kb=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=Ct("recharts-dot",i);return r===+r&&n===+n&&s===+s?fe.createElement("circle",uB({},ot(t,!1),ax(t),{className:o,cx:r,cy:n,r:s})):null};function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}var fye=["x","y","top","left","width","height","className"];function dB(){return dB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dB.apply(this,arguments)}function JF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JF(Object(r),!0).forEach(function(n){pye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pye(e,t,r){return t=gye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gye(e){var t=mye(e,"string");return ug(t)=="symbol"?t:t+""}function mye(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vye(e,t){if(e==null)return{};var r=xye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yye=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},bye=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,c=o===void 0?0:o,l=t.left,A=l===void 0?0:l,u=t.width,d=u===void 0?0:u,f=t.height,h=f===void 0?0:f,p=t.className,m=vye(t,fye),x=hye({x:n,y:i,top:c,left:A,width:d,height:h},m);return!He(n)||!He(i)||!He(d)||!He(h)||!He(c)||!He(A)?null:fe.createElement("path",dB({},ot(x,!0),{className:Ct("recharts-cross",p),d:yye(n,i,d,h,c,A)}))},wye=wb,jye=TD,Nye=qi;function Bye(e,t){return e&&e.length?wye(e,Nye(t),jye):void 0}var Cye=Bye;const kye=Mt(Cye);var Sye=wb,_ye=qi,Eye=LD;function Fye(e,t){return e&&e.length?Sye(e,_ye(t),Eye):void 0}var Pye=Fye;const Iye=Mt(Pye);var Oye=["cx","cy","angle","ticks","axisLine"],Tye=["ticks","tick","angle","tickFormatter","stroke"];function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(this,arguments)}function XF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(r),!0).forEach(function(n){Sb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YF(e,t){if(e==null)return{};var r=Lye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B7(n.key),n)}}function Dye(e,t,r){return t&&ZF(e.prototype,t),r&&ZF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qye(e,t,r){return t=Qx(t),Mye(e,N7()?Reflect.construct(t,r||[],Qx(e).constructor):t.apply(e,r))}function Mye(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rye(e)}function Rye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N7=function(){return!!e})()}function Qx(e){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(e)}function $ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fB(e,t)}function fB(e,t){return fB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fB(e,t)}function Sb(e,t,r){return t=B7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){var t=Hye(e,"string");return Ld(t)=="symbol"?t:t+""}function Hye(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _b=function(e){function t(){return Uye(this,t),Qye(this,t,arguments)}return $ye(t,e),Dye(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,c=i.cx,l=i.cy;return ur(c,l,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,c=n.ticks,l=kye(c,function(u){return u.coordinate||0}),A=Iye(c,function(u){return u.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:A.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,c=n.ticks,l=n.axisLine,A=YF(n,Oye),u=c.reduce(function(p,m){return[Math.min(p[0],m.coordinate),Math.max(p[1],m.coordinate)]},[1/0,-1/0]),d=ur(s,i,u[0],o),f=ur(s,i,u[1],o),h=Pc(Pc(Pc({},ot(A,!1)),{},{fill:"none"},ot(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return fe.createElement("line",hp({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,c=s.angle,l=s.tickFormatter,A=s.stroke,u=YF(s,Tye),d=this.getTickTextAnchor(),f=ot(u,!1),h=ot(o,!1),p=i.map(function(m,x){var v=n.getTickValueCoord(m),y=Pc(Pc(Pc(Pc({textAnchor:d,transform:"rotate(".concat(90-c,", ").concat(v.x,", ").concat(v.y,")")},f),{},{stroke:"none",fill:A},h),{},{index:x},v),{},{payload:m});return fe.createElement(Ot,hp({className:Ct("recharts-polar-radius-axis-tick",A7(o)),key:"tick-".concat(m.coordinate)},vA(n.props,m,x)),t.renderTickItem(o,y,l?l(m.value,x):m.value))});return fe.createElement(Ot,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:fe.createElement(Ot,{className:Ct("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),yn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return fe.isValidElement(n)?o=fe.cloneElement(n,s):ft(n)?o=n(s):o=fe.createElement(xA,hp({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}($.PureComponent);Sb(_b,"displayName","PolarRadiusAxis");Sb(_b,"axisType","radiusAxis");Sb(_b,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(this,arguments)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){Eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k7(n.key),n)}}function Kye(e,t,r){return t&&tP(e.prototype,t),r&&tP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vye(e,t,r){return t=Mx(t),Gye(e,C7()?Reflect.construct(t,r||[],Mx(e).constructor):t.apply(e,r))}function Gye(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wye(e)}function Wye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C7=function(){return!!e})()}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(e)}function qye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hB(e,t)}function hB(e,t){return hB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hB(e,t)}function Eb(e,t,r){return t=k7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k7(e){var t=Jye(e,"string");return Ud(t)=="symbol"?t:t+""}function Jye(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xye=Math.PI/180,Yye=1e-5,Fb=function(e){function t(){return zye(this,t),Vye(this,t,arguments)}return qye(t,e),Kye(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,c=s.radius,l=s.orientation,A=s.tickSize,u=A||8,d=ur(i,o,c,n.coordinate),f=ur(i,o,c+(l==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*Xye),o;return i>Yye?o=s==="outer"?"start":"end":i<-1e-5?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,c=n.axisLine,l=n.axisLineType,A=Ic(Ic({},ot(this.props,!1)),{},{fill:"none"},ot(c,!1));if(l==="circle")return fe.createElement(kb,Kc({className:"recharts-polar-angle-axis-line"},A,{cx:s,cy:i,r:o}));var u=this.props.ticks,d=u.map(function(f){return ur(s,i,o,f.coordinate)});return fe.createElement(dye,Kc({className:"recharts-polar-angle-axis-line"},A,{points:d}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,c=s.tickLine,l=s.tickFormatter,A=s.stroke,u=ot(this.props,!1),d=ot(o,!1),f=Ic(Ic({},u),{},{fill:"none"},ot(c,!1)),h=i.map(function(p,m){var x=n.getTickLineCoord(p),v=n.getTickTextAnchor(p),y=Ic(Ic(Ic({textAnchor:v},u),{},{stroke:"none",fill:A},d),{},{index:m,payload:p,x:x.x2,y:x.y2});return fe.createElement(Ot,Kc({className:Ct("recharts-polar-angle-axis-tick",A7(o)),key:"tick-".concat(p.coordinate)},vA(n.props,p,m)),c&&fe.createElement("line",Kc({className:"recharts-polar-angle-axis-tick-line"},f,x)),o&&t.renderTickItem(o,y,l?l(p.value,m):p.value))});return fe.createElement(Ot,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:fe.createElement(Ot,{className:Ct("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return fe.isValidElement(n)?o=fe.cloneElement(n,s):ft(n)?o=n(s):o=fe.createElement(xA,Kc({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}($.PureComponent);Eb(Fb,"displayName","PolarAngleAxis");Eb(Fb,"axisType","angleAxis");Eb(Fb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Zye=F8,ebe=Zye(Object.getPrototypeOf,Object),tbe=ebe,rbe=Go,nbe=tbe,sbe=Wo,abe="[object Object]",ibe=Function.prototype,obe=Object.prototype,S7=ibe.toString,lbe=obe.hasOwnProperty,cbe=S7.call(Object);function Abe(e){if(!sbe(e)||rbe(e)!=abe)return!1;var t=nbe(e);if(t===null)return!0;var r=lbe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&S7.call(r)==cbe}var ube=Abe;const dbe=Mt(ube);var fbe=Go,hbe=Wo,pbe="[object Boolean]";function gbe(e){return e===!0||e===!1||hbe(e)&&fbe(e)==pbe}var mbe=gbe;const vbe=Mt(mbe);function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(this,arguments)}function xbe(e,t){return jbe(e)||wbe(e,t)||bbe(e,t)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bbe(e,t){if(e){if(typeof e=="string")return rP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rP(e,t)}}function rP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function jbe(e){if(Array.isArray(e))return e}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){Nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nbe(e,t,r){return t=Bbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bbe(e){var t=Cbe(e,"string");return dg(t)=="symbol"?t:t+""}function Cbe(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aP=function(t,r,n,s,i){var o=n-s,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-o/2,",").concat(r+i),c+="L ".concat(t+n-o/2-s,",").concat(r+i),c+="L ".concat(t,",").concat(r," Z"),c},kbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sbe=function(t){var r=sP(sP({},kbe),t),n=$.useRef(),s=$.useState(-1),i=xbe(s,2),o=i[0],c=i[1];$.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&c(b)}catch{}},[]);var l=r.x,A=r.y,u=r.upperWidth,d=r.lowerWidth,f=r.height,h=r.className,p=r.animationEasing,m=r.animationDuration,x=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||A!==+A||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var y=Ct("recharts-trapezoid",h);return v?fe.createElement($i,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:A},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:A},duration:m,animationEasing:p,isActive:v},function(b){var _=b.upperWidth,N=b.lowerWidth,P=b.height,T=b.x,j=b.y;return fe.createElement($i,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:p},fe.createElement("path",Rx({},ot(r,!0),{className:y,d:aP(T,j,_,N,P),ref:n})))}):fe.createElement("g",null,fe.createElement("path",Rx({},ot(r,!0),{className:y,d:aP(l,A,u,d,f)})))},_be=["option","shapeType","propTransformer","activeClassName","isActive"];function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function Ebe(e,t){if(e==null)return{};var r=Fbe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){Pbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pbe(e,t,r){return t=Ibe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ibe(e){var t=Obe(e,"string");return fg(t)=="symbol"?t:t+""}function Obe(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tbe(e,t){return $x($x({},t),e)}function Lbe(e,t){return e==="symbols"}function oP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return fe.createElement(XC,r);case"trapezoid":return fe.createElement(Sbe,r);case"sector":return fe.createElement(f7,r);case"symbols":if(Lbe(t))return fe.createElement(gC,r);break;default:return null}}function Ube(e){return $.isValidElement(e)?e.props:e}function _7(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?Tbe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,c=e.isActive,l=Ebe(e,_be),A;if($.isValidElement(t))A=$.cloneElement(t,$x($x({},l),Ube(t)));else if(ft(t))A=t(l);else if(dbe(t)&&!vbe(t)){var u=s(t,l);A=fe.createElement(oP,{shapeType:r,elementProps:u})}else{var d=l;A=fe.createElement(oP,{shapeType:r,elementProps:d})}return c?fe.createElement(Ot,{className:o},A):A}function Pb(e,t){return t!=null&&"trapezoids"in e.props}function Ib(e,t){return t!=null&&"sectors"in e.props}function hg(e,t){return t!=null&&"points"in e.props}function Dbe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function Qbe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Mbe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function Rbe(e,t){var r;return Pb(e,t)?r=Dbe:Ib(e,t)?r=Qbe:hg(e,t)&&(r=Mbe),r}function $be(e,t){var r;return Pb(e,t)?r="trapezoids":Ib(e,t)?r="sectors":hg(e,t)&&(r="points"),r}function Hbe(e,t){if(Pb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ib(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return hg(e,t)?t.payload:{}}function zbe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=$be(r,t),i=Hbe(r,t),o=n.filter(function(l,A){var u=Id(i,l),d=r.props[s].filter(function(p){var m=Rbe(r,t);return m(p,t)}),f=r.props[s].indexOf(d[d.length-1]),h=A===f;return u&&h}),c=n.indexOf(o[o.length-1]);return c}var hv;function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(this,arguments)}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F7(n.key),n)}}function Vbe(e,t,r){return t&&cP(e.prototype,t),r&&cP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gbe(e,t,r){return t=Hx(t),Wbe(e,E7()?Reflect.construct(t,r||[],Hx(e).constructor):t.apply(e,r))}function Wbe(e,t){if(t&&(Dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qbe(e)}function qbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!e})()}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(e)}function Jbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pB(e,t)}function pB(e,t){return pB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pB(e,t)}function fa(e,t,r){return t=F7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7(e){var t=Xbe(e,"string");return Dd(t)=="symbol"?t:t+""}function Xbe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jo=function(e){function t(r){var n;return Kbe(this,t),n=Gbe(this,t,[r]),fa(n,"pieRef",null),fa(n,"sectorRefs",[]),fa(n,"id",hf("recharts-pie-")),fa(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ft(s)&&s()}),fa(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ft(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Jbe(t,e),Vbe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,c=i.labelLine,l=i.dataKey,A=i.valueKey,u=ot(this.props,!1),d=ot(o,!1),f=ot(c,!1),h=o&&o.offsetRadius||20,p=n.map(function(m,x){var v=(m.startAngle+m.endAngle)/2,y=ur(m.cx,m.cy,m.outerRadius+h,v),b=or(or(or(or({},u),m),{},{stroke:"none"},d),{},{index:x,textAnchor:t.getTextAnchor(y.x,m.cx)},y),_=or(or(or(or({},u),m),{},{fill:"none",stroke:m.fill},f),{},{index:x,points:[ur(m.cx,m.cy,m.outerRadius,v),y]}),N=l;return wt(l)&&wt(A)?N="value":wt(l)&&(N=A),fe.createElement(Ot,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},c&&t.renderLabelLineItem(c,_,"line"),t.renderLabelItem(o,b,on(m,N)))});return fe.createElement(Ot,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,c=i.blendStroke,l=i.inactiveShape;return n.map(function(A,u){if((A==null?void 0:A.startAngle)===0&&(A==null?void 0:A.endAngle)===0&&n.length!==1)return null;var d=s.isActiveIndex(u),f=l&&s.hasActiveIndex()?l:null,h=d?o:f,p=or(or({},A),{},{stroke:c?A.fill:A.stroke,tabIndex:-1});return fe.createElement(Ot,Wu({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},vA(s.props,A,u),{key:"sector-".concat(A==null?void 0:A.startAngle,"-").concat(A==null?void 0:A.endAngle,"-").concat(A.midAngle,"-").concat(u)}),fe.createElement(_7,Wu({option:h,isActive:d,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,c=s.animationBegin,l=s.animationDuration,A=s.animationEasing,u=s.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return fe.createElement($i,{begin:c,duration:l,isActive:o,easing:A,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var m=p.t,x=[],v=i&&i[0],y=v.startAngle;return i.forEach(function(b,_){var N=f&&f[_],P=_>0?Vs(b,"paddingAngle",0):0;if(N){var T=ws(N.endAngle-N.startAngle,b.endAngle-b.startAngle),j=or(or({},b),{},{startAngle:y+P,endAngle:y+T(m)+P});x.push(j),y=j.endAngle}else{var k=b.endAngle,z=b.startAngle,E=ws(0,k-z),C=E(m),Q=or(or({},b),{},{startAngle:y+P,endAngle:y+C+P});x.push(Q),y=Q.endAngle}}),fe.createElement(Ot,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Id(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,c=s.className,l=s.label,A=s.cx,u=s.cy,d=s.innerRadius,f=s.outerRadius,h=s.isAnimationActive,p=this.state.isAnimationFinished;if(i||!o||!o.length||!He(A)||!He(u)||!He(d)||!He(f))return null;var m=Ct("recharts-pie",c);return fe.createElement(Ot,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),yn.renderCallByParent(this.props,null,!1),(!h||p)&&Fo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(fe.isValidElement(n))return fe.cloneElement(n,s);if(ft(n))return n(s);var o=Ct("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return fe.createElement(dd,Wu({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(fe.isValidElement(n))return fe.cloneElement(n,s);var o=i;if(ft(n)&&(o=n(s),fe.isValidElement(o)))return o;var c=Ct("recharts-pie-label-text",typeof n!="boolean"&&!ft(n)?n.className:"");return fe.createElement(xA,Wu({},s,{alignmentBaseline:"middle",className:c}),o)}}])}($.PureComponent);hv=Jo;fa(Jo,"displayName","Pie");fa(Jo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!EA.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});fa(Jo,"parseDeltaAngle",function(e,t){var r=as(t-e),n=Math.min(Math.abs(t-e),360);return r*n});fa(Jo,"getRealPieData",function(e){var t=e.data,r=e.children,n=ot(e,!1),s=ya(r,pb);return t&&t.length?t.map(function(i,o){return or(or(or({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return or(or({},n),i.props)}):[]});fa(Jo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=c7(s,i),c=n+is(e.cx,s,s/2),l=r+is(e.cy,i,i/2),A=is(e.innerRadius,o,0),u=is(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:l,innerRadius:A,outerRadius:u,maxRadius:d}});fa(Jo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?or(or({},t.type.defaultProps),t.props):t.props,s=hv.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,c=n.endAngle,l=n.paddingAngle,A=n.dataKey,u=n.nameKey,d=n.valueKey,f=n.tooltipType,h=Math.abs(n.minAngle),p=hv.parseCoordinateOfPie(n,r),m=hv.parseDeltaAngle(o,c),x=Math.abs(m),v=A;wt(A)&&wt(d)?(ri(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):wt(A)&&(ri(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=d);var y=s.filter(function(j){return on(j,v,0)!==0}).length,b=(x>=360?y:y-1)*l,_=x-y*h-b,N=s.reduce(function(j,k){var z=on(k,v,0);return j+(He(z)?z:0)},0),P;if(N>0){var T;P=s.map(function(j,k){var z=on(j,v,0),E=on(j,u,k),C=(He(z)?z:0)/N,Q;k?Q=T.endAngle+as(m)*l*(z!==0?1:0):Q=o;var L=Q+as(m)*((z!==0?h:0)+C*_),D=(Q+L)/2,S=(p.innerRadius+p.outerRadius)/2,O=[{name:E,value:z,payload:j,dataKey:v,type:f}],R=ur(p.cx,p.cy,S,D);return T=or(or(or({percent:C,cornerRadius:i,name:E,tooltipPayload:O,midAngle:D,middleRadius:S,tooltipPosition:R},j),p),{},{value:on(j,v),startAngle:Q,endAngle:L,payload:j,paddingAngle:as(m)*l}),T})}return or(or({},p),{},{sectors:P,data:s})});var Ybe=Math.ceil,Zbe=Math.max;function e1e(e,t,r,n){for(var s=-1,i=Zbe(Ybe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var t1e=e1e,r1e=J8,n1e=1/0,s1e=17976931348623157e292;function a1e(e){if(!e)return e===0?e:0;if(e=r1e(e),e===n1e||e===-1/0){var t=e<0?-1:1;return t*s1e}return e===e?e:0}var P7=a1e,i1e=t1e,o1e=hb,A2=P7;function l1e(e){return function(t,r,n){return n&&typeof n!="number"&&o1e(t,r,n)&&(r=n=void 0),t=A2(t),r===void 0?(r=t,t=0):r=A2(r),n=n===void 0?t<r?1:-1:A2(n),i1e(t,r,n,e)}}var c1e=l1e,A1e=c1e,u1e=A1e(),d1e=u1e;const zx=Mt(d1e);function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){I7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I7(e,t,r){return t=f1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f1e(e){var t=h1e(e,"string");return pg(t)=="symbol"?t:t+""}function h1e(e,t){if(pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p1e=["Webkit","Moz","O","ms"],g1e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=p1e.reduce(function(i,o){return uP(uP({},i),{},I7({},o+n,r))},{});return s[t]=r,s};function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T7(n.key),n)}}function v1e(e,t,r){return t&&fP(e.prototype,t),r&&fP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x1e(e,t,r){return t=Vx(t),y1e(e,O7()?Reflect.construct(t,r||[],Vx(e).constructor):t.apply(e,r))}function y1e(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b1e(e)}function b1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O7=function(){return!!e})()}function Vx(e){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vx(e)}function w1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gB(e,t)}function gB(e,t){return gB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gB(e,t)}function Qs(e,t,r){return t=T7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=j1e(e,"string");return Qd(t)=="symbol"?t:t+""}function j1e(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var N1e=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,A=Ap().domain(zx(0,l)).range([i,i+o-c]),u=A.domain().map(function(d){return A(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:A(n),endX:A(s),scale:A,scaleValues:u}},hP=function(t){return t.changedTouches&&!!t.changedTouches.length},Md=function(e){function t(r){var n;return m1e(this,t),n=x1e(this,t,[r]),Qs(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Qs(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Qs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,c=s.startIndex;o==null||o({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),Qs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qs(n,"handleSlideDragStart",function(s){var i=hP(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return w1e(t,e),v1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,c=this.props,l=c.gap,A=c.data,u=A.length-1,d=Math.min(s,i),f=Math.max(s,i),h=t.getIndexInRange(o,d),p=t.getIndexInRange(o,f);return{startIndex:h-h%l,endIndex:p===u?u:p-p%l}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,c=s.dataKey,l=on(i[n],c,n);return ft(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,c=s.endX,l=this.props,A=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,h=l.endIndex,p=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,A+u-d-c,A+u-d-o):m<0&&(m=Math.max(m,A-o,A-c));var x=this.getIndex({startX:o+m,endX:c+m});(x.startIndex!==f||x.endIndex!==h)&&p&&p(x),this.setState({startX:o+m,endX:c+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=hP(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,c=s.endX,l=s.startX,A=this.state[o],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,p=u.onChange,m=u.gap,x=u.data,v={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,d+f-h-A):y<0&&(y=Math.max(y,d-A)),v[o]=A+y;var b=this.getIndex(v),_=b.startIndex,N=b.endIndex,P=function(){var j=x.length-1;return o==="startX"&&(c>l?_%m===0:N%m===0)||c<l&&N===j||o==="endX"&&(c>l?N%m===0:_%m===0)||c>l&&N===j};this.setState(Qs(Qs({},o,A+y),"brushMoveStartX",n.pageX),function(){p&&P()&&p(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,c=o.scaleValues,l=o.startX,A=o.endX,u=this.state[s],d=c.indexOf(u);if(d!==-1){var f=d+n;if(!(f===-1||f>=c.length)){var h=c[f];s==="startX"&&h>=A||s==="endX"&&h<=l||this.setState(Qs({},s,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,l=n.fill,A=n.stroke;return fe.createElement("rect",{stroke:A,fill:l,x:s,y:i,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,l=n.data,A=n.children,u=n.padding,d=$.Children.only(A);return d?fe.cloneElement(d,{x:s,y:i,width:o,height:c,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,c=this,l=this.props,A=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,h=l.ariaLabel,p=l.data,m=l.startIndex,x=l.endIndex,v=Math.max(n,this.props.x),y=u2(u2({},ot(this.props,!1)),{},{x:v,y:A,width:u,height:d}),b=h||"Min value: ".concat((i=p[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=p[x])===null||o===void 0?void 0:o.name);return fe.createElement(Ot,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,c=i.height,l=i.stroke,A=i.travellerWidth,u=Math.min(n,s)+A,d=Math.max(Math.abs(s-n)-A,0);return fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:c})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,c=n.height,l=n.travellerWidth,A=n.stroke,u=this.state,d=u.startX,f=u.endX,h=5,p={pointerEvents:"none",fill:A};return fe.createElement(Ot,{className:"recharts-brush-texts"},fe.createElement(xA,Kx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:o+c/2},p),this.getTextOfTick(s)),fe.createElement(xA,Kx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+h,y:o+c/2},p),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,c=n.x,l=n.y,A=n.width,u=n.height,d=n.alwaysShowText,f=this.state,h=f.startX,p=f.endX,m=f.isTextActive,x=f.isSlideMoving,v=f.isTravellerMoving,y=f.isTravellerFocused;if(!s||!s.length||!He(c)||!He(l)||!He(A)||!He(u)||A<=0||u<=0)return null;var b=Ct("recharts-brush",i),_=fe.Children.count(o)===1,N=g1e("userSelect","none");return fe.createElement(Ot,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(m||x||v||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,c=n.height,l=n.stroke,A=Math.floor(i+c/2)-1;return fe.createElement(fe.Fragment,null,fe.createElement("rect",{x:s,y:i,width:o,height:c,fill:l,stroke:"none"}),fe.createElement("line",{x1:s+1,y1:A,x2:s+o-1,y2:A,fill:"none",stroke:"#fff"}),fe.createElement("line",{x1:s+1,y1:A+2,x2:s+o-1,y2:A+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return fe.isValidElement(n)?i=fe.cloneElement(n,s):ft(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,c=n.x,l=n.travellerWidth,A=n.updateId,u=n.startIndex,d=n.endIndex;if(i!==s.prevData||A!==s.prevUpdateId)return u2({prevData:i,prevTravellerWidth:l,prevUpdateId:A,prevX:c,prevWidth:o},i&&i.length?N1e({data:i,width:o,x:c,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||c!==s.prevX||l!==s.prevTravellerWidth)){s.scale.range([c,c+o-l]);var f=s.scale.domain().map(function(h){return s.scale(h)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:A,prevX:c,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,c=i-1;c-o>1;){var l=Math.floor((o+c)/2);n[l]>s?c=l:o=l}return s>=n[c]?c:o}}])}($.PureComponent);Qs(Md,"displayName","Brush");Qs(Md,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var B1e=jC;function C1e(e,t){var r;return B1e(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var k1e=C1e,S1e=j8,_1e=qi,E1e=k1e,F1e=Fs,P1e=hb;function I1e(e,t,r){var n=F1e(e)?S1e:E1e;return r&&P1e(e,t,r)&&(t=void 0),n(e,_1e(t))}var O1e=I1e;const T1e=Mt(O1e);var Di=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},pP=K8;function L1e(e,t,r){t=="__proto__"&&pP?pP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var U1e=L1e,D1e=U1e,Q1e=H8,M1e=qi;function R1e(e,t){var r={};return t=M1e(t),Q1e(e,function(n,s,i){D1e(r,s,t(n,s,i))}),r}var $1e=R1e;const H1e=Mt($1e);function z1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var K1e=z1e,V1e=jC;function G1e(e,t){var r=!0;return V1e(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var W1e=G1e,q1e=K1e,J1e=W1e,X1e=qi,Y1e=Fs,Z1e=hb;function ewe(e,t,r){var n=Y1e(e)?q1e:J1e;return r&&Z1e(e,t,r)&&(t=void 0),n(e,X1e(t))}var twe=ewe;const L7=Mt(twe);var rwe=["x","y"];function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function mB(){return mB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mB.apply(this,arguments)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){nwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nwe(e,t,r){return t=swe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function swe(e){var t=awe(e,"string");return gg(t)=="symbol"?t:t+""}function awe(e,t){if(gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iwe(e,t){if(e==null)return{};var r=owe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function owe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lwe(e,t){var r=e.x,n=e.y,s=iwe(e,rwe),i="".concat(r),o=parseInt(i,10),c="".concat(n),l=parseInt(c,10),A="".concat(t.height||s.height),u=parseInt(A,10),d="".concat(t.width||s.width),f=parseInt(d,10);return jh(jh(jh(jh(jh({},t),s),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function mP(e){return fe.createElement(_7,mB({shapeType:"rectangle",propTransformer:lwe,activeClassName:"recharts-active-bar"},e))}var cwe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,s):(i||bA(),r)}},Awe=["value","background"],U7;function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function uwe(e,t){if(e==null)return{};var r=dwe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(this,arguments)}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){Ml(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q7(n.key),n)}}function hwe(e,t,r){return t&&xP(e.prototype,t),r&&xP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pwe(e,t,r){return t=Wx(t),gwe(e,D7()?Reflect.construct(t,r||[],Wx(e).constructor):t.apply(e,r))}function gwe(e,t){if(t&&(Rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mwe(e)}function mwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D7=function(){return!!e})()}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(e)}function vwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vB(e,t)}function vB(e,t){return vB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vB(e,t)}function Ml(e,t,r){return t=Q7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=xwe(e,"string");return Rd(t)=="symbol"?t:t+""}function xwe(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Po=function(e){function t(){var r;fwe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=pwe(this,t,[].concat(s)),Ml(r,"state",{isAnimationFinished:!1}),Ml(r,"id",hf("recharts-bar-")),Ml(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ml(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return vwe(t,e),hwe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,c=i.dataKey,l=i.activeIndex,A=i.activeBar,u=ot(this.props,!1);return n&&n.map(function(d,f){var h=f===l,p=h?A:o,m=qr(qr(qr({},u),d),{},{isActive:h,option:p,index:f,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return fe.createElement(Ot,Gx({className:"recharts-bar-rectangle"},vA(s.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),fe.createElement(mP,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,c=s.isAnimationActive,l=s.animationBegin,A=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state.prevData;return fe.createElement($i,{begin:l,duration:A,isActive:c,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=i.map(function(x,v){var y=f&&f[v];if(y){var b=ws(y.x,x.x),_=ws(y.y,x.y),N=ws(y.width,x.width),P=ws(y.height,x.height);return qr(qr({},x),{},{x:b(p),y:_(p),width:N(p),height:P(p)})}if(o==="horizontal"){var T=ws(0,x.height),j=T(p);return qr(qr({},x),{},{y:x.y+x.height-j,height:j})}var k=ws(0,x.width),z=k(p);return qr(qr({},x),{},{width:z})});return fe.createElement(Ot,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Id(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,c=s.activeIndex,l=ot(this.props.background,!1);return i.map(function(A,u){A.value;var d=A.background,f=uwe(A,Awe);if(!d)return null;var h=qr(qr(qr(qr(qr({},f),{},{fill:"#eee"},d),l),vA(n.props,A,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return fe.createElement(mP,Gx({key:"background-bar-".concat(u),option:n.props.background,isActive:u===c},h))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,c=i.xAxis,l=i.yAxis,A=i.layout,u=i.children,d=ya(u,Cb);if(!d)return null;var f=A==="vertical"?o[0].height/2:o[0].width/2,h=function(x,v){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:on(x,v)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return fe.createElement(Ot,p,d.map(function(m){return fe.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:c,yAxis:l,layout:A,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,c=n.xAxis,l=n.yAxis,A=n.left,u=n.top,d=n.width,f=n.height,h=n.isAnimationActive,p=n.background,m=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,v=Ct("recharts-bar",o),y=c&&c.allowDataOverflow,b=l&&l.allowDataOverflow,_=y||b,N=wt(m)?this.id:m;return fe.createElement(Ot,{className:v},y||b?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(N)},fe.createElement("rect",{x:y?A:A-d/2,y:b?u:u-f/2,width:y?d:d*2,height:b?f:f*2}))):null,fe.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!h||x)&&Fo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}($.PureComponent);U7=Po;Ml(Po,"displayName","Bar");Ml(Po,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!EA.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ml(Po,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,c=e.xAxisTicks,l=e.yAxisTicks,A=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,h=Xme(n,r);if(!h)return null;var p=t.layout,m=r.type.defaultProps,x=m!==void 0?qr(qr({},m),r.props):r.props,v=x.dataKey,y=x.children,b=x.minPointSize,_=p==="horizontal"?o:i,N=A?_.scale.domain():null,P=s0e({numericAxis:_}),T=ya(y,pb),j=d.map(function(k,z){var E,C,Q,L,D,S;A?E=Yme(A[u+z],N):(E=on(k,v),Array.isArray(E)||(E=[P,E]));var O=cwe(b,U7.defaultProps.minPointSize)(E[1],z);if(p==="horizontal"){var R,W=[o.scale(E[0]),o.scale(E[1])],M=W[0],q=W[1];C=AF({axis:i,ticks:c,bandSize:s,offset:h.offset,entry:k,index:z}),Q=(R=q??M)!==null&&R!==void 0?R:void 0,L=h.size;var B=M-q;if(D=Number.isNaN(B)?0:B,S={x:C,y:o.y,width:L,height:o.height},Math.abs(O)>0&&Math.abs(D)<Math.abs(O)){var I=as(D||O)*(Math.abs(O)-Math.abs(D));Q-=I,D+=I}}else{var H=[i.scale(E[0]),i.scale(E[1])],G=H[0],J=H[1];if(C=G,Q=AF({axis:o,ticks:l,bandSize:s,offset:h.offset,entry:k,index:z}),L=J-G,D=h.size,S={x:i.x,y:Q,width:i.width,height:D},Math.abs(O)>0&&Math.abs(L)<Math.abs(O)){var ie=as(L||O)*(Math.abs(O)-Math.abs(L));L+=ie}}return qr(qr(qr({},k),{},{x:C,y:Q,width:L,height:D,value:A?E:E[1],payload:k,background:S},T&&T[z]&&T[z].props),{},{tooltipPayload:[o7(r,k)],tooltipPosition:{x:C+L/2,y:Q+D/2}})});return qr({data:j,layout:p},f)});function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function ywe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M7(n.key),n)}}function bwe(e,t,r){return t&&yP(e.prototype,t),r&&yP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){Ob(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ob(e,t,r){return t=M7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=wwe(e,"string");return mg(t)=="symbol"?t:t+""}function wwe(e,t){if(mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R7=function(t,r,n,s,i){var o=t.width,c=t.height,l=t.layout,A=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},f=!!Rs(A,Po);return u.reduce(function(h,p){var m=r[p],x=m.orientation,v=m.domain,y=m.padding,b=y===void 0?{}:y,_=m.mirror,N=m.reversed,P="".concat(x).concat(_?"Mirror":""),T,j,k,z,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=v[1]-v[0],Q=1/0,L=m.categoricalDomain.sort(Tre);if(L.forEach(function(H,G){G>0&&(Q=Math.min((H||0)-(L[G-1]||0),Q))}),Number.isFinite(Q)){var D=Q/C,S=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=D*S/2),m.padding==="no-gap"){var O=is(t.barCategoryGap,D*S),R=D*S/2;T=R-O-(R-O)/S*O}}}s==="xAxis"?j=[n.left+(b.left||0)+(T||0),n.left+n.width-(b.right||0)-(T||0)]:s==="yAxis"?j=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(T||0),n.top+n.height-(b.bottom||0)-(T||0)]:j=m.range,N&&(j=[j[1],j[0]]);var W=n7(m,i,f),M=W.scale,q=W.realScaleType;M.domain(v).range(j),s7(M);var B=a7(M,Ga(Ga({},m),{},{realScaleType:q}));s==="xAxis"?(E=x==="top"&&!_||x==="bottom"&&_,k=n.left,z=d[P]-E*m.height):s==="yAxis"&&(E=x==="left"&&!_||x==="right"&&_,k=d[P]-E*m.width,z=n.top);var I=Ga(Ga(Ga({},m),B),{},{realScaleType:q,x:k,y:z,scale:M,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return I.bandSize=Px(I,B),!m.hide&&s==="xAxis"?d[P]+=(E?-1:1)*I.height:m.hide||(d[P]+=(E?-1:1)*I.width),Ga(Ga({},h),{},Ob({},p,I))},{})},$7=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},jwe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return $7({x:r,y:n},{x:s,y:i})},H7=function(){function e(t){ywe(this,e),this.scale=t}return bwe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Ob(H7,"EPS",1e-4);var YC=function(t){var r=Object.keys(t).reduce(function(n,s){return Ga(Ga({},n),{},Ob({},s,H7.create(t[s])))},{});return Ga(Ga({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,c=i.position;return H1e(s,function(l,A){return r[A].apply(l,{bandAware:o,position:c})})},isInRange:function(s){return L7(s,function(i,o){return r[o].isInRange(i)})}})};function Nwe(e){return(e%180+180)%180}var Bwe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Nwe(s),o=i*Math.PI/180,c=Math.atan(n/r),l=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Cwe=qi,kwe=Tg,Swe=db;function _we(e){return function(t,r,n){var s=Object(t);if(!kwe(t)){var i=Cwe(r);t=Swe(t),r=function(c){return i(s[c],c,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var Ewe=_we,Fwe=P7;function Pwe(e){var t=Fwe(e),r=t%1;return t===t?r?t-r:t:0}var Iwe=Pwe,Owe=U8,Twe=qi,Lwe=Iwe,Uwe=Math.max;function Dwe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:Lwe(r);return s<0&&(s=Uwe(n+s,0)),Owe(e,Twe(t),s)}var Qwe=Dwe,Mwe=Ewe,Rwe=Qwe,$we=Mwe(Rwe),Hwe=$we;const zwe=Mt(Hwe);var Kwe=Qte(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ZC=$.createContext(void 0),ek=$.createContext(void 0),z7=$.createContext(void 0),K7=$.createContext({}),V7=$.createContext(void 0),G7=$.createContext(0),W7=$.createContext(0),wP=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,c=t.children,l=t.width,A=t.height,u=Kwe(i);return fe.createElement(ZC.Provider,{value:n},fe.createElement(ek.Provider,{value:s},fe.createElement(K7.Provider,{value:i},fe.createElement(z7.Provider,{value:u},fe.createElement(V7.Provider,{value:o},fe.createElement(G7.Provider,{value:A},fe.createElement(W7.Provider,{value:l},c)))))))},Vwe=function(){return $.useContext(V7)},q7=function(t){var r=$.useContext(ZC);r==null&&bA();var n=r[t];return n==null&&bA(),n},Gwe=function(){var t=$.useContext(ZC);return El(t)},Wwe=function(){var t=$.useContext(ek),r=zwe(t,function(n){return L7(n.domain,Number.isFinite)});return r||El(t)},J7=function(t){var r=$.useContext(ek);r==null&&bA();var n=r[t];return n==null&&bA(),n},qwe=function(){var t=$.useContext(z7);return t},Jwe=function(){return $.useContext(K7)},tk=function(){return $.useContext(W7)},rk=function(){return $.useContext(G7)};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function Xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ywe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y7(n.key),n)}}function Zwe(e,t,r){return t&&Ywe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e2e(e,t,r){return t=qx(t),t2e(e,X7()?Reflect.construct(t,r||[],qx(e).constructor):t.apply(e,r))}function t2e(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r2e(e)}function r2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X7=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(e)}function n2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xB(e,t)}function xB(e,t){return xB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xB(e,t)}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){nk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nk(e,t,r){return t=Y7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y7(e){var t=s2e(e,"string");return $d(t)=="symbol"?t:t+""}function s2e(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function a2e(e,t){return c2e(e)||l2e(e,t)||o2e(e,t)||i2e()}function i2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2e(e,t){if(e){if(typeof e=="string")return BP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BP(e,t)}}function BP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function c2e(e){if(Array.isArray(e))return e}function yB(){return yB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yB.apply(this,arguments)}var A2e=function(t,r){var n;return fe.isValidElement(t)?n=fe.cloneElement(t,r):ft(t)?n=t(r):n=fe.createElement("line",yB({},r,{className:"recharts-reference-line-line"})),n},u2e=function(t,r,n,s,i,o,c,l,A){var u=i.x,d=i.y,f=i.width,h=i.height;if(n){var p=A.y,m=t.y.apply(p,{position:o});if(Di(A,"discard")&&!t.y.isInRange(m))return null;var x=[{x:u+f,y:m},{x:u,y:m}];return l==="left"?x.reverse():x}if(r){var v=A.x,y=t.x.apply(v,{position:o});if(Di(A,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:d+h},{x:y,y:d}];return c==="top"?b.reverse():b}if(s){var _=A.segment,N=_.map(function(P){return t.apply(P,{position:o})});return Di(A,"discard")&&T1e(N,function(P){return!t.isInRange(P)})?null:N}return null};function d2e(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,c=e.className,l=e.alwaysShow,A=Vwe(),u=q7(s),d=J7(i),f=qwe();if(!A||!f)return null;ri(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=YC({x:u.scale,y:d.scale}),p=cn(t),m=cn(r),x=n&&n.length===2,v=u2e(h,p,m,x,f,e.position,u.orientation,d.orientation,e);if(!v)return null;var y=a2e(v,2),b=y[0],_=b.x,N=b.y,P=y[1],T=P.x,j=P.y,k=Di(e,"hidden")?"url(#".concat(A,")"):void 0,z=NP(NP({clipPath:k},ot(e,!0)),{},{x1:_,y1:N,x2:T,y2:j});return fe.createElement(Ot,{className:Ct("recharts-reference-line",c)},A2e(o,z),yn.renderCallByParent(e,jwe({x1:_,y1:N,x2:T,y2:j})))}var sk=function(e){function t(){return Xwe(this,t),e2e(this,t,arguments)}return n2e(t,e),Zwe(t,[{key:"render",value:function(){return fe.createElement(d2e,this.props)}}])}(fe.Component);nk(sk,"displayName","ReferenceLine");nk(sk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bB(){return bB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bB.apply(this,arguments)}function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){Tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eQ(n.key),n)}}function p2e(e,t,r){return t&&h2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g2e(e,t,r){return t=Jx(t),m2e(e,Z7()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function m2e(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v2e(e)}function v2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z7=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(e)}function x2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wB(e,t)}function wB(e,t){return wB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wB(e,t)}function Tb(e,t,r){return t=eQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eQ(e){var t=y2e(e,"string");return Hd(t)=="symbol"?t:t+""}function y2e(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b2e=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=YC({x:s.scale,y:i.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return Di(t,"discard")&&!o.isInRange(c)?null:c},Lb=function(e){function t(){return f2e(this,t),g2e(this,t,arguments)}return x2e(t,e),p2e(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,c=n.alwaysShow,l=n.clipPathId,A=cn(s),u=cn(i);if(ri(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!A||!u)return null;var d=b2e(this.props);if(!d)return null;var f=d.x,h=d.y,p=this.props,m=p.shape,x=p.className,v=Di(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=kP(kP({clipPath:v},ot(this.props,!0)),{},{cx:f,cy:h});return fe.createElement(Ot,{className:Ct("recharts-reference-dot",x)},t.renderDot(m,y),yn.renderCallByParent(this.props,{x:f-o,y:h-o,width:2*o,height:2*o}))}}])}(fe.Component);Tb(Lb,"displayName","ReferenceDot");Tb(Lb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tb(Lb,"renderDot",function(e,t){var r;return fe.isValidElement(e)?r=fe.cloneElement(e,t):ft(e)?r=e(t):r=fe.createElement(kb,bB({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function jB(){return jB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jB.apply(this,arguments)}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){Ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rQ(n.key),n)}}function N2e(e,t,r){return t&&j2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B2e(e,t,r){return t=Xx(t),C2e(e,tQ()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function C2e(e,t){if(t&&(zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k2e(e)}function k2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tQ=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function S2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NB(e,t)}function NB(e,t){return NB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NB(e,t)}function Ub(e,t,r){return t=rQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rQ(e){var t=_2e(e,"string");return zd(t)=="symbol"?t:t+""}function _2e(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E2e=function(t,r,n,s,i){var o=i.x1,c=i.x2,l=i.y1,A=i.y2,u=i.xAxis,d=i.yAxis;if(!u||!d)return null;var f=YC({x:u.scale,y:d.scale}),h={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(l,{position:"start"}):f.y.rangeMin},p={x:r?f.x.apply(c,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(A,{position:"end"}):f.y.rangeMax};return Di(i,"discard")&&(!f.isInRange(h)||!f.isInRange(p))?null:$7(h,p)},Db=function(e){function t(){return w2e(this,t),B2e(this,t,arguments)}return S2e(t,e),N2e(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,c=n.y2,l=n.className,A=n.alwaysShow,u=n.clipPathId;ri(A===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=cn(s),f=cn(i),h=cn(o),p=cn(c),m=this.props.shape;if(!d&&!f&&!h&&!p&&!m)return null;var x=E2e(d,f,h,p,this.props);if(!x&&!m)return null;var v=Di(this.props,"hidden")?"url(#".concat(u,")"):void 0;return fe.createElement(Ot,{className:Ct("recharts-reference-area",l)},t.renderRect(m,_P(_P({clipPath:v},ot(this.props,!0)),x)),yn.renderCallByParent(this.props,x))}}])}(fe.Component);Ub(Db,"displayName","ReferenceArea");Ub(Db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ub(Db,"renderRect",function(e,t){var r;return fe.isValidElement(e)?r=fe.cloneElement(e,t):ft(e)?r=e(t):r=fe.createElement(XC,jB({},t,{className:"recharts-reference-area-rect"})),r});function nQ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function F2e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Bwe(n,r)}function P2e(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,c=e.height;return t===1?{start:n?s:i,end:n?s+o:i+c}:{start:n?s+o:i+c,end:n?s:i}}function Yx(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function I2e(e,t){return nQ(e,t+1)}function O2e(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,c=t.end,l=0,A=1,u=o,d=function(){var p=n==null?void 0:n[l];if(p===void 0)return{v:nQ(n,A)};var m=l,x,v=function(){return x===void 0&&(x=r(p,m)),x},y=p.coordinate,b=l===0||Yx(e,y,v,u,c);b||(l=0,u=o,A+=1),b&&(u=y+e*(v()/2+s),l+=A)},f;A<=i.length;)if(f=d(),f)return f.v;return[]}function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){T2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T2e(e,t,r){return t=L2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L2e(e){var t=U2e(e,"string");return vg(t)=="symbol"?t:t+""}function U2e(e,t){if(vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D2e(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,c=t.start,l=t.end,A=function(f){var h=i[f],p,m=function(){return p===void 0&&(p=r(h,f)),p};if(f===o-1){var x=e*(h.coordinate+e*m()/2-l);i[f]=h=zn(zn({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else i[f]=h=zn(zn({},h),{},{tickCoord:h.coordinate});var v=Yx(e,h.tickCoord,m,c,l);v&&(l=h.tickCoord-e*(m()/2+s),i[f]=zn(zn({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)A(u);return i}function Q2e(e,t,r,n,s,i){var o=(n||[]).slice(),c=o.length,l=t.start,A=t.end;if(i){var u=n[c-1],d=r(u,c-1),f=e*(u.coordinate+e*d/2-A);o[c-1]=u=zn(zn({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var h=Yx(e,u.tickCoord,function(){return d},l,A);h&&(A=u.tickCoord-e*(d/2+s),o[c-1]=zn(zn({},u),{},{isShow:!0}))}for(var p=i?c-1:c,m=function(y){var b=o[y],_,N=function(){return _===void 0&&(_=r(b,y)),_};if(y===0){var P=e*(b.coordinate-e*N()/2-l);o[y]=b=zn(zn({},b),{},{tickCoord:P<0?b.coordinate-P*e:b.coordinate})}else o[y]=b=zn(zn({},b),{},{tickCoord:b.coordinate});var T=Yx(e,b.tickCoord,N,l,A);T&&(l=b.tickCoord+e*(N()/2+s),o[y]=zn(zn({},b),{},{isShow:!0}))},x=0;x<p;x++)m(x);return o}function ak(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,c=e.orientation,l=e.interval,A=e.tickFormatter,u=e.unit,d=e.angle;if(!s||!s.length||!n)return[];if(He(l)||EA.isSsr)return I2e(s,typeof l=="number"&&He(l)?l:0);var f=[],h=c==="top"||c==="bottom"?"width":"height",p=u&&h==="width"?cp(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,_){var N=ft(A)?A(b.value,_):b.value;return h==="width"?F2e(cp(N,{fontSize:t,letterSpacing:r}),p,d):cp(N,{fontSize:t,letterSpacing:r})[h]},x=s.length>=2?as(s[1].coordinate-s[0].coordinate):1,v=P2e(i,x,h);return l==="equidistantPreserveStart"?O2e(x,v,m,s,o):(l==="preserveStart"||l==="preserveStartEnd"?f=Q2e(x,v,m,s,o,l==="preserveStartEnd"):f=D2e(x,v,m,s,o),f.filter(function(y){return y.isShow}))}var M2e=["viewBox"],R2e=["viewBox"],$2e=["ticks"];function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(this,arguments)}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){ik(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d2(e,t){if(e==null)return{};var r=H2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aQ(n.key),n)}}function K2e(e,t,r){return t&&PP(e.prototype,t),r&&PP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V2e(e,t,r){return t=Zx(t),G2e(e,sQ()?Reflect.construct(t,r||[],Zx(e).constructor):t.apply(e,r))}function G2e(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W2e(e)}function W2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sQ=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(e)}function q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BB(e,t)}function BB(e,t){return BB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},BB(e,t)}function ik(e,t,r){return t=aQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e){var t=J2e(e,"string");return Kd(t)=="symbol"?t:t+""}function J2e(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bf=function(e){function t(r){var n;return z2e(this,t),n=V2e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return q2e(t,e),K2e(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=d2(n,M2e),c=this.props,l=c.viewBox,A=d2(c,R2e);return!cd(i,l)||!cd(o,A)||!cd(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,c=s.width,l=s.height,A=s.orientation,u=s.tickSize,d=s.mirror,f=s.tickMargin,h,p,m,x,v,y,b=d?-1:1,_=n.tickSize||u,N=He(n.tickCoord)?n.tickCoord:n.coordinate;switch(A){case"top":h=p=n.coordinate,x=o+ +!d*l,m=x-b*_,y=m-b*f,v=N;break;case"left":m=x=n.coordinate,p=i+ +!d*c,h=p-b*_,v=h-b*f,y=N;break;case"right":m=x=n.coordinate,p=i+ +d*c,h=p+b*_,v=h+b*f,y=N;break;default:h=p=n.coordinate,x=o+ +d*l,m=x+b*_,y=m+b*f,v=N;break}return{line:{x1:h,y1:m,x2:p,y2:x},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,l=n.orientation,A=n.mirror,u=n.axisLine,d=es(es(es({},ot(this.props,!1)),ot(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!A||l==="bottom"&&A);d=es(es({},d),{},{x1:s,y1:i+f*c,x2:s+o,y2:i+f*c})}else{var h=+(l==="left"&&!A||l==="right"&&A);d=es(es({},d),{},{x1:s+h*o,y1:i,x2:s+h*o,y2:i+c})}return fe.createElement("line",qu({},d,{className:Ct("recharts-cartesian-axis-line",Vs(u,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,c=this.props,l=c.tickLine,A=c.stroke,u=c.tick,d=c.tickFormatter,f=c.unit,h=ak(es(es({},this.props),{},{ticks:n}),s,i),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=ot(this.props,!1),v=ot(u,!1),y=es(es({},x),{},{fill:"none"},ot(l,!1)),b=h.map(function(_,N){var P=o.getTickLineCoord(_),T=P.line,j=P.tick,k=es(es(es(es({textAnchor:p,verticalAnchor:m},x),{},{stroke:"none",fill:A},v),j),{},{index:N,payload:_,visibleTicksCount:h.length,tickFormatter:d});return fe.createElement(Ot,qu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},vA(o.props,_,N)),l&&fe.createElement("line",qu({},y,T,{className:Ct("recharts-cartesian-axis-tick-line",Vs(l,"className"))})),u&&t.renderTickItem(u,k,"".concat(ft(d)?d(_.value,N):_.value).concat(f||"")))});return fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,c=s.height,l=s.ticksGenerator,A=s.className,u=s.hide;if(u)return null;var d=this.props,f=d.ticks,h=d2(d,$2e),p=f;return ft(l)&&(p=f&&f.length>0?l(this.props):l(h)),o<=0||c<=0||!p||!p.length?null:fe.createElement(Ot,{className:Ct("recharts-cartesian-axis",A),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return fe.isValidElement(n)?o=fe.cloneElement(n,s):ft(n)?o=n(s):o=fe.createElement(xA,qu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}($.Component);ik(bf,"displayName","CartesianAxis");ik(bf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var X2e=["x1","y1","x2","y2","key"],Y2e=["offset"];function wA(e){"@babel/helpers - typeof";return wA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wA(e)}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){Z2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z2e(e,t,r){return t=eje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eje(e){var t=tje(e,"string");return wA(t)=="symbol"?t:t+""}function tje(e,t){if(wA(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wA(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eA.apply(this,arguments)}function OP(e,t){if(e==null)return{};var r=rje(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nje=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,c=t.height,l=t.ry;return fe.createElement("rect",{x:s,y:i,ry:l,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iQ(e,t){var r;if(fe.isValidElement(e))r=fe.cloneElement(e,t);else if(ft(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,c=t.key,l=OP(t,X2e),A=ot(l,!1);A.offset;var u=OP(A,Y2e);r=fe.createElement("line",eA({},u,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:c}))}return r}function sje(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,l){var A=Gn(Gn({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(l),index:l});return iQ(s,A)});return fe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function aje(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,l){var A=Gn(Gn({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(l),index:l});return iQ(s,A)});return fe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ije(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,c=e.horizontalPoints,l=e.horizontal,A=l===void 0?!0:l;if(!A||!t||!t.length)return null;var u=c.map(function(f){return Math.round(f+s-s)}).sort(function(f,h){return f-h});s!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var p=!u[h+1],m=p?s+o-f:u[h+1]-f;if(m<=0)return null;var x=h%t.length;return fe.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function oje(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,c=e.width,l=e.height,A=e.verticalPoints;if(!r||!n||!n.length)return null;var u=A.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var p=!u[h+1],m=p?i+c-f:u[h+1]-f;if(m<=0)return null;var x=h%n.length;return fe.createElement("rect",{key:"react-".concat(h),x:f,y:o,width:m,height:l,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var lje=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return r7(ak(Gn(Gn(Gn({},bf.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},cje=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return r7(ak(Gn(Gn(Gn({},bf.defaultProps),n),{},{ticks:jo(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Nu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CB(e){var t,r,n,s,i,o,c=tk(),l=rk(),A=Jwe(),u=Gn(Gn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Nu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Nu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Nu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Nu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Nu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Nu.verticalFill,x:He(e.x)?e.x:A.left,y:He(e.y)?e.y:A.top,width:He(e.width)?e.width:A.width,height:He(e.height)?e.height:A.height}),d=u.x,f=u.y,h=u.width,p=u.height,m=u.syncWithTicks,x=u.horizontalValues,v=u.verticalValues,y=Gwe(),b=Wwe();if(!He(h)||h<=0||!He(p)||p<=0||!He(d)||d!==+d||!He(f)||f!==+f)return null;var _=u.verticalCoordinatesGenerator||lje,N=u.horizontalCoordinatesGenerator||cje,P=u.horizontalPoints,T=u.verticalPoints;if((!P||!P.length)&&ft(N)){var j=x&&x.length,k=N({yAxis:b?Gn(Gn({},b),{},{ticks:j?x:b.ticks}):void 0,width:c,height:l,offset:A},j?!0:m);ri(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wA(k),"]")),Array.isArray(k)&&(P=k)}if((!T||!T.length)&&ft(_)){var z=v&&v.length,E=_({xAxis:y?Gn(Gn({},y),{},{ticks:z?v:y.ticks}):void 0,width:c,height:l,offset:A},z?!0:m);ri(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wA(E),"]")),Array.isArray(E)&&(T=E)}return fe.createElement("g",{className:"recharts-cartesian-grid"},fe.createElement(nje,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),fe.createElement(sje,eA({},u,{offset:A,horizontalPoints:P,xAxis:y,yAxis:b})),fe.createElement(aje,eA({},u,{offset:A,verticalPoints:T,xAxis:y,yAxis:b})),fe.createElement(ije,eA({},u,{horizontalPoints:P})),fe.createElement(oje,eA({},u,{verticalPoints:T})))}CB.displayName="CartesianGrid";var Aje=["layout","type","stroke","connectNulls","isRange","ref"],uje=["key"],oQ;function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function lQ(e,t){if(e==null)return{};var r=dje(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tA(){return tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tA.apply(this,arguments)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AQ(n.key),n)}}function hje(e,t,r){return t&&LP(e.prototype,t),r&&LP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pje(e,t,r){return t=ey(t),gje(e,cQ()?Reflect.construct(t,r||[],ey(e).constructor):t.apply(e,r))}function gje(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mje(e)}function mje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cQ=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(e)}function vje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kB(e,t)}function kB(e,t){return kB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kB(e,t)}function Pi(e,t,r){return t=AQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AQ(e){var t=xje(e,"string");return Vd(t)=="symbol"?t:t+""}function xje(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ho=function(e){function t(){var r;fje(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=pje(this,t,[].concat(s)),Pi(r,"state",{isAnimationFinished:!0}),Pi(r,"id",hf("recharts-area-")),Pi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ft(o)&&o()}),Pi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ft(o)&&o()}),r}return vje(t,e),hje(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var l=this.props,A=l.dot,u=l.points,d=l.dataKey,f=ot(this.props,!1),h=ot(A,!0),p=u.map(function(x,v){var y=xl(xl(xl({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:u});return t.renderDotItem(A,y)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return fe.createElement(Ot,tA({className:"recharts-area-dots"},m),p)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,c=s.strokeWidth,l=o[0].x,A=o[o.length-1].x,u=n*Math.abs(l-A),d=Ql(o.map(function(f){return f.y||0}));return He(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(Ql(i.map(function(f){return f.y||0})),d)),He(d)?fe.createElement("rect",{x:l<A?l:l-u,y:0,width:u,height:Math.floor(d+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,c=s.strokeWidth,l=o[0].y,A=o[o.length-1].y,u=n*Math.abs(l-A),d=Ql(o.map(function(f){return f.x||0}));return He(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(Ql(i.map(function(f){return f.x||0})),d)),He(d)?fe.createElement("rect",{x:0,y:l<A?l:l-u,width:d+(c?parseInt("".concat(c),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var c=this.props,l=c.layout,A=c.type,u=c.stroke,d=c.connectNulls,f=c.isRange;c.ref;var h=lQ(c,Aje);return fe.createElement(Ot,{clipPath:i?"url(#clipPath-".concat(o,")"):null},fe.createElement(dd,tA({},ot(h,!0),{points:n,connectNulls:d,type:A,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&fe.createElement(dd,tA({},ot(this.props,!1),{className:"recharts-area-curve",layout:l,type:A,connectNulls:d,fill:"none",points:n})),u!=="none"&&f&&fe.createElement(dd,tA({},ot(this.props,!1),{className:"recharts-area-curve",layout:l,type:A,connectNulls:d,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,c=o.points,l=o.baseLine,A=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,f=o.animationEasing,h=o.animationId,p=this.state,m=p.prevPoints,x=p.prevBaseLine;return fe.createElement($i,{begin:u,duration:d,isActive:A,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t;if(m){var b=m.length/c.length,_=c.map(function(j,k){var z=Math.floor(k*b);if(m[z]){var E=m[z],C=ws(E.x,j.x),Q=ws(E.y,j.y);return xl(xl({},j),{},{x:C(y),y:Q(y)})}return j}),N;if(He(l)&&typeof l=="number"){var P=ws(x,l);N=P(y)}else if(wt(l)||ff(l)){var T=ws(x,0);N=T(y)}else N=l.map(function(j,k){var z=Math.floor(k*b);if(x[z]){var E=x[z],C=ws(E.x,j.x),Q=ws(E.y,j.y);return xl(xl({},j),{},{x:C(y),y:Q(y)})}return j});return i.renderAreaStatically(_,N,n,s)}return fe.createElement(Ot,null,fe.createElement("defs",null,fe.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(y))),fe.createElement(Ot,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(c,l,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,c=i.baseLine,l=i.isAnimationActive,A=this.state,u=A.prevPoints,d=A.prevBaseLine,f=A.totalLength;return l&&o&&o.length&&(!u&&f>0||!Id(u,o)||!Id(d,c))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,c,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,c=s.points,l=s.className,A=s.top,u=s.left,d=s.xAxis,f=s.yAxis,h=s.width,p=s.height,m=s.isAnimationActive,x=s.id;if(i||!c||!c.length)return null;var v=this.state.isAnimationFinished,y=c.length===1,b=Ct("recharts-area",l),_=d&&d.allowDataOverflow,N=f&&f.allowDataOverflow,P=_||N,T=wt(x)?this.id:x,j=(n=ot(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=j.r,z=k===void 0?3:k,E=j.strokeWidth,C=E===void 0?2:E,Q=zre(o)?o:{},L=Q.clipDot,D=L===void 0?!0:L,S=z*2+C;return fe.createElement(Ot,{className:b},_||N?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(T)},fe.createElement("rect",{x:_?u:u-h/2,y:N?A:A-p/2,width:_?h:h*2,height:N?p:p*2})),!D&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(T)},fe.createElement("rect",{x:u-S/2,y:A-S/2,width:h+S,height:p+S}))):null,y?null:this.renderArea(P,T),(o||y)&&this.renderDots(P,D,T),(!m||v)&&Fo.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}($.PureComponent);oQ=Ho;Pi(Ho,"displayName","Area");Pi(Ho,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!EA.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Pi(Ho,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,c=o??i;if(He(c)&&typeof c=="number")return c;var l=s==="horizontal"?n:r,A=l.scale.domain();if(l.type==="number"){var u=Math.max(A[0],A[1]),d=Math.min(A[0],A[1]);return c==="dataMin"?d:c==="dataMax"||u<0?u:Math.max(Math.min(A[0],A[1]),0)}return c==="dataMin"?A[0]:c==="dataMax"?A[1]:A[0]});Pi(Ho,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,c=e.bandSize,l=e.dataKey,A=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,h=t.layout,p=A&&A.length,m=oQ.getBaseValue(t,r,n,s),x=h==="horizontal",v=!1,y=d.map(function(_,N){var P;p?P=A[u+N]:(P=on(_,l),Array.isArray(P)?v=!0:P=[m,P]);var T=P[1]==null||p&&on(_,l)==null;return x?{x:cF({axis:n,ticks:i,bandSize:c,entry:_,index:N}),y:T?null:s.scale(P[1]),value:P,payload:_}:{x:T?null:n.scale(P[1]),y:cF({axis:s,ticks:o,bandSize:c,entry:_,index:N}),value:P,payload:_}}),b;return p||v?b=y.map(function(_){var N=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:N!=null&&_.y!=null?s.scale(N):null}:{x:N!=null?n.scale(N):null,y:_.y}}):b=x?s.scale(m):n.scale(m),xl({points:y,baseLine:b,layout:h,isRange:v},f)});Pi(Ho,"renderDotItem",function(e,t){var r;if(fe.isValidElement(e))r=fe.cloneElement(e,t);else if(ft(e))r=e(t);else{var n=Ct("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=lQ(t,uje);r=fe.createElement(kb,tA({},i,{key:s,className:n}))}return r});function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function yje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fQ(n.key),n)}}function wje(e,t,r){return t&&bje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jje(e,t,r){return t=ty(t),Nje(e,uQ()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function Nje(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bje(e)}function Bje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uQ=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function Cje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SB(e,t)}function SB(e,t){return SB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},SB(e,t)}function dQ(e,t,r){return t=fQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=kje(e,"string");return Gd(t)=="symbol"?t:t+""}function kje(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _B(){return _B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_B.apply(this,arguments)}function Sje(e){var t=e.xAxisId,r=tk(),n=rk(),s=q7(t);return s==null?null:fe.createElement(bf,_B({},s,{className:Ct("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return jo(o,!0)}}))}var Wd=function(e){function t(){return yje(this,t),jje(this,t,arguments)}return Cje(t,e),wje(t,[{key:"render",value:function(){return fe.createElement(Sje,this.props)}}])}(fe.Component);dQ(Wd,"displayName","XAxis");dQ(Wd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function _je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gQ(n.key),n)}}function Fje(e,t,r){return t&&Eje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pje(e,t,r){return t=ry(t),Ije(e,hQ()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function Ije(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oje(e)}function Oje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hQ=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function Tje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EB(e,t)}function EB(e,t){return EB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EB(e,t)}function pQ(e,t,r){return t=gQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=Lje(e,"string");return qd(t)=="symbol"?t:t+""}function Lje(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FB(){return FB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FB.apply(this,arguments)}var Uje=function(t){var r=t.yAxisId,n=tk(),s=rk(),i=J7(r);return i==null?null:fe.createElement(bf,FB({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(c){return jo(c,!0)}}))},Jd=function(e){function t(){return _je(this,t),Pje(this,t,arguments)}return Tje(t,e),Fje(t,[{key:"render",value:function(){return fe.createElement(Uje,this.props)}}])}(fe.Component);pQ(Jd,"displayName","YAxis");pQ(Jd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UP(e){return Rje(e)||Mje(e)||Qje(e)||Dje()}function Dje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qje(e,t){if(e){if(typeof e=="string")return PB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PB(e,t)}}function Mje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rje(e){if(Array.isArray(e))return PB(e)}function PB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IB=function(t,r,n,s,i){var o=ya(t,sk),c=ya(t,Lb),l=[].concat(UP(o),UP(c)),A=ya(t,Db),u="".concat(s,"Id"),d=s[0],f=r;if(l.length&&(f=l.reduce(function(m,x){if(x.props[u]===n&&Di(x.props,"extendDomain")&&He(x.props[d])){var v=x.props[d];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},f)),A.length){var h="".concat(d,"1"),p="".concat(d,"2");f=A.reduce(function(m,x){if(x.props[u]===n&&Di(x.props,"extendDomain")&&He(x.props[h])&&He(x.props[p])){var v=x.props[h],y=x.props[p];return[Math.min(m[0],v,y),Math.max(m[1],v,y)]}return m},f)}return i&&i.length&&(f=i.reduce(function(m,x){return He(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},f)),f},mQ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,A,u){this.fn=l,this.context=A,this.once=u||!1}function i(l,A,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,d||l,f),p=r?r+A:A;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function o(l,A){--l._eventsCount===0?l._events=new n:delete l._events[A]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var A=[],u,d;if(this._eventsCount===0)return A;for(d in u=this._events)t.call(u,d)&&A.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(u)):A},c.prototype.listeners=function(A){var u=r?r+A:A,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},c.prototype.listenerCount=function(A){var u=r?r+A:A,d=this._events[u];return d?d.fn?1:d.length:0},c.prototype.emit=function(A,u,d,f,h,p){var m=r?r+A:A;if(!this._events[m])return!1;var x=this._events[m],v=arguments.length,y,b;if(x.fn){switch(x.once&&this.removeListener(A,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,d),!0;case 4:return x.fn.call(x.context,u,d,f),!0;case 5:return x.fn.call(x.context,u,d,f,h),!0;case 6:return x.fn.call(x.context,u,d,f,h,p),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];x.fn.apply(x.context,y)}else{var _=x.length,N;for(b=0;b<_;b++)switch(x[b].once&&this.removeListener(A,x[b].fn,void 0,!0),v){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,u);break;case 3:x[b].fn.call(x[b].context,u,d);break;case 4:x[b].fn.call(x[b].context,u,d,f);break;default:if(!y)for(N=1,y=new Array(v-1);N<v;N++)y[N-1]=arguments[N];x[b].fn.apply(x[b].context,y)}}return!0},c.prototype.on=function(A,u,d){return i(this,A,u,d,!1)},c.prototype.once=function(A,u,d){return i(this,A,u,d,!0)},c.prototype.removeListener=function(A,u,d,f){var h=r?r+A:A;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&o(this,h);else{for(var m=0,x=[],v=p.length;m<v;m++)(p[m].fn!==u||f&&!p[m].once||d&&p[m].context!==d)&&x.push(p[m]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},c.prototype.removeAllListeners=function(A){var u;return A?(u=r?r+A:A,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(mQ);var $je=mQ.exports;const Hje=Mt($je);var f2=new Hje,h2="recharts.syncMouseEvents";function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function zje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vQ(n.key),n)}}function Vje(e,t,r){return t&&Kje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p2(e,t,r){return t=vQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=Gje(e,"string");return xg(t)=="symbol"?t:t+""}function Gje(e,t){if(xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wje=function(){function e(){zje(this,e),p2(this,"activeIndex",0),p2(this,"coordinateList",[]),p2(this,"layout","horizontal")}return Vje(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,c=o===void 0?null:o,l=r.layout,A=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,f=r.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=A??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,c=s.height,l=this.coordinateList[this.activeIndex].coordinate,A=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+A,f=o+this.offset.top+c/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function qje(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&He(n)&&He(s))return!0}return!1}function Jje(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function xQ(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=ur(t,r,n,s),c=ur(t,r,n,i);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Xje(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,l=t.cy,A=t.innerRadius,u=t.outerRadius,d=t.angle,f=ur(c,l,A,d),h=ur(c,l,u,d);n=f.x,s=f.y,i=h.x,o=h.y}else return xQ(t);return[{x:n,y:s},{x:i,y:o}]}function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){Yje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yje(e,t,r){return t=Zje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zje(e){var t=eNe(e,"string");return yg(t)=="symbol"?t:t+""}function eNe(e,t){if(yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tNe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,c=e.activePayload,l=e.offset,A=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,f=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||f!=="ScatterChart"&&s!=="axis")return null;var p,m=dd;if(f==="ScatterChart")p=o,m=bye;else if(f==="BarChart")p=Jje(d,o,l,u),m=XC;else if(d==="radial"){var x=xQ(o),v=x.cx,y=x.cy,b=x.radius,_=x.startAngle,N=x.endAngle;p={cx:v,cy:y,startAngle:_,endAngle:N,innerRadius:b,outerRadius:b},m=f7}else p={points:Xje(d,o,l)},m=dd;var P=Q0(Q0(Q0(Q0({stroke:"#ccc",pointerEvents:"none"},l),p),ot(h,!1)),{},{payload:c,payloadIndex:A,className:Ct("recharts-tooltip-cursor",h.className)});return $.isValidElement(h)?$.cloneElement(h,P):$.createElement(m,P)}var rNe=["item"],nNe=["children","className","width","height","style","compact","title","desc"];function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(this,arguments)}function QP(e,t){return iNe(e)||aNe(e,t)||bQ(e,t)||sNe()}function sNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,A=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){A=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw s}}return c}}function iNe(e){if(Array.isArray(e))return e}function MP(e,t){if(e==null)return{};var r=oNe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wQ(n.key),n)}}function ANe(e,t,r){return t&&cNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uNe(e,t,r){return t=ny(t),dNe(e,yQ()?Reflect.construct(t,r||[],ny(e).constructor):t.apply(e,r))}function dNe(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fNe(e)}function fNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yQ=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}function hNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OB(e,t)}function OB(e,t){return OB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},OB(e,t)}function Yd(e){return mNe(e)||gNe(e)||bQ(e)||pNe()}function pNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bQ(e,t){if(e){if(typeof e=="string")return TB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TB(e,t)}}function gNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mNe(e){if(Array.isArray(e))return TB(e)}function TB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){ut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ut(e,t,r){return t=wQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=vNe(e,"string");return Xd(t)=="symbol"?t:t+""}function vNe(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xNe={xAxis:["bottom","top"],yAxis:["left","right"]},yNe={width:"100%",height:"100%"},jQ={x:0,y:0};function M0(e){return e}var bNe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},wNe=function(t,r,n,s){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,c=s.radius;return Ie(Ie(Ie({},s),ur(s.cx,s.cy,c,o)),{},{angle:o,radius:c})}var l=i.coordinate,A=s.angle;return Ie(Ie(Ie({},s),ur(s.cx,s.cy,l,A)),{},{angle:A,radius:l})}return jQ},Qb=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(c,l){var A=l.props.data;return A&&A.length?[].concat(Yd(c),Yd(A)):c},[]);return o.length>0?o:t&&t.length&&He(s)&&He(i)?t.slice(s,i+1):[]};function NQ(e){return e==="number"?[0,"auto"]:void 0}var LB=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,c=Qb(r,t);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(l,A){var u,d=(u=A.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var h=d===void 0?c:d;f=sx(h,o.dataKey,s)}else f=d&&d[n]||c[n];return f?[].concat(Yd(l),[o7(A,f)]):l},[])},$P=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=bNe(i,n),c=t.orderedTooltipTicks,l=t.tooltipAxis,A=t.tooltipTicks,u=Kme(o,c,A,l);if(u>=0&&A){var d=A[u]&&A[u].value,f=LB(t,r,u,d),h=wNe(n,c,u,i);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},jNe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,A=r.dataEndIndex,u=t.layout,d=t.children,f=t.stackOffset,h=t7(u,i);return n.reduce(function(p,m){var x,v=m.type.defaultProps!==void 0?Ie(Ie({},m.type.defaultProps),m.props):m.props,y=v.type,b=v.dataKey,_=v.allowDataOverflow,N=v.allowDuplicatedCategory,P=v.scale,T=v.ticks,j=v.includeHidden,k=v[o];if(p[k])return p;var z=Qb(t.data,{graphicalItems:s.filter(function(B){var I,H=o in B.props?B.props[o]:(I=B.type.defaultProps)===null||I===void 0?void 0:I[o];return H===k}),dataStartIndex:l,dataEndIndex:A}),E=z.length,C,Q,L;qje(v.domain,_,y)&&(C=JN(v.domain,null,_),h&&(y==="number"||P!=="auto")&&(L=up(z,b,"category")));var D=NQ(y);if(!C||C.length===0){var S,O=(S=v.domain)!==null&&S!==void 0?S:D;if(b){if(C=up(z,b,y),y==="category"&&h){var R=Ore(C);N&&R?(Q=C,C=zx(0,E)):N||(C=fF(O,C,m).reduce(function(B,I){return B.indexOf(I)>=0?B:[].concat(Yd(B),[I])},[]))}else if(y==="category")N?C=C.filter(function(B){return B!==""&&!wt(B)}):C=fF(O,C,m).reduce(function(B,I){return B.indexOf(I)>=0||I===""||wt(I)?B:[].concat(Yd(B),[I])},[]);else if(y==="number"){var W=Jme(z,s.filter(function(B){var I,H,G=o in B.props?B.props[o]:(I=B.type.defaultProps)===null||I===void 0?void 0:I[o],J="hide"in B.props?B.props.hide:(H=B.type.defaultProps)===null||H===void 0?void 0:H.hide;return G===k&&(j||!J)}),b,i,u);W&&(C=W)}h&&(y==="number"||P!=="auto")&&(L=up(z,b,"category"))}else h?C=zx(0,E):c&&c[k]&&c[k].hasStack&&y==="number"?C=f==="expand"?[0,1]:i7(c[k].stackGroups,l,A):C=e7(z,s.filter(function(B){var I=o in B.props?B.props[o]:B.type.defaultProps[o],H="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return I===k&&(j||!H)}),y,u,!0);if(y==="number")C=IB(d,C,k,i,T),O&&(C=JN(O,C,_));else if(y==="category"&&O){var M=O,q=C.every(function(B){return M.indexOf(B)>=0});q&&(C=M)}}return Ie(Ie({},p),{},ut({},k,Ie(Ie({},v),{},{axisType:i,domain:C,categoricalDomain:L,duplicateDomain:Q,originalDomain:(x=v.domain)!==null&&x!==void 0?x:D,isCategorical:h,layout:u})))},{})},NNe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,A=r.dataEndIndex,u=t.layout,d=t.children,f=Qb(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:A}),h=f.length,p=t7(u,i),m=-1;return n.reduce(function(x,v){var y=v.type.defaultProps!==void 0?Ie(Ie({},v.type.defaultProps),v.props):v.props,b=y[o],_=NQ("number");if(!x[b]){m++;var N;return p?N=zx(0,h):c&&c[b]&&c[b].hasStack?(N=i7(c[b].stackGroups,l,A),N=IB(d,N,b,i)):(N=JN(_,e7(f,n.filter(function(P){var T,j,k=o in P.props?P.props[o]:(T=P.type.defaultProps)===null||T===void 0?void 0:T[o],z="hide"in P.props?P.props.hide:(j=P.type.defaultProps)===null||j===void 0?void 0:j.hide;return k===b&&!z}),"number",u),s.defaultProps.allowDataOverflow),N=IB(d,N,b,i)),Ie(Ie({},x),{},ut({},b,Ie(Ie({axisType:i},s.defaultProps),{},{hide:!0,orientation:Vs(xNe,"".concat(i,".").concat(m%2),null),domain:N,originalDomain:_,isCategorical:p,layout:u})))}return x},{})},BNe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,l=r.dataStartIndex,A=r.dataEndIndex,u=t.children,d="".concat(s,"Id"),f=ya(u,i),h={};return f&&f.length?h=jNe(t,{axes:f,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:c,dataStartIndex:l,dataEndIndex:A}):o&&o.length&&(h=NNe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:c,dataStartIndex:l,dataEndIndex:A})),h},CNe=function(t){var r=El(t),n=jo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:NC(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Px(r,n)}},HP=function(t){var r=t.children,n=t.defaultShowTooltip,s=Rs(r,Md),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},kNe=function(t){return!t||!t.length?!1:t.some(function(r){var n=_o(r&&r.type);return n&&n.indexOf("Bar")>=0})},zP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SNe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,c=t.yAxisMap,l=c===void 0?{}:c,A=n.width,u=n.height,d=n.children,f=n.margin||{},h=Rs(d,Md),p=Rs(d,Zl),m=Object.keys(l).reduce(function(N,P){var T=l[P],j=T.orientation;return!T.mirror&&!T.hide?Ie(Ie({},N),{},ut({},j,N[j]+T.width)):N},{left:f.left||0,right:f.right||0}),x=Object.keys(o).reduce(function(N,P){var T=o[P],j=T.orientation;return!T.mirror&&!T.hide?Ie(Ie({},N),{},ut({},j,Vs(N,"".concat(j))+T.height)):N},{top:f.top||0,bottom:f.bottom||0}),v=Ie(Ie({},x),m),y=v.bottom;h&&(v.bottom+=h.props.height||Md.defaultProps.height),p&&r&&(v=Wme(v,s,n,r));var b=A-v.left-v.right,_=u-v.top-v.bottom;return Ie(Ie({brushBottom:y},v),{},{width:Math.max(b,0),height:Math.max(_,0)})},_Ne=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ok=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,c=o===void 0?["axis"]:o,l=t.axisComponents,A=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,f=function(v,y){var b=y.graphicalItems,_=y.stackGroups,N=y.offset,P=y.updateId,T=y.dataStartIndex,j=y.dataEndIndex,k=v.barSize,z=v.layout,E=v.barGap,C=v.barCategoryGap,Q=v.maxBarSize,L=zP(z),D=L.numericAxisName,S=L.cateAxisName,O=kNe(b),R=[];return b.forEach(function(W,M){var q=Qb(v.data,{graphicalItems:[W],dataStartIndex:T,dataEndIndex:j}),B=W.type.defaultProps!==void 0?Ie(Ie({},W.type.defaultProps),W.props):W.props,I=B.dataKey,H=B.maxBarSize,G=B["".concat(D,"Id")],J=B["".concat(S,"Id")],ie={},Ae=l.reduce(function(_e,Fe){var Re=y["".concat(Fe.axisType,"Map")],Qe=B["".concat(Fe.axisType,"Id")];Re&&Re[Qe]||Fe.axisType==="zAxis"||bA();var Ge=Re[Qe];return Ie(Ie({},_e),{},ut(ut({},Fe.axisType,Ge),"".concat(Fe.axisType,"Ticks"),jo(Ge)))},ie),se=Ae[S],we=Ae["".concat(S,"Ticks")],be=_&&_[G]&&_[G].hasStack&&a0e(W,_[G].stackGroups),ve=_o(W.type).indexOf("Bar")>=0,pe=Px(se,we),oe=[],de=O&&Vme({barSize:k,stackGroups:_,totalSize:_Ne(Ae,S)});if(ve){var V,re,he=wt(H)?Q:H,ue=(V=(re=Px(se,we,!0))!==null&&re!==void 0?re:he)!==null&&V!==void 0?V:0;oe=Gme({barGap:E,barCategoryGap:C,bandSize:ue!==pe?ue:pe,sizeList:de[J],maxBarSize:he}),ue!==pe&&(oe=oe.map(function(_e){return Ie(Ie({},_e),{},{position:Ie(Ie({},_e.position),{},{offset:_e.position.offset-ue/2})})}))}var Ce=W&&W.type&&W.type.getComposedData;Ce&&R.push({props:Ie(Ie({},Ce(Ie(Ie({},Ae),{},{displayedData:q,props:v,dataKey:I,item:W,bandSize:pe,barPosition:oe,offset:N,stackedData:be,layout:z,dataStartIndex:T,dataEndIndex:j}))),{},ut(ut(ut({key:W.key||"item-".concat(M)},D,Ae[D]),S,Ae[S]),"animationId",P)),childIndex:Gre(W,v.children),item:W})}),R},h=function(v,y){var b=v.props,_=v.dataStartIndex,N=v.dataEndIndex,P=v.updateId;if(!iE({props:b}))return null;var T=b.children,j=b.layout,k=b.stackOffset,z=b.data,E=b.reverseStackOrder,C=zP(j),Q=C.numericAxisName,L=C.cateAxisName,D=ya(T,n),S=n0e(z,D,"".concat(Q,"Id"),"".concat(L,"Id"),k,E),O=l.reduce(function(B,I){var H="".concat(I.axisType,"Map");return Ie(Ie({},B),{},ut({},H,BNe(b,Ie(Ie({},I),{},{graphicalItems:D,stackGroups:I.axisType===Q&&S,dataStartIndex:_,dataEndIndex:N}))))},{}),R=SNe(Ie(Ie({},O),{},{props:b,graphicalItems:D}),y==null?void 0:y.legendBBox);Object.keys(O).forEach(function(B){O[B]=u(b,O[B],R,B.replace("Map",""),r)});var W=O["".concat(L,"Map")],M=CNe(W),q=f(b,Ie(Ie({},O),{},{dataStartIndex:_,dataEndIndex:N,updateId:P,graphicalItems:D,stackGroups:S,offset:R}));return Ie(Ie({formattedGraphicalItems:q,graphicalItems:D,offset:R,stackGroups:S},M),O)},p=function(x){function v(y){var b,_,N;return lNe(this,v),N=uNe(this,v,[y]),ut(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ut(N,"accessibilityManager",new Wje),ut(N,"handleLegendBBoxUpdate",function(P){if(P){var T=N.state,j=T.dataStartIndex,k=T.dataEndIndex,z=T.updateId;N.setState(Ie({legendBBox:P},h({props:N.props,dataStartIndex:j,dataEndIndex:k,updateId:z},Ie(Ie({},N.state),{},{legendBBox:P}))))}}),ut(N,"handleReceiveSyncEvent",function(P,T,j){if(N.props.syncId===P){if(j===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),ut(N,"handleBrushChange",function(P){var T=P.startIndex,j=P.endIndex;if(T!==N.state.dataStartIndex||j!==N.state.dataEndIndex){var k=N.state.updateId;N.setState(function(){return Ie({dataStartIndex:T,dataEndIndex:j},h({props:N.props,dataStartIndex:T,dataEndIndex:j,updateId:k},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:j})}}),ut(N,"handleMouseEnter",function(P){var T=N.getMouseInfo(P);if(T){var j=Ie(Ie({},T),{},{isTooltipActive:!0});N.setState(j),N.triggerSyncEvent(j);var k=N.props.onMouseEnter;ft(k)&&k(j,P)}}),ut(N,"triggeredAfterMouseMove",function(P){var T=N.getMouseInfo(P),j=T?Ie(Ie({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(j),N.triggerSyncEvent(j);var k=N.props.onMouseMove;ft(k)&&k(j,P)}),ut(N,"handleItemMouseEnter",function(P){N.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ut(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),ut(N,"handleMouseMove",function(P){P.persist(),N.throttleTriggeredAfterMouseMove(P)}),ut(N,"handleMouseLeave",function(P){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var j=N.props.onMouseLeave;ft(j)&&j(T,P)}),ut(N,"handleOuterEvent",function(P){var T=Vre(P),j=Vs(N.props,"".concat(T));if(T&&ft(j)){var k,z;/.*touch.*/i.test(T)?z=N.getMouseInfo(P.changedTouches[0]):z=N.getMouseInfo(P),j((k=z)!==null&&k!==void 0?k:{},P)}}),ut(N,"handleClick",function(P){var T=N.getMouseInfo(P);if(T){var j=Ie(Ie({},T),{},{isTooltipActive:!0});N.setState(j),N.triggerSyncEvent(j);var k=N.props.onClick;ft(k)&&k(j,P)}}),ut(N,"handleMouseDown",function(P){var T=N.props.onMouseDown;if(ft(T)){var j=N.getMouseInfo(P);T(j,P)}}),ut(N,"handleMouseUp",function(P){var T=N.props.onMouseUp;if(ft(T)){var j=N.getMouseInfo(P);T(j,P)}}),ut(N,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ut(N,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseDown(P.changedTouches[0])}),ut(N,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseUp(P.changedTouches[0])}),ut(N,"handleDoubleClick",function(P){var T=N.props.onDoubleClick;if(ft(T)){var j=N.getMouseInfo(P);T(j,P)}}),ut(N,"handleContextMenu",function(P){var T=N.props.onContextMenu;if(ft(T)){var j=N.getMouseInfo(P);T(j,P)}}),ut(N,"triggerSyncEvent",function(P){N.props.syncId!==void 0&&f2.emit(h2,N.props.syncId,P,N.eventEmitterSymbol)}),ut(N,"applySyncEvent",function(P){var T=N.props,j=T.layout,k=T.syncMethod,z=N.state.updateId,E=P.dataStartIndex,C=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)N.setState(Ie({dataStartIndex:E,dataEndIndex:C},h({props:N.props,dataStartIndex:E,dataEndIndex:C,updateId:z},N.state)));else if(P.activeTooltipIndex!==void 0){var Q=P.chartX,L=P.chartY,D=P.activeTooltipIndex,S=N.state,O=S.offset,R=S.tooltipTicks;if(!O)return;if(typeof k=="function")D=k(R,P);else if(k==="value"){D=-1;for(var W=0;W<R.length;W++)if(R[W].value===P.activeLabel){D=W;break}}var M=Ie(Ie({},O),{},{x:O.left,y:O.top}),q=Math.min(Q,M.x+M.width),B=Math.min(L,M.y+M.height),I=R[D]&&R[D].value,H=LB(N.state,N.props.data,D),G=R[D]?{x:j==="horizontal"?R[D].coordinate:q,y:j==="horizontal"?B:R[D].coordinate}:jQ;N.setState(Ie(Ie({},P),{},{activeLabel:I,activeCoordinate:G,activePayload:H,activeTooltipIndex:D}))}else N.setState(P)}),ut(N,"renderCursor",function(P){var T,j=N.state,k=j.isTooltipActive,z=j.activeCoordinate,E=j.activePayload,C=j.offset,Q=j.activeTooltipIndex,L=j.tooltipAxisBandSize,D=N.getTooltipEventType(),S=(T=P.props.active)!==null&&T!==void 0?T:k,O=N.props.layout,R=P.key||"_recharts-cursor";return fe.createElement(tNe,{key:R,activeCoordinate:z,activePayload:E,activeTooltipIndex:Q,chartName:r,element:P,isActive:S,layout:O,offset:C,tooltipAxisBandSize:L,tooltipEventType:D})}),ut(N,"renderPolarAxis",function(P,T,j){var k=Vs(P,"type.axisType"),z=Vs(N.state,"".concat(k,"Map")),E=P.type.defaultProps,C=E!==void 0?Ie(Ie({},E),P.props):P.props,Q=z&&z[C["".concat(k,"Id")]];return $.cloneElement(P,Ie(Ie({},Q),{},{className:Ct(k,Q.className),key:P.key||"".concat(T,"-").concat(j),ticks:jo(Q,!0)}))}),ut(N,"renderPolarGrid",function(P){var T=P.props,j=T.radialLines,k=T.polarAngles,z=T.polarRadius,E=N.state,C=E.radiusAxisMap,Q=E.angleAxisMap,L=El(C),D=El(Q),S=D.cx,O=D.cy,R=D.innerRadius,W=D.outerRadius;return $.cloneElement(P,{polarAngles:Array.isArray(k)?k:jo(D,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(z)?z:jo(L,!0).map(function(M){return M.coordinate}),cx:S,cy:O,innerRadius:R,outerRadius:W,key:P.key||"polar-grid",radialLines:j})}),ut(N,"renderLegend",function(){var P=N.state.formattedGraphicalItems,T=N.props,j=T.children,k=T.width,z=T.height,E=N.props.margin||{},C=k-(E.left||0)-(E.right||0),Q=YD({children:j,formattedGraphicalItems:P,legendWidth:C,legendContent:A});if(!Q)return null;var L=Q.item,D=MP(Q,rNe);return $.cloneElement(L,Ie(Ie({},D),{},{chartWidth:k,chartHeight:z,margin:E,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),ut(N,"renderTooltip",function(){var P,T=N.props,j=T.children,k=T.accessibilityLayer,z=Rs(j,la);if(!z)return null;var E=N.state,C=E.isTooltipActive,Q=E.activeCoordinate,L=E.activePayload,D=E.activeLabel,S=E.offset,O=(P=z.props.active)!==null&&P!==void 0?P:C;return $.cloneElement(z,{viewBox:Ie(Ie({},S),{},{x:S.left,y:S.top}),active:O,label:D,payload:O?L:[],coordinate:Q,accessibilityLayer:k})}),ut(N,"renderBrush",function(P){var T=N.props,j=T.margin,k=T.data,z=N.state,E=z.offset,C=z.dataStartIndex,Q=z.dataEndIndex,L=z.updateId;return $.cloneElement(P,{key:P.key||"_recharts-brush",onChange:T0(N.handleBrushChange,P.props.onChange),data:k,x:He(P.props.x)?P.props.x:E.left,y:He(P.props.y)?P.props.y:E.top+E.height+E.brushBottom-(j.bottom||0),width:He(P.props.width)?P.props.width:E.width,startIndex:C,endIndex:Q,updateId:"brush-".concat(L)})}),ut(N,"renderReferenceElement",function(P,T,j){if(!P)return null;var k=N,z=k.clipPathId,E=N.state,C=E.xAxisMap,Q=E.yAxisMap,L=E.offset,D=P.type.defaultProps||{},S=P.props,O=S.xAxisId,R=O===void 0?D.xAxisId:O,W=S.yAxisId,M=W===void 0?D.yAxisId:W;return $.cloneElement(P,{key:P.key||"".concat(T,"-").concat(j),xAxis:C[R],yAxis:Q[M],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:z})}),ut(N,"renderActivePoints",function(P){var T=P.item,j=P.activePoint,k=P.basePoint,z=P.childIndex,E=P.isRange,C=[],Q=T.props.key,L=T.item.type.defaultProps!==void 0?Ie(Ie({},T.item.type.defaultProps),T.item.props):T.item.props,D=L.activeDot,S=L.dataKey,O=Ie(Ie({index:z,dataKey:S,cx:j.x,cy:j.y,r:4,fill:JC(T.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},ot(D,!1)),ax(D));return C.push(v.renderActiveDot(D,O,"".concat(Q,"-activePoint-").concat(z))),k?C.push(v.renderActiveDot(D,Ie(Ie({},O),{},{cx:k.x,cy:k.y}),"".concat(Q,"-basePoint-").concat(z))):E&&C.push(null),C}),ut(N,"renderGraphicChild",function(P,T,j){var k=N.filterFormatItem(P,T,j);if(!k)return null;var z=N.getTooltipEventType(),E=N.state,C=E.isTooltipActive,Q=E.tooltipAxis,L=E.activeTooltipIndex,D=E.activeLabel,S=N.props.children,O=Rs(S,la),R=k.props,W=R.points,M=R.isRange,q=R.baseLine,B=k.item.type.defaultProps!==void 0?Ie(Ie({},k.item.type.defaultProps),k.item.props):k.item.props,I=B.activeDot,H=B.hide,G=B.activeBar,J=B.activeShape,ie=!!(!H&&C&&O&&(I||G||J)),Ae={};z!=="axis"&&O&&O.props.trigger==="click"?Ae={onClick:T0(N.handleItemMouseEnter,P.props.onClick)}:z!=="axis"&&(Ae={onMouseLeave:T0(N.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:T0(N.handleItemMouseEnter,P.props.onMouseEnter)});var se=$.cloneElement(P,Ie(Ie({},k.props),Ae));function we(Fe){return typeof Q.dataKey=="function"?Q.dataKey(Fe.payload):null}if(ie)if(L>=0){var be,ve;if(Q.dataKey&&!Q.allowDuplicatedCategory){var pe=typeof Q.dataKey=="function"?we:"payload.".concat(Q.dataKey.toString());be=sx(W,pe,D),ve=M&&q&&sx(q,pe,D)}else be=W==null?void 0:W[L],ve=M&&q&&q[L];if(J||G){var oe=P.props.activeIndex!==void 0?P.props.activeIndex:L;return[$.cloneElement(P,Ie(Ie(Ie({},k.props),Ae),{},{activeIndex:oe})),null,null]}if(!wt(be))return[se].concat(Yd(N.renderActivePoints({item:k,activePoint:be,basePoint:ve,childIndex:L,isRange:M})))}else{var de,V=(de=N.getItemByXY(N.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:se},re=V.graphicalItem,he=re.item,ue=he===void 0?P:he,Ce=re.childIndex,_e=Ie(Ie(Ie({},k.props),Ae),{},{activeIndex:Ce});return[$.cloneElement(ue,_e),null,null]}return M?[se,null,null]:[se,null]}),ut(N,"renderCustomized",function(P,T,j){return $.cloneElement(P,Ie(Ie({key:"recharts-customized-".concat(j)},N.props),N.state))}),ut(N,"renderMap",{CartesianGrid:{handler:M0,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:M0},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:M0},YAxis:{handler:M0},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:hf("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=X8(N.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return hNe(v,x),ANe(v,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,N=b.data,P=b.height,T=b.layout,j=Rs(_,la);if(j){var k=j.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,E=LB(this.state,N,k,z),C=this.state.tooltipTicks[k].coordinate,Q=(this.state.offset.top+P)/2,L=T==="horizontal",D=L?{x:C,y:Q}:{y:C,x:Q},S=this.state.formattedGraphicalItems.find(function(R){var W=R.item;return W.type.name==="Scatter"});S&&(D=Ie(Ie({},D),S.props.points[k].tooltipPosition),E=S.props.points[k].tooltipPayload);var O={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:z,activePayload:E,activeCoordinate:D};this.setState(O),this.renderCursor(j),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var N,P;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(b){uN([Rs(b.children,la)],[Rs(this.props.children,la)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Rs(this.props.children,la);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return c.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),P=xfe(N),T={chartX:Math.round(b.pageX-P.left),chartY:Math.round(b.pageY-P.top)},j=N.width/_.offsetWidth||1,k=this.inRange(T.chartX,T.chartY,j);if(!k)return null;var z=this.state,E=z.xAxisMap,C=z.yAxisMap,Q=this.getTooltipEventType(),L=$P(this.state,this.props.data,this.props.layout,k);if(Q!=="axis"&&E&&C){var D=El(E).scale,S=El(C).scale,O=D&&D.invert?D.invert(T.chartX):null,R=S&&S.invert?S.invert(T.chartY):null;return Ie(Ie({},T),{},{xValue:O,yValue:R},L)}return L?Ie(Ie({},T),L):null}},{key:"inRange",value:function(b,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,T=b/N,j=_/N;if(P==="horizontal"||P==="vertical"){var k=this.state.offset,z=T>=k.left&&T<=k.left+k.width&&j>=k.top&&j<=k.top+k.height;return z?{x:T,y:j}:null}var E=this.state,C=E.angleAxisMap,Q=E.radiusAxisMap;if(C&&Q){var L=El(C);return gF({x:T,y:j},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),N=Rs(b,la),P={};N&&_==="axis"&&(N.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=ax(this.props,this.handleOuterEvent);return Ie(Ie({},T),P)}},{key:"addListener",value:function(){f2.on(h2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){f2.removeListener(h2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,N){for(var P=this.state.formattedGraphicalItems,T=0,j=P.length;T<j;T++){var k=P[T];if(k.item===b||k.props.key===b.key||_===_o(k.item.type)&&N===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,N=_.left,P=_.top,T=_.height,j=_.width;return fe.createElement("defs",null,fe.createElement("clipPath",{id:b},fe.createElement("rect",{x:N,y:P,height:T,width:j})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,N){var P=QP(N,2),T=P[0],j=P[1];return Ie(Ie({},_),{},ut({},T,j.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,N){var P=QP(N,2),T=P[0],j=P[1];return Ie(Ie({},_),{},ut({},T,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,N=_.formattedGraphicalItems,P=_.activeItem;if(N&&N.length)for(var T=0,j=N.length;T<j;T++){var k=N[T],z=k.props,E=k.item,C=E.type.defaultProps!==void 0?Ie(Ie({},E.type.defaultProps),E.props):E.props,Q=_o(E.type);if(Q==="Bar"){var L=(z.data||[]).find(function(R){return tye(b,R)});if(L)return{graphicalItem:k,payload:L}}else if(Q==="RadialBar"){var D=(z.data||[]).find(function(R){return gF(b,R)});if(D)return{graphicalItem:k,payload:D}}else if(Pb(k,P)||Ib(k,P)||hg(k,P)){var S=zbe({graphicalItem:k,activeTooltipItem:P,itemData:C.data}),O=C.activeIndex===void 0?S:C.activeIndex;return{graphicalItem:Ie(Ie({},k),{},{childIndex:O}),payload:hg(k,P)?C.data[S]:k.props.data[S]}}}return null}},{key:"render",value:function(){var b=this;if(!iE(this))return null;var _=this.props,N=_.children,P=_.className,T=_.width,j=_.height,k=_.style,z=_.compact,E=_.title,C=_.desc,Q=MP(_,nNe),L=ot(Q,!1);if(z)return fe.createElement(wP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement(fN,Ju({},L,{width:T,height:j,title:E,desc:C}),this.renderClipPath(),lE(N,this.renderMap)));if(this.props.accessibilityLayer){var D,S;L.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,L.role=(S=this.props.role)!==null&&S!==void 0?S:"application",L.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},L.onFocus=function(){b.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return fe.createElement(wP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement("div",Ju({className:Ct("recharts-wrapper",P),style:Ie({position:"relative",cursor:"default",width:T,height:j},k)},O,{ref:function(W){b.container=W}}),fe.createElement(fN,Ju({},L,{width:T,height:j,title:E,desc:C,style:yNe}),this.renderClipPath(),lE(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);ut(p,"displayName",r),ut(p,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ut(p,"getDerivedStateFromProps",function(x,v){var y=x.dataKey,b=x.data,_=x.children,N=x.width,P=x.height,T=x.layout,j=x.stackOffset,k=x.margin,z=v.dataStartIndex,E=v.dataEndIndex;if(v.updateId===void 0){var C=HP(x);return Ie(Ie(Ie({},C),{},{updateId:0},h(Ie(Ie({props:x},C),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:b,prevWidth:N,prevHeight:P,prevLayout:T,prevStackOffset:j,prevMargin:k,prevChildren:_})}if(y!==v.prevDataKey||b!==v.prevData||N!==v.prevWidth||P!==v.prevHeight||T!==v.prevLayout||j!==v.prevStackOffset||!cd(k,v.prevMargin)){var Q=HP(x),L={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},D=Ie(Ie({},$P(v,b,T)),{},{updateId:v.updateId+1}),S=Ie(Ie(Ie({},Q),L),D);return Ie(Ie(Ie({},S),h(Ie({props:x},S),v)),{},{prevDataKey:y,prevData:b,prevWidth:N,prevHeight:P,prevLayout:T,prevStackOffset:j,prevMargin:k,prevChildren:_})}if(!uN(_,v.prevChildren)){var O,R,W,M,q=Rs(_,Md),B=q&&(O=(R=q.props)===null||R===void 0?void 0:R.startIndex)!==null&&O!==void 0?O:z,I=q&&(W=(M=q.props)===null||M===void 0?void 0:M.endIndex)!==null&&W!==void 0?W:E,H=B!==z||I!==E,G=!wt(b),J=G&&!H?v.updateId:v.updateId+1;return Ie(Ie({updateId:J},h(Ie(Ie({props:x},v),{},{updateId:J,dataStartIndex:B,dataEndIndex:I}),v)),{},{prevChildren:_,dataStartIndex:B,dataEndIndex:I})}return null}),ut(p,"renderActiveDot",function(x,v,y){var b;return $.isValidElement(x)?b=$.cloneElement(x,v):ft(x)?b=x(v):b=fe.createElement(kb,v),fe.createElement(Ot,{className:"recharts-active-dot",key:y},b)});var m=$.forwardRef(function(v,y){return fe.createElement(p,Ju({},v,{ref:y}))});return m.displayName=p.displayName,m},ENe=ok({chartName:"BarChart",GraphicalChild:Po,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wd},{axisType:"yAxis",AxisComp:Jd}],formatAxisMap:R7}),FNe=ok({chartName:"PieChart",GraphicalChild:Jo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fb},{axisType:"radiusAxis",AxisComp:_b}],formatAxisMap:p0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),PNe=ok({chartName:"AreaChart",GraphicalChild:Ho,axisComponents:[{axisType:"xAxis",AxisComp:Wd},{axisType:"yAxis",AxisComp:Jd}],formatAxisMap:R7});function Hi(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function en(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Js(e){en(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Qt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function INe(e,t){en(2,arguments);var r=Js(e),n=Hi(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var s=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function ONe(e,t){en(2,arguments);var r=Js(e).getTime(),n=Hi(t);return new Date(r+n)}var TNe={};function Mb(){return TNe}function LNe(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var BQ=6e4,CQ=36e5;function UNe(e){return en(1,arguments),e instanceof Date||Qt(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function DNe(e){if(en(1,arguments),!UNe(e)&&typeof e!="number")return!1;var t=Js(e);return!isNaN(Number(t))}function QNe(e){en(1,arguments);var t=Js(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function R0(e){en(1,arguments);var t=Js(e);return t.setDate(1),t.setHours(0,0,0,0),t}function MNe(e,t){en(2,arguments);var r=Hi(t);return ONe(e,-r)}var RNe=864e5;function $Ne(e){en(1,arguments);var t=Js(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/RNe)+1}function sy(e){en(1,arguments);var t=1,r=Js(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function kQ(e){en(1,arguments);var t=Js(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=sy(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=sy(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function HNe(e){en(1,arguments);var t=kQ(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=sy(r);return n}var zNe=6048e5;function KNe(e){en(1,arguments);var t=Js(e),r=sy(t).getTime()-HNe(t).getTime();return Math.round(r/zNe)+1}function ay(e,t){var r,n,s,i,o,c,l,A;en(1,arguments);var u=Mb(),d=Hi((r=(n=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(A=l.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Js(e),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function SQ(e,t){var r,n,s,i,o,c,l,A;en(1,arguments);var u=Js(e),d=u.getUTCFullYear(),f=Mb(),h=Hi((r=(n=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(A=l.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var m=ay(p,t),x=new Date(0);x.setUTCFullYear(d,0,h),x.setUTCHours(0,0,0,0);var v=ay(x,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}function VNe(e,t){var r,n,s,i,o,c,l,A;en(1,arguments);var u=Mb(),d=Hi((r=(n=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(A=l.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&r!==void 0?r:1),f=SQ(e,t),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var p=ay(h,t);return p}var GNe=6048e5;function WNe(e,t){en(1,arguments);var r=Js(e),n=ay(r,t).getTime()-VNe(r,t).getTime();return Math.round(n/GNe)+1}function Gt(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var hl={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return Gt(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Gt(n+1,2)},d:function(t,r){return Gt(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Gt(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Gt(t.getUTCHours(),r.length)},m:function(t,r){return Gt(t.getUTCMinutes(),r.length)},s:function(t,r){return Gt(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,n-3));return Gt(i,r.length)}},Bu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qNe={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return hl.y(t,r)},Y:function(t,r,n,s){var i=SQ(t,s),o=i>0?i:1-i;if(r==="YY"){var c=o%100;return Gt(c,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Gt(o,r.length)},R:function(t,r){var n=kQ(t);return Gt(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Gt(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Gt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Gt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return hl.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return Gt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var i=WNe(t,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Gt(i,r.length)},I:function(t,r,n){var s=KNe(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Gt(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):hl.d(t,r)},D:function(t,r,n){var s=$Ne(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Gt(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Gt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Gt(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return Gt(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),i;switch(s===12?i=Bu.noon:s===0?i=Bu.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),i;switch(s>=17?i=Bu.evening:s>=12?i=Bu.afternoon:s>=4?i=Bu.morning:i=Bu.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return hl.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):hl.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Gt(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Gt(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):hl.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):hl.s(t,r)},S:function(t,r){return hl.S(t,r)},X:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return VP(o);case"XXXX":case"XX":return Rc(o);case"XXXXX":case"XXX":default:return Rc(o,":")}},x:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return VP(o);case"xxxx":case"xx":return Rc(o);case"xxxxx":case"xxx":default:return Rc(o,":")}},O:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+KP(o,":");case"OOOO":default:return"GMT"+Rc(o,":")}},z:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+KP(o,":");case"zzzz":default:return"GMT"+Rc(o,":")}},t:function(t,r,n,s){var i=s._originalDate||t,o=Math.floor(i.getTime()/1e3);return Gt(o,r.length)},T:function(t,r,n,s){var i=s._originalDate||t,o=i.getTime();return Gt(o,r.length)}};function KP(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),i=n%60;if(i===0)return r+String(s);var o=t;return r+String(s)+o+Gt(i,2)}function VP(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Gt(Math.abs(e)/60,2)}return Rc(e,t)}function Rc(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),i=Gt(Math.floor(s/60),2),o=Gt(s%60,2);return n+i+r+o}var GP=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},_Q=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},JNe=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return GP(t,r);var o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",GP(s,r)).replace("{{time}}",_Q(i,r))},XNe={p:_Q,P:JNe},YNe=["D","DD"],ZNe=["YY","YYYY"];function eBe(e){return YNe.indexOf(e)!==-1}function tBe(e){return ZNe.indexOf(e)!==-1}function WP(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rBe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nBe=function(t,r,n){var s,i=rBe[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function fd(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var sBe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aBe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iBe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oBe={date:fd({formats:sBe,defaultWidth:"full"}),time:fd({formats:aBe,defaultWidth:"full"}),dateTime:fd({formats:iBe,defaultWidth:"full"})},lBe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cBe=function(t,r,n,s){return lBe[t]};function ki(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var c=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[c]}var A=e.argumentCallback?e.argumentCallback(t):t;return s[A]}}var ABe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uBe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dBe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fBe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hBe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pBe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gBe=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mBe={ordinalNumber:gBe,era:ki({values:ABe,defaultWidth:"wide"}),quarter:ki({values:uBe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ki({values:dBe,defaultWidth:"wide"}),day:ki({values:fBe,defaultWidth:"wide"}),dayPeriod:ki({values:hBe,defaultWidth:"wide",formattingValues:pBe,defaultFormattingWidth:"wide"})};function Si(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?xBe(c,function(d){return d.test(o)}):vBe(c,function(d){return d.test(o)}),A;A=e.valueCallback?e.valueCallback(l):l,A=r.valueCallback?r.valueCallback(A):A;var u=t.slice(o.length);return{value:A,rest:u}}}function vBe(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function xBe(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function EQ(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var c=t.slice(s.length);return{value:o,rest:c}}}var yBe=/^(\d+)(th|st|nd|rd)?/i,bBe=/\d+/i,wBe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jBe={any:[/^b/i,/^(a|c)/i]},NBe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BBe={any:[/1/i,/2/i,/3/i,/4/i]},CBe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kBe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SBe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_Be={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EBe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FBe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PBe={ordinalNumber:EQ({matchPattern:yBe,parsePattern:bBe,valueCallback:function(t){return parseInt(t,10)}}),era:Si({matchPatterns:wBe,defaultMatchWidth:"wide",parsePatterns:jBe,defaultParseWidth:"any"}),quarter:Si({matchPatterns:NBe,defaultMatchWidth:"wide",parsePatterns:BBe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Si({matchPatterns:CBe,defaultMatchWidth:"wide",parsePatterns:kBe,defaultParseWidth:"any"}),day:Si({matchPatterns:SBe,defaultMatchWidth:"wide",parsePatterns:_Be,defaultParseWidth:"any"}),dayPeriod:Si({matchPatterns:EBe,defaultMatchWidth:"any",parsePatterns:FBe,defaultParseWidth:"any"})},IBe={code:"en-US",formatDistance:nBe,formatLong:oBe,formatRelative:cBe,localize:mBe,match:PBe,options:{weekStartsOn:0,firstWeekContainsDate:1}},OBe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TBe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LBe=/^'([^]*?)'?$/,UBe=/''/g,DBe=/[a-zA-Z]/;function ho(e,t,r){var n,s,i,o,c,l,A,u,d,f,h,p,m,x,v,y,b,_;en(2,arguments);var N=String(t),P=Mb(),T=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:P.locale)!==null&&n!==void 0?n:IBe,j=Hi((i=(o=(c=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(A=r.locale)===null||A===void 0||(u=A.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&c!==void 0?c:P.firstWeekContainsDate)!==null&&o!==void 0?o:(d=P.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Hi((h=(p=(m=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(v=r.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&m!==void 0?m:P.weekStartsOn)!==null&&p!==void 0?p:(b=P.locale)===null||b===void 0||(_=b.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&h!==void 0?h:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var z=Js(e);if(!DNe(z))throw new RangeError("Invalid time value");var E=LNe(z),C=MNe(z,E),Q={firstWeekContainsDate:j,weekStartsOn:k,locale:T,_originalDate:z},L=N.match(TBe).map(function(D){var S=D[0];if(S==="p"||S==="P"){var O=XNe[S];return O(D,T.formatLong)}return D}).join("").match(OBe).map(function(D){if(D==="''")return"'";var S=D[0];if(S==="'")return QBe(D);var O=qNe[S];if(O)return!(r!=null&&r.useAdditionalWeekYearTokens)&&tBe(D)&&WP(D,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&eBe(D)&&WP(D,t,String(e)),O(C,D,T.localize,Q);if(S.match(DBe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return D}).join("");return L}function QBe(e){var t=e.match(LBe);return t?t[1].replace(UBe,"'"):e}function $0(e,t){var r;en(1,arguments);var n=Hi((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=HBe(e),i;if(s.date){var o=zBe(s.date,n);i=KBe(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var c=i.getTime(),l=0,A;if(s.time&&(l=VBe(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(A=GBe(s.timezone),isNaN(A))return new Date(NaN)}else{var u=new Date(c+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(c+l+A)}var H0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},MBe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,RBe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$Be=/^([+-])(\d{2})(?::?(\d{2}))?$/;function HBe(e){var t={},r=e.split(H0.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],H0.timeZoneDelimiter.test(t.date)&&(t.date=e.split(H0.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var s=H0.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function zBe(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function KBe(e,t){if(t===null)return new Date(NaN);var r=e.match(MBe);if(!r)return new Date(NaN);var n=!!r[4],s=Nh(r[1]),i=Nh(r[2])-1,o=Nh(r[3]),c=Nh(r[4]),l=Nh(r[5])-1;if(n)return YBe(t,c,l)?WBe(t,c,l):new Date(NaN);var A=new Date(0);return!JBe(t,i,o)||!XBe(t,s)?new Date(NaN):(A.setUTCFullYear(t,i,Math.max(s,o)),A)}function Nh(e){return e?parseInt(e):1}function VBe(e){var t=e.match(RBe);if(!t)return NaN;var r=g2(t[1]),n=g2(t[2]),s=g2(t[3]);return ZBe(r,n,s)?r*CQ+n*BQ+s*1e3:NaN}function g2(e){return e&&parseFloat(e.replace(",","."))||0}function GBe(e){if(e==="Z")return 0;var t=e.match($Be);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return e5e(n,s)?r*(n*CQ+s*BQ):NaN}function WBe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}var qBe=[31,null,31,30,31,30,31,31,30,31,30,31];function FQ(e){return e%400===0||e%4===0&&e%100!==0}function JBe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(qBe[t]||(FQ(e)?29:28))}function XBe(e,t){return t>=1&&t<=(FQ(e)?366:365)}function YBe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function ZBe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function e5e(e,t){return t>=0&&t<=59}function Cu(e,t){en(2,arguments);var r=Hi(t);return INe(e,-r)}var t5e={lessThanXSeconds:{one:"minder dan een seconde",other:"minder dan {{count}} seconden"},xSeconds:{one:"1 seconde",other:"{{count}} seconden"},halfAMinute:"een halve minuut",lessThanXMinutes:{one:"minder dan een minuut",other:"minder dan {{count}} minuten"},xMinutes:{one:"een minuut",other:"{{count}} minuten"},aboutXHours:{one:"ongeveer 1 uur",other:"ongeveer {{count}} uur"},xHours:{one:"1 uur",other:"{{count}} uur"},xDays:{one:"1 dag",other:"{{count}} dagen"},aboutXWeeks:{one:"ongeveer 1 week",other:"ongeveer {{count}} weken"},xWeeks:{one:"1 week",other:"{{count}} weken"},aboutXMonths:{one:"ongeveer 1 maand",other:"ongeveer {{count}} maanden"},xMonths:{one:"1 maand",other:"{{count}} maanden"},aboutXYears:{one:"ongeveer 1 jaar",other:"ongeveer {{count}} jaar"},xYears:{one:"1 jaar",other:"{{count}} jaar"},overXYears:{one:"meer dan 1 jaar",other:"meer dan {{count}} jaar"},almostXYears:{one:"bijna 1 jaar",other:"bijna {{count}} jaar"}},r5e=function(t,r,n){var s,i=t5e[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"over "+s:s+" geleden":s},n5e={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd-MM-y"},s5e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},a5e={full:"{{date}} 'om' {{time}}",long:"{{date}} 'om' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i5e={date:fd({formats:n5e,defaultWidth:"full"}),time:fd({formats:s5e,defaultWidth:"full"}),dateTime:fd({formats:a5e,defaultWidth:"full"})},o5e={lastWeek:"'afgelopen' eeee 'om' p",yesterday:"'gisteren om' p",today:"'vandaag om' p",tomorrow:"'morgen om' p",nextWeek:"eeee 'om' p",other:"P"},l5e=function(t,r,n,s){return o5e[t]},c5e={narrow:["v.C.","n.C."],abbreviated:["v.Chr.","n.Chr."],wide:["voor Christus","na Christus"]},A5e={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"]},u5e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],wide:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},d5e={narrow:["Z","M","D","W","D","V","Z"],short:["zo","ma","di","wo","do","vr","za"],abbreviated:["zon","maa","din","woe","don","vri","zat"],wide:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},f5e={narrow:{am:"AM",pm:"PM",midnight:"middernacht",noon:"het middaguur",morning:"'s ochtends",afternoon:"'s middags",evening:"'s avonds",night:"'s nachts"},abbreviated:{am:"AM",pm:"PM",midnight:"middernacht",noon:"het middaguur",morning:"'s ochtends",afternoon:"'s middags",evening:"'s avonds",night:"'s nachts"},wide:{am:"AM",pm:"PM",midnight:"middernacht",noon:"het middaguur",morning:"'s ochtends",afternoon:"'s middags",evening:"'s avonds",night:"'s nachts"}},h5e=function(t,r){var n=Number(t);return n+"e"},p5e={ordinalNumber:h5e,era:ki({values:c5e,defaultWidth:"wide"}),quarter:ki({values:A5e,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ki({values:u5e,defaultWidth:"wide"}),day:ki({values:d5e,defaultWidth:"wide"}),dayPeriod:ki({values:f5e,defaultWidth:"wide"})},g5e=/^(\d+)e?/i,m5e=/\d+/i,v5e={narrow:/^([vn]\.? ?C\.?)/,abbreviated:/^([vn]\. ?Chr\.?)/,wide:/^((voor|na) Christus)/},x5e={any:[/^v/,/^n/]},y5e={narrow:/^[1234]/i,abbreviated:/^K[1234]/i,wide:/^[1234]e kwartaal/i},b5e={any:[/1/i,/2/i,/3/i,/4/i]},w5e={narrow:/^[jfmasond]/i,abbreviated:/^(jan.|feb.|mrt.|apr.|mei|jun.|jul.|aug.|sep.|okt.|nov.|dec.)/i,wide:/^(januari|februari|maart|april|mei|juni|juli|augustus|september|oktober|november|december)/i},j5e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^jan/i,/^feb/i,/^m(r|a)/i,/^apr/i,/^mei/i,/^jun/i,/^jul/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i]},N5e={narrow:/^[zmdwv]/i,short:/^(zo|ma|di|wo|do|vr|za)/i,abbreviated:/^(zon|maa|din|woe|don|vri|zat)/i,wide:/^(zondag|maandag|dinsdag|woensdag|donderdag|vrijdag|zaterdag)/i},B5e={narrow:[/^z/i,/^m/i,/^d/i,/^w/i,/^d/i,/^v/i,/^z/i],any:[/^zo/i,/^ma/i,/^di/i,/^wo/i,/^do/i,/^vr/i,/^za/i]},C5e={any:/^(am|pm|middernacht|het middaguur|'s (ochtends|middags|avonds|nachts))/i},k5e={any:{am:/^am/i,pm:/^pm/i,midnight:/^middernacht/i,noon:/^het middaguur/i,morning:/ochtend/i,afternoon:/middag/i,evening:/avond/i,night:/nacht/i}},S5e={ordinalNumber:EQ({matchPattern:g5e,parsePattern:m5e,valueCallback:function(t){return parseInt(t,10)}}),era:Si({matchPatterns:v5e,defaultMatchWidth:"wide",parsePatterns:x5e,defaultParseWidth:"any"}),quarter:Si({matchPatterns:y5e,defaultMatchWidth:"wide",parsePatterns:b5e,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Si({matchPatterns:w5e,defaultMatchWidth:"wide",parsePatterns:j5e,defaultParseWidth:"any"}),day:Si({matchPatterns:N5e,defaultMatchWidth:"wide",parsePatterns:B5e,defaultParseWidth:"any"}),dayPeriod:Si({matchPatterns:C5e,defaultMatchWidth:"any",parsePatterns:k5e,defaultParseWidth:"any"})},z0={code:"nl",formatDistance:r5e,formatLong:i5e,formatRelative:l5e,localize:p5e,match:S5e,options:{weekStartsOn:1,firstWeekContainsDate:4}};const _5e=()=>{const{hasPermission:e}=ai(),{currentUser:t}=ai(),[r,n]=$.useState("12m"),[s,i]=$.useState("all"),[o,c]=$.useState(()=>{const D=Cu(new Date,11);return ho(R0(D),"yyyy-MM-dd")}),[l,A]=$.useState(()=>ho(new Date,"yyyy-MM-dd")),[u,d]=$.useState([]),[f,h]=$.useState([]),[p,m]=$.useState([]),[x,v]=$.useState([]),[y,b]=$.useState(!0),[_,N]=$.useState(!1),[P,T]=$.useState({totalProjects:0,totalClients:0,totalDistributors:0,completedProjects:0,activeProjects:0,projectsThisMonth:0,distributorsThisMonth:0,clientsThisMonth:0});$.useEffect(()=>{j()},[]),$.useEffect(()=>{(p.length>0||x.length>0||f.length>0)&&(k(),z())},[r,s,o,l,p,x,f]);const j=async()=>{try{b(!0);const[D,S,O]=await Promise.all([$e.getProjects(),$e.getDistributors(),$e.getClients()]);m(D||[]),v(S||[]),h(O||[])}catch(D){console.error("Error loading data:",D),ge.error("Er is een fout opgetreden bij het laden van de gegevens");try{const S=JSON.parse(localStorage.getItem("projects")||"[]"),O=JSON.parse(localStorage.getItem("distributors")||"[]"),R=JSON.parse(localStorage.getItem("clients")||"[]");m(S),v(O),h(R)}catch(S){console.error("Error loading from localStorage:",S)}}finally{b(!1)}},k=()=>{let D=s==="all"?p:p.filter(q=>q.client===s);if((t==null?void 0:t.role)==="tester"){const q=D.length;D=D.filter(B=>{var H;const I=((H=B.status)==null?void 0:H.toLowerCase())==="testen";return I||console.log(`🧪 INSIGHTS TESTER FILTER: Excluding project ${B.project_number} (status: ${B.status}) from insights for tester ${t.username}`),I}),console.log(`🧪 INSIGHTS TESTER FILTER: Filtered ${q} projects down to ${D.length} for tester ${t.username}`)}t!=null&&t.assignedLocations&&t.assignedLocations.length>0&&t.assignedLocations.length<ss.length&&(D=D.filter(q=>!q.location||t.assignedLocations.includes(q.location)));let S=s==="all"?x:x.filter(q=>{const B=p.find(I=>I.id===q.project_id||I.project_number===q.projectnummer);return(B==null?void 0:B.client)===s});t!=null&&t.assignedLocations&&t.assignedLocations.length>0&&t.assignedLocations.length<ss.length&&(S=S.filter(q=>{const B=p.find(I=>I.id===q.project_id||I.project_number===q.projectnummer);return!(B!=null&&B.location)||t.assignedLocations.includes(B.location)}));const O=$0(o),R=$0(l),W=[];let M=O;for(;M<=R;){const q=R0(M),B=QNe(M),I=D.filter(J=>{const ie=new Date(J.created_at||J.date);return ie>=q&&ie<=B}).length,H=f.filter(J=>{const ie=new Date(J.created_at);return ie>=q&&ie<=B}).length,G=S.filter(J=>{const ie=new Date(J.created_at);return ie>=q&&ie<=B}).length;W.push({month:ho(M,"MMM yyyy",{locale:z0}),monthShort:ho(M,"MMM",{locale:z0}),projects:I,clients:H,distributors:G,total:I+H+G}),M=Cu(M,-1)}d(W)},z=()=>{const S=R0(new Date),O=p.filter(B=>{var I,H;return((I=B.status)==null?void 0:I.toLowerCase())==="opgeleverd"||((H=B.status)==null?void 0:H.toLowerCase())==="completed"}).length,R=p.filter(B=>B.status&&!["opgeleverd","completed","verloren","cancelled"].includes(B.status.toLowerCase())).length,W=p.filter(B=>new Date(B.created_at||B.date)>=S).length,M=x.filter(B=>new Date(B.created_at)>=S).length,q=f.filter(B=>new Date(B.created_at)>=S).length;T({totalProjects:p.length,totalClients:f.length,totalDistributors:x.length,completedProjects:O,activeProjects:R,projectsThisMonth:W,distributorsThisMonth:M,clientsThisMonth:q})},E=D=>{const S=new Date;let O;switch(D){case"this_month":O=R0(S);break;case"this_quarter":O=Cu(S,3);break;case"this_year":O=Cu(S,11);break;case"6m":O=Cu(S,5);break;default:O=Cu(S,11)}c(ho(O,"yyyy-MM-dd")),A(ho(S,"yyyy-MM-dd")),n(D)},C=async()=>{if(!e("insights","export")){ge.error("Je hebt geen toestemming om rapporten te exporteren");return}try{N(!0),ge("Rapport wordt gegenereerd...");const D=new it("p","mm","a4"),S=D.internal.pageSize.getWidth(),O=D.internal.pageSize.getHeight();let R=20;D.setFontSize(20),D.setTextColor(37,99,235),D.text("Business Inzichten Rapport",20,R),R+=10,D.setFontSize(12),D.setTextColor(107,114,128),D.text(`Gegenereerd op: ${new Date().toLocaleDateString("nl-NL")}`,20,R),D.text(`Periode: ${ho($0(o),"dd MMM yyyy",{locale:z0})} - ${ho($0(l),"dd MMM yyyy",{locale:z0})}`,20,R+5),R+=20,D.setFontSize(16),D.setTextColor(0,0,0),D.text("📊 Belangrijkste Cijfers",20,R),R+=15,D.setFontSize(11);const W=[{label:"Totale Projecten",value:P.totalProjects},{label:"Actieve Projecten",value:P.activeProjects},{label:"Totale Klanten",value:P.totalClients},{label:"Verdelers",value:P.totalDistributors},{label:"Projecten deze maand",value:P.projectsThisMonth},{label:"Klanten deze maand",value:P.clientsThisMonth},{label:"Verdelers deze maand",value:P.distributorsThisMonth}];W.forEach((B,I)=>{const H=20+I%2*90,G=R+Math.floor(I/2)*8;D.text(`${B.label}: ${B.value}`,H,G)}),R+=Math.ceil(W.length/2)*8+15,D.setFontSize(16),D.text("📈 Grafieken en Trends",20,R),R+=15;const M=document.querySelectorAll(".recharts-wrapper");for(let B=0;B<Math.min(M.length,3);B++){const I=M[B];try{const H=await Z5(I,{backgroundColor:"#1E2530",scale:2,logging:!1,useCORS:!0}),G=H.toDataURL("image/png"),J=S-40,ie=H.height*J/H.width;R+ie>O-20&&(D.addPage(),R=20),D.addImage(G,"PNG",20,R,J,ie),R+=ie+15}catch(H){console.error("Error capturing chart:",H)}}R+50>O-20&&(D.addPage(),R=20),D.setFontSize(16),D.text("📋 Maandelijkse Data",20,R),R+=15,D.setFontSize(10),D.setTextColor(107,114,128),D.text("Maand",20,R),D.text("Projecten",60,R),D.text("Klanten",100,R),D.text("Verdelers",140,R),R+=8,D.setTextColor(0,0,0),u.slice(-6).forEach(B=>{D.text(B.month,20,R),D.text(B.projects.toString(),60,R),D.text(B.clients.toString(),100,R),D.text(B.distributors.toString(),140,R),R+=6}),D.setFontSize(8),D.setTextColor(107,114,128),D.text("© 2025 Process Improvement B.V. - EWP Management System",20,O-10);const q=`EWP_Inzichten_Rapport_${ho(new Date,"yyyy-MM-dd")}.pdf`;D.save(q),ge.success("Rapport succesvol gegenereerd en gedownload!")}catch(D){console.error("Error generating PDF report:",D),ge.error("Er is een fout opgetreden bij het genereren van het rapport")}finally{N(!1)}},Q=()=>{const D=p.reduce((S,O)=>{const R=O.status||"Onbekend";return S[R]=(S[R]||0)+1,S},{});return Object.entries(D).map(([S,O])=>({name:S,value:O,percentage:Math.round(O/p.length*100)}))},L=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];return y?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Inzichten laden..."})]})})}):a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"📊 EWP Inzichten"}),a.jsx("p",{className:"text-gray-400",children:"Krijg inzicht in je bedrijfsprestaties en trends"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:C,disabled:_,className:`btn-primary flex items-center space-x-2 ${_?"opacity-50 cursor-not-allowed":""}`,children:_?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Genereren..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(gj,{size:20}),a.jsx("span",{children:"Rapport Genereren"})]})}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[a.jsx(fj,{size:16}),a.jsx("span",{children:"Live data"})]})]})]})}),a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(kg,{className:"text-blue-400",size:20}),a.jsx("h2",{className:"text-lg font-semibold",children:"Filters & Periode"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Snelle selectie"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Deze maand",value:"this_month"},{label:"Kwartaal",value:"this_quarter"},{label:"6 maanden",value:"6m"},{label:"Dit jaar",value:"this_year"}].map(D=>a.jsx("button",{onClick:()=>E(D.value),className:`px-3 py-2 rounded-lg text-sm transition ${r===D.value?"bg-blue-500 text-white":"bg-[#2A303C] text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:D.label},D.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Start datum"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:o,onChange:D=>c(D.target.value),className:"input-field pl-10"}),a.jsx(qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Eind datum"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:l,onChange:D=>A(D.target.value),className:"input-field pl-10"}),a.jsx(qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-3",children:"Klant filter"}),a.jsxs("select",{value:s,onChange:D=>i(D.target.value),className:"input-field",children:[a.jsx("option",{value:"all",children:"Alle klanten"}),f.map(D=>a.jsx("option",{value:D.name,children:D.name},D.id))]})]})]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[{title:"Totale Projecten",value:P.totalProjects,change:P.projectsThisMonth,changeLabel:"deze maand",icon:xa,color:"blue",gradient:"from-blue-500 to-blue-600"},{title:"Actieve Projecten",value:P.activeProjects,change:Math.round(P.activeProjects/Math.max(P.totalProjects,1)*100),changeLabel:"van totaal",icon:fj,color:"green",gradient:"from-green-500 to-green-600"},{title:"Totale Klanten",value:P.totalClients,change:P.clientsThisMonth,changeLabel:"deze maand",icon:ko,color:"purple",gradient:"from-purple-500 to-purple-600"},{title:"Verdelers",value:P.totalDistributors,change:P.distributorsThisMonth,changeLabel:"deze maand",icon:Or,color:"orange",gradient:"from-orange-500 to-orange-600"}].map((D,S)=>{const O=D.icon;return a.jsxs("div",{className:"card p-6 relative overflow-hidden",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${D.gradient} opacity-5`}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl bg-${D.color}-500/20`,children:a.jsx(O,{size:24,className:`text-${D.color}-400`})}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[D.change>0?a.jsx(q9,{size:16,className:"text-green-400"}):D.change<0?a.jsx(W9,{size:16,className:"text-red-400"}):a.jsx(l$,{size:16,className:"text-gray-400"}),a.jsx("span",{className:`${D.change>0?"text-green-400":D.change<0?"text-red-400":"text-gray-400"}`,children:D.change})]}),a.jsx("span",{className:"text-xs text-gray-400",children:D.changeLabel})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm text-gray-400 mb-1",children:D.title}),a.jsx("p",{className:"text-3xl font-bold text-white",children:D.value})]})]})]},S)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20",children:a.jsx(d$,{size:20,className:"text-blue-400"})}),a.jsx("h2",{className:"text-lg font-semibold",children:"Maandelijkse Trends"})]})}),a.jsx(Yw,{width:"100%",height:300,children:a.jsxs(PNe,{data:u,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"projectsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),a.jsxs("linearGradient",{id:"distributorsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),a.jsx(CB,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(Wd,{dataKey:"monthShort",stroke:"#9CA3AF",tick:{fill:"#9CA3AF",fontSize:12}}),a.jsx(Jd,{stroke:"#9CA3AF",tick:{fill:"#9CA3AF",fontSize:12}}),a.jsx(la,{contentStyle:{backgroundColor:"#1E2530",border:"none",borderRadius:"0.5rem",color:"#fff",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),a.jsx(Zl,{}),a.jsx(Ho,{type:"monotone",dataKey:"projects",stroke:"#3B82F6",fillOpacity:1,fill:"url(#projectsGradient)",name:"Projecten"}),a.jsx(Ho,{type:"monotone",dataKey:"distributors",stroke:"#10B981",fillOpacity:1,fill:"url(#distributorsGradient)",name:"Verdelers"})]})})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:a.jsx(c$,{size:20,className:"text-purple-400"})}),a.jsx("h2",{className:"text-lg font-semibold",children:"Project Status Verdeling"})]})}),a.jsx(Yw,{width:"100%",height:300,children:a.jsxs(FNe,{children:[a.jsx(Jo,{data:Q(),cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:D,percentage:S})=>`${D} (${S}%)`,children:Q().map((D,S)=>a.jsx(pb,{fill:L[S%L.length]},`cell-${S}`))}),a.jsx(la,{contentStyle:{backgroundColor:"#1E2530",border:"none",borderRadius:"0.5rem",color:"#fff"}})]})})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:a.jsx(J9,{size:20,className:"text-green-400"})}),a.jsx("h2",{className:"text-lg font-semibold",children:"Maandelijkse Activiteit"})]})}),a.jsx(Yw,{width:"100%",height:300,children:a.jsxs(ENe,{data:u,children:[a.jsx(CB,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(Wd,{dataKey:"monthShort",stroke:"#9CA3AF",tick:{fill:"#9CA3AF",fontSize:12}}),a.jsx(Jd,{stroke:"#9CA3AF",tick:{fill:"#9CA3AF",fontSize:12}}),a.jsx(la,{contentStyle:{backgroundColor:"#1E2530",border:"none",borderRadius:"0.5rem",color:"#fff"}}),a.jsx(Zl,{}),a.jsx(Po,{dataKey:"projects",fill:"#3B82F6",name:"Projecten",radius:[4,4,0,0]}),a.jsx(Po,{dataKey:"clients",fill:"#F59E0B",name:"Klanten",radius:[4,4,0,0]}),a.jsx(Po,{dataKey:"distributors",fill:"#10B981",name:"Verdelers",radius:[4,4,0,0]})]})})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-orange-500/20",children:a.jsx(u$,{size:20,className:"text-orange-400"})}),a.jsx("h2",{className:"text-lg font-semibold",children:"Groei Metrics"})]})}),a.jsx("div",{className:"space-y-6",children:[{label:"Project Voltooiingspercentage",value:Math.round(P.completedProjects/Math.max(P.totalProjects,1)*100),max:100,color:"bg-green-500"},{label:"Actieve Projecten",value:Math.round(P.activeProjects/Math.max(P.totalProjects,1)*100),max:100,color:"bg-blue-500"},{label:"Verdelers per Project",value:Math.round(P.totalDistributors/Math.max(P.totalProjects,1)*10)*10,max:100,color:"bg-purple-500"}].map((D,S)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:D.label}),a.jsxs("span",{className:"text-sm font-semibold text-white",children:[D.value,"%"]})]}),a.jsx("div",{className:"w-full bg-[#2A303C] rounded-full h-2",children:a.jsx("div",{className:`${D.color} h-2 rounded-full transition-all duration-500`,style:{width:`${Math.min(D.value,100)}%`}})})]},S))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-400",children:"📈 Prestatie Overzicht"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Afgeronde Projecten"}),a.jsx("span",{className:"font-semibold text-green-400",children:P.completedProjects})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Lopende Projecten"}),a.jsx("span",{className:"font-semibold text-blue-400",children:P.activeProjects})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Gemiddeld Verdelers/Project"}),a.jsx("span",{className:"font-semibold text-purple-400",children:P.totalProjects>0?(P.totalDistributors/P.totalProjects).toFixed(1):"0"})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-400",children:"🎯 Deze Maand"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Nieuwe Projecten"}),a.jsx("span",{className:"font-semibold text-blue-400",children:P.projectsThisMonth})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Nieuwe Klanten"}),a.jsx("span",{className:"font-semibold text-purple-400",children:P.clientsThisMonth})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Nieuwe Verdelers"}),a.jsx("span",{className:"font-semibold text-green-400",children:P.distributorsThisMonth})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"📊 Statistieken"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Voltooiingspercentage"}),a.jsxs("span",{className:"font-semibold text-green-400",children:[P.totalProjects>0?Math.round(P.completedProjects/P.totalProjects*100):0,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Actief Percentage"}),a.jsxs("span",{className:"font-semibold text-blue-400",children:[P.totalProjects>0?Math.round(P.activeProjects/P.totalProjects*100):0,"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Totale Entiteiten"}),a.jsx("span",{className:"font-semibold text-white",children:P.totalProjects+P.totalClients+P.totalDistributors})]})]})]})]})]})},E5e=()=>{const[e,t]=$.useState([]),[r,n]=$.useState(""),[s,i]=$.useState(null),[o,c]=$.useState("all"),[l,A]=$.useState("all"),[u,d]=$.useState("all"),[f,h]=$.useState(!1),[p,m]=$.useState(""),[x,v]=$.useState(!1);$.useEffect(()=>{y();const C=qe.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications"},()=>{y()}).subscribe();return()=>{C.unsubscribe()}},[]);const y=async()=>{try{const{data:C}=await qe.from("projects").select("project_number, client"),Q=(C==null?void 0:C.reduce((O,R)=>(O[R.project_number]=R.client,O),{}))||{},{data:L,error:D}=await qe.from("notifications").select(`
          *,
          clients (
            id,
            name,
            visit_street,
            visit_city,
            visit_postcode,
            contacts (
              first_name,
              last_name,
              email,
              phone
            )
          )
        `).order("created_at",{ascending:!1});if(D)throw D;const S=L==null?void 0:L.map(O=>({...O,client:O.clients||{name:Q[O.project_number]}}));t(S||[])}catch(C){console.error("Error loading notifications:",C),ge.error("Er is een fout opgetreden bij het laden van de meldingen")}},b=async(C,Q)=>{try{const{error:L}=await qe.from("notifications").update({status:Q,completed_at:Q==="completed"?new Date().toISOString():null,activity_log:[...(s==null?void 0:s.activity_log)||[],{id:Date.now().toString(),action:"Status gewijzigd",user_name:"Current User",created_at:new Date().toISOString(),details:`Status gewijzigd naar ${Q}`}]}).eq("id",C);if(L)throw L;ge.success("Status bijgewerkt!"),t(D=>D.map(S=>S.id===C?{...S,status:Q,completed_at:Q==="completed"?new Date().toISOString():null,activity_log:[...S.activity_log||[],{id:Date.now().toString(),action:"Status gewijzigd",user_name:"Current User",created_at:new Date().toISOString(),details:`Status gewijzigd naar ${Q}`}]}:S)),(s==null?void 0:s.id)===C&&i(D=>D?{...D,status:Q,completed_at:Q==="completed"?new Date().toISOString():null,activity_log:[...D.activity_log||[],{id:Date.now().toString(),action:"Status gewijzigd",user_name:"Current User",created_at:new Date().toISOString(),details:`Status gewijzigd naar ${Q}`}]}:null)}catch(L){console.error("Error updating status:",L),ge.error("Er is een fout opgetreden bij het bijwerken van de status")}},_=C=>{var Q;return C.type==="werkbon"||C.type==="melding_werkbon"||((Q=C.description)==null?void 0:Q.startsWith("WERKBON -"))||C.activity_log&&C.activity_log.some(L=>L.action==="Werkbon aangemaakt")},N=C=>{if(!C.activity_log)return null;const Q=C.activity_log.find(L=>L.action==="Werkbon aangemaakt"&&L.details);if(!Q||!Q.details)return null;try{return JSON.parse(Q.details).clientSignature||null}catch(L){return console.error("Error parsing werkbon data:",L),null}},P=async C=>{var Q;try{v(!0);const D=(C.activity_log||[]).find(I=>I.action==="Werkbon aangemaakt"&&I.details);if(!D||!D.details){ge.error("Geen werkbon gegevens gevonden voor deze melding");return}const S=JSON.parse(D.details),O=new it("p","mm","a4"),R=O.internal.pageSize.getWidth(),W=O.internal.pageSize.getHeight();let M=20;try{const I=new Image;I.crossOrigin="anonymous",I.onload=()=>{try{O.addImage(I,"PNG",R-50,10,40,20)}catch(H){console.warn("Could not add ewp2-logo to PDF:",H)}},I.onerror=()=>console.warn("EWP2 logo failed to load"),I.src=kL}catch(I){console.warn("EWP2 logo loading error:",I)}O.setFontSize(20),O.setTextColor(0,0,0),O.text("WERKBON",20,M),M+=15,O.setFontSize(12),O.setTextColor(100,100,100),O.text(`Gegenereerd op: ${new Date().toLocaleDateString("nl-NL")}`,20,M),M+=20,O.setFontSize(14),O.setTextColor(0,0,0),O.text("Project Informatie",20,M),M+=10,O.setFontSize(10),O.text(`Project: ${C.project_number}`,20,M),M+=5,O.text(`Verdeler: ${C.verdeler_id}`,20,M),M+=5,C.kast_naam&&(O.text(`Kastnaam: ${C.kast_naam}`,20,M),M+=5),O.text(`Monteur: ${C.worker_name}`,20,M),M+=10;let q=null;try{if(C.activity_log){const I=C.activity_log.find(H=>H.action==="Werkbon aangemaakt"&&H.details);I&&typeof I.details=="string"&&(q=JSON.parse(I.details))}}catch(I){console.error("Error parsing werkbon data:",I)}if(q){O.setFontSize(14),O.text("Werkzaamheden",20,M),M+=10,O.setFontSize(10),O.text(`Datum: ${new Date(q.date).toLocaleDateString("nl-NL")}`,20,M),M+=5,O.text(`Werktijd: ${q.startTime} - ${q.endTime} (${q.totalHours} uur)`,20,M),M+=5;const I=O.splitTextToSize(q.description||"Geen beschrijving",R-40);if(O.text(I,20,M),M+=I.length*5+10,q.materials&&q.materials.length>0&&(O.setFontSize(14),O.text("Gebruikte Materialen",20,M),M+=10,O.setFontSize(9),O.setTextColor(100,100,100),O.text("Beschrijving",20,M),O.text("Aantal",100,M),O.text("Eenheid",130,M),O.text("Prijs (EUR)",155,M),O.text("Totaal (EUR)",185,M),M+=8,O.setTextColor(0,0,0),q.materials.forEach(H=>{const G=O.splitTextToSize(H.description,75);O.text(G,20,M),O.text(H.quantity.toString(),105,M),O.text(H.unit,130,M),O.text(`€ ${H.price.toFixed(2)}`,160,M),O.text(`€ ${(H.quantity*H.price).toFixed(2)}`,190,M),M+=Math.max(G.length*4,6)}),M+=5,O.setFontSize(11),O.setTextColor(0,0,0),O.text(`Totale materiaalkosten: € ${((Q=q.totalMaterialCost)==null?void 0:Q.toFixed(2))||"0.00"}`,20,M),M+=15),q.clientSignature){M+80>W-20&&(O.addPage(),M=20),O.setFontSize(14),O.setTextColor(0,0,0),O.text("Klant Goedkeuring",20,M),M+=15,O.setFontSize(10),O.text(`Ondertekend door: ${q.clientSignature.clientName}`,20,M),M+=5,q.clientSignature.clientTitle&&(O.text(`Functie: ${q.clientSignature.clientTitle}`,20,M),M+=5),q.clientSignature.clientCompany&&(O.text(`Bedrijf: ${q.clientSignature.clientCompany}`,20,M),M+=5),O.text(`Datum: ${new Date(q.clientSignature.signedAt).toLocaleString("nl-NL")}`,20,M),M+=15;try{O.addImage(q.clientSignature.signature,"PNG",20,M,120,40),M+=55}catch(H){console.error("Error adding signature to PDF:",H),O.text("Handtekening kon niet worden toegevoegd",20,M),M+=10}}}O.setFontSize(8),O.setTextColor(100,100,100),O.text("© 2025 EWP Paneelbouw - Werkbon",20,W-10);const B=`Werkbon_${C.verdeler_id}_${new Date(S.date).toLocaleDateString("nl-NL").replace(/\//g,"-")}.pdf`;O.save(B),ge.success("Werkbon PDF gedownload!")}catch(L){console.error("Error generating werkbon PDF:",L),ge.error("Er is een fout opgetreden bij het genereren van de werkbon PDF")}finally{v(!1)}},T=async()=>{if(!(!s||!p.trim()))try{const C={id:Date.now().toString(),text:p,created_at:new Date().toISOString(),user_name:"Current User"},Q=[...s.comments||[],C],L=[...s.activity_log||[],{id:Date.now().toString(),action:"Reactie toegevoegd",user_name:"Current User",created_at:new Date().toISOString(),details:p}],{error:D}=await qe.from("notifications").update({comments:Q,activity_log:L}).eq("id",s.id);if(D)throw D;m(""),i(S=>S?{...S,comments:Q,activity_log:L}:null),ge.success("Reactie toegevoegd!")}catch(C){console.error("Error adding comment:",C),ge.error("Er is een fout opgetreden bij het toevoegen van de reactie")}},j=e.filter(C=>{var O,R;const Q=C.verdeler_id.toLowerCase().includes(r.toLowerCase())||C.project_number.toLowerCase().includes(r.toLowerCase())||C.description.toLowerCase().includes(r.toLowerCase())||((R=(O=C.client)==null?void 0:O.name)==null?void 0:R.toLowerCase().includes(r.toLowerCase()))||C.worker_name.toLowerCase().includes(r.toLowerCase()),L=o==="all"||C.status===o,D=l==="all"||C.priority===l,S=u==="all"||C.type===u;return Q&&L&&D&&S}),k=C=>{switch(C){case"completed":return"bg-green-500/20 text-green-400";case"in_progress":return"bg-blue-500/20 text-blue-400";case"rejected":return"bg-red-500/20 text-red-400";default:return"bg-yellow-500/20 text-yellow-400"}},z=C=>{switch(C){case"high":return"bg-red-500/20 text-red-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"low":return"bg-green-500/20 text-green-400";default:return"bg-gray-500/20 text-gray-400"}},E=C=>{if(C==="melding_werkbon")return a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(sw,{size:14,className:"text-blue-400"}),a.jsx(Sg,{size:14,className:"text-green-400"})]});if(_({type:C}))return a.jsx(sw,{size:16,className:"text-blue-400"});switch(C){case"maintenance":return a.jsx(CT,{size:16,className:"text-orange-400"});case"repair":return a.jsx(hj,{size:16,className:"text-red-400"});case"inspection":return a.jsx(Bo,{size:16,className:"text-blue-400"});default:return a.jsx(Mv,{size:16,className:"text-gray-400"})}};return a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx(wd,{position:"top-right"}),a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Meldingen"}),a.jsx("p",{className:"text-gray-400",children:"Beheer alle onderhouds- en servicemeldingen"})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("button",{onClick:()=>h(!f),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(kg,{size:20}),a.jsx("span",{children:"Filters"})]})})]})}),f&&a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Zoeken...",className:"input-field pl-10",value:r,onChange:C=>n(C.target.value)})]}),a.jsx("div",{children:a.jsxs("select",{className:"input-field",value:o,onChange:C=>c(C.target.value),children:[a.jsx("option",{value:"all",children:"Alle statussen"}),a.jsx("option",{value:"pending",children:"In behandeling"}),a.jsx("option",{value:"in_progress",children:"In uitvoering"}),a.jsx("option",{value:"completed",children:"Voltooid"}),a.jsx("option",{value:"rejected",children:"Afgewezen"})]})}),a.jsx("div",{children:a.jsxs("select",{className:"input-field",value:l,onChange:C=>A(C.target.value),children:[a.jsx("option",{value:"all",children:"Alle prioriteiten"}),a.jsx("option",{value:"high",children:"Hoog"}),a.jsx("option",{value:"medium",children:"Gemiddeld"}),a.jsx("option",{value:"low",children:"Laag"})]})}),a.jsx("div",{children:a.jsxs("select",{className:"input-field",value:u,onChange:C=>d(C.target.value),children:[a.jsx("option",{value:"all",children:"Alle types"}),a.jsx("option",{value:"maintenance",children:"Onderhoud"}),a.jsx("option",{value:"repair",children:"Reparatie"}),a.jsx("option",{value:"inspection",children:"Inspectie"}),a.jsx("option",{value:"werkbon",children:"Werkbon"})]})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"overflow-x-auto max-h-[70vh] overflow-y-auto pr-4",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"table-header text-left",children:"Verdeler"}),a.jsx("th",{className:"table-header text-left",children:"Project"}),a.jsx("th",{className:"table-header text-left",children:"Type"}),a.jsx("th",{className:"table-header text-left",children:"Status"}),a.jsx("th",{className:"table-header text-left",children:"Prioriteit"}),a.jsx("th",{className:"table-header text-left",children:"Monteur"}),a.jsx("th",{className:"table-header text-left",children:"Datum"}),a.jsx("th",{className:"table-header text-right",children:"Acties"})]})}),a.jsx("tbody",{children:j.map(C=>a.jsxs("tr",{className:"table-row cursor-pointer",onClick:()=>i(C),children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),a.jsx("span",{className:"font-medium text-orange-400",children:C.verdeler_id})]})}),a.jsx("td",{className:"py-4 text-gray-300",children:C.project_number}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[E(C.type),a.jsx("span",{className:"text-gray-300 capitalize",children:C.type})]})}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${k(C.status)}`,children:C.status==="pending"?"In behandeling":C.status==="in_progress"?"In uitvoering":C.status==="completed"?"Voltooid":"Afgewezen"})}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${z(C.priority)}`,children:C.priority==="high"?"Hoog":C.priority==="medium"?"Gemiddeld":"Laag"})}),a.jsx("td",{className:"py-4 text-gray-300",children:C.worker_name}),a.jsx("td",{className:"py-4 text-gray-300",children:new Date(C.created_at).toLocaleDateString("nl-NL")}),a.jsx("td",{className:"py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:Q=>{Q.stopPropagation(),i(C)},className:"p-2 bg-[#2A303C] hover:bg-blue-500/20 rounded-lg transition-colors group",title:"Details bekijken",children:a.jsx(Bo,{size:16,className:"text-gray-400 group-hover:text-blue-400"})}),_(C)&&a.jsx("button",{onClick:Q=>{Q.stopPropagation(),P(C)},disabled:x,className:"p-2 bg-[#2A303C] hover:bg-green-500/20 rounded-lg transition-colors group",title:"Download werkbon PDF",children:a.jsx(gj,{size:16,className:"text-gray-400 group-hover:text-green-400"})})]})})]},C.id))})]}),j.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mv,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Geen meldingen gevonden"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Probeer een andere zoekterm of filter"})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[E(s.type),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:s.verdeler_id}),a.jsx("p",{className:"text-gray-400",children:s.project_number})]})]}),a.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(Op,{size:20,className:"text-blue-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Status Beheer"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Status wijzigen"}),a.jsxs("select",{value:s.status,onChange:C=>b(s.id,C.target.value),className:"input-field",children:[a.jsx("option",{value:"pending",children:"In behandeling"}),a.jsx("option",{value:"in_progress",children:"In uitvoering"}),a.jsx("option",{value:"completed",children:"Voltooid"}),a.jsx("option",{value:"rejected",children:"Afgewezen"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Huidige prioriteit"}),a.jsx("span",{className:`inline-flex px-3 py-2 rounded-lg text-sm font-medium ${z(s.priority)}`,children:s.priority==="high"?"Hoog":s.priority==="medium"?"Gemiddeld":"Laag"})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(Xh,{size:20,className:"text-green-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-green-400",children:"Beschrijving"})]}),a.jsx("div",{className:"bg-[#2A303C] rounded-lg p-4",children:a.jsx("p",{className:"text-gray-300 whitespace-pre-wrap leading-relaxed",children:s.description})})]}),s.photos&&s.photos.length>0&&a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(Bo,{size:20,className:"text-purple-400"})}),a.jsxs("h3",{className:"text-lg font-semibold text-purple-400",children:["Foto's (",s.photos.length,")"]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.photos.map((C,Q)=>a.jsx("div",{className:"aspect-square bg-[#2A303C] rounded-lg overflow-hidden group cursor-pointer",children:a.jsx("img",{src:C,alt:`Foto ${Q+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onClick:()=>window.open(C,"_blank")})},Q))})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:a.jsx(Xh,{size:20,className:"text-orange-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Reacties"})]}),s.comments&&s.comments.length>0&&a.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:s.comments.map(C=>a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Rv,{size:16,className:"text-gray-400"}),a.jsx("span",{className:"font-medium text-white text-sm",children:C.user_name})]}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(C.created_at).toLocaleString("nl-NL")})]}),a.jsx("p",{className:"text-sm text-gray-300",children:C.text})]},C.id))}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("input",{type:"text",value:p,onChange:C=>m(C.target.value),placeholder:"Voeg een reactie toe...",className:"flex-1 input-field",onKeyPress:C=>C.key==="Enter"&&T()}),a.jsxs("button",{onClick:T,disabled:!p.trim(),className:"btn-primary flex items-center space-x-2",children:[a.jsx(Xh,{size:16}),a.jsx("span",{children:"Verstuur"})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(xa,{size:20,className:"text-blue-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Project Info"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700",children:[a.jsx("span",{className:"text-gray-400",children:"Project:"}),a.jsx("span",{className:"font-medium text-white",children:s.project_number})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700",children:[a.jsx("span",{className:"text-gray-400",children:"Verdeler:"}),a.jsx("span",{className:"font-medium text-white",children:s.verdeler_id})]}),s.kast_naam&&a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700",children:[a.jsx("span",{className:"text-gray-400",children:"Kastnaam:"}),a.jsx("span",{className:"font-medium text-white",children:s.kast_naam})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700",children:[a.jsx("span",{className:"text-gray-400",children:"Monteur:"}),a.jsx("span",{className:"font-medium text-white",children:s.worker_name})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-gray-400",children:"Type:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[E(s.type),a.jsx("span",{className:"font-medium text-white capitalize",children:s.type})]})]})]})]}),s.client&&a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(Rv,{size:20,className:"text-purple-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-purple-400",children:"Klant Info"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700",children:[a.jsx("span",{className:"text-gray-400",children:"Bedrijf:"}),a.jsx("span",{className:"font-medium text-white",children:s.client.name})]}),s.client.visit_street&&a.jsxs("div",{className:"py-2 border-b border-gray-700",children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Adres:"}),a.jsxs("div",{className:"text-white text-sm",children:[a.jsx("div",{children:s.client.visit_street}),a.jsxs("div",{children:[s.client.visit_postcode," ",s.client.visit_city]})]})]}),s.client.contacts&&s.client.contacts.length>0&&a.jsxs("div",{className:"py-2",children:[a.jsx("span",{className:"text-gray-400 block mb-2",children:"Contactpersonen:"}),a.jsx("div",{className:"space-y-2",children:s.client.contacts.map((C,Q)=>a.jsxs("div",{className:"bg-[#2A303C] p-3 rounded-lg",children:[a.jsxs("div",{className:"font-medium text-white text-sm",children:[C.first_name," ",C.last_name]}),C.email&&a.jsxs("div",{className:"flex items-center text-xs text-gray-400 mt-1",children:[a.jsx(Jl,{size:12,className:"mr-1"}),C.email]}),C.phone&&a.jsxs("div",{className:"flex items-center text-xs text-gray-400 mt-1",children:[a.jsx(Yh,{size:12,className:"mr-1"}),C.phone]})]},Q))})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-gray-500/20 rounded-lg",children:a.jsx(qn,{size:20,className:"text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-400",children:"Tijdlijn"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700",children:[a.jsx("span",{className:"text-gray-400",children:"Aangemaakt:"}),a.jsx("span",{className:"text-white text-sm",children:new Date(s.created_at).toLocaleString("nl-NL")})]}),s.completed_at&&a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-gray-400",children:"Voltooid:"}),a.jsx("span",{className:"text-white text-sm",children:new Date(s.completed_at).toLocaleString("nl-NL")})]})]})]})]})]}),_(s)&&a.jsxs("div",{className:"card p-6 mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(sw,{size:20,className:"text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"Werkbon"}),a.jsx("p",{className:"text-sm text-gray-400",children:N(s)?"Ondertekend door klant":"Nog niet ondertekend"})]})]}),a.jsxs("button",{onClick:()=>P(s),disabled:x,className:`btn-primary flex items-center space-x-2 ${x?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(gj,{size:16}),a.jsx("span",{children:x?"Genereren...":"Download PDF"})]})]}),N(s)&&a.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[a.jsx(Ti,{size:16}),a.jsxs("span",{className:"text-sm",children:["Ondertekend door: ",N(s).clientName]})]})})]}),s.activity_log&&s.activity_log.length>0&&a.jsxs("div",{className:"card p-6 mt-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(Fn,{size:20,className:"text-yellow-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Activiteiten Log"})]}),a.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:s.activity_log.map(C=>a.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-[#2A303C] rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-white",children:C.action}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(C.created_at).toLocaleString("nl-NL")})]}),a.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:["Door: ",C.user_name]}),C.details&&a.jsx("p",{className:"text-sm text-gray-300 bg-[#1E2530] p-2 rounded mt-2",children:C.details})]})]},C.id))})]})]})})]})},F5e=({onSignatureComplete:e,onCancel:t,disabled:r=!1})=>{const n=$.useRef(null),[s,i]=$.useState(!1),[o,c]=$.useState(!1);$.useEffect(()=>{const h=n.current;if(!h)return;const p=h.getContext("2d");p&&(h.width=600,h.height=200,p.strokeStyle="#000000",p.lineWidth=2,p.lineCap="round",p.lineJoin="round",p.fillStyle="#FFFFFF",p.fillRect(0,0,h.width,h.height),p.strokeStyle="#CCCCCC",p.lineWidth=1,p.beginPath(),p.moveTo(50,160),p.lineTo(550,160),p.stroke(),p.fillStyle="#666666",p.font="12px Arial",p.fillText("Handtekening klant",50,180),p.fillText("Datum: "+new Date().toLocaleDateString("nl-NL"),450,180),p.strokeStyle="#000000",p.lineWidth=2)},[]);const l=h=>{if(r)return;i(!0),c(!0);const p=n.current;if(!p)return;const m=p.getContext("2d");if(!m)return;const x=p.getBoundingClientRect(),v="touches"in h?h.touches[0].clientX-x.left:h.clientX-x.left,y="touches"in h?h.touches[0].clientY-x.top:h.clientY-x.top;m.beginPath(),m.moveTo(v,y)},A=h=>{if(!s||r)return;const p=n.current;if(!p)return;const m=p.getContext("2d");if(!m)return;const x=p.getBoundingClientRect(),v="touches"in h?h.touches[0].clientX-x.left:h.clientX-x.left,y="touches"in h?h.touches[0].clientY-x.top:h.clientY-x.top;m.lineTo(v,y),m.stroke()},u=()=>{i(!1)},d=()=>{const h=n.current;if(!h)return;const p=h.getContext("2d");p&&(p.fillStyle="#FFFFFF",p.fillRect(0,0,h.width,h.height),p.strokeStyle="#CCCCCC",p.lineWidth=1,p.beginPath(),p.moveTo(50,160),p.lineTo(550,160),p.stroke(),p.fillStyle="#666666",p.font="12px Arial",p.fillText("Handtekening klant",50,180),p.fillText("Datum: "+new Date().toLocaleDateString("nl-NL"),450,180),p.strokeStyle="#000000",p.lineWidth=2,c(!1))},f=()=>{const h=n.current;if(!h||!o)return;const p=h.toDataURL("image/png");e(p)};return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-300",children:a.jsx("canvas",{ref:n,className:`border border-gray-300 rounded cursor-crosshair ${r?"opacity-50 cursor-not-allowed":""}`,onMouseDown:l,onMouseMove:A,onMouseUp:u,onMouseLeave:u,onTouchStart:l,onTouchMove:A,onTouchEnd:u,style:{width:"100%",height:"200px",touchAction:"none"}})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center space-x-2",disabled:r,children:[a.jsx(A$,{size:16}),a.jsx("span",{children:"Wissen"})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary",children:"Annuleren"}),a.jsxs("button",{type:"button",onClick:f,className:`btn-primary flex items-center space-x-2 ${!o||r?"opacity-50 cursor-not-allowed":""}`,disabled:!o||r,children:[a.jsx(Ti,{size:16}),a.jsx("span",{children:"Handtekening opslaan"})]})]})]}),a.jsx("div",{className:"text-xs text-gray-400 text-center",children:"💡 Teken uw handtekening in het witte vlak hierboven"})]})},P5e=()=>{const[e]=yT(),[t,r]=$.useState(!1),[n,s]=$.useState(""),[i,o]=$.useState(!1),[c,l]=$.useState(!1),[A,u]=$.useState("melding"),[d,f]=$.useState(!1),[h,p]=$.useState(null),[m,x]=$.useState({clientName:"",clientTitle:"",clientCompany:""}),[v,y]=$.useState({type:"maintenance",description:"",worker_name:"",photos:[]}),[b,_]=$.useState({date:new Date().toISOString().split("T")[0],startTime:"",endTime:"",totalHours:0,description:"",materials:[],photos:[]}),[N,P]=$.useState(!1),T=e.get("verdeler_id"),j=e.get("project_number"),k=e.get("kast_naam");if(console.log("🔍 MAINTENANCE URL PARAMS:",{verdeler_id:T,project_number:j,kast_naam:k,fullURL:window.location.href,searchParams:Object.fromEntries(e.entries())}),!T||!j)return a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsx("p",{className:"text-center text-gray-400",children:"Ongeldige verdeler informatie"})})});const z=async I=>{if(I.preventDefault(),!n.trim()){ge.error("Voer een toegangscode in!");return}try{l(!0);const H=n.trim().toUpperCase();console.log("🔍 MAINTENANCE: Validating passcode:",H),console.log("🔍 MAINTENANCE: For verdeler_id:",T),console.log("🔍 MAINTENANCE: URL search params:",Object.fromEntries(e.entries()));const G=await $e.validateAccessCode(H,T||void 0);console.log("🔍 MAINTENANCE: Validation result:",G),G.valid?(r(!0),ge.success("Toegangscode gevalideerd!")):(console.log("❌ MAINTENANCE: Validation failed:",G.reason),ge.error(G.reason||"Ongeldige toegangscode!"),s(""))}catch(H){console.error("Error validating passcode:",H),ge.error("Er is een fout opgetreden bij het valideren van de toegangscode"),s("")}finally{l(!1)}},E=I=>{if(I.target.files&&I.target.files[0]){const H=I.target.files[0];if(H.size>5*1024*1024){ge.error("Foto is te groot. Maximum grootte is 5MB");return}const G=new FileReader;G.onloadend=()=>{try{const J=G.result;if(typeof J=="string"&&J.startsWith("data:image/"))y(ie=>({...ie,photos:[...ie.photos,J]}));else throw new Error("Invalid image format")}catch(J){console.error("Error processing photo:",J),ge.error("Er is een fout opgetreden bij het verwerken van de foto")}},G.onerror=()=>{ge.error("Er is een fout opgetreden bij het laden van de foto")},G.readAsDataURL(H)}},C=I=>{y(H=>({...H,photos:H.photos.filter((G,J)=>J!==I)}))},Q=()=>{if(b.startTime&&b.endTime){const I=new Date(`2000-01-01T${b.startTime}`),G=new Date(`2000-01-01T${b.endTime}`).getTime()-I.getTime(),J=Math.max(0,G/(1e3*60*60));_(ie=>({...ie,totalHours:Math.round(J*100)/100}))}},L=()=>{const I={id:Date.now().toString(),description:"",quantity:1,unit:"stuks",price:0};_(H=>({...H,materials:[...H.materials,I]}))},D=I=>{_(H=>({...H,materials:H.materials.filter(G=>G.id!==I)}))},S=(I,H,G)=>{_(J=>({...J,materials:J.materials.map(ie=>ie.id===I?{...ie,[H]:G}:ie)}))},O=I=>{if(I.target.files&&I.target.files[0]){const H=I.target.files[0];if(H.size>5*1024*1024){ge.error("Foto is te groot. Maximum grootte is 5MB");return}const G=new FileReader;G.onloadend=()=>{try{const J=G.result;if(typeof J=="string"&&J.startsWith("data:image/"))_(ie=>({...ie,photos:[...ie.photos,J]}));else throw new Error("Invalid image format")}catch(J){console.error("Error processing photo:",J),ge.error("Er is een fout opgetreden bij het verwerken van de foto")}},G.onerror=()=>{ge.error("Er is een fout opgetreden bij het laden van de foto")},G.readAsDataURL(H)}},R=I=>{_(H=>({...H,photos:H.photos.filter((G,J)=>J!==I)}))},W=()=>b.materials.reduce((I,H)=>I+H.quantity*H.price,0),M=I=>{if(!m.clientName.trim()){ge.error("Vul de naam van de klant in voordat je ondertekent!");return}const H={signature:I,clientName:m.clientName,clientTitle:m.clientTitle,clientCompany:m.clientCompany,signedAt:new Date().toISOString()};p(H),f(!1),ge.success("Handtekening succesvol opgeslagen!")},q=()=>{p(null),x({clientName:"",clientTitle:"",clientCompany:""}),ge.success("Handtekening gewist")},B=async I=>{if(I.preventDefault(),!i){if(A==="melding"&&!v.description.trim()){ge.error("Vul een beschrijving in!");return}if(!v.worker_name.trim()){ge.error("Vul de naam van de monteur in!");return}if(A==="werkbon"||A==="both"){if(!b.startTime||!b.endTime||!b.description.trim()){ge.error("Vul alle verplichte velden in voor de werkbon!");return}if(b.totalHours<=0){ge.error("Controleer de start- en eindtijd!");return}}if(A==="both"&&!v.description.trim()){ge.error("Vul een beschrijving in voor de melding!");return}if((A==="werkbon"||A==="both")&&!h){ge.error("Klant handtekening is vereist voor werkbonnen!");return}try{o(!0);const H=[];if(A==="both"){const Ae={verdeler_id:T,project_number:j,kast_naam:k,type:"melding_werkbon",status:"pending",description:`${v.description.trim()}

--- WERKBON DETAILS ---
Werktijden: ${b.startTime} - ${b.endTime} (${b.totalHours} uur)
Beschrijving: ${b.description.trim()}

Materiaal gebruikt:
${b.materials.map(se=>`- ${se.description}: ${se.quantity} ${se.unit} à €${se.price.toFixed(2)} = €${(se.quantity*se.price).toFixed(2)}`).join(`
`)}

Totale materiaalkosten: €${W().toFixed(2)}`,worker_name:v.worker_name.trim(),photos:[...v.photos,...b.photos],priority:"medium",read:!1,activity_log:[{id:Date.now().toString(),action:"Melding aangemaakt",user_name:v.worker_name.trim(),created_at:new Date().toISOString(),details:`Type: ${v.type}`},{id:(Date.now()+1).toString(),action:"Werkbon aangemaakt",user_name:v.worker_name.trim(),created_at:new Date().toISOString(),details:JSON.stringify({date:b.date,startTime:b.startTime,endTime:b.endTime,totalHours:b.totalHours,materials:b.materials,totalMaterialCost:W(),description:b.description,clientSignature:h})},...h?[{id:(Date.now()+2).toString(),action:"Klant handtekening",user_name:h.clientName,created_at:h.signedAt,details:`Ondertekend door: ${h.clientName}${h.clientTitle?` (${h.clientTitle})`:""}${h.clientCompany?` - ${h.clientCompany}`:""}`}]:[]]};H.push(Ae)}else if(A==="melding"){const Ae={verdeler_id:T,project_number:j,kast_naam:k,type:v.type,status:"pending",description:v.description.trim(),worker_name:v.worker_name.trim(),photos:v.photos,priority:"medium",read:!1,activity_log:[{id:Date.now().toString(),action:"Melding aangemaakt",user_name:v.worker_name.trim(),created_at:new Date().toISOString(),details:`Type: ${v.type}`}]};H.push(Ae)}else if(A==="werkbon"){const Ae={verdeler_id:T,project_number:j,kast_naam:k,type:"werkbon",status:"pending",description:`WERKBON - ${b.description.trim()}

Werktijden: ${b.startTime} - ${b.endTime} (${b.totalHours} uur)

Materiaal gebruikt:
${b.materials.map(se=>`- ${se.description}: ${se.quantity} ${se.unit} à €${se.price.toFixed(2)} = €${(se.quantity*se.price).toFixed(2)}`).join(`
`)}

Totale materiaalkosten: €${W().toFixed(2)}`,worker_name:v.worker_name.trim(),photos:b.photos,priority:"medium",read:!1,activity_log:[{id:Date.now().toString(),action:"Werkbon aangemaakt",user_name:v.worker_name.trim(),created_at:new Date().toISOString(),details:JSON.stringify({date:b.date,startTime:b.startTime,endTime:b.endTime,totalHours:b.totalHours,materials:b.materials,totalMaterialCost:W(),clientSignature:h})},...h?[{id:(Date.now()+1).toString(),action:"Klant handtekening",user_name:h.clientName,created_at:h.signedAt,details:`Ondertekend door: ${h.clientName}${h.clientTitle?` (${h.clientTitle})`:""}${h.clientCompany?` - ${h.clientCompany}`:""}`}]:[]]};H.push(Ae)}const{data:G,error:J}=await qe.from("notifications").insert(H).select();if(J)throw console.error("Supabase error:",J),J;const ie=A==="werkbon"?"Je werkbon is succesvol verstuurd!":A==="both"?"Je melding en werkbon zijn succesvol verstuurd!":"Je melding is succesvol verstuurd!";ge.success(ie),P(!0),y({type:"maintenance",description:"",worker_name:"",photos:[]}),_({date:new Date().toISOString().split("T")[0],startTime:"",endTime:"",totalHours:0,description:"",materials:[],photos:[]}),p(null),x({clientName:"",clientTitle:"",clientCompany:""}),setTimeout(()=>{window.close()},3e3)}catch(H){console.error("Error saving notification:",H),ge.error("Er is een fout opgetreden bij het opslaan van de melding.")}finally{o(!1)}}};return N?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs("div",{className:"card p-6 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-green-400",children:A==="werkbon"?"Je werkbon is succesvol verstuurd!":"Je melding is succesvol verstuurd!"}),a.jsx("p",{className:"text-gray-400",children:"Dit venster zal automatisch sluiten..."})]})}):t?a.jsxs("div",{className:"min-h-screen p-4 md:p-8",children:[a.jsx(wd,{position:"top-right"}),a.jsxs("div",{className:"card p-6 max-w-2xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-semibold mb-6",children:A==="werkbon"?"Nieuwe werkbon":"Nieuwe onderhoudsmelding"}),a.jsxs("div",{className:"mb-6 p-4 bg-[#2A303C] rounded-lg",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Verdeler informatie"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Verdeler ID"}),a.jsx("p",{className:"font-medium",children:T})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Project"}),a.jsx("p",{className:"font-medium",children:j})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Kastnaam"}),a.jsx("p",{className:"font-medium",children:k||"-"})]})]})]}),a.jsxs("div",{className:"mb-6 p-4 bg-[#2A303C] rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Type rapport"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("button",{type:"button",onClick:()=>u("melding"),className:`p-4 rounded-lg border-2 transition-all ${A==="melding"?"border-blue-500 bg-blue-500/20 text-blue-400":"border-gray-600 bg-[#1E2530] text-gray-400 hover:border-gray-500"}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg",children:a.jsx(_h,{size:24,className:"text-red-400"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Melding"}),a.jsx("p",{className:"text-xs opacity-75",children:"Onderhoud, reparatie of inspectie"})]})]})}),a.jsx("button",{type:"button",onClick:()=>u("werkbon"),className:`p-4 rounded-lg border-2 transition-all ${A==="werkbon"?"border-green-500 bg-green-500/20 text-green-400":"border-gray-600 bg-[#1E2530] text-gray-400 hover:border-gray-500"}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(Fn,{size:24,className:"text-green-400"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Werkbon"}),a.jsx("p",{className:"text-xs opacity-75",children:"Uren en materiaal registratie"})]})]})}),a.jsx("button",{type:"button",onClick:()=>u("both"),className:`p-4 rounded-lg border-2 transition-all ${A==="both"?"border-purple-500 bg-purple-500/20 text-purple-400":"border-gray-600 bg-[#1E2530] text-gray-400 hover:border-gray-500"}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(_h,{size:20,className:"text-purple-400"}),a.jsx(Fn,{size:20,className:"text-purple-400"})]})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Melding + Werkbon"}),a.jsx("p",{className:"text-xs opacity-75",children:"Beide registreren"})]})]})})]})]}),a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Naam monteur"}),a.jsx("input",{type:"text",value:v.worker_name,onChange:I=>y({...v,worker_name:I.target.value}),className:"input-field",required:!0,placeholder:"Voer je naam in"})]}),(A==="melding"||A==="both")&&a.jsxs(a.Fragment,{children:[A==="both"&&a.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:"Melding Gegevens"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Registreer het type melding en beschrijving"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Type melding"}),a.jsxs("select",{value:v.type,onChange:I=>y({...v,type:I.target.value}),className:"input-field",required:!0,children:[a.jsx("option",{value:"maintenance",children:"Onderhoud"}),a.jsx("option",{value:"repair",children:"Reparatie"}),a.jsx("option",{value:"inspection",children:"Inspectie"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Beschrijving"}),a.jsx("textarea",{value:v.description,onChange:I=>y({...v,description:I.target.value}),className:"input-field h-32",required:!0,placeholder:"Beschrijf de uitgevoerde werkzaamheden of het probleem"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Foto's"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",id:"photo-upload"}),a.jsxs("label",{htmlFor:"photo-upload",className:"btn-secondary flex items-center space-x-2 cursor-pointer",children:[a.jsx(_h,{size:20}),a.jsx("span",{children:"Foto toevoegen"})]}),a.jsx("span",{className:"text-sm text-gray-400",children:"(Max. 5MB per foto)"})]}),v.photos.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:v.photos.map((I,H)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:I,alt:`Uploaded ${H+1}`,className:"w-full h-32 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>C(H),className:"absolute top-2 right-2 p-1 bg-red-500 rounded-full text-white hover:bg-red-600",children:a.jsx(gt,{size:16})})]},H))})]})]})]}),(A==="werkbon"||A==="both")&&a.jsxs(a.Fragment,{children:[A==="both"&&a.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-2",children:"Werkbon Gegevens"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Registreer werktijden, materialen en kosten"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Datum"}),a.jsx("input",{type:"date",value:b.date,onChange:I=>_({...b,date:I.target.value}),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Start tijd"}),a.jsx("input",{type:"time",value:b.startTime,onChange:I=>{_({...b,startTime:I.target.value}),setTimeout(Q,100)},className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Eind tijd"}),a.jsx("input",{type:"time",value:b.endTime,onChange:I=>{_({...b,endTime:I.target.value}),setTimeout(Q,100)},className:"input-field",required:!0})]})]}),a.jsxs("div",{className:"bg-[#2A303C] p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Y9,{size:20,className:"text-blue-400"}),a.jsx("span",{className:"font-medium text-blue-400",children:"Totale werktijd"})]}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:[b.totalHours," uur"]}),a.jsx("p",{className:"text-sm text-gray-400",children:"Automatisch berekend op basis van start- en eindtijd"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Beschrijving werkzaamheden"}),a.jsx("textarea",{value:b.description,onChange:I=>_({...b,description:I.target.value}),className:"input-field h-32",required:!0,placeholder:"Beschrijf de uitgevoerde werkzaamheden in detail..."})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-400",children:"Gebruikte materialen"}),a.jsxs("button",{type:"button",onClick:L,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(Ss,{size:16}),a.jsx("span",{children:"Materiaal toevoegen"})]})]}),b.materials.length>0&&a.jsxs("div",{className:"space-y-4",children:[b.materials.map((I,H)=>a.jsxs("div",{className:"bg-[#1E2530] p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"font-medium text-gray-300",children:["Materiaal ",H+1]}),a.jsx("button",{type:"button",onClick:()=>D(I.id),className:"text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Zr,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Beschrijving"}),a.jsx("input",{type:"text",value:I.description,onChange:G=>S(I.id,"description",G.target.value),className:"input-field text-sm",placeholder:"Bijv. Kabel 3x2.5mm²",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Aantal"}),a.jsx("input",{type:"number",value:I.quantity,onChange:G=>S(I.id,"quantity",parseFloat(G.target.value)||0),className:"input-field text-sm",min:"0",step:"0.1",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Eenheid"}),a.jsxs("select",{value:I.unit,onChange:G=>S(I.id,"unit",G.target.value),className:"input-field text-sm",children:[a.jsx("option",{value:"stuks",children:"Stuks"}),a.jsx("option",{value:"meter",children:"Meter"}),a.jsx("option",{value:"kg",children:"Kilogram"}),a.jsx("option",{value:"liter",children:"Liter"}),a.jsx("option",{value:"uur",children:"Uur"}),a.jsx("option",{value:"set",children:"Set"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Prijs per eenheid (€)"}),a.jsx("input",{type:"number",value:I.price,onChange:G=>S(I.id,"price",parseFloat(G.target.value)||0),className:"input-field text-sm",min:"0",step:"0.01",placeholder:"0.00"})]}),a.jsx("div",{className:"md:col-span-4",children:a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Subtotaal:"}),a.jsxs("span",{className:"font-medium text-white",children:["€",(I.quantity*I.price).toFixed(2)]})]})})]})]},I.id)),a.jsx("div",{className:"bg-green-500/10 border border-green-500/20 p-4 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-green-400",children:"Totale materiaalkosten:"}),a.jsxs("span",{className:"text-xl font-bold text-green-400",children:["€",W().toFixed(2)]})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Foto's van uitgevoerde werkzaamheden"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"hidden",id:"werkbon-photo-upload"}),a.jsxs("label",{htmlFor:"werkbon-photo-upload",className:"btn-secondary flex items-center space-x-2 cursor-pointer",children:[a.jsx(_h,{size:20}),a.jsx("span",{children:"Foto toevoegen"})]}),a.jsx("span",{className:"text-sm text-gray-400",children:"(Max. 5MB per foto)"})]}),b.photos.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:b.photos.map((I,H)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:I,alt:`Werkbon foto ${H+1}`,className:"w-full h-32 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>R(H),className:"absolute top-2 right-2 p-1 bg-red-500 rounded-full text-white hover:bg-red-600",children:a.jsx(gt,{size:16})})]},H))})]})]}),(A==="werkbon"||A==="both")&&a.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(tS,{size:20,className:"text-green-400"}),a.jsx("h3",{className:"text-lg font-semibold text-green-400",children:"Klant Handtekening"}),a.jsx("span",{className:"text-red-400 text-sm",children:"*Vereist voor werkbon"})]}),h&&a.jsxs("button",{type:"button",onClick:q,className:"btn-secondary flex items-center space-x-2 bg-red-500/20 hover:bg-red-500/30 text-red-400",children:[a.jsx(gt,{size:16}),a.jsx("span",{children:"Wis handtekening"})]})]}),h?a.jsxs("div",{className:"bg-[#1E2530] rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Ti,{size:20,className:"text-green-400"}),a.jsx("h4",{className:"font-medium text-green-400",children:"Werkbon ondertekend"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Ondertekend door:"}),a.jsx("span",{className:"text-white font-medium ml-2",children:h.clientName})]}),h.clientTitle&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Functie:"}),a.jsx("span",{className:"text-white ml-2",children:h.clientTitle})]}),h.clientCompany&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Bedrijf:"}),a.jsx("span",{className:"text-white ml-2",children:h.clientCompany})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Datum & tijd:"}),a.jsx("span",{className:"text-white ml-2",children:new Date(h.signedAt).toLocaleString("nl-NL")})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Handtekening"}),a.jsx("div",{className:"bg-white rounded-lg p-2 border-2 border-green-500/30",children:a.jsx("img",{src:h.signature,alt:"Klant handtekening",className:"w-full h-24 object-contain"})})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Naam klant ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",className:"input-field",value:m.clientName,onChange:I=>x({...m,clientName:I.target.value}),placeholder:"Volledige naam",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Functie"}),a.jsx("input",{type:"text",className:"input-field",value:m.clientTitle,onChange:I=>x({...m,clientTitle:I.target.value}),placeholder:"Bijv. Technisch Manager"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Bedrijf"}),a.jsx("input",{type:"text",className:"input-field",value:m.clientCompany,onChange:I=>x({...m,clientCompany:I.target.value}),placeholder:"Bedrijfsnaam"})]})]}),a.jsxs("button",{type:"button",onClick:()=>f(!0),className:"btn-primary flex items-center space-x-2",disabled:!m.clientName.trim(),children:[a.jsx(tS,{size:20}),a.jsx("span",{children:"Ondertekenen"})]})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-4",children:a.jsx("button",{type:"submit",className:`btn-primary ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:i?"Bezig met verzenden...":A==="werkbon"?"Werkbon indienen":A==="both"?"Melding + Werkbon indienen":"Melding toevoegen"})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-2xl w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-green-400",children:"Klant Handtekening"}),a.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"bg-[#2A303C] rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium text-white mb-2",children:"Werkbon Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Verdeler:"}),a.jsx("span",{className:"text-white ml-2",children:T})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Project:"}),a.jsx("span",{className:"text-white ml-2",children:j})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Monteur:"}),a.jsx("span",{className:"text-white ml-2",children:v.worker_name})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Datum:"}),a.jsx("span",{className:"text-white ml-2",children:new Date(b.date).toLocaleDateString("nl-NL")})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Werktijd:"}),a.jsxs("span",{className:"text-white ml-2",children:[b.totalHours," uur"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Materiaalkosten:"}),a.jsxs("span",{className:"text-white ml-2",children:["€",W().toFixed(2)]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Door te ondertekenen bevestigt u dat de werkzaamheden naar tevredenheid zijn uitgevoerd en dat u akkoord gaat met de geregistreerde uren en materialen."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Naam ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",className:"input-field",value:m.clientName,onChange:I=>x({...m,clientName:I.target.value}),placeholder:"Volledige naam",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Functie"}),a.jsx("input",{type:"text",className:"input-field",value:m.clientTitle,onChange:I=>x({...m,clientTitle:I.target.value}),placeholder:"Bijv. Technisch Manager"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Bedrijf"}),a.jsx("input",{type:"text",className:"input-field",value:m.clientCompany,onChange:I=>x({...m,clientCompany:I.target.value}),placeholder:"Bedrijfsnaam"})]})]}),a.jsx(F5e,{onSignatureComplete:M,onCancel:()=>f(!1),disabled:!m.clientName.trim()})]})]})})]})]}):a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[a.jsx(wd,{position:"top-right"}),a.jsxs("div",{className:"card p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Toegangscode vereist"}),a.jsxs("p",{className:"text-gray-400 mb-4 text-sm",children:["Voer de toegangscode in die je van EWP Paneelbouw hebt ontvangen voor verdeler ",a.jsx("strong",{children:T}),"."]}),a.jsxs("form",{onSubmit:z,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Toegangscode"}),a.jsx("input",{type:"text",className:"input-field uppercase",value:n,onChange:I=>s(I.target.value.toUpperCase()),placeholder:"Voer toegangscode in",maxLength:10,required:!0,disabled:c})]}),a.jsx("button",{type:"submit",className:`btn-primary w-full ${c?"opacity-50 cursor-not-allowed":""}`,disabled:c,children:c?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Valideren..."})]}):"Bevestigen"})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 rounded-lg",children:a.jsxs("p",{className:"text-xs text-blue-400",children:["💡 Tip: Deze toegangscode is specifiek voor verdeler ",T," en tijdelijk geldig."]})})]})]})},I5e=({verdelers:e,selectedVerdelerId:t,onSelect:r,placeholder:n="Zoek en selecteer een verdeler...",required:s=!1})=>{const[i,o]=$.useState(!1),[c,l]=$.useState(""),[A,u]=$.useState(-1),d=$.useRef(null),f=$.useRef(null),h=e.find(_=>_.id===t),p=e.filter(_=>{var P,T,j,k,z;const N=c.toLowerCase();return _.distributor_id.toLowerCase().includes(N)||((P=_.kast_naam)==null?void 0:P.toLowerCase().includes(N))||((j=(T=_.projects)==null?void 0:T.project_number)==null?void 0:j.toLowerCase().includes(N))||((z=(k=_.projects)==null?void 0:k.client)==null?void 0:z.toLowerCase().includes(N))});$.useEffect(()=>{const _=N=>{d.current&&!d.current.contains(N.target)&&(o(!1),l(""),u(-1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const m=_=>{var N;if(!i){(_.key==="Enter"||_.key==="ArrowDown")&&(_.preventDefault(),o(!0),u(0));return}switch(_.key){case"ArrowDown":_.preventDefault(),u(P=>P<p.length-1?P+1:0);break;case"ArrowUp":_.preventDefault(),u(P=>P>0?P-1:p.length-1);break;case"Enter":_.preventDefault(),A>=0&&p[A]&&x(p[A]);break;case"Escape":o(!1),l(""),u(-1),(N=f.current)==null||N.blur();break}},x=_=>{r(_.id),o(!1),l(""),u(-1)},v=()=>{r(""),l(""),o(!1)},y=_=>{const N=[_.distributor_id];return _.kast_naam&&N.push(_.kast_naam),N.join(" - ")},b=_=>{var P,T;const N=[];return(P=_.projects)!=null&&P.project_number&&N.push(`Project: ${_.projects.project_number}`),(T=_.projects)!=null&&T.client&&N.push(`Klant: ${_.projects.client}`),N.join(" • ")};return a.jsxs("div",{className:"relative",ref:d,children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`input-field cursor-pointer flex items-center justify-between ${i?"ring-2 ring-blue-500 border-transparent":""}`,onClick:()=>{o(!i),i||setTimeout(()=>{var _;return(_=f.current)==null?void 0:_.focus()},100)},children:[h?a.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[a.jsx(Or,{size:16,className:"text-green-400 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium truncate",children:y(h)}),b(h)&&a.jsx("div",{className:"text-xs text-gray-400 truncate",children:b(h)})]}),a.jsx("button",{type:"button",onClick:_=>{_.stopPropagation(),v()},className:"text-gray-400 hover:text-white flex-shrink-0",children:a.jsx(gt,{size:16})})]}):a.jsx("span",{className:"text-gray-400 flex-1",children:n}),a.jsx(Cg,{size:16,className:`text-gray-400 transition-transform flex-shrink-0 ${i?"transform rotate-180":""}`})]}),s&&!t&&a.jsx("div",{className:"absolute inset-y-0 right-8 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-red-400 text-sm",children:"*"})})]}),i&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-[#1E2530] border border-gray-700 rounded-lg shadow-lg max-h-80 overflow-hidden",children:[a.jsx("div",{className:"p-3 border-b border-gray-700",children:a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{ref:f,type:"text",className:"w-full bg-[#2A303C] text-white border border-gray-600 rounded-lg pl-10 pr-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Zoek op verdeler ID, kastnaam, project of klant...",value:c,onChange:_=>{l(_.target.value),u(-1)},onKeyDown:m})]})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:p.length===0?a.jsxs("div",{className:"p-4 text-center text-gray-400",children:[a.jsx(Or,{size:24,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Geen verdelers gevonden"}),c&&a.jsx("p",{className:"text-xs mt-1",children:"Probeer een andere zoekterm"})]}):p.map((_,N)=>a.jsx("div",{className:`p-3 cursor-pointer transition-colors border-b border-gray-700 last:border-b-0 ${N===A?"bg-blue-500/20 text-blue-400":"hover:bg-[#2A303C] text-white"}`,onClick:()=>x(_),onMouseEnter:()=>u(N),children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Or,{size:16,className:`mt-0.5 flex-shrink-0 ${N===A?"text-blue-400":"text-green-400"}`}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium truncate",children:y(_)}),b(_)&&a.jsx("div",{className:`text-xs mt-1 truncate ${N===A?"text-blue-300":"text-gray-400"}`,children:b(_)})]})]})},_.id))}),p.length>0&&a.jsx("div",{className:"p-2 border-t border-gray-700 bg-[#2A303C]",children:a.jsxs("p",{className:"text-xs text-gray-400 text-center",children:[p.length," van ",e.length," verdelers",c&&` gevonden voor "${c}"`]})})]})]})},O5e=()=>{var D;const{hasPermission:e,currentUser:t}=ai(),[r,n]=$.useState([]),[s,i]=$.useState(""),[o,c]=$.useState(!1),[l,A]=$.useState(!0),[u,d]=$.useState(!1),[f,h]=$.useState([]),[p,m]=$.useState({code:"",expiresAt:"",maxUses:"",isActive:!0,verdeler_id:"",project_number:""});$.useEffect(()=>{x()},[]);const x=async()=>{try{if(A(!0),d(!1),!await xK()){d(!0),ge.error("Kan geen verbinding maken met de database");return}await Promise.all([v(),y()])}catch(S){console.error("Error during initialization:",S),d(!0),ge.error("Er is een fout opgetreden bij het laden van de pagina")}finally{A(!1)}},v=async()=>{try{let S=await $e.getAccessCodes();if((t==null?void 0:t.role)==="tester"){const W=(await $e.getProjects()).filter(q=>{var B;return((B=q.status)==null?void 0:B.toLowerCase())==="testen"}).map(q=>q.project_number),M=(S==null?void 0:S.length)||0;S=S==null?void 0:S.filter(q=>{const B=!q.project_number,I=q.project_number&&W.includes(q.project_number),H=B||I;return H||console.log(`🧪 ACCESS_CODES TESTER FILTER: Hiding access code ${q.code} (project: ${q.project_number}) from tester ${t.username} - NOT FOR TESTING PROJECT`),H}),console.log(`🧪 ACCESS_CODES TESTER FILTER: Filtered ${M} access codes down to ${(S==null?void 0:S.length)||0} for tester ${t.username}`)}n(S||[])}catch(S){console.error("Error loading access codes:",S),S.message.includes('relation "access_codes" does not exist')?(ge.error("De toegangscodes tabel bestaat nog niet in de database. Neem contact op met de beheerder."),d(!0)):ge.error(S.message||"Er is een fout opgetreden bij het laden van de toegangscodes")}},y=async()=>{try{let S=await $e.getDistributors();if((t==null?void 0:t.role)==="tester"){const W=(await $e.getProjects()).filter(q=>{var B;return((B=q.status)==null?void 0:B.toLowerCase())==="testen"}).map(q=>q.id),M=(S==null?void 0:S.length)||0;S=S==null?void 0:S.filter(q=>{const B=W.includes(q.project_id);return B||console.log(`🧪 ACCESS_CODES VERDELERS FILTER: Hiding distributor ${q.distributor_id} from tester ${t.username} - NOT FROM TESTING PROJECT`),B}),console.log(`🧪 ACCESS_CODES VERDELERS FILTER: Filtered ${M} distributors down to ${(S==null?void 0:S.length)||0} for tester ${t.username}`)}h(S||[])}catch(S){console.error("Error loading verdelers:",S),ge.error(S.message||"Er is een fout opgetreden bij het laden van de verdelers")}},b=()=>{let S="";for(let O=0;O<5;O++)S+=Math.floor(Math.random()*10).toString();return S},_=()=>{m(S=>({...S,code:b()}))},N=S=>{const O=f.find(R=>R.id===S);m(R=>{var W;return{...R,verdeler_id:(O==null?void 0:O.distributor_id)||"",project_number:((W=O==null?void 0:O.projects)==null?void 0:W.project_number)||""}})},P=async()=>{if(!e("access_codes","create")){ge.error("Je hebt geen toestemming om toegangscodes aan te maken");return}if(!p.code||!p.expiresAt){ge.error("Vul alle verplichte velden in!");return}if(!p.verdeler_id){ge.error("Selecteer een verdeler voor deze toegangscode!");return}if(!/^\d{5}$/.test(p.code)){ge.error("Toegangscode moet precies 5 cijfers bevatten!");return}try{const S=localStorage.getItem("currentUserId"),R=JSON.parse(localStorage.getItem("users")||"[]").find(M=>M.id===S),W={code:p.code.toUpperCase(),createdBy:(R==null?void 0:R.username)||"Unknown",expiresAt:p.expiresAt,isActive:p.isActive,maxUses:p.maxUses?parseInt(p.maxUses):null,verdeler_id:p.verdeler_id,project_number:p.project_number};await $e.createAccessCode(W),await v(),c(!1),m({code:"",expiresAt:"",maxUses:"",isActive:!0,verdeler_id:"",project_number:""}),ge.success("Toegangscode succesvol aangemaakt!")}catch(S){console.error("Error creating access code:",S),ge.error("Er is een fout opgetreden bij het aanmaken van de toegangscode")}},T=async(S,O)=>{if(!e("access_codes","update")){ge.error("Je hebt geen toestemming om toegangscodes te wijzigen");return}try{const R=r.find(W=>W.id===S);if(!R)return;await $e.updateAccessCode(S,{isActive:!O,expiresAt:R.expires_at,maxUses:R.max_uses}),await v(),ge.success(`Toegangscode ${O?"gedeactiveerd":"geactiveerd"}!`)}catch(R){console.error("Error updating access code:",R),ge.error("Er is een fout opgetreden bij het bijwerken van de toegangscode")}},j=async S=>{if(!e("access_codes","delete")){ge.error("Je hebt geen toestemming om toegangscodes te verwijderen");return}if(window.confirm("Weet je zeker dat je deze toegangscode wilt verwijderen?"))try{await $e.deleteAccessCode(S),await v(),ge.success("Toegangscode verwijderd!")}catch(O){console.error("Error deleting access code:",O),ge.error("Er is een fout opgetreden bij het verwijderen van de toegangscode")}},k=async S=>{if(!e("access_codes","update")){ge.error("Je hebt geen toestemming om toegangscodes te wijzigen");return}if(window.confirm("Weet je zeker dat je deze toegangscode wilt heractiveren? De vervaldatum wordt verlengd met 30 dagen."))try{const O=r.find(W=>W.id===S);if(!O)return;const R=new Date;R.setDate(R.getDate()+30),await $e.updateAccessCode(S,{isActive:!0,expiresAt:R.toISOString(),maxUses:O.max_uses}),await v(),ge.success("Toegangscode hergeactiveerd voor 30 dagen!")}catch(O){console.error("Error reactivating access code:",O),ge.error("Er is een fout opgetreden bij het heractiveren van de toegangscode")}},z=S=>{navigator.clipboard.writeText(S),ge.success("Code gekopieerd naar klembord!")},E=S=>new Date>new Date(S),C=(S,O)=>O!==null&&S>=O,Q=r.filter(S=>{var O,R;return S.code.toLowerCase().includes(s.toLowerCase())||S.created_by.toLowerCase().includes(s.toLowerCase())||((O=S.verdeler_id)==null?void 0:O.toLowerCase().includes(s.toLowerCase()))||((R=S.project_number)==null?void 0:R.toLowerCase().includes(s.toLowerCase()))}),L=S=>{const O=f.find(R=>R.distributor_id===S);return O?`${O.distributor_id} - ${O.kast_naam||"Naamloos"}`:S||"Onbekende verdeler"};return l?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Toegangscodes laden..."})]})})}):u?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Qi,{size:48,className:"mx-auto text-red-400 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Database Configuratie Vereist"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"De toegangscodes functionaliteit vereist dat de database tabel wordt bijgewerkt."}),a.jsxs("div",{className:"bg-[#2A303C] p-4 rounded-lg text-left",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Instructies voor de beheerder:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-300",children:[a.jsx("li",{children:"Ga naar je Supabase dashboard"}),a.jsx("li",{children:"Navigeer naar de SQL Editor"}),a.jsx("li",{children:"Voer de volgende SQL uit:"})]}),a.jsx("div",{className:"mt-4 p-3 bg-[#1E2530] rounded font-mono text-sm overflow-x-auto",children:a.jsx("pre",{children:`-- Add verdeler_id and project_number columns to access_codes
ALTER TABLE access_codes ADD COLUMN IF NOT EXISTS verdeler_id text;
ALTER TABLE access_codes ADD COLUMN IF NOT EXISTS project_number text;

-- Add indexes for better query performance
CREATE INDEX IF NOT EXISTS idx_access_codes_verdeler_id ON access_codes(verdeler_id);
CREATE INDEX IF NOT EXISTS idx_access_codes_project_number ON access_codes(project_number);`})})]}),a.jsx("button",{onClick:x,className:"btn-primary mt-6",children:"Opnieuw proberen"})]})})}):a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Toegangscodes beheer"}),a.jsx("p",{className:"text-gray-400",children:"Beheer verdeler-specifieke toegangscodes voor QR-code toegang"})]}),e("access_codes","create")&&a.jsxs("button",{onClick:()=>c(!0),className:"btn-primary flex items-center space-x-2",children:[a.jsx(Ss,{size:20}),a.jsx("span",{children:"Code aanmaken"})]})]})}),o&&a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsx("h2",{className:"text-lg text-gradient mb-6",children:"Nieuwe toegangscode aanmaken"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Verdeler ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx(I5e,{verdelers:f,selectedVerdelerId:((D=f.find(S=>S.distributor_id===p.verdeler_id))==null?void 0:D.id)||"",onSelect:N,placeholder:"Zoek en selecteer een verdeler...",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Zoek op verdeler ID, kastnaam, projectnummer of klant"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Toegangscode ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",className:"input-field flex-1",value:p.code,onChange:S=>{const O=S.target.value.replace(/\D/g,"").slice(0,5);m({...p,code:O})},placeholder:"12345",maxLength:5,pattern:"\\d{5}",required:!0}),a.jsxs("button",{type:"button",onClick:_,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(_i,{size:16}),a.jsx("span",{children:"Genereer"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Precies 5 cijfers (0-9)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Vervaldatum ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"datetime-local",className:"input-field",value:p.expiresAt,onChange:S=>m({...p,expiresAt:S.target.value}),min:new Date().toISOString().slice(0,16),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Maximum aantal keer gebruiken"}),a.jsx("input",{type:"number",className:"input-field",value:p.maxUses,onChange:S=>m({...p,maxUses:S.target.value}),placeholder:"Onbeperkt (laat leeg)",min:"1"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laat leeg voor onbeperkt gebruik"})]}),a.jsx("div",{className:"flex items-center pt-6",children:a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:p.isActive,onChange:S=>m({...p,isActive:S.target.checked}),className:"form-checkbox"}),a.jsx("span",{className:"text-gray-400",children:"Direct activeren"})]})})]}),p.project_number&&a.jsxs("div",{className:"bg-[#2A303C] p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:"Project informatie"}),a.jsxs("p",{className:"text-sm text-gray-300",children:[a.jsx("strong",{children:"Project:"})," ",p.project_number]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Deze code werkt alleen voor de geselecteerde verdeler in dit project"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-700",children:[a.jsx("button",{type:"button",onClick:()=>{c(!1),m({code:"",expiresAt:"",maxUses:"",isActive:!0,verdeler_id:"",project_number:""})},className:"btn-secondary",children:"Annuleren"}),a.jsx("button",{type:"button",onClick:P,className:"btn-primary",disabled:!p.code||!p.expiresAt||!p.verdeler_id||!/^\d{5}$/.test(p.code),children:"Code aanmaken"})]})]})]}),a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Zoeken op code, maker, verdeler of project...",className:"input-field pl-10",value:s,onChange:S=>i(S.target.value)})]})}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header text-left",children:"Code"}),a.jsx("th",{className:"table-header text-left",children:"Verdeler"}),a.jsx("th",{className:"table-header text-left",children:"Project"}),a.jsx("th",{className:"table-header text-left",children:"Status"}),a.jsx("th",{className:"table-header text-left",children:"Aangemaakt door"}),a.jsx("th",{className:"table-header text-left",children:"Vervaldatum"}),a.jsx("th",{className:"table-header text-left",children:"Gebruik"}),a.jsx("th",{className:"table-header text-left",children:"Laatst gebruikt"}),a.jsx("th",{className:"table-header text-right",children:"Acties"})]})}),a.jsx("tbody",{children:Q.map(S=>{const O=E(S.expires_at),R=C(S.usage_count,S.max_uses),W=S.is_active&&!O&&!R;return a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-mono text-lg",children:S.code}),a.jsx("button",{onClick:()=>z(S.code),className:"text-gray-400 hover:text-white",title:"Kopieer code",children:a.jsx(pA,{size:16})})]})}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Or,{size:14,className:"text-green-400"}),a.jsx("span",{className:"text-sm",children:S.verdeler_id?L(S.verdeler_id):"Alle verdelers"})]})}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:"text-sm",children:S.project_number||"-"})}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[W?a.jsx(ja,{size:16,className:"text-green-400"}):a.jsx(vj,{size:16,className:"text-red-400"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${W?"bg-green-500/20 text-green-400":O?"bg-red-500/20 text-red-400":R?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:W?"Actief":O?"Verlopen":R?"Limiet bereikt":"Inactief"})]})}),a.jsx("td",{className:"py-4",children:S.created_by}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fn,{size:16,className:"text-gray-400"}),a.jsx("span",{children:new Date(S.expires_at).toLocaleString("nl-NL")})]})}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ko,{size:16,className:"text-gray-400"}),a.jsxs("span",{children:[S.usage_count,S.max_uses?`/${S.max_uses}`:""]})]})}),a.jsx("td",{className:"py-4",children:S.last_used_at?new Date(S.last_used_at).toLocaleString("nl-NL"):"-"}),a.jsxs("td",{className:"py-4 text-right space-x-2",children:[e("access_codes","update")&&a.jsx(a.Fragment,{children:(O||R)&&S.is_active?a.jsxs("button",{onClick:()=>k(S.id),className:"btn-secondary inline-flex items-center space-x-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400",children:[a.jsx(Op,{size:16}),a.jsx("span",{children:"Heractiveren"})]}):a.jsxs("button",{onClick:()=>T(S.id,S.is_active),className:`btn-secondary inline-flex items-center space-x-2 ${S.is_active?"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400":"bg-green-500/20 hover:bg-green-500/30 text-green-400"}`,disabled:O||R,children:[a.jsx(Op,{size:16}),a.jsx("span",{children:S.is_active?"Deactiveren":"Activeren"})]})}),e("access_codes","delete")&&a.jsxs("button",{onClick:()=>j(S.id),className:"btn-secondary inline-flex items-center space-x-2 bg-red-500/20 hover:bg-red-500/30 text-red-400",children:[a.jsx(Zr,{size:16}),a.jsx("span",{children:"Verwijderen"})]})]})]},S.id)})})]}),Q.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"Geen toegangscodes gevonden"})})]})]})},UB="/assets/process-logo-Dbd41H53.png",T5e=[{path:"/dashboard",icon:n$,label:"Home",module:"dashboard"},{path:"/projects",icon:qa,label:"Projecten",module:"projects"},{path:"/verdelers",icon:Or,label:"Verdelers",module:"verdelers"},{path:"/clients",icon:xa,label:"Klanten",module:"clients"},{path:"/meldingen",icon:Mv,label:"Meldingen",module:"meldingen"},{path:"/uploads",icon:Co,label:"Uploads",module:"uploads"},{path:"/gebruikers",icon:ko,label:"Gebruikers",module:"gebruikers"},{path:"/access-codes",icon:_i,label:"Toegangscodes",module:"access_codes"},{path:"/client-portals",icon:L5,label:"Klant Portals",module:"client_portals"},{path:"/insights",icon:X9,label:"Inzichten",module:"insights"}],L5e=[{path:"/account",icon:Rv,label:"Mijn account",module:"account"},{path:"/help",icon:sv,label:"Help",module:void 0}],U5e=()=>{const e=Vo(),[t,r]=$.useState(!1),[n,s]=$.useState(null),[i,o]=$.useState(!0);$.useEffect(()=>{(()=>{try{const u=localStorage.getItem("currentUserId");if(console.log("🔍 SIDEBAR: Loading user with ID:",u),!u){console.log("❌ SIDEBAR: No current user ID found"),o(!1);return}const f=JSON.parse(localStorage.getItem("users")||"[]").find(h=>h.id===u);console.log("👤 SIDEBAR: Found user:",f==null?void 0:f.username,"Role:",f==null?void 0:f.role),f?(s(f),console.log("✅ SIDEBAR: Current user set:",f.username)):console.log("❌ SIDEBAR: User not found in localStorage")}catch(u){console.error("❌ SIDEBAR: Error loading user:",u)}finally{o(!1)}})()},[]);const c=A=>{var f;if(!A)return!0;if(!n)return console.log("❌ SIDEBAR: No current user available for module access check",{userLoading:i}),!1;if(n.role==="admin")return console.log("✅ SIDEBAR: Admin user - access granted to",A),!0;const u=(f=n.permissions)==null?void 0:f[A],d=(u==null?void 0:u.read)||!1;return console.log(`🔍 SIDEBAR: Module access check for ${A}:`,d,"User:",n.username),console.log("🔍 SIDEBAR: Module permissions:",u),d};if(i)return a.jsx("div",{className:"hidden md:flex w-64 bg-[#1E2530]/80 backdrop-blur-lg border-r border-white/10 text-white h-screen fixed left-0 top-0 flex-col overflow-y-auto",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2 text-sm",children:"Laden..."})]})})});const l=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-8",children:a.jsx("img",{src:Ly,alt:"EWP Paneelbouw",className:"h-20 max-w-[250px] object-contain mx-auto"})}),a.jsx("nav",{className:"space-y-2",children:T5e.map(A=>{const u=A.icon,d=e.pathname===A.path;return c(A.module)?a.jsxs(J4,{to:A.path,className:`flex items-center space-x-3 p-3 rounded-lg transition-all ${d?"bg-gradient-to-r from-blue-600 to-blue-400 text-white shadow-lg":"text-gray-400 hover:bg-[#2A303C]/80 hover:text-white"}`,onClick:()=>r(!1),children:[a.jsx(u,{size:20}),a.jsx("span",{children:A.label})]},A.path):null})})]}),a.jsxs("div",{className:"mt-auto p-6 border-t border-white/10",children:[a.jsx("nav",{className:"space-y-2",children:L5e.map(A=>{const u=A.icon,d=e.pathname===A.path;return a.jsxs(J4,{to:A.path,className:`flex items-center space-x-3 p-3 rounded-lg transition-all ${d?"bg-gradient-to-r from-blue-600 to-blue-400 text-white shadow-lg":"text-gray-400 hover:bg-[#2A303C]/80 hover:text-white"}`,onClick:()=>r(!1),children:[a.jsx(u,{size:20}),a.jsx("span",{children:A.label})]},A.path)})}),a.jsxs("div",{className:"mt-8 pt-4 border-t border-white/10",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("img",{src:UB,alt:"Process Improvement",className:"h-8 object-contain"})}),a.jsx("p",{className:"text-center text-sm text-gray-400 mt-2",children:"Powered by Process Improvement B.V."})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"fixed top-4 right-4 z-50 p-2 bg-[#2A303C] rounded-lg md:hidden",onClick:()=>r(!t),children:t?a.jsx(gt,{size:24}):a.jsx(o$,{size:24})}),t&&a.jsx("div",{className:"mobile-nav",children:a.jsx("div",{className:"mobile-nav-content",children:a.jsx(l,{})})}),a.jsx("div",{className:"hidden md:flex w-64 bg-[#1E2530]/80 backdrop-blur-lg border-r border-white/10 text-white h-screen fixed left-0 top-0 flex-col overflow-y-auto",children:a.jsx(l,{})})]})},D5e=()=>a.jsx("div",{className:"min-h-screen bg-[#1a1a1a] flex items-center justify-center text-white",children:a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-[#4169e1]"})}),hn=({children:e,requiredPermission:t})=>{var i;const r=localStorage.getItem("loggedIn")==="true";if(!t)return r?e:a.jsx(nv,{to:"/login",replace:!0});const[n,s]=fe.useState({loading:!0,hasAccess:!1,user:null});return fe.useEffect(()=>{(async()=>{var c;if(!r){s({loading:!1,hasAccess:!1,user:null});return}try{const{useEnhancedPermissions:l}=await Mi(async()=>{const{useEnhancedPermissions:h}=await Promise.resolve().then(()=>bK);return{useEnhancedPermissions:h}},void 0),A=localStorage.getItem("currentUserId"),d=JSON.parse(localStorage.getItem("users")||"[]").find(h=>h.id===A);if(!d){s({loading:!1,hasAccess:!1,user:null});return}let f=!1;if(d.role==="admin")f=!0,console.log("🔐 ROUTE: Admin user - access granted to",t.module);else{const h=(c=d.permissions)==null?void 0:c[t.module];f=(h==null?void 0:h[t.permission])||!1,console.log("🔐 ROUTE: Permission check for",t.module,t.permission,"=",f),console.log("🔐 ROUTE: Module permissions:",h),console.log("🔐 ROUTE: User:",d.username,"Role:",d.role)}s({loading:!1,hasAccess:f,user:d})}catch(l){console.error("Error checking permissions:",l),s({loading:!1,hasAccess:!1,user:null})}})()},[r,t]),r?n.loading?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Toegangsrechten controleren..."})]})})}):n.user?n.hasAccess?e:a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("div",{className:"text-red-400 text-2xl",children:"🚫"})}),a.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Toegang Geweigerd"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Je hebt geen toegang tot deze pagina"}),a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-4",children:[a.jsxs("p",{className:"text-sm text-red-300",children:[a.jsx("strong",{children:"Vereiste permissie:"})," ",t.permission," op ",t.module]}),a.jsxs("p",{className:"text-sm text-red-300 mt-1",children:[a.jsx("strong",{children:"Jouw rol:"})," ",n.user.role]}),a.jsxs("p",{className:"text-sm text-red-300 mt-1",children:[a.jsxs("strong",{children:["Jouw ",t.module," permissies:"]})," ",JSON.stringify(((i=n.user.permissions)==null?void 0:i[t.module])||{},null,2)]})]}),a.jsx("button",{onClick:()=>window.history.back(),className:"btn-primary mt-4",children:"Terug"})]})})}):a.jsx(nv,{to:"/login",replace:!0}):a.jsx(nv,{to:"/login",replace:!0})},Q5e=()=>{const[e,t]=$.useState("contact"),[r,n]=$.useState({name:"",email:"",company:"",subject:"",message:"",priority:"medium"}),[s,i]=$.useState(!1),o=async A=>{if(A.preventDefault(),!r.name||!r.email||!r.message){ge.error("Vul alle verplichte velden in!");return}i(!0),setTimeout(()=>{ge.success("Uw bericht is verzonden! We nemen binnen 24 uur contact met u op."),n({name:"",email:"",company:"",subject:"",message:"",priority:"medium"}),i(!1)},1500)},c=[{question:"Hoe kan ik een nieuw project aanmaken?",answer:"Ga naar het dashboard en klik op 'Nieuw Project' of navigeer naar de Projecten pagina en klik op 'Project toevoegen'. Volg de stappen in de wizard om uw project in te stellen."},{question:"Hoe upload ik documenten voor een verdeler?",answer:"Ga naar de Uploads pagina, selecteer uw project en verdeler, kies de juiste map en sleep uw bestanden naar het upload gebied of klik om bestanden te selecteren."},{question:"Wat betekenen de verschillende project statussen?",answer:"Intake = Eerste fase, Offerte = Prijsopgave fase, Order = Bestelling geplaatst, Testen = Kwaliteitscontrole, Levering = Transport fase, Opgeleverd = Project voltooid."},{question:"Hoe kan ik toegangscodes genereren voor verdelers?",answer:"Ga naar Gebruikers → Toegangscodes, klik op 'Code aanmaken', selecteer de verdeler en stel de vervaldatum in. De code kan gebruikt worden voor QR-code toegang."},{question:"Kan ik rapporten exporteren?",answer:"Ja, ga naar de Inzichten pagina en klik op 'Rapport Genereren' om een PDF rapport te downloaden met alle belangrijke statistieken en grafieken."},{question:"Hoe werk ik samen met andere gebruikers?",answer:"Het systeem heeft automatische project vergrendeling. Wanneer iemand een project bewerkt, wordt dit aangegeven en kunnen anderen het niet tegelijkertijd bewerken."}],l=[{title:"Gebruikershandleiding",icon:rw,description:"Volledige handleiding voor het systeem",action:"Download PDF"},{title:"Video tutorials",icon:f$,description:"Stap-voor-stap video uitleg",action:"Bekijk videos"},{title:"API Documentatie",icon:ei,description:"Voor technische integraties",action:"Bekijk docs"},{title:"Systeem status",icon:ja,description:"Controleer systeembeschikbaarheid",action:"Status pagina"}];return a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsxs("div",{className:"card p-8 mb-8 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-5",children:[a.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),a.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),a.jsxs("div",{className:"relative flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-6 lg:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg",children:a.jsx(sv,{size:32,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-blue-300 to-blue-500 bg-clip-text text-transparent mb-2",children:"Hulp & Ondersteuning"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"We helpen u graag verder met het EWP Management Systeem"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:UB,alt:"Process Improvement B.V.",className:"h-12 object-contain"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-semibold text-white",children:"Process Improvement B.V."}),a.jsx("p",{className:"text-sm text-gray-400",children:"Uw technologie partner"})]})]})]})]}),a.jsx("div",{className:"card p-4 mb-8",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"contact",label:"Contact",icon:Yh},{id:"faq",label:"Veelgestelde vragen",icon:Xh},{id:"guides",label:"Handleidingen",icon:rw},{id:"support",label:"Technische ondersteuning",icon:sv}].map(A=>{const u=A.icon;return a.jsxs("button",{onClick:()=>t(A.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${e===A.id?"bg-gradient-to-r from-blue-600 to-blue-400 text-white shadow-lg":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:[a.jsx(u,{size:18}),a.jsx("span",{children:A.label})]},A.id)})})}),e==="contact"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6 text-blue-400",children:"Contactgegevens"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-xl",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg",children:a.jsx(xa,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-1",children:"Process Improvement B.V."}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Uw partner in digitale transformatie"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-[#2A303C] rounded-lg hover:bg-[#374151] transition-colors",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(Yh,{size:20,className:"text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:"+31 85 760 76 27"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Maandag - Vrijdag, 09:00 - 17:00"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-[#2A303C] rounded-lg hover:bg-[#374151] transition-colors",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(Jl,{size:20,className:"text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:"support@processimprovement.nl"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Voor algemene vragen en ondersteuning"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-[#2A303C] rounded-lg hover:bg-[#374151] transition-colors",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(U5,{size:20,className:"text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:"Hoofdkantoor"}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Twentehaven 2",a.jsx("br",{}),"3433 PT Nieuwegein",a.jsx("br",{}),"Nederland"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-[#2A303C] rounded-lg hover:bg-[#374151] transition-colors",children:[a.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:a.jsx(Fn,{size:20,className:"text-orange-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:"Openingstijden"}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Ma - Vr: 09:00 - 17:00",a.jsx("br",{}),"Za - Zo: Gesloten",a.jsx("br",{}),"24/7 Noodondersteuning beschikbaar"]})]})]})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-400",children:"Waarom Process Improvement?"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400 mb-1",children:"15+"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Jaar ervaring"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-xl",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:"500+"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Tevreden klanten"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/20 rounded-xl",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:"24/7"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Ondersteuning"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/20 rounded-xl",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-400 mb-1",children:"99.9%"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Uptime"})]})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6 text-blue-400",children:"Stuur ons een bericht"}),a.jsxs("form",{onSubmit:o,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Naam ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(sA,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",className:"input-field pl-10",value:r.name,onChange:A=>n({...r,name:A.target.value}),placeholder:"Uw volledige naam",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["E-mail ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Jl,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"email",className:"input-field pl-10",value:r.email,onChange:A=>n({...r,email:A.target.value}),placeholder:"uw.email@bedrijf.nl",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Bedrijf"}),a.jsxs("div",{className:"relative",children:[a.jsx(xa,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",className:"input-field pl-10",value:r.company,onChange:A=>n({...r,company:A.target.value}),placeholder:"Uw bedrijfsnaam"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Prioriteit"}),a.jsxs("select",{className:"input-field",value:r.priority,onChange:A=>n({...r,priority:A.target.value}),children:[a.jsx("option",{value:"low",children:"Laag - Algemene vraag"}),a.jsx("option",{value:"medium",children:"Gemiddeld - Ondersteuning"}),a.jsx("option",{value:"high",children:"Hoog - Urgent probleem"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Onderwerp"}),a.jsx("input",{type:"text",className:"input-field",value:r.subject,onChange:A=>n({...r,subject:A.target.value}),placeholder:"Korte beschrijving van uw vraag"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Bericht ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("textarea",{className:"input-field h-32",value:r.message,onChange:A=>n({...r,message:A.target.value}),placeholder:"Beschrijf uw vraag of probleem in detail...",required:!0})]}),a.jsx("button",{type:"submit",className:`btn-primary w-full ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:s?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Bericht verzenden..."})]}):a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(jT,{size:20}),a.jsx("span",{children:"Bericht verzenden"})]})})]})]})]}),e==="faq"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(Xh,{size:20,className:"text-green-400"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Veelgestelde vragen"})]}),a.jsx("div",{className:"space-y-4",children:c.map((A,u)=>a.jsx("div",{className:"bg-[#2A303C] rounded-lg overflow-hidden",children:a.jsxs("details",{className:"group",children:[a.jsxs("summary",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-[#374151] transition-colors",children:[a.jsx("span",{className:"font-medium text-white",children:A.question}),a.jsx(Uo,{size:20,className:"text-gray-400 group-open:rotate-90 transition-transform"})]}),a.jsx("div",{className:"p-4 pt-0 border-t border-gray-700",children:a.jsx("p",{className:"text-gray-300 leading-relaxed",children:A.answer})})]})},u))})]})}),e==="guides"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(rw,{size:20,className:"text-purple-400"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Handleidingen & Documentatie"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((A,u)=>{const d=A.icon;return a.jsx("div",{className:"group bg-gradient-to-br from-gray-500/10 to-gray-600/10 border border-gray-500/20 hover:border-gray-400/40 rounded-xl p-6 transition-all duration-300 transform hover:scale-105 hover:shadow-lg cursor-pointer",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-gray-500 to-gray-600 rounded-xl shadow-lg group-hover:shadow-gray-500/25 transition-all duration-300",children:a.jsx(d,{size:24,className:"text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-white group-hover:text-gray-300 transition-colors mb-2",children:A.title}),a.jsx("p",{className:"text-gray-400 text-sm mb-3",children:A.description}),a.jsxs("div",{className:"flex items-center space-x-2 text-blue-400 text-sm font-medium",children:[a.jsx("span",{children:A.action}),a.jsx(pj,{size:14})]})]})]})},u)})})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Snel aan de slag"}),a.jsx("div",{className:"space-y-4",children:[{step:1,title:"Maak uw eerste project aan",description:"Ga naar Dashboard → Nieuw Project en volg de wizard"},{step:2,title:"Voeg verdelers toe",description:"Configureer uw verdelers met alle technische specificaties"},{step:3,title:"Upload documenten",description:"Organiseer uw documenten per verdeler en map"},{step:4,title:"Genereer toegangscodes",description:"Maak QR-codes voor onderhoudsrapporten"},{step:5,title:"Bekijk inzichten",description:"Analyseer uw projectdata en genereer rapporten"}].map(A=>a.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-[#2A303C] rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-bold text-sm",children:A.step})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:A.title}),a.jsx("p",{className:"text-sm text-gray-400",children:A.description})]})]},A.step))})]})]}),e==="support"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg",children:a.jsx(hj,{size:20,className:"text-red-400"})}),a.jsx("h2",{className:"text-xl font-semibold",children:"Technische ondersteuning"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border border-red-500/20 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-red-500 rounded-lg",children:a.jsx(Yh,{size:20,className:"text-white"})}),a.jsx("h3",{className:"font-semibold text-red-400",children:"Noodondersteuning"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Voor kritieke problemen die directe aandacht vereisen"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium text-white",children:"+31 (0)6 52 44 70 27"}),a.jsx("p",{className:"text-sm text-gray-400",children:"24/7 beschikbaar"}),a.jsx("p",{className:"text-xs text-red-300",children:"Alleen voor productie-kritieke problemen"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:a.jsx(Jl,{size:20,className:"text-white"})}),a.jsx("h3",{className:"font-semibold text-blue-400",children:"Reguliere ondersteuning"})]}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Voor algemene vragen en ondersteuning"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium text-white",children:"tech@processimprovement.nl"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Reactie binnen 4 uur"}),a.jsx("p",{className:"text-xs text-blue-300",children:"Maandag - Vrijdag, 09:00 - 17:00"})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-300",children:"Ondersteuningscategorieën"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{title:"Technische problemen",description:"Bugs, fouten, prestatieproblemen",icon:hj,color:"red"},{title:"Functionaliteit vragen",description:"Hoe gebruik ik bepaalde functies?",icon:sv,color:"blue"},{title:"Account & toegang",description:"Inlogproblemen, gebruikersbeheer",icon:ko,color:"green"}].map((A,u)=>{const d=A.icon;return a.jsxs("div",{className:`p-4 bg-gradient-to-br from-${A.color}-500/10 to-${A.color}-600/10 border border-${A.color}-500/20 rounded-lg`,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(d,{size:20,className:`text-${A.color}-400`}),a.jsx("h4",{className:"font-medium text-white",children:A.title})]}),a.jsx("p",{className:"text-sm text-gray-400",children:A.description})]},u)})})]}),a.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"font-medium text-green-400",children:"Alle systemen operationeel"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[a.jsx(Fn,{size:16}),a.jsxs("span",{children:["Laatste update: ",new Date().toLocaleTimeString("nl-NL")]})]})]})})]})}),a.jsxs("div",{className:"card p-6 mt-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:UB,alt:"Process Improvement B.V.",className:"h-10 object-contain"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:"Process Improvement B.V."}),a.jsx("p",{className:"text-sm text-gray-400",children:"Innovatie in digitale bedrijfsprocessen"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(L5,{size:16,className:"text-gray-400"}),a.jsx("a",{href:"https://processimprovement.nl",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"processimprovement.nl"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(s$,{size:16,className:"text-gray-400"}),a.jsx("a",{href:"https://linkedin.com/company/process-improvement-bv",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"LinkedIn"})]})]})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700 text-center",children:a.jsxs("p",{className:"text-sm text-gray-400",children:["© 2025 Process Improvement B.V. Alle rechten voorbehouden.",a.jsx("span",{className:"mx-2",children:"•"}),"KvK: 87610477",a.jsx("span",{className:"mx-2",children:"•"}),"BTW: NL8643.47.388.B01"]})})]})]})},qP=["Verdeler aanzicht","Test certificaat","Installatie schema"],M5e=()=>{var B,I,H,G,J,ie,Ae,se,we,be,ve,pe;const{accessCode:e}=jy(),[t,r]=$.useState(!1),[n,s]=$.useState(""),[i,o]=$.useState(!1),[c,l]=$.useState(""),[A,u]=$.useState(null),[d,f]=$.useState([]),[h,p]=$.useState([]),[m,x]=$.useState(null),[v,y]=$.useState(null),[b,_]=$.useState(new Set),[N,P]=$.useState(null),[T,j]=$.useState("overview"),[k,z]=$.useState(!1);$.useEffect(()=>{e&&s(e)},[e]);const E=async oe=>{if(!oe||oe.length<5){l("Voer een geldige toegangscode in");return}o(!0),l("");try{const de=await da.getPortalByAccessCode(oe);if(!de){l("Ongeldige of verlopen toegangscode");return}await da.trackPortalAccess(de.id),u(de),r(!0);const V=await da.getPortalVerdelers(de.project_id);f(V),ge.success("Toegang verleend tot portal!")}catch(de){console.error("Authentication error:",de),l("Er is een fout opgetreden bij het valideren van de toegangscode")}finally{o(!1)}},C=async(oe,de,V)=>{try{z(!0),console.log("Loading documents for client portal:",{projectId:oe,distributorId:de,folder:V});const re=await $e.getDocuments(oe,de,V);console.log("Loaded documents:",(re==null?void 0:re.length)||0),p(re||[])}catch(re){console.error("Error loading documents:",re),p([]),ge.error("Er is een fout opgetreden bij het laden van de documenten")}finally{z(!1)}},Q=(oe,de)=>{x(oe||null),y(de||null),oe&&de&&A?C(A.project_id,oe,de):p([])},L=oe=>{const de=new Set(b);de.has(oe)?de.delete(oe):de.add(oe),_(de)},D=oe=>{var de,V,re;try{if(console.log("Attempting to download document:",oe.name),console.log("Document content type:",typeof oe.content),console.log("Content starts with data:",(de=oe.content)==null?void 0:de.startsWith("data:")),!oe.content){console.error("No content found for document:",oe.name),ge.error("Document inhoud niet beschikbaar voor download");return}let he="";oe.content.startsWith("data:")||oe.content.startsWith("http")?he=oe.content:he=`data:${oe.type||"application/octet-stream"};base64,${oe.content}`,console.log("Download URL created:",he.substring(0,50)+"...");try{if(he.startsWith("data:")){const ue=(V=globalThis.document)==null?void 0:V.createElement("a");if(!ue)throw new Error("Cannot create download link element");ue.href=he,ue.download=oe.name||"download",ue.style.display="none";const Ce=(re=globalThis.document)==null?void 0:re.body;if(!Ce)throw new Error("Cannot access document body");Ce.appendChild(ue),ue.click(),setTimeout(()=>{try{Ce.removeChild(ue)}catch(_e){console.warn("Cleanup error (non-critical):",_e)}},100)}else window.open(he,"_blank")}catch(ue){console.error("Primary download method failed:",ue);try{fetch(he).then(_e=>_e.blob()).then(_e=>{var Qe,Ge;const Fe=URL.createObjectURL(_e),Re=(Qe=globalThis.document)==null?void 0:Qe.createElement("a");if(Re&&((Ge=globalThis.document)!=null&&Ge.body))Re.href=Fe,Re.download=oe.name||"download",Re.style.display="none",globalThis.document.body.appendChild(Re),Re.click(),setTimeout(()=>{var et,st;try{(st=(et=globalThis.document)==null?void 0:et.body)==null||st.removeChild(Re),URL.revokeObjectURL(Fe)}catch(Nt){console.warn("Fallback cleanup error (non-critical):",Nt)}},100);else throw new Error("Fallback method also failed")}).catch(_e=>{console.error("Blob conversion failed:",_e),ge.error("Download niet mogelijk - bestand formaat probleem")})}catch(Ce){console.error("Fallback download method failed:",Ce),ge.error("Download niet mogelijk - probeer het later opnieuw")}}console.log("Download triggered for:",oe.name),ge.success("Document gedownload!")}catch(he){console.error("Error downloading document:",he),ge.error(`Download fout: ${he.message||"Onbekende fout"}`)}},S=()=>{var V;const oe=d.find(re=>re.id===m),de=[((V=A==null?void 0:A.projects)==null?void 0:V.project_number)||"Project"];return oe&&de.push(`${oe.distributor_id} - ${oe.kast_naam||"Naamloos"}`),v&&de.push(v),de.join(" / ")},O=oe=>{if(oe===0)return"0 Bytes";const de=1024,V=["Bytes","KB","MB","GB"],re=Math.floor(Math.log(oe)/Math.log(de));return parseFloat((oe/Math.pow(de,re)).toFixed(2))+" "+V[re]},R=oe=>oe.startsWith("image/"),W=oe=>oe==="application/pdf",M=oe=>R(oe.type)?a.jsx("img",{src:oe.content,alt:oe.name,className:"max-h-[500px] object-contain mx-auto"}):W(oe.type)?a.jsx("iframe",{src:oe.content,className:"w-full h-[500px]",title:oe.name}):a.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[a.jsx(ei,{size:64,className:"text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Preview niet beschikbaar voor dit bestandstype"})]}),q=oe=>{switch(oe){case"preparing":return"Wordt voorbereid";case"ready":return"Gereed voor levering";case"in_transit":return"Onderweg";case"delivered":return"Geleverd";case"completed":return"Voltooid";default:return"Onbekend"}};return t?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-[#1a1a1a] to-[#111] p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"bg-[#1E2530]/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:a.jsx(ja,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Klant Portal"}),a.jsxs("p",{className:"text-gray-400",children:["Project ",(B=A==null?void 0:A.projects)==null?void 0:B.project_number]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx(Sg,{size:16,className:"text-green-400"}),a.jsx("span",{className:"font-medium text-green-400",children:q((A==null?void 0:A.delivery_status)||"ready")})]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Toegang verloopt: ",A!=null&&A.expires_at?new Date(A.expires_at).toLocaleDateString("nl-NL"):"-"]})]})]})}),a.jsx("div",{className:"bg-[#1E2530]/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-4 mb-8",children:a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>j("overview"),className:`px-4 py-2 rounded-lg transition ${T==="overview"?"bg-gradient-to-r from-blue-600 to-blue-400 text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Project Overzicht"}),a.jsx("button",{onClick:()=>j("distributors"),className:`px-4 py-2 rounded-lg transition ${T==="distributors"?"bg-gradient-to-r from-blue-600 to-blue-400 text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Verdeler Specificaties"}),a.jsx("button",{onClick:()=>j("documents"),className:`px-4 py-2 rounded-lg transition ${T==="documents"?"bg-gradient-to-r from-blue-600 to-blue-400 text-white":"text-gray-400 hover:bg-[#2A303C] hover:text-white"}`,children:"Oplever documentatie"})]})}),T==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-[#1E2530]/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(xa,{size:24,className:"text-blue-400"}),a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Project Informatie"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Projectnummer"}),a.jsx("p",{className:"text-white font-medium",children:(I=A==null?void 0:A.projects)==null?void 0:I.project_number})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Klant"}),a.jsx("p",{className:"text-white font-medium",children:(H=A==null?void 0:A.projects)==null?void 0:H.client})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Locatie"}),a.jsx("p",{className:"text-white font-medium",children:(G=A==null?void 0:A.projects)==null?void 0:G.location})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ja,{size:16,className:"text-green-400"}),a.jsx("span",{className:"text-green-400 font-medium",children:"Gereed voor levering"})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Beschrijving"}),a.jsx("p",{className:"text-white",children:((J=A==null?void 0:A.projects)==null?void 0:J.description)||"-"})]})]})]}),a.jsxs("div",{className:"bg-[#1E2530]/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(sA,{size:24,className:"text-purple-400"}),a.jsx("h2",{className:"text-xl font-semibent text-white",children:"Contactgegevens"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Bedrijf"}),a.jsx("p",{className:"text-white font-medium",children:((ie=A==null?void 0:A.clients)==null?void 0:ie.name)||((Ae=A==null?void 0:A.projects)==null?void 0:Ae.client)})]}),((se=A==null?void 0:A.clients)==null?void 0:se.visit_street)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Adres"}),a.jsxs("p",{className:"text-white",children:[A.clients.visit_street,a.jsx("br",{}),A.clients.visit_postcode," ",A.clients.visit_city]})]}),((we=A==null?void 0:A.clients)==null?void 0:we.contacts)&&A.clients.contacts.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Contactpersoon"}),A.clients.contacts.map((oe,de)=>a.jsxs("div",{className:"bg-[#2A303C] p-3 rounded-lg",children:[a.jsxs("p",{className:"font-medium text-white",children:[oe.first_name," ",oe.last_name]}),oe.email&&a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(Jl,{size:14,className:"text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:oe.email})]}),oe.phone&&a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(Yh,{size:14,className:"text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:oe.phone})]}),oe.department&&a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:oe.department})]},de))]})]})]})]}),T==="distributors"&&a.jsxs("div",{className:"bg-[#1E2530]/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(Or,{size:24,className:"text-green-400"}),a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Verdeler Specificaties"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(oe=>a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-xl p-6 border border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-400",children:oe.distributor_id}),a.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-green-500/20 text-green-400",children:"✓ Goedgekeurd"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400",children:"Kastnaam"}),a.jsx("p",{className:"text-white font-medium",children:oe.kast_naam||"-"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400",children:"Systeem"}),a.jsx("p",{className:"text-white text-sm",children:oe.systeem||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400",children:"Voeding"}),a.jsx("p",{className:"text-white text-sm",children:oe.voeding||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400",children:"Spanning"}),a.jsx("p",{className:"text-white text-sm",children:oe.un_in_v?`${oe.un_in_v}V`:"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400",children:"Stroom"}),a.jsx("p",{className:"text-white text-sm",children:oe.in_in_a?`${oe.in_in_a}A`:"-"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400",children:"Fabrikant"}),a.jsx("p",{className:"text-white text-sm",children:oe.fabrikant||"-"})]})]})]},oe.id))}),d.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Or,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Geen verdelers beschikbaar"})]})]}),T==="documents"&&a.jsxs("div",{className:"flex gap-6 h-[600px]",children:[a.jsxs("div",{className:"w-80 bg-[#1E2530]/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-4 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-4 uppercase tracking-wide",children:"Document Explorer"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-blue-500/20 text-blue-400",children:[a.jsx(xa,{size:16,className:"mr-2 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:(be=A==null?void 0:A.projects)==null?void 0:be.project_number}),((ve=A==null?void 0:A.projects)==null?void 0:ve.client)&&a.jsx("div",{className:"text-xs opacity-75 truncate",children:A.projects.client})]}),a.jsx("div",{className:"text-xs opacity-60 ml-2 flex-shrink-0",children:d.length})]}),d.length>0&&a.jsx("div",{className:"ml-4 space-y-1",children:d.map(oe=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${m===oe.id&&!v?"bg-gradient-to-r from-green-600 to-green-400 text-white":"hover:bg-[#2A303C] text-gray-300 hover:text-white"}`,onClick:()=>{Q(oe.id),L(oe.id)},children:a.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[b.has(oe.id)?a.jsx(Cg,{size:14,className:"mr-2 flex-shrink-0"}):a.jsx(Uo,{size:14,className:"mr-2 flex-shrink-0"}),a.jsx(Or,{size:14,className:"mr-2 flex-shrink-0 text-green-400"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:oe.distributor_id}),oe.kast_naam&&a.jsx("div",{className:"text-xs opacity-75 truncate",children:oe.kast_naam})]})]})}),b.has(oe.id)&&a.jsx("div",{className:"ml-6 space-y-1",children:qP.map(de=>a.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-all cursor-pointer group ${m===oe.id&&v===de?"bg-gradient-to-r from-purple-600 to-purple-400 text-white":"hover:bg-[#2A303C] text-gray-300 hover:text-white"}`,onClick:()=>Q(oe.id,de),children:[a.jsx(ti,{size:12,className:"mr-2 flex-shrink-0 text-purple-400"}),a.jsx("span",{className:"text-xs truncate",children:de})]},de))})]},oe.id))}),d.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Or,{size:32,className:"mx-auto text-gray-600 mb-2"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Geen verdelers beschikbaar"})]})]})]}),a.jsx("div",{className:"flex-1 bg-[#1E2530]/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-6 overflow-y-auto",children:m&&v?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-6",children:[a.jsx("span",{children:"Locatie:"}),a.jsx("div",{className:"flex items-center space-x-2",children:S().split(" / ").map((oe,de,V)=>a.jsxs(fe.Fragment,{children:[a.jsx("span",{className:"text-blue-400",children:oe}),de<V.length-1&&a.jsx(Uo,{size:14})]},de))})]}),k?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Documenten laden..."})]}):h.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(oe=>a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-xl p-4 border border-gray-700 hover:border-blue-500/50 transition-colors",children:[a.jsx("div",{className:"mb-3",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ei,{size:20,className:"text-orange-400"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white text-sm",children:oe.name}),a.jsx("p",{className:"text-xs text-gray-400",children:oe.folder})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-xs text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(qn,{size:12}),a.jsx("span",{children:new Date(oe.uploaded_at).toLocaleDateString("nl-NL")})]}),oe.size&&a.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.jsx(ei,{size:12}),a.jsx("span",{children:O(oe.size)})]})]}),a.jsxs("button",{onClick:()=>D(oe),className:"bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-3 py-1 rounded-lg text-sm transition-colors flex items-center space-x-1",children:[a.jsx(bd,{size:14}),a.jsx("span",{children:"Download"})]})]})]},oe.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ti,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Geen documenten gevonden in deze map"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Documenten worden hier getoond zodra ze zijn geüpload"})]})]}):m?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-6",children:[a.jsx("span",{children:"Selecteer een map voor:"}),a.jsx("span",{className:"text-green-400",children:(pe=d.find(oe=>oe.id===m))==null?void 0:pe.distributor_id})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:qP.map(oe=>a.jsxs("div",{onClick:()=>Q(m,oe),className:"bg-[#2A303C]/50 rounded-xl p-6 flex flex-col items-center justify-center space-y-3 hover:bg-[#2A303C] transition-colors cursor-pointer group min-h-[120px]",children:[a.jsx(ti,{size:40,className:"text-gray-400 group-hover:text-purple-400 transition-colors"}),a.jsx("span",{className:"text-sm text-center font-medium group-hover:text-white transition-colors",children:oe})]},oe))})]}):a.jsx("div",{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Or,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Selecteer een verdeler"}),a.jsx("p",{className:"text-gray-400",children:"Kies een verdeler uit de lijst links om documenten te bekijken"})]})})})]}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:oe=>{oe.target===oe.currentTarget&&P(null)},children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:oe=>oe.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:N.name}),a.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsx("div",{className:"bg-[#2A303C] rounded-lg p-4",children:M(N)}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsxs("button",{onClick:()=>D(N),className:"btn-primary flex items-center space-x-2",children:[a.jsx(bd,{size:20}),a.jsx("span",{children:"Download"})]})})]})}),a.jsxs("div",{className:"text-center mt-8 p-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 EWP Paneelbouw - Beveiligde klant portal"}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Portal toegang: ",(A==null?void 0:A.access_count)||0," keer gebruikt"]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-[#1a1a1a] to-[#111] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-[#1E2530]/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-8 w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Jh,{size:32,className:"text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Klant Portal"}),a.jsx("p",{className:"text-gray-400",children:"Voer uw toegangscode in om uw projectdocumenten te bekijken"})]}),a.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),E(n)},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Toegangscode"}),a.jsx("input",{type:"text",value:n,onChange:oe=>{s(oe.target.value.toUpperCase()),l("")},className:"w-full bg-[#2A303C] text-white border border-gray-700 rounded-lg p-3 text-center text-lg font-mono tracking-wider focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Voer uw code in",maxLength:10,disabled:i}),c&&a.jsxs("p",{className:"text-red-400 text-sm mt-2 flex items-center space-x-2",children:[a.jsx(Qi,{size:16}),a.jsx("span",{children:c})]})]}),a.jsx("button",{type:"submit",disabled:i||!n,className:`w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white py-3 px-4 rounded-lg shadow-lg transition-all flex items-center justify-center space-x-2 ${i||!n?"opacity-50 cursor-not-allowed":"hover:shadow-xl transform hover:scale-105"}`,children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),a.jsx("span",{children:"Valideren..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bo,{size:20}),a.jsx("span",{children:"Toegang tot portal"})]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"© 2025 EWP Paneelbouw - Beveiligde klant portal"})})]})})},R5e=()=>{var b,_;const{hasPermission:e,currentUser:t}=ai(),[r,n]=$.useState([]),[s,i]=$.useState(!0),[o,c]=$.useState(""),[l,A]=$.useState("all"),[u,d]=$.useState(null);$.useEffect(()=>{f()},[]);const f=async()=>{try{i(!0);let N=await da.getAllClientPortals();if((t==null?void 0:t.role)==="tester"){const j=(await $e.getProjects()).filter(z=>{var E;return((E=z.status)==null?void 0:E.toLowerCase())==="testen"}).map(z=>z.id),k=(N==null?void 0:N.length)||0;N=N==null?void 0:N.filter(z=>{var C;const E=j.includes(z.project_id);return E||console.log(`🧪 CLIENT_PORTALS TESTER FILTER: Hiding portal for project ${(C=z.projects)==null?void 0:C.project_number} from tester ${t.username} - NOT FROM TESTING PROJECT`),E}),console.log(`🧪 CLIENT_PORTALS TESTER FILTER: Filtered ${k} portals down to ${(N==null?void 0:N.length)||0} for tester ${t.username}`)}n(N||[])}catch(N){console.error("Error loading portals:",N),ge.error("Er is een fout opgetreden bij het laden van de portals")}finally{i(!1)}},h=N=>{const P=`Portal Link: ${N.portal_url}
Toeganscode: ${N.access_code}`;navigator.clipboard.writeText(P),ge.success("Portal informatie gekopieerd!")},p=async N=>{if(!e("client_portals","update")){ge.error("Je hebt geen toestemming om portals te deactiveren");return}if(window.confirm("Weet je zeker dat je deze portal wilt deactiveren?"))try{await da.updateDeliveryStatus(N,"completed"),await f(),ge.success("Portal gedeactiveerd!")}catch(P){console.error("Error deactivating portal:",P),ge.error("Er is een fout opgetreden bij het deactiveren van de portal")}},m=async N=>{if(!e("client_portals","update")){ge.error("Je hebt geen toestemming om portals te wijzigen");return}if(window.confirm("Weet je zeker dat je deze portal wilt heractiveren? De vervaldatum wordt verlengd met 30 dagen."))try{await da.reactivatePortal(N),await f(),ge.success("Portal hergeactiveerd voor 30 dagen!")}catch(P){console.error("Error reactivating portal:",P),ge.error("Er is een fout opgetreden bij het heractiveren van de portal")}},x=N=>{switch(N){case"preparing":return{icon:Sg,color:"text-blue-400",bg:"bg-blue-500/20",label:"Wordt voorbereid"};case"ready":return{icon:ja,color:"text-green-400",bg:"bg-green-500/20",label:"Gereed"};case"in_transit":return{icon:NT,color:"text-yellow-400",bg:"bg-yellow-500/20",label:"Onderweg"};case"delivered":return{icon:U5,color:"text-purple-400",bg:"bg-purple-500/20",label:"Geleverd"};case"completed":return{icon:ja,color:"text-gray-400",bg:"bg-gray-500/20",label:"Voltooid"};default:return{icon:Fn,color:"text-gray-400",bg:"bg-gray-500/20",label:"Onbekend"}}},v=N=>new Date>new Date(N),y=r.filter(N=>{var j,k,z,E;const P=((k=(j=N.projects)==null?void 0:j.project_number)==null?void 0:k.toLowerCase().includes(o.toLowerCase()))||((E=(z=N.projects)==null?void 0:z.client)==null?void 0:E.toLowerCase().includes(o.toLowerCase()))||N.access_code.includes(o),T=l==="all"||N.delivery_status===l;return P&&T});return s?a.jsx("div",{className:"min-h-screen p-8",children:a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),a.jsx("span",{className:"ml-2",children:"Portals laden..."})]})})}):a.jsxs("div",{className:"min-h-screen p-8",children:[a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Klant Portals"}),a.jsx("p",{className:"text-gray-400",children:"Beheer alle klant portals en levering notificaties"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:f,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(rS,{size:20}),a.jsx("span",{children:"Vernieuwen"})]}),a.jsxs("div",{className:"text-sm text-gray-400",children:[r.length," portals"]})]})]})}),a.jsx("div",{className:"card p-6 mb-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Zoeken op project, klant of toegangscode...",className:"input-field pl-10",value:o,onChange:N=>c(N.target.value)})]}),a.jsx("div",{children:a.jsxs("select",{className:"input-field",value:l,onChange:N=>A(N.target.value),children:[a.jsx("option",{value:"all",children:"Alle statussen"}),a.jsx("option",{value:"preparing",children:"Wordt voorbereid"}),a.jsx("option",{value:"ready",children:"Gereed"}),a.jsx("option",{value:"in_transit",children:"Onderweg"}),a.jsx("option",{value:"delivered",children:"Geleverd"}),a.jsx("option",{value:"completed",children:"Voltooid"})]})})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"table-header text-left",children:"Project"}),a.jsx("th",{className:"table-header text-left",children:"Klant"}),a.jsx("th",{className:"table-header text-left",children:"Toegangscode"}),a.jsx("th",{className:"table-header text-left",children:"Status"}),a.jsx("th",{className:"table-header text-left",children:"Aangemaakt"}),a.jsx("th",{className:"table-header text-left",children:"Vervalt"}),a.jsx("th",{className:"table-header text-left",children:"Toegang"}),a.jsx("th",{className:"table-header text-right",children:"Acties"})]})}),a.jsx("tbody",{children:y.map(N=>{var k,z,E;const P=x(N.delivery_status),T=P.icon,j=v(N.expires_at);return a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{className:"font-medium text-blue-400",children:(k=N.projects)==null?void 0:k.project_number})]})}),a.jsx("td",{className:"py-4 text-gray-300",children:((z=N.projects)==null?void 0:z.client)||((E=N.clients)==null?void 0:E.name)||"-"}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-mono text-lg",children:N.access_code}),a.jsx("button",{onClick:()=>h(N),className:"text-gray-400 hover:text-white transition-colors",title:"Kopieer portal informatie",children:a.jsx(pA,{size:16})})]})}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(T,{size:16,className:P.color}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${P.bg} ${P.color}`,children:P.label})]})}),a.jsx("td",{className:"py-4 text-gray-300",children:new Date(N.created_at).toLocaleDateString("nl-NL")}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[j?a.jsx(Qi,{size:16,className:"text-red-400"}):a.jsx(qn,{size:16,className:"text-gray-400"}),a.jsx("span",{className:j?"text-red-400":"text-gray-300",children:new Date(N.expires_at).toLocaleDateString("nl-NL")})]})}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-white font-medium",children:N.access_count||0}),a.jsx("div",{className:"text-xs text-gray-400",children:N.last_accessed?new Date(N.last_accessed).toLocaleDateString("nl-NL"):"Nooit"})]})}),a.jsx("td",{className:"py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>window.open(N.portal_url,"_blank"),className:"p-2 bg-[#2A303C] hover:bg-blue-500/20 rounded-lg transition-colors group",title:"Open portal",children:a.jsx(pj,{size:16,className:"text-gray-400 group-hover:text-blue-400"})}),a.jsx("button",{onClick:()=>d(N),className:"p-2 bg-[#2A303C] hover:bg-green-500/20 rounded-lg transition-colors group",title:"Details bekijken",children:a.jsx(Bo,{size:16,className:"text-gray-400 group-hover:text-green-400"})}),e("client_portals","update")&&a.jsx(a.Fragment,{children:j||!N.is_active?a.jsx("button",{onClick:C=>{C.stopPropagation(),m(N.id)},className:"p-2 bg-[#2A303C] hover:bg-blue-500/20 rounded-lg transition-colors group",title:"Heractiveren",children:a.jsx(rS,{size:16,className:"text-gray-400 group-hover:text-blue-400"})}):a.jsx("button",{onClick:C=>{C.stopPropagation(),p(N.id)},className:"p-2 bg-[#2A303C] hover:bg-red-500/20 rounded-lg transition-colors group",title:"Deactiveren",children:a.jsx(Zr,{size:16,className:"text-gray-400 group-hover:text-red-400"})})})]})})]},N.id)})})]}),y.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(L5,{size:48,className:"mx-auto text-gray-600 mb-4"}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Geen portals gevonden"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Portals worden automatisch aangemaakt wanneer een project status wordt gewijzigd naar "Levering"'})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-[#1E2530] rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Portal Details"}),a.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(gt,{size:24})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Project"}),a.jsx("p",{className:"font-medium text-white",children:(b=u.projects)==null?void 0:b.project_number})]}),a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Klant"}),a.jsx("p",{className:"font-medium text-white",children:(_=u.projects)==null?void 0:_.client})]}),a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Toegangscode"}),a.jsx("p",{className:"font-mono text-lg text-white",children:u.access_code})]}),a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),a.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const N=x(u.delivery_status),P=N.icon;return a.jsxs(a.Fragment,{children:[a.jsx(P,{size:16,className:N.color}),a.jsx("span",{className:N.color,children:N.label})]})})()})]})]}),a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-300 mb-3",children:"Toegang Statistieken"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:u.access_count||0}),a.jsx("div",{className:"text-sm text-gray-400",children:"Keer bezocht"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:u.last_accessed?"✓":"✗"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Ooit bezocht"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:Math.ceil((new Date(u.expires_at).getTime()-new Date().getTime())/(1e3*60*60*24))}),a.jsx("div",{className:"text-sm text-gray-400",children:"Dagen resterend"})]})]})]}),a.jsxs("div",{className:"bg-[#2A303C]/50 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Portal URL"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:u.portal_url,readOnly:!0,className:"flex-1 bg-[#374151] text-white border border-gray-600 rounded-lg p-2 text-sm"}),a.jsx("button",{onClick:()=>window.open(u.portal_url,"_blank"),className:"p-2 bg-blue-500/20 hover:bg-blue-500/30 rounded-lg transition-colors",title:"Open portal",children:a.jsx(pj,{size:16,className:"text-blue-400"})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsxs("button",{onClick:()=>h(u),className:"btn-secondary flex items-center space-x-2",children:[a.jsx(pA,{size:16}),a.jsx("span",{children:"Kopieer Info"})]}),a.jsxs("button",{onClick:()=>p(u.id),className:"btn-secondary flex items-center space-x-2 bg-red-500/20 hover:bg-red-500/30 text-red-400",disabled:!u.is_active,children:[a.jsx(Zr,{size:16}),a.jsx("span",{children:"Deactiveren"})]})]})]})]})})]})},$5e=async()=>{if(!("Notification"in window))return console.log("This browser does not support desktop notifications"),!1;try{return await Notification.requestPermission()==="granted"}catch(e){return console.error("Error requesting notification permission:",e),!1}},H5e=(e,t)=>{if(Notification.permission==="granted")try{new Notification(e,t)}catch(r){console.error("Error showing notification:",r)}},z5e=e=>qe.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},t=>{const r=t.new;H5e("Nieuwe onderhoudsmelding",{body:`Nieuwe melding voor verdeler ${r.verdeler_id}`,icon:"/vite.svg",tag:r.id,data:r,requireInteraction:!0}),new Audio("/notification.mp3").play().catch(console.error)}).subscribe(),K5e=({children:e})=>{const t=Vo(),r=localStorage.getItem("loggedIn")==="true",n=r&&t.pathname!=="/login"&&t.pathname!=="/client-portal";return $.useEffect(()=>{r&&(localStorage.getItem("currentUserId")&&$5e().then(i=>{i&&z5e()}),Ir.initialize())},[r]),a.jsxs("div",{className:"flex min-h-screen",children:[n&&a.jsx(U5e,{}),a.jsx("div",{className:`flex-1 ${n?"ml-0 md:ml-64":""}`,children:e})]})},V5e=()=>a.jsx($9,{children:a.jsx(K5e,{children:a.jsx(fe.Suspense,{fallback:a.jsx(D5e,{}),children:a.jsxs(O9,{children:[a.jsx(xr,{path:"/login",element:a.jsx(YY,{})}),a.jsx(xr,{path:"/404",element:a.jsx(ZY,{})}),a.jsx(xr,{path:"/",element:a.jsx(hn,{requiredPermission:{module:"dashboard",permission:"read"},children:a.jsx(yS,{})})}),a.jsx(xr,{path:"/dashboard",element:a.jsx(hn,{requiredPermission:{module:"dashboard",permission:"read"},children:a.jsx(yS,{})})}),a.jsx(xr,{path:"/insights",element:a.jsx(hn,{requiredPermission:{module:"insights",permission:"read"},children:a.jsx(_5e,{})})}),a.jsx(xr,{path:"/projects",element:a.jsx(hn,{requiredPermission:{module:"projects",permission:"read"},children:a.jsx(_K,{})})}),a.jsx(xr,{path:"/project/:projectId",element:a.jsx(hn,{requiredPermission:{module:"projects",permission:"read"},children:a.jsx(PY,{})})}),a.jsx(xr,{path:"/create-project",element:a.jsx(hn,{requiredPermission:{module:"projects",permission:"create"},children:a.jsx(zY,{})})}),a.jsx(xr,{path:"/clients",element:a.jsx(hn,{requiredPermission:{module:"clients",permission:"read"},children:a.jsx(BK,{})})}),a.jsx(xr,{path:"/client/:clientId",element:a.jsx(hn,{requiredPermission:{module:"clients",permission:"read"},children:a.jsx(kK,{})})}),a.jsx(xr,{path:"/verdelers",element:a.jsx(hn,{requiredPermission:{module:"verdelers",permission:"read"},children:a.jsx(IY,{})})}),a.jsx(xr,{path:"/verdelers/:id",element:a.jsx(hn,{requiredPermission:{module:"verdelers",permission:"read"},children:a.jsx(DY,{})})}),a.jsx(xr,{path:"/create-distributor",element:a.jsx(hn,{requiredPermission:{module:"verdelers",permission:"create"},children:a.jsx(KY,{})})}),a.jsx(xr,{path:"/uploads",element:a.jsx(hn,{requiredPermission:{module:"uploads",permission:"read"},children:a.jsx(QY,{})})}),a.jsx(xr,{path:"/gebruikers",element:a.jsx(hn,{requiredPermission:{module:"gebruikers",permission:"read"},children:a.jsx(tZ,{})})}),a.jsx(xr,{path:"/access-codes",element:a.jsx(hn,{requiredPermission:{module:"access_codes",permission:"read"},children:a.jsx(O5e,{})})}),a.jsx(xr,{path:"/client-portals",element:a.jsx(hn,{requiredPermission:{module:"client_portals",permission:"read"},children:a.jsx(R5e,{})})}),a.jsx(xr,{path:"/account",element:a.jsx(hn,{children:a.jsx(rZ,{})})}),a.jsx(xr,{path:"/meldingen",element:a.jsx(hn,{children:a.jsx(E5e,{})})}),a.jsx(xr,{path:"/help",element:a.jsx(hn,{children:a.jsx(Q5e,{})})}),a.jsx(xr,{path:"/maintenance-report",element:a.jsx(P5e,{})}),a.jsx(xr,{path:"/client-portal/:accessCode",element:a.jsx(M5e,{})}),a.jsx(xr,{path:"*",element:a.jsx(nv,{to:"/404",replace:!0})})]})})})});cT(document.getElementById("root")).render(a.jsx($.StrictMode,{children:a.jsx(V5e,{})}));export{Qt as _,bn as c,Mt as g};
